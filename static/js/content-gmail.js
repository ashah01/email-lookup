var kd=Object.defineProperty,xd=Object.defineProperties;var Ed=Object.getOwnPropertyDescriptors;var Jc=Object.getOwnPropertySymbols;var md=Object.prototype.hasOwnProperty,hd=Object.prototype.propertyIsEnumerable;var pd=(Hr,to,jn)=>to in Hr?kd(Hr,to,{enumerable:!0,configurable:!0,writable:!0,value:jn}):Hr[to]=jn,Hn=(Hr,to)=>{for(var jn in to||(to={}))md.call(to,jn)&&pd(Hr,jn,to[jn]);if(Jc)for(var jn of Jc(to))hd.call(to,jn)&&pd(Hr,jn,to[jn]);return Hr},Ui=(Hr,to)=>xd(Hr,Ed(to));var bd=(Hr,to)=>{var jn={};for(var Ua in Hr)md.call(Hr,Ua)&&to.indexOf(Ua)<0&&(jn[Ua]=Hr[Ua]);if(Hr!=null&&Jc)for(var Ua of Jc(Hr))to.indexOf(Ua)<0&&hd.call(Hr,Ua)&&(jn[Ua]=Hr[Ua]);return jn};(()=>{var Hr={4278:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",fill:"currentColor"},n),l.createElement("path",{fillRule:"evenodd",d:"M9,10.3711005 L5.56055699,6.50172712 C5.28536848,6.19214004 4.8113142,6.1642545 4.50172712,6.43944301 C4.19214004,6.71463152 4.1642545,7.1886858 4.43944301,7.49827288 L8.43944301,11.9982729 C8.73778627,12.333909 9.26221373,12.333909 9.56055699,11.9982729 L13.560557,7.49827288 C13.8357455,7.1886858 13.80786,6.71463152 13.4982729,6.43944301 C13.1886858,6.1642545 12.7146315,6.19214004 12.439443,6.50172712 L9,10.3711005 Z",fill:""}))}var u=o;ft.Z=u},8614:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",fill:"currentColor"},n),l.createElement("path",{fillRule:"evenodd",d:"M3,16 C2.44771525,16 2,15.5522847 2,15 L2,8.11803399 C2,7.73926193 2.21400238,7.39299881 2.5527864,7.2236068 L6,5.5 L6,3.5 C6,2.67157288 6.67157288,2 7.5,2 L10.5,2 C11.3284271,2 12,2.67157288 12,3.5 L12,8 L14.8638034,8.71595086 C15.5315539,8.88288848 16,9.48286315 16,10.1711646 L16,15 C16,15.5522847 15.5522847,16 15,16 L14,16 L14,13.5 C14,13.2545401 13.8231248,13.0503916 13.5898756,13.0080557 L13.5,13 C13.2545401,13 13.0503916,13.1768752 13.0080557,13.4101244 L13,13.5 L13,16 L10.999,16 L11,14 C11,13.4871642 10.6139598,13.0644928 10.1166211,13.0067277 L10,13 L8,13 C7.48716416,13 7.06449284,13.3860402 7.00672773,13.8833789 L7,14 L7,16.0010114 L3,16 Z M4.5,12 C4.22385763,12 4,12.2238576 4,12.5 C4,12.7761424 4.22385763,13 4.5,13 C4.77614237,13 5,12.7761424 5,12.5 C5,12.2238576 4.77614237,12 4.5,12 Z M13.5,11 C13.2238576,11 13,11.2238576 13,11.5 C13,11.7761424 13.2238576,12 13.5,12 C13.7761424,12 14,11.7761424 14,11.5 C14,11.2238576 13.7761424,11 13.5,11 Z M7.5,10 C7.22385763,10 7,10.2238576 7,10.5 C7,10.7761424 7.22385763,11 7.5,11 C7.77614237,11 8,10.7761424 8,10.5 C8,10.2238576 7.77614237,10 7.5,10 Z M10.5,10 C10.2238576,10 10,10.2238576 10,10.5 C10,10.7761424 10.2238576,11 10.5,11 C10.7761424,11 11,10.7761424 11,10.5 C11,10.2238576 10.7761424,10 10.5,10 Z M4.5,10 C4.22385763,10 4,10.2238576 4,10.5 C4,10.7761424 4.22385763,11 4.5,11 C4.77614237,11 5,10.7761424 5,10.5 C5,10.2238576 4.77614237,10 4.5,10 Z M7.5,8 C7.22385763,8 7,8.22385763 7,8.5 C7,8.77614237 7.22385763,9 7.5,9 C7.77614237,9 8,8.77614237 8,8.5 C8,8.22385763 7.77614237,8 7.5,8 Z M10.5,8 C10.2238576,8 10,8.22385763 10,8.5 C10,8.77614237 10.2238576,9 10.5,9 C10.7761424,9 11,8.77614237 11,8.5 C11,8.22385763 10.7761424,8 10.5,8 Z M4.5,8 C4.22385763,8 4,8.22385763 4,8.5 C4,8.77614237 4.22385763,9 4.5,9 C4.77614237,9 5,8.77614237 5,8.5 C5,8.22385763 4.77614237,8 4.5,8 Z M7.5,6 C7.22385763,6 7,6.22385763 7,6.5 C7,6.77614237 7.22385763,7 7.5,7 C7.77614237,7 8,6.77614237 8,6.5 C8,6.22385763 7.77614237,6 7.5,6 Z M10.5,6 C10.2238576,6 10,6.22385763 10,6.5 C10,6.77614237 10.2238576,7 10.5,7 C10.7761424,7 11,6.77614237 11,6.5 C11,6.22385763 10.7761424,6 10.5,6 Z M7.5,4 C7.22385763,4 7,4.22385763 7,4.5 C7,4.77614237 7.22385763,5 7.5,5 C7.77614237,5 8,4.77614237 8,4.5 C8,4.22385763 7.77614237,4 7.5,4 Z M10.5,4 C10.2238576,4 10,4.22385763 10,4.5 C10,4.77614237 10.2238576,5 10.5,5 C10.7761424,5 11,4.77614237 11,4.5 C11,4.22385763 10.7761424,4 10.5,4 Z",fill:""}))}var u=o;ft.Z=u},7189:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",fill:"currentColor"},n),l.createElement("path",{fillRule:"evenodd",d:"M11.0907681,14.7238133 C11.4456461,15.0917497 12.0213606,15.0921077 12.376667,14.724613 C12.7319716,14.3571182 12.7323173,13.7609357 12.3774393,13.3929973 L7.4,9 L12.3774394,4.60700277 C12.7323174,4.23906624 12.7319717,3.64288325 12.3766671,3.27538705 C12.0213625,2.90789226 11.4456475,2.90825025 11.0907681,3.2761868 L5.26655903,8.33459206 C4.94124289,8.67077452 4.91363126,9.19894819 5.18407682,9.56771544 L5.26655906,9.66545377 L5.26655906,9.66545377 L11.0907681,14.7238133 Z",fill:""}))}var u=o;ft.Z=u},3418:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",fill:"currentColor"},n),l.createElement("path",{fillRule:"evenodd",d:"M6.90923192,14.7238133 C6.55435392,15.0917497 5.97863941,15.0921077 5.62333299,14.724613 C5.26802839,14.3571182 5.26768269,13.7609357 5.62256066,13.3929973 L10.6,9 L5.62256062,4.60700277 C5.26768256,4.23906624 5.26802826,3.64288325 5.62333289,3.27538705 C5.97863749,2.90789226 6.55435246,2.90825025 6.90923186,3.2761868 L12.733441,8.33459206 C13.0883313,8.70133656 13.0889287,9.29656647 12.7347752,9.66407209 C12.7343309,9.66453313 12.7338861,9.66499369 12.7334409,9.66545377 L6.90923192,14.7238133 Z",fill:""}))}var u=o;ft.Z=u},602:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",fill:"currentColor"},n),l.createElement("path",{fillRule:"evenodd",d:"M8.75,2.25 C9.16421356,2.25 9.5,2.58578644 9.5,3 C9.5,3.41421356 9.16421356,3.75 8.75,3.75 C5.71243388,3.75 3.25,6.21243388 3.25,9.25 C3.25,12.2875661 5.71243388,14.75 8.75,14.75 C11.7875661,14.75 14.25,12.2875661 14.25,9.25 C14.25,8.83578644 14.5857864,8.5 15,8.5 C15.4142136,8.5 15.75,8.83578644 15.75,9.25 C15.75,13.1159932 12.6159932,16.25 8.75,16.25 C4.88400675,16.25 1.75,13.1159932 1.75,9.25 C1.75,5.38400675 4.88400675,2.25 8.75,2.25 Z M15.6111514,2.1449397 C15.8013606,2.12789565 15.9876057,2.2722665 16.0271417,2.46740197 C16.0357885,2.51008014 16.0368264,2.55308094 16.0302058,2.59432056 L15.3949432,6.77115264 C15.3663529,6.96642606 15.1823321,7.08245887 14.9839222,7.03031813 C14.9114947,7.01128522 14.843913,6.97115095 14.7900423,6.91518029 L13.5122105,5.54487343 L8.07183945,10.8205563 C7.80261637,11.0714126 7.35546216,11.0291971 7.0729644,10.7262554 C6.7903953,10.4232371 6.77955021,9.97409905 7.0487402,9.72307532 L12.4889403,4.44755192 L11.2143574,3.08072906 C11.0716827,2.92280363 11.070194,2.69250085 11.211036,2.56633855 C11.2624322,2.5202976 11.3283612,2.49274547 11.4001802,2.48729376 L15.6111514,2.1449397 Z",fill:""}))}var u=o;ft.Z=u},1858:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",fill:"currentColor"},n),l.createElement("path",{fillRule:"evenodd",d:"M7.5,1 C11.0898509,1 14,3.91014913 14,7.5 C14,8.92122419 13.5438711,10.2359138 12.7700178,11.3056641 L16.5045588,14.5909839 C17.0746457,15.0774922 17.1423995,15.9340279 16.6558918,16.5041148 C16.1693834,17.0742018 15.3128477,17.1419555 14.7427608,16.6554479 C14.688411,16.6090662 14.6378094,16.5584646 14.5914278,16.5041148 L11.3046571,12.7707462 C10.2350887,13.5441573 8.92077825,14 7.5,14 C3.91014913,14 1,11.0898509 1,7.5 C1,3.91014913 3.91014913,1 7.5,1 Z M7.5,2.75 C4.87664744,2.75 2.75,4.87664744 2.75,7.5 C2.75,10.1233526 4.87664744,12.25 7.5,12.25 C10.1233526,12.25 12.25,10.1233526 12.25,7.5 C12.25,4.87664744 10.1233526,2.75 7.5,2.75 Z M7.42856013,9.66189973 C7.86249695,9.66189973 8.21427426,10.013677 8.21427426,10.4476139 C8.21427426,10.8815507 7.86249695,11.233328 7.42856013,11.233328 C7.03078471,11.233328 6.7020461,10.9377373 6.65001866,10.5542304 L6.64284599,10.4476399 C6.64284599,10.0498717 6.93842345,9.72114028 7.32192013,9.66910189 L7.42856013,9.66189973 Z M7.42863979,3.9 C8.58581338,3.9 9.52387748,4.72078317 9.52387748,5.73333298 C9.52387748,6.453596 9.24722113,6.85314864 8.93109191,7.17423571 L8.717088,7.37932761 L8.717088,7.37932761 L8.50698883,7.57712074 C8.27022159,7.80982465 8.07329767,8.06019203 8.02776618,8.44220092 L8.01784576,8.61428089 C8.01784576,8.75892693 7.90058709,8.8761856 7.75594105,8.8761856 L7.16665544,8.8761856 C7.04267312,8.8761856 6.93881213,8.79003637 6.91166781,8.67433326 L6.90475073,8.61428089 C6.90475073,7.82326914 7.20913379,7.42569346 7.54118803,7.10478393 L7.84003685,6.82811244 C8.13141445,6.55503524 8.37796473,6.26708253 8.37796473,5.73332906 C8.37796473,5.29937915 7.88558387,4.94761493 7.37945302,4.94761493 C6.9122553,4.94761493 6.44983325,5.24734302 6.38145588,5.6347684 L6.37279603,5.73333229 C6.37162545,5.83270051 6.38146274,5.93173838 6.40202961,6.0286523 L6.44089231,6.17220603 C6.48846625,6.30811519 6.41685666,6.45685716 6.28094762,6.50443215 C6.25322868,6.51413494 6.22406978,6.51908488 6.19470188,6.51907305 L5.6627734,6.51907305 C5.56828488,6.51930804 5.48294183,6.46912858 5.43623459,6.3908266 L5.40890923,6.32717572 C5.35670403,6.13361216 5.33129796,5.9338027 5.3334021,5.73333298 C5.3334021,4.72080937 6.27146621,3.9 7.42863979,3.9 Z",fill:""}))}var u=o;ft.Z=u},9283:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",fill:"currentColor"},n),l.createElement("path",{fillRule:"evenodd",d:"M9.07730967,2 L8.82170017,2.0040424 C6.93374972,2.10528951 5.48311049,3.76095153 5.58159189,5.70205533 C5.47996886,7.24202685 5.94208407,8.76541654 6.8771516,9.97295071 C6.98356406,10.260606 6.98685943,10.5778218 6.88644704,10.8677481 L6.04072695,11.1985512 C4.31571201,11.8952107 3.28057175,12.4796834 2.7776274,13.3095279 L2.67093881,13.5055489 L2.59676806,13.6864466 C2.532871,13.8710052 2.5,14.0656388 2.5,14.2621812 C2.5,15.1533746 3.16145178,15.8878824 4.01360543,15.9883 L4.21342725,16 L13.7903108,16 C14.048072,16 14.3024954,15.940801 14.5345414,15.8269766 C15.323679,15.439885 15.686771,14.5183809 15.4055237,13.6986136 L15.3290831,13.511532 L15.2223993,13.3146864 C14.6421513,12.3534155 13.3544434,11.7244011 11.1333278,10.8832885 C11.0192062,10.6033996 11.0084627,10.2902874 11.1031174,10.0028267 C12.049887,8.78916361 12.5192615,7.25441274 12.4184303,5.70206469 C12.4246272,5.57992185 12.4246272,5.45753052 12.4184304,5.33538888 C12.3244323,3.48250813 10.8529078,2.03930678 9.07730967,2 Z",fill:""}))}var u=o;ft.Z=u},2618:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",fill:"currentColor"},n),l.createElement("path",{fillRule:"evenodd",d:"M7.5,1 C11.0898509,1 14,3.91014913 14,7.5 C14,8.92122419 13.5438711,10.2359138 12.7700178,11.3056641 L16.5045588,14.5909839 C17.0746457,15.0774922 17.1423995,15.9340279 16.6558918,16.5041148 C16.1693834,17.0742018 15.3128477,17.1419555 14.7427608,16.6554479 C14.688411,16.6090662 14.6378094,16.5584646 14.5914278,16.5041148 L11.3046571,12.7707462 C10.2350887,13.5441573 8.92077825,14 7.5,14 C3.91014913,14 1,11.0898509 1,7.5 C1,3.91014913 3.91014913,1 7.5,1 Z M7.5,2.75 C4.87664744,2.75 2.75,4.87664744 2.75,7.5 C2.75,10.1233526 4.87664744,12.25 7.5,12.25 C10.1233526,12.25 12.25,10.1233526 12.25,7.5 C12.25,4.87664744 10.1233526,2.75 7.5,2.75 Z",fill:""}))}var u=o;ft.Z=u},8012:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,viewBox:"0 0 40 40"},n),l.createElement("defs",null,l.createElement("linearGradient",{id:"clearbit-a",x1:"50%",x2:"100%",y1:"0%",y2:"100%"},l.createElement("stop",{offset:"0%",stopColor:"#DEF2FE"}),l.createElement("stop",{offset:"100%",stopColor:"#DBF1FE"})),l.createElement("linearGradient",{id:"clearbit-b",x1:"0%",x2:"50%",y1:"0%",y2:"100%"},l.createElement("stop",{offset:"0%",stopColor:"#57BCFD"}),l.createElement("stop",{offset:"100%",stopColor:"#51B5FD"})),l.createElement("linearGradient",{id:"clearbit-c",x1:"37.5%",x2:"62.5%",y1:"0%",y2:"100%"},l.createElement("stop",{offset:"0%",stopColor:"#1CA7FD"}),l.createElement("stop",{offset:"100%",stopColor:"#148CFC"})),l.createElement("filter",{id:"ck-icon-shadow",x:"-50%",y:"-50%",width:"200%",height:"200%"},l.createElement("feOffset",{result:"offOut",in:"SourceGraphic",dx:0,dy:1}),l.createElement("feGaussianBlur",{result:"blurOut",in:"offOut",stdDeviation:1}),l.createElement("feBlend",{in:"SourceGraphic",in2:"blurOut",mode:"normal"}))),l.createElement("g",{fill:"none"},l.createElement("path",{d:"M27.9195733,37 L12.0804267,37 L11.4338943,36.9949826 C8.75934941,36.9515623 7.69554096,36.6271471 6.62367147,36.053905 C5.46935048,35.4365674 4.56343261,34.5306495 3.94609499,33.3763285 L3.81824005,33.1283803 C3.30403747,32.0897188 3.02217708,30.9433817 3.00125617,28.250264 L3,12.0804267 C3,8.92296455 3.32875737,7.77799245 3.94609499,6.62367147 C4.56343261,5.46935048 5.46935048,4.56343261 6.62367147,3.94609499 L6.87161969,3.81824005 C7.91028124,3.30403747 9.05661831,3.02217708 11.749736,3.00125617 L27.9195733,3 C31.0770355,3 32.2220075,3.32875737 33.3763285,3.94609499 C34.5306495,4.56343261 35.4365674,5.46935048 36.053905,6.62367147 L36.18176,6.87161969 C36.6959625,7.91028124 36.9778229,9.05661831 36.9987438,11.749736 L37,27.9195733 L36.9949826,28.5661057 C36.9515623,31.2406506 36.6271471,32.304459 36.053905,33.3763285 C35.4365674,34.5306495 34.5306495,35.4365674 33.3763285,36.053905 L33.1283803,36.18176 C32.0481723,36.7165306 30.8515024,37 27.9195733,37 Z",id:"clearbit-edge",strokeOpacity:.2,stroke:"#9BADBC",fillOpacity:0,fill:"#9BADBC"}),l.createElement("path",{d:"M27.9195733,37 L12.0804267,37 L11.4338943,36.9949826 C8.75934941,36.9515623 7.69554096,36.6271471 6.62367147,36.053905 C5.46935048,35.4365674 4.56343261,34.5306495 3.94609499,33.3763285 L3.81824005,33.1283803 C3.30403747,32.0897188 3.02217708,30.9433817 3.00125617,28.250264 L3,12.0804267 C3,8.92296455 3.32875737,7.77799245 3.94609499,6.62367147 C4.56343261,5.46935048 5.46935048,4.56343261 6.62367147,3.94609499 L6.87161969,3.81824005 C7.91028124,3.30403747 9.05661831,3.02217708 11.749736,3.00125617 L27.9195733,3 C31.0770355,3 32.2220075,3.32875737 33.3763285,3.94609499 C34.5306495,4.56343261 35.4365674,5.46935048 36.053905,6.62367147 L36.18176,6.87161969 C36.6959625,7.91028124 36.9778229,9.05661831 36.9987438,11.749736 L37,27.9195733 L36.9949826,28.5661057 C36.9515623,31.2406506 36.6271471,32.304459 36.053905,33.3763285 C35.4365674,34.5306495 34.5306495,35.4365674 33.3763285,36.053905 L33.1283803,36.18176 C32.0481723,36.7165306 30.8515024,37 27.9195733,37 Z",id:"clearbit-fx",fillOpacity:.2,fill:"#9BADBC",filter:"url(#ck-icon-shadow)"}),l.createElement("path",{fill:"url(#clearbit-a)",d:"M37,20 L37,27.9195733 C37,31.0770355 36.6712426,32.2220075 36.053905,33.3763285 C35.4365674,34.5306495 34.5306495,35.4365674 33.3763285,36.053905 C32.2220075,36.6712426 31.0770355,37 27.9195733,37 L20,37 L20,20 L37,20 Z"}),l.createElement("path",{fill:"url(#clearbit-b)",d:"M20,3 L27.9195733,3 C31.0770355,3 32.2220075,3.32875737 33.3763285,3.94609499 C34.5306495,4.56343261 35.4365674,5.46935048 36.053905,6.62367147 C36.6712426,7.77799245 37,8.92296455 37,12.0804267 L37,20 L20,20 L20,3 Z"}),l.createElement("path",{fill:"url(#clearbit-c)",d:"M12.0804267,3 L20,3 L20,37 L12.0804267,37 C8.92296455,37 7.77799245,36.6712426 6.62367147,36.053905 C5.46935048,35.4365674 4.56343261,34.5306495 3.94609499,33.3763285 C3.32875737,32.2220075 3,31.0770355 3,27.9195733 L3,12.0804267 C3,8.92296455 3.32875737,7.77799245 3.94609499,6.62367147 C4.56343261,5.46935048 5.46935048,4.56343261 6.62367147,3.94609499 C7.77799245,3.32875737 8.92296455,3 12.0804267,3 Z"})))}var u=o;ft.Z=u},8502:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32px",height:"32px"},n),l.createElement("g",null,l.createElement("circle",{fill:"none",stroke:"currentColor",cx:16,cy:16,r:13,strokeWidth:3,opacity:.2}),l.createElement("g",null,l.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"}),l.createElement("circle",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeDashoffset:0,strokeDasharray:"16, 64",cx:16,cy:16,r:13,strokeWidth:3},l.createElement("animate",{attributeName:"stroke-width",values:"3px; 4px; 3px",keyTimes:"0; 0.5; 1",dur:"0.8s",repeatCount:"indefinite"})))))}var u=o;ft.Z=u},6213:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:26,height:26,viewBox:"0 0 26 26"},n),l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("circle",{cx:13,cy:13,r:13,fill:"#1877F2"}),l.createElement("path",{fill:"#FFFFFE",d:"M18.0603516,16.7578125 L18.6367188,13 L15.03125,13 L15.03125,10.5614082 C15.03125,9.5333418 15.534873,8.53125 17.149793,8.53125 L18.7890625,8.53125 L18.7890625,5.33203125 C18.7890625,5.33203125 17.3013496,5.078125 15.879043,5.078125 C12.9095586,5.078125 10.96875,6.8778125 10.96875,10.1359375 L10.96875,13 L7.66796875,13 L7.66796875,16.7578125 L10.96875,16.7578125 L10.96875,25.8420703 C11.6306074,25.945918 12.3089687,26 13,26 C13.6910313,26 14.3693926,25.945918 15.03125,25.8420703 L15.03125,16.7578125 L18.0603516,16.7578125"})))}var u=o;ft.Z=u},1758:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:26,height:26,viewBox:"0 0 26 26"},n),l.createElement("path",{fill:"#27282A",d:"M-1.58887802e-05,12.2885502 C-0.00154563714,17.6119477 3.34646633,22.331397 8.29404395,23.9801031 L8.58441062,23.9801031 C9.13633253,24.0151327 9.61150757,23.5857918 9.64575081,23.0211429 C9.64831246,22.978899 9.64831246,22.9365333 9.64575081,22.8942891 L9.64575081,22.679175 C9.64575081,22.5050351 9.64575081,22.2694339 9.64575081,21.5626305 C9.62590074,21.4270779 9.55377106,21.3053202 9.44549593,21.224593 C9.32769419,21.1271014 9.17307094,21.0894379 9.02496491,21.1221578 C6.34157643,21.7162824 5.77085574,19.9953697 5.73080517,19.8826909 C5.39479075,18.9721608 4.79365366,18.1891077 4.00863036,17.639358 C3.96159613,17.5977458 3.91137141,17.5600651 3.85844067,17.5266792 C3.97479553,17.4625957 4.10788359,17.437514 4.23892105,17.4549745 C4.75081351,17.5277942 5.18786941,17.8699491 5.39037512,18.356405 C6.19541287,19.790448 7.9653669,20.3155722 9.39543273,19.5446545 C9.54528896,19.4776345 9.65369885,19.339954 9.68579939,19.1758875 C9.72413594,18.7020646 9.92236305,18.2566341 10.2465064,17.9159343 C10.4532444,17.7281059 10.4720061,17.4043828 10.2884118,17.1928775 C10.2077235,17.0999226 10.0967428,17.0401649 9.9761645,17.0247474 C7.60316797,16.7481721 5.18010822,15.8979593 5.18010822,11.7083564 C5.16010416,10.6562285 5.53655042,9.636557 6.2314359,8.86066098 C6.36210191,8.71301178 6.3972503,8.5012545 6.32154971,8.31775399 C6.0432781,7.52237315 6.04682358,6.65227868 6.33156624,5.8593067 C7.25656233,6.02705574 8.12476066,6.43239521 8.85475246,7.03731241 C8.97692371,7.12552985 9.13175022,7.15192927 9.27528347,7.10901708 C10.1696976,6.86079804 11.0920173,6.73337982 12.0187475,6.73000662 C12.9489447,6.73080648 13.874902,6.85826276 14.7722251,7.10901715 C14.9126834,7.14866606 15.0631004,7.12239285 15.1827435,7.03731246 C15.9138836,6.4342966 16.7815823,6.02919068 17.7059295,5.8593069 C17.9785027,6.6480381 17.9785027,7.50853541 17.7059295,8.29726657 C17.6302293,8.48076707 17.6653776,8.69252435 17.7960433,8.84017353 C18.4837418,9.60831222 18.8596665,10.6155716 18.8473709,11.6571438 C18.8473709,15.8467467 16.4142985,16.6867159 14.0312894,16.9632912 C13.7562851,16.9925906 13.5565669,17.2444187 13.585205,17.5257643 C13.5986432,17.6577788 13.6616499,17.7793009 13.760948,17.8647216 C14.2098138,18.3386938 14.4330467,18.9901371 14.3717193,19.6470956 L14.3717193,22.9045374 C14.3616845,23.2288023 14.4939035,23.5406696 14.7321754,23.7547511 C15.0360411,23.9875066 15.429547,24.0596671 15.7935156,23.9493781 C22.0864915,21.7955537 25.4812983,14.8304259 23.3760098,8.39232772 C21.7410953,3.39266666 17.1719155,0.0163179398 12.0187683,-1.64327259e-05 C5.38297796,-0.00201282128 0.00200306403,5.49977502 -1.58887802e-05,12.2885502 Z",transform:"translate(1 1)"}))}var u=o;ft.Z=u},4534:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:26,height:26,viewBox:"0 0 26 26"},n),l.createElement("path",{fill:"#0073B0",fillRule:"evenodd",d:"M19,0 C20.5976809,0 21.9036609,1.24891996 21.9949073,2.82372721 L22,3 L22,19 C22,20.5976809 20.75108,21.9036609 19.1762728,21.9949073 L19,22 L3,22 C1.40231912,22 0.0963391206,20.75108 0.00509269341,19.1762728 L0,19 L0,3 C0,1.40231912 1.24891996,0.0963391206 2.82372721,0.00509269341 L3,0 L19,0 Z M7.15308916,8.44095397 L3.86126042,8.44095397 L3.86126042,18.3447208 L7.15308916,18.3447208 L7.15308916,8.44095397 Z M15.2330671,8.20855511 C13.6993838,8.20855511 12.9087623,8.94890641 12.4426419,9.58633344 L12.2656667,9.84366667 L12.2664502,8.44095397 L8.97456285,8.44095397 L8.98619023,9.04789084 C8.99367185,9.80235507 8.99483985,11.093846 8.99308342,12.4781602 L8.97456285,18.3447208 L12.2663623,18.3447208 L12.2663623,12.8140382 C12.2663623,12.5180447 12.2877559,12.2223442 12.3746783,12.0107529 C12.6126454,11.419352 13.1542842,10.8068506 14.0636583,10.8068506 C15.203023,10.8068506 15.6885183,11.6377952 15.7285815,12.875218 L15.7313033,13.0464371 L15.7313033,18.3447208 L19.022839,18.3447208 L19.022839,12.6660414 C19.022839,9.6240488 17.398831,8.20855511 15.2330671,8.20855511 Z M5.52893471,3.66666667 C4.40289922,3.66666667 3.66666667,4.4060643 3.66666667,5.3778608 C3.66666667,6.28074356 4.3113592,7.01223728 5.32297105,7.08312945 L5.50716014,7.08876186 C6.65508742,7.08876186 7.36957471,6.3282637 7.36957471,5.3778608 C7.34818112,4.4060643 6.65508742,3.66666667 5.52893471,3.66666667 Z",transform:"translate(2 2)"}))}var u=o;ft.Z=u},7788:(wt,ft,vt)=>{"use strict";var zt;function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(n)}zt={value:!0},ft.Z=void 0;var l=a(vt(9526));function i(n){if(typeof WeakMap!="function")return null;var s=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:s})(n)}function a(n,s){if(!s&&n&&n.__esModule)return n;if(n===null||e(n)!=="object"&&typeof n!="function")return{default:n};var f=i(s);if(f&&f.has(n))return f.get(n);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!=="default"&&Object.prototype.hasOwnProperty.call(n,h)){var _=m?Object.getOwnPropertyDescriptor(n,h):null;_&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=n[h]}return d.default=n,f&&f.set(n,d),d}function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},t.apply(this,arguments)}function o(n){return l.createElement("svg",t({xmlns:"http://www.w3.org/2000/svg",width:26,height:26,viewBox:"0 0 26 26"},n),l.createElement("path",{fill:"#1DA1F1",d:"M23.35424,5.85797448 C23.35424,5.63061829 23.35424,5.40428623 23.33864,5.1789783 C24.3826246,4.43537084 25.2838097,3.51464848 26,2.45992123 C25.0264342,2.88473091 23.9936624,3.16332097 22.93616,3.28639169 C24.0497337,2.62990793 24.8831685,1.59737282 25.28136,0.380943512 C24.2342438,0.992813606 23.0886719,1.42402913 21.89408,1.65598157 C20.2405661,-0.075413319 17.6131481,-0.499178307 15.4851312,0.622309679 C13.3571144,1.74379766 12.257726,4.13163001 12.80344,6.44684748 C8.51437157,6.23510875 4.51825481,4.24018496 1.8096,0.958551115 C0.393767667,3.35874086 1.1169474,6.42929341 3.46112,7.97074839 C2.61221085,7.94597224 1.78181055,7.72046525 1.04,7.31325888 C1.04,7.33476555 1.04,7.35729634 1.04,7.37982713 C1.04069486,9.88032831 2.83062155,12.0340081 5.3196,12.5291375 C4.53426438,12.7400462 3.71028381,12.7708768 2.91096,12.6192606 C3.60978585,14.7590949 5.61243754,16.2249903 7.89464,16.2672009 C6.00572444,17.7290724 3.67230189,18.5226641 1.26984,18.5202802 C0.845419712,18.5194778 0.421412228,18.4941726 0,18.4444948 C2.43946139,19.9860891 5.27790994,20.8037934 8.17648,20.8 C17.98784,20.8040833 23.35424,12.799507 23.35424,5.85797448 Z",transform:"translate(0 2.6)"}))}var u=o;ft.Z=u},5189:(wt,ft,vt)=>{(function(zt){if(!0)wt.exports=zt();else var e})(function(){var zt;return function(){function e(l,i,a){function t(n,s){if(!i[n]){if(!l[n]){var f=void 0;if(!s&&f)return require(n,!0);if(o)return o(n,!0);var d=new Error("Cannot find module '"+n+"'");throw d.code="MODULE_NOT_FOUND",d}var m=i[n]={exports:{}};l[n][0].call(m.exports,function(h){return t(l[n][1][h]||h)},m,m.exports,e,l,i,a)}return i[n].exports}for(var o=void 0,u=0;u<a.length;u++)t(a[u]);return t}return e}()({1:[function(e,l,i){l.exports=e("core-js/library/fn/array/from")},{"core-js/library/fn/array/from":139}],2:[function(e,l,i){l.exports=e("core-js/library/fn/array/is-array")},{"core-js/library/fn/array/is-array":140}],3:[function(e,l,i){l.exports=e("core-js/library/fn/date/now")},{"core-js/library/fn/date/now":141}],4:[function(e,l,i){l.exports=e("core-js/library/fn/json/stringify")},{"core-js/library/fn/json/stringify":142}],5:[function(e,l,i){l.exports=e("core-js/library/fn/map")},{"core-js/library/fn/map":143}],6:[function(e,l,i){l.exports=e("core-js/library/fn/number/max-safe-integer")},{"core-js/library/fn/number/max-safe-integer":144}],7:[function(e,l,i){l.exports=e("core-js/library/fn/number/min-safe-integer")},{"core-js/library/fn/number/min-safe-integer":145}],8:[function(e,l,i){l.exports=e("core-js/library/fn/object/assign")},{"core-js/library/fn/object/assign":146}],9:[function(e,l,i){l.exports=e("core-js/library/fn/object/create")},{"core-js/library/fn/object/create":147}],10:[function(e,l,i){l.exports=e("core-js/library/fn/object/define-properties")},{"core-js/library/fn/object/define-properties":148}],11:[function(e,l,i){l.exports=e("core-js/library/fn/object/define-property")},{"core-js/library/fn/object/define-property":149}],12:[function(e,l,i){l.exports=e("core-js/library/fn/object/entries")},{"core-js/library/fn/object/entries":150}],13:[function(e,l,i){l.exports=e("core-js/library/fn/object/freeze")},{"core-js/library/fn/object/freeze":151}],14:[function(e,l,i){l.exports=e("core-js/library/fn/object/get-own-property-descriptor")},{"core-js/library/fn/object/get-own-property-descriptor":152}],15:[function(e,l,i){l.exports=e("core-js/library/fn/object/get-own-property-descriptors")},{"core-js/library/fn/object/get-own-property-descriptors":153}],16:[function(e,l,i){l.exports=e("core-js/library/fn/object/get-own-property-names")},{"core-js/library/fn/object/get-own-property-names":154}],17:[function(e,l,i){l.exports=e("core-js/library/fn/object/get-own-property-symbols")},{"core-js/library/fn/object/get-own-property-symbols":155}],18:[function(e,l,i){l.exports=e("core-js/library/fn/object/get-prototype-of")},{"core-js/library/fn/object/get-prototype-of":156}],19:[function(e,l,i){l.exports=e("core-js/library/fn/object/keys")},{"core-js/library/fn/object/keys":157}],20:[function(e,l,i){l.exports=e("core-js/library/fn/object/set-prototype-of")},{"core-js/library/fn/object/set-prototype-of":158}],21:[function(e,l,i){l.exports=e("core-js/library/fn/object/values")},{"core-js/library/fn/object/values":159}],22:[function(e,l,i){l.exports=e("core-js/library/fn/parse-float")},{"core-js/library/fn/parse-float":160}],23:[function(e,l,i){l.exports=e("core-js/library/fn/parse-int")},{"core-js/library/fn/parse-int":161}],24:[function(e,l,i){l.exports=e("core-js/library/fn/promise")},{"core-js/library/fn/promise":162}],25:[function(e,l,i){l.exports=e("core-js/library/fn/reflect/construct")},{"core-js/library/fn/reflect/construct":163}],26:[function(e,l,i){l.exports=e("core-js/library/fn/reflect/get")},{"core-js/library/fn/reflect/get":164}],27:[function(e,l,i){l.exports=e("core-js/library/fn/set")},{"core-js/library/fn/set":165}],28:[function(e,l,i){l.exports=e("core-js/library/fn/symbol")},{"core-js/library/fn/symbol":166}],29:[function(e,l,i){l.exports=e("core-js/library/fn/symbol/iterator")},{"core-js/library/fn/symbol/iterator":167}],30:[function(e,l,i){l.exports=e("core-js/library/fn/weak-map")},{"core-js/library/fn/weak-map":168}],31:[function(e,l,i){l.exports=e("core-js/library/fn/weak-set")},{"core-js/library/fn/weak-set":169}],32:[function(e,l,i){function a(t,o){(o==null||o>t.length)&&(o=t.length);for(var u=0,n=new Array(o);u<o;u++)n[u]=t[u];return n}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],33:[function(e,l,i){function a(o){if(t(o))return o}var t=e("@babel/runtime-corejs2/core-js/array/is-array");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/array/is-array":2}],34:[function(e,l,i){function a(u){if(t(u))return o(u)}var t=e("@babel/runtime-corejs2/core-js/array/is-array"),o=e("./arrayLikeToArray.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./arrayLikeToArray.js":32,"@babel/runtime-corejs2/core-js/array/is-array":2}],35:[function(e,l,i){function a(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],36:[function(e,l,i){function a(u,n,s,f,d,m,h){try{var _=u[m](h),y=_.value}catch(S){return void s(S)}_.done?n(y):o.resolve(y).then(f,d)}function t(u){return function(){var n=this,s=arguments;return new o(function(f,d){function m(y){a(_,f,d,m,h,"next",y)}function h(y){a(_,f,d,m,h,"throw",y)}var _=u.apply(n,s);m(void 0)})}}var o=e("@babel/runtime-corejs2/core-js/promise");l.exports=t,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/promise":24}],37:[function(e,l,i){function a(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],38:[function(e,l,i){function a(u,n){for(var s=0;s<n.length;s++){var f=n[s];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),o(u,f.key,f)}}function t(u,n,s){return n&&a(u.prototype,n),s&&a(u,s),u}var o=e("@babel/runtime-corejs2/core-js/object/define-property");l.exports=t,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/object/define-property":11}],39:[function(e,l,i){function a(o,u,n){return u in o?t(o,u,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[u]=n,o}var t=e("@babel/runtime-corejs2/core-js/object/define-property");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/object/define-property":11}],40:[function(e,l,i){function a(){return l.exports=a=t||function(o){for(var u=1;u<arguments.length;u++){var n=arguments[u];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s])}return o},l.exports.default=l.exports,l.exports.__esModule=!0,a.apply(this,arguments)}var t=e("@babel/runtime-corejs2/core-js/object/assign");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/object/assign":8}],41:[function(e,l,i){function a(n,s,f){return typeof Reflect!="undefined"&&t?(l.exports=a=t,l.exports.default=l.exports,l.exports.__esModule=!0):(l.exports=a=function(d,m,h){var _=u(d,m);if(_){var y=o(_,m);return y.get?y.get.call(h):y.value}},l.exports.default=l.exports,l.exports.__esModule=!0),a(n,s,f||n)}var t=e("@babel/runtime-corejs2/core-js/reflect/get"),o=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),u=e("./superPropBase.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./superPropBase.js":54,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/reflect/get":26}],42:[function(e,l,i){function a(u){return l.exports=a=t?o:function(n){return n.__proto__||o(n)},l.exports.default=l.exports,l.exports.__esModule=!0,a(u)}var t=e("@babel/runtime-corejs2/core-js/object/set-prototype-of"),o=e("@babel/runtime-corejs2/core-js/object/get-prototype-of");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/object/get-prototype-of":18,"@babel/runtime-corejs2/core-js/object/set-prototype-of":20}],43:[function(e,l,i){function a(u,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=t(n&&n.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),n&&o(u,n)}var t=e("@babel/runtime-corejs2/core-js/object/create"),o=e("./setPrototypeOf.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./setPrototypeOf.js":52,"@babel/runtime-corejs2/core-js/object/create":9}],44:[function(e,l,i){function a(t){return t&&t.__esModule?t:{default:t}}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],45:[function(e,l,i){function a(n){if(t!==void 0&&n[o]!=null||n["@@iterator"]!=null)return u(n)}var t=e("@babel/runtime-corejs2/core-js/symbol"),o=e("@babel/runtime-corejs2/core-js/symbol/iterator"),u=e("@babel/runtime-corejs2/core-js/array/from");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29}],46:[function(e,l,i){function a(u,n){var s=u==null?null:t!==void 0&&u[o]||u["@@iterator"];if(s!=null){var f,d,m=[],h=!0,_=!1;try{for(s=s.call(u);!(h=(f=s.next()).done)&&(m.push(f.value),!n||m.length!==n);h=!0);}catch(y){_=!0,d=y}finally{try{h||s.return==null||s.return()}finally{if(_)throw d}}return m}}var t=e("@babel/runtime-corejs2/core-js/symbol"),o=e("@babel/runtime-corejs2/core-js/symbol/iterator");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29}],47:[function(e,l,i){function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],48:[function(e,l,i){function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],49:[function(e,l,i){function a(u,n){if(u==null)return{};var s,f,d=o(u,n);if(t){var m=t(u);for(f=0;f<m.length;f++)s=m[f],n.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(u,s)&&(d[s]=u[s])}return d}var t=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),o=e("./objectWithoutPropertiesLoose.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./objectWithoutPropertiesLoose.js":50,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17}],50:[function(e,l,i){function a(o,u){if(o==null)return{};var n,s,f={},d=t(o);for(s=0;s<d.length;s++)n=d[s],u.indexOf(n)>=0||(f[n]=o[n]);return f}var t=e("@babel/runtime-corejs2/core-js/object/keys");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/object/keys":19}],51:[function(e,l,i){function a(u,n){return!n||t(n)!=="object"&&typeof n!="function"?o(u):n}var t=e("@babel/runtime-corejs2/helpers/typeof").default,o=e("./assertThisInitialized.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./assertThisInitialized.js":35,"@babel/runtime-corejs2/helpers/typeof":57}],52:[function(e,l,i){function a(o,u){return l.exports=a=t||function(n,s){return n.__proto__=s,n},l.exports.default=l.exports,l.exports.__esModule=!0,a(o,u)}var t=e("@babel/runtime-corejs2/core-js/object/set-prototype-of");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/object/set-prototype-of":20}],53:[function(e,l,i){function a(s,f){return t(s)||o(s,f)||u(s,f)||n()}var t=e("./arrayWithHoles.js"),o=e("./iterableToArrayLimit.js"),u=e("./unsupportedIterableToArray.js"),n=e("./nonIterableRest.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./arrayWithHoles.js":33,"./iterableToArrayLimit.js":46,"./nonIterableRest.js":47,"./unsupportedIterableToArray.js":58}],54:[function(e,l,i){function a(o,u){for(;!Object.prototype.hasOwnProperty.call(o,u)&&(o=t(o))!==null;);return o}var t=e("./getPrototypeOf.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./getPrototypeOf.js":42}],55:[function(e,l,i){function a(u,n){return n||(n=u.slice(0)),t(o(u,{raw:{value:t(n)}}))}var t=e("@babel/runtime-corejs2/core-js/object/freeze"),o=e("@babel/runtime-corejs2/core-js/object/define-properties");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/freeze":13}],56:[function(e,l,i){function a(s){return t(s)||o(s)||u(s)||n()}var t=e("./arrayWithoutHoles.js"),o=e("./iterableToArray.js"),u=e("./unsupportedIterableToArray.js"),n=e("./nonIterableSpread.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./arrayWithoutHoles.js":34,"./iterableToArray.js":45,"./nonIterableSpread.js":48,"./unsupportedIterableToArray.js":58}],57:[function(e,l,i){function a(u){return typeof t=="function"&&typeof o=="symbol"?(l.exports=a=function(n){return typeof n},l.exports.default=l.exports,l.exports.__esModule=!0):(l.exports=a=function(n){return n&&typeof t=="function"&&n.constructor===t&&n!==t.prototype?"symbol":typeof n},l.exports.default=l.exports,l.exports.__esModule=!0),a(u)}var t=e("@babel/runtime-corejs2/core-js/symbol"),o=e("@babel/runtime-corejs2/core-js/symbol/iterator");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29}],58:[function(e,l,i){function a(u,n){if(u){if(typeof u=="string")return o(u,n);var s=Object.prototype.toString.call(u).slice(8,-1);return s==="Object"&&u.constructor&&(s=u.constructor.name),s==="Map"||s==="Set"?t(u):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(u,n):void 0}}var t=e("@babel/runtime-corejs2/core-js/array/from"),o=e("./arrayLikeToArray.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./arrayLikeToArray.js":32,"@babel/runtime-corejs2/core-js/array/from":1}],59:[function(e,l,i){l.exports=e("regenerator-runtime")},{"regenerator-runtime":607}],60:[function(e,l,i){arguments[4][32][0].apply(i,arguments)},{dup:32}],61:[function(e,l,i){function a(t){if(Array.isArray(t))return t}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],62:[function(e,l,i){arguments[4][35][0].apply(i,arguments)},{dup:35}],63:[function(e,l,i){arguments[4][37][0].apply(i,arguments)},{dup:37}],64:[function(e,l,i){function a(o,u){for(var n=0;n<u.length;n++){var s=u[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}function t(o,u,n){return u&&a(o.prototype,u),n&&a(o,n),o}l.exports=t,l.exports.default=l.exports,l.exports.__esModule=!0},{}],65:[function(e,l,i){function a(t,o,u){return o in t?Object.defineProperty(t,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[o]=u,t}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],66:[function(e,l,i){function a(){return l.exports=a=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n])}return t},l.exports.default=l.exports,l.exports.__esModule=!0,a.apply(this,arguments)}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],67:[function(e,l,i){function a(t){return l.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},l.exports.default=l.exports,l.exports.__esModule=!0,a(t)}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],68:[function(e,l,i){function a(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&t(o,u)}var t=e("./setPrototypeOf.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./setPrototypeOf.js":77}],69:[function(e,l,i){arguments[4][44][0].apply(i,arguments)},{dup:44}],70:[function(e,l,i){function a(u){if(typeof WeakMap!="function")return null;var n=new WeakMap,s=new WeakMap;return(a=function(f){return f?s:n})(u)}function t(u,n){if(!n&&u&&u.__esModule)return u;if(u===null||o(u)!=="object"&&typeof u!="function")return{default:u};var s=a(n);if(s&&s.has(u))return s.get(u);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in u)if(m!=="default"&&Object.prototype.hasOwnProperty.call(u,m)){var h=d?Object.getOwnPropertyDescriptor(u,m):null;h&&(h.get||h.set)?Object.defineProperty(f,m,h):f[m]=u[m]}return f.default=u,s&&s.set(u,f),f}var o=e("@babel/runtime/helpers/typeof").default;l.exports=t,l.exports.default=l.exports,l.exports.__esModule=!0},{"@babel/runtime/helpers/typeof":79}],71:[function(e,l,i){function a(t,o){var u=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(u!=null){var n,s,f=[],d=!0,m=!1;try{for(u=u.call(t);!(d=(n=u.next()).done)&&(f.push(n.value),!o||f.length!==o);d=!0);}catch(h){m=!0,s=h}finally{try{d||u.return==null||u.return()}finally{if(m)throw s}}return f}}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],72:[function(e,l,i){arguments[4][47][0].apply(i,arguments)},{dup:47}],73:[function(e,l,i){function a(o){for(var u=1;u<arguments.length;u++){var n=arguments[u]!=null?Object(arguments[u]):{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable}))),s.forEach(function(f){t(o,f,n[f])})}return o}var t=e("./defineProperty.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./defineProperty.js":65}],74:[function(e,l,i){function a(o,u){if(o==null)return{};var n,s,f=t(o,u);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);for(s=0;s<d.length;s++)n=d[s],u.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(o,n)&&(f[n]=o[n])}return f}var t=e("./objectWithoutPropertiesLoose.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./objectWithoutPropertiesLoose.js":75}],75:[function(e,l,i){function a(t,o){if(t==null)return{};var u,n,s={},f=Object.keys(t);for(n=0;n<f.length;n++)u=f[n],o.indexOf(u)>=0||(s[u]=t[u]);return s}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],76:[function(e,l,i){function a(u,n){return!n||t(n)!=="object"&&typeof n!="function"?o(u):n}var t=e("@babel/runtime/helpers/typeof").default,o=e("./assertThisInitialized.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./assertThisInitialized.js":62,"@babel/runtime/helpers/typeof":79}],77:[function(e,l,i){function a(t,o){return l.exports=a=Object.setPrototypeOf||function(u,n){return u.__proto__=n,u},l.exports.default=l.exports,l.exports.__esModule=!0,a(t,o)}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],78:[function(e,l,i){arguments[4][53][0].apply(i,arguments)},{"./arrayWithHoles.js":61,"./iterableToArrayLimit.js":71,"./nonIterableRest.js":72,"./unsupportedIterableToArray.js":80,dup:53}],79:[function(e,l,i){function a(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(l.exports=a=function(o){return typeof o},l.exports.default=l.exports,l.exports.__esModule=!0):(l.exports=a=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},l.exports.default=l.exports,l.exports.__esModule=!0),a(t)}l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{}],80:[function(e,l,i){function a(o,u){if(o){if(typeof o=="string")return t(o,u);var n=Object.prototype.toString.call(o).slice(8,-1);return n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set"?Array.from(o):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(o,u):void 0}}var t=e("./arrayLikeToArray.js");l.exports=a,l.exports.default=l.exports,l.exports.__esModule=!0},{"./arrayLikeToArray.js":60}],81:[function(e,l,i){"use strict";var a=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(i,"__esModule",{value:!0}),i._62To10=i._36To10=i._32To10=i._16To10=i._8To10=i._2To10=i._10To62=i._10To36=i._10To32=i._10To16=i._10To8=i._10To2=i.convertBase=void 0;var t=a(e("decimal.js"));t.default.set({precision:1e9}),t.default.set({toExpPos:9e15});var o=function(g,k){for(var j=[],x=new t.default(g),A=new t.default(k.length);!x.isZero();){var w=x.mod(A).toNumber();x=x.dividedToIntegerBy(A),j.unshift(k.substr(w,1))}return j.length===0&&j.unshift("0"),j.join("")},u=function(g,k){for(var j={},x=0;x<k.length;x++)j[k.substr(x,1)]=new t.default(x);for(var A=new t.default(k.length),w=new t.default(0),x=0;x<g.length;x++){var C=j[g.substr(-1*(x+1),1)],O=t.default.pow(A,x),V=C.times(O);w=w.plus(V)}return w.toString()},n=function(g,k,j){var x="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";if(typeof g!="number"&&typeof g!="string"||typeof g=="number"&&!isFinite(g))throw new Error("First augument must be a number or string.");if(typeof g=="number"&&(g=g.toString()),typeof k!="number"&&typeof k!="string")throw new Error("Second augument must be a number or string.");if(typeof k=="number"){if(!Number.isInteger(k))throw new Error("Second augument must be integer.");if(!(2<=k&&k<=62))throw new Error("Second augument must be between 2 and 62.");k=x.substr(0,k)}if(k.length<=1)throw new Error("Second augument' length must be larger than 1. Base 1 or smaller cannnot be defined.");if(k.length!==new Set(k).size)throw new Error("Second augument must not contain the same characters.");if(!new RegExp("^["+k+"]+$").test(g))throw new Error("First augument must consist of second augument.");if(typeof j!="number"&&typeof j!="string")throw new Error("Third augument must be a number or string.");if(typeof j=="number"){if(!Number.isInteger(j))throw new Error("Third augument must be integer.");if(!(2<=j&&j<=62))throw new Error("Third augument must be between 2 and 62.");j=x.substr(0,j)}if(j.length<=1)throw new Error("Third augument' length must be larger than 1. Base 1 or smaller cannnot be defined.");if(j.length!==new Set(j).size)throw new Error("Third augument must not contain the same characters.");var A=u(g,k);return o(A,j)};i.convertBase=n;var s=function(g){return n(g,10,2)};i._10To2=s;var f=function(g){return n(g,10,8)};i._10To8=f;var d=function(g){return n(g,10,16)};i._10To16=d;var m=function(g){return n(g,10,32)};i._10To32=m;var h=function(g){return n(g,10,36)};i._10To36=h;var _=function(g){return n(g,10,62)};i._10To62=_;var y=function(g){return n(g,2,10)};i._2To10=y;var S=function(g){return n(g,8,10)};i._8To10=S;var v=function(g){return n(g,16,10)};i._16To10=v;var T=function(g){return n(g,32,10)};i._32To10=T;var E=function(g){return n(g,36,10)};i._36To10=E;var I=function(g){return n(g,62,10)};i._62To10=I},{"decimal.js":300}],82:[function(e,l,i){l.exports=function(a,t){var o=typeof a=="number",u=typeof t=="number";o&&!u?(t=a,a=0):o||u||(a=0,t=0),a|=0,t|=0;var n=t-a;if(n<0)throw new Error("array length must be positive");for(var s=new Array(n),f=0,d=a;f<n;f++,d++)s[f]=d;return s}},{}],83:[function(e,l,i){"use strict";function a(){if(s.length)throw s.shift()}function t(d){var m;m=n.length?n.pop():new o,m.task=d,u(m)}function o(){this.task=null}var u=e("./raw"),n=[],s=[],f=u.makeRequestCallFromTimer(a);l.exports=t,o.prototype.call=function(){try{this.task.call()}catch(d){t.onerror?t.onerror(d):(s.push(d),f())}finally{this.task=null,n[n.length]=this}}},{"./raw":84}],84:[function(e,l,i){(function(a){(function(){"use strict";function t(y){s.length||(n(),f=!0),s[s.length]=y}function o(){for(;d<s.length;){var y=d;if(d+=1,s[y].call(),d>m){for(var S=0,v=s.length-d;S<v;S++)s[S]=s[S+d];s.length-=d,d=0}}s.length=0,d=0,f=!1}function u(y){return function(){function S(){clearTimeout(v),clearInterval(T),y()}var v=setTimeout(S,0),T=setInterval(S,50)}}l.exports=t;var n,s=[],f=!1,d=0,m=1024,h=a!==void 0?a:self,_=h.MutationObserver||h.WebKitMutationObserver;n=typeof _=="function"?function(y){var S=1,v=new _(y),T=document.createTextNode("");return v.observe(T,{characterData:!0}),function(){S=-S,T.data=S}}(o):u(o),t.requestFlush=n,t.makeRequestCallFromTimer=u}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],85:[function(e,l,i){(function(a){(function(){"use strict";function t(P,B){if(P===B)return 0;for(var z=P.length,Q=B.length,N=0,K=Math.min(z,Q);N<K;++N)if(P[N]!==B[N]){z=P[N],Q=B[N];break}return z<Q?-1:Q<z?1:0}function o(P){return a.Buffer&&typeof a.Buffer.isBuffer=="function"?a.Buffer.isBuffer(P):!(P==null||!P._isBuffer)}function u(P){return Object.prototype.toString.call(P)}function n(P){return!o(P)&&typeof a.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(P):!!P&&(P instanceof DataView||!!(P.buffer&&P.buffer instanceof ArrayBuffer)))}function s(P){if(x.isFunction(P)){if(C)return P.name;var B=P.toString(),z=B.match(V);return z&&z[1]}}function f(P,B){return typeof P=="string"?P.length<B?P:P.slice(0,B):P}function d(P){if(C||!x.isFunction(P))return x.inspect(P);var B=s(P);return"[Function"+(B?": "+B:"")+"]"}function m(P){return f(d(P.actual),128)+" "+P.operator+" "+f(d(P.expected),128)}function h(P,B,z,Q,N){throw new O.AssertionError({message:z,actual:P,expected:B,operator:Q,stackStartFunction:N})}function _(P,B){P||h(P,!0,B,"==",O.ok)}function y(P,B,z,Q){if(P===B)return!0;if(o(P)&&o(B))return t(P,B)===0;if(x.isDate(P)&&x.isDate(B))return P.getTime()===B.getTime();if(x.isRegExp(P)&&x.isRegExp(B))return P.source===B.source&&P.global===B.global&&P.multiline===B.multiline&&P.lastIndex===B.lastIndex&&P.ignoreCase===B.ignoreCase;if(P!==null&&typeof P=="object"||B!==null&&typeof B=="object"){if(n(P)&&n(B)&&u(P)===u(B)&&!(P instanceof Float32Array||P instanceof Float64Array))return t(new Uint8Array(P.buffer),new Uint8Array(B.buffer))===0;if(o(P)!==o(B))return!1;Q=Q||{actual:[],expected:[]};var N=Q.actual.indexOf(P);return N!==-1&&N===Q.expected.indexOf(B)||(Q.actual.push(P),Q.expected.push(B),v(P,B,z,Q))}return z?P===B:P==B}function S(P){return Object.prototype.toString.call(P)=="[object Arguments]"}function v(P,B,z,Q){if(P==null||B===null||B===void 0)return!1;if(x.isPrimitive(P)||x.isPrimitive(B))return P===B;if(z&&Object.getPrototypeOf(P)!==Object.getPrototypeOf(B))return!1;var N=S(P),K=S(B);if(N&&!K||!N&&K)return!1;if(N)return P=w.call(P),B=w.call(B),y(P,B,z);var U,F,Z=R(P),$=R(B);if(Z.length!==$.length)return!1;for(Z.sort(),$.sort(),F=Z.length-1;F>=0;F--)if(Z[F]!==$[F])return!1;for(F=Z.length-1;F>=0;F--)if(U=Z[F],!y(P[U],B[U],z,Q))return!1;return!0}function T(P,B,z){y(P,B,!0)&&h(P,B,z,"notDeepStrictEqual",T)}function E(P,B){if(!P||!B)return!1;if(Object.prototype.toString.call(B)=="[object RegExp]")return B.test(P);try{if(P instanceof B)return!0}catch(z){}return!Error.isPrototypeOf(B)&&B.call({},P)===!0}function I(P){var B;try{P()}catch(z){B=z}return B}function g(P,B,z,Q){var N;if(typeof B!="function")throw new TypeError('"block" argument must be a function');typeof z=="string"&&(Q=z,z=null),N=I(B),Q=(z&&z.name?" ("+z.name+").":".")+(Q?" "+Q:"."),P&&!N&&h(N,z,"Missing expected exception"+Q);var K=typeof Q=="string",U=!P&&x.isError(N),F=!P&&N&&!z;if((U&&K&&E(N,z)||F)&&h(N,z,"Got unwanted exception"+Q),P&&N&&z&&!E(N,z)||!P&&N)throw N}function k(P,B){P||h(P,!0,B,"==",k)}var j=e("object-assign"),x=e("util/"),A=Object.prototype.hasOwnProperty,w=Array.prototype.slice,C=function(){return function(){}.name==="foo"}(),O=l.exports=_,V=/\s*function\s+([^\(\s]*)\s*/;O.AssertionError=function(P){this.name="AssertionError",this.actual=P.actual,this.expected=P.expected,this.operator=P.operator,P.message?(this.message=P.message,this.generatedMessage=!1):(this.message=m(this),this.generatedMessage=!0);var B=P.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,B);else{var z=new Error;if(z.stack){var Q=z.stack,N=s(B),K=Q.indexOf(`
`+N);if(K>=0){var U=Q.indexOf(`
`,K+1);Q=Q.substring(U+1)}this.stack=Q}}},x.inherits(O.AssertionError,Error),O.fail=h,O.ok=_,O.equal=function(P,B,z){P!=B&&h(P,B,z,"==",O.equal)},O.notEqual=function(P,B,z){P==B&&h(P,B,z,"!=",O.notEqual)},O.deepEqual=function(P,B,z){y(P,B,!1)||h(P,B,z,"deepEqual",O.deepEqual)},O.deepStrictEqual=function(P,B,z){y(P,B,!0)||h(P,B,z,"deepStrictEqual",O.deepStrictEqual)},O.notDeepEqual=function(P,B,z){y(P,B,!1)&&h(P,B,z,"notDeepEqual",O.notDeepEqual)},O.notDeepStrictEqual=T,O.strictEqual=function(P,B,z){P!==B&&h(P,B,z,"===",O.strictEqual)},O.notStrictEqual=function(P,B,z){P===B&&h(P,B,z,"!==",O.notStrictEqual)},O.throws=function(P,B,z){g(!0,P,B,z)},O.doesNotThrow=function(P,B,z){g(!1,P,B,z)},O.ifError=function(P){if(P)throw P},O.strict=j(k,O,{equal:O.strictEqual,deepEqual:O.deepStrictEqual,notEqual:O.notStrictEqual,notDeepEqual:O.notDeepStrictEqual}),O.strict.strict=O.strict;var R=Object.keys||function(P){var B=[];for(var z in P)A.call(P,z)&&B.push(z);return B}}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"object-assign":535,"util/":88}],86:[function(e,l,i){typeof Object.create=="function"?l.exports=function(a,t){a.super_=t,a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:l.exports=function(a,t){a.super_=t;var o=function(){};o.prototype=t.prototype,a.prototype=new o,a.prototype.constructor=a}},{}],87:[function(e,l,i){l.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],88:[function(e,l,i){(function(a,t){(function(){function o(F,Z){var $={seen:[],stylize:n};return arguments.length>=3&&($.depth=arguments[2]),arguments.length>=4&&($.colors=arguments[3]),v(Z)?$.showHidden=Z:Z&&i._extend($,Z),j($.showHidden)&&($.showHidden=!1),j($.depth)&&($.depth=2),j($.colors)&&($.colors=!1),j($.customInspect)&&($.customInspect=!0),$.colors&&($.stylize=u),f($,F,$.depth)}function u(F,Z){var $=o.styles[Z];return $?"\x1B["+o.colors[$][0]+"m"+F+"\x1B["+o.colors[$][1]+"m":F}function n(F,Z){return F}function s(F){var Z={};return F.forEach(function($,ne){Z[$]=!0}),Z}function f(F,Z,$){if(F.customInspect&&Z&&O(Z.inspect)&&Z.inspect!==i.inspect&&(!Z.constructor||Z.constructor.prototype!==Z)){var ne=Z.inspect($,F);return g(ne)||(ne=f(F,ne,$)),ne}var H=d(F,Z);if(H)return H;var X=Object.keys(Z),oe=s(X);if(F.showHidden&&(X=Object.getOwnPropertyNames(Z)),C(Z)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return m(Z);if(X.length===0){if(O(Z)){var Y=Z.name?": "+Z.name:"";return F.stylize("[Function"+Y+"]","special")}if(x(Z))return F.stylize(RegExp.prototype.toString.call(Z),"regexp");if(w(Z))return F.stylize(Date.prototype.toString.call(Z),"date");if(C(Z))return m(Z)}var se="",ie=!1,L=["{","}"];if(S(Z)&&(ie=!0,L=["[","]"]),O(Z)&&(se=" [Function"+(Z.name?": "+Z.name:"")+"]"),x(Z)&&(se=" "+RegExp.prototype.toString.call(Z)),w(Z)&&(se=" "+Date.prototype.toUTCString.call(Z)),C(Z)&&(se=" "+m(Z)),X.length===0&&(!ie||Z.length==0))return L[0]+se+L[1];if($<0)return x(Z)?F.stylize(RegExp.prototype.toString.call(Z),"regexp"):F.stylize("[Object]","special");F.seen.push(Z);var G;return G=ie?h(F,Z,$,oe,X):X.map(function(le){return _(F,Z,$,oe,le,ie)}),F.seen.pop(),y(G,se,L)}function d(F,Z){if(j(Z))return F.stylize("undefined","undefined");if(g(Z)){var $="'"+JSON.stringify(Z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize($,"string")}return I(Z)?F.stylize(""+Z,"number"):v(Z)?F.stylize(""+Z,"boolean"):T(Z)?F.stylize("null","null"):void 0}function m(F){return"["+Error.prototype.toString.call(F)+"]"}function h(F,Z,$,ne,H){for(var X=[],oe=0,Y=Z.length;oe<Y;++oe)z(Z,String(oe))?X.push(_(F,Z,$,ne,String(oe),!0)):X.push("");return H.forEach(function(se){se.match(/^\d+$/)||X.push(_(F,Z,$,ne,se,!0))}),X}function _(F,Z,$,ne,H,X){var oe,Y,se;if(se=Object.getOwnPropertyDescriptor(Z,H)||{value:Z[H]},se.get?Y=se.set?F.stylize("[Getter/Setter]","special"):F.stylize("[Getter]","special"):se.set&&(Y=F.stylize("[Setter]","special")),z(ne,H)||(oe="["+H+"]"),Y||(F.seen.indexOf(se.value)<0?(Y=T($)?f(F,se.value,null):f(F,se.value,$-1),Y.indexOf(`
`)>-1&&(Y=X?Y.split(`
`).map(function(ie){return"  "+ie}).join(`
`).substr(2):`
`+Y.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):Y=F.stylize("[Circular]","special")),j(oe)){if(X&&H.match(/^\d+$/))return Y;oe=JSON.stringify(""+H),oe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(oe=oe.substr(1,oe.length-2),oe=F.stylize(oe,"name")):(oe=oe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),oe=F.stylize(oe,"string"))}return oe+": "+Y}function y(F,Z,$){var ne=0;return F.reduce(function(H,X){return ne++,X.indexOf(`
`)>=0&&ne++,H+X.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$[0]+(Z===""?"":Z+`
 `)+" "+F.join(`,
  `)+" "+$[1]:$[0]+Z+" "+F.join(", ")+" "+$[1]}function S(F){return Array.isArray(F)}function v(F){return typeof F=="boolean"}function T(F){return F===null}function E(F){return F==null}function I(F){return typeof F=="number"}function g(F){return typeof F=="string"}function k(F){return typeof F=="symbol"}function j(F){return F===void 0}function x(F){return A(F)&&R(F)==="[object RegExp]"}function A(F){return typeof F=="object"&&F!==null}function w(F){return A(F)&&R(F)==="[object Date]"}function C(F){return A(F)&&(R(F)==="[object Error]"||F instanceof Error)}function O(F){return typeof F=="function"}function V(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||F===void 0}function R(F){return Object.prototype.toString.call(F)}function P(F){return F<10?"0"+F.toString(10):F.toString(10)}function B(){var F=new Date,Z=[P(F.getHours()),P(F.getMinutes()),P(F.getSeconds())].join(":");return[F.getDate(),U[F.getMonth()],Z].join(" ")}function z(F,Z){return Object.prototype.hasOwnProperty.call(F,Z)}var Q=/%[sdj%]/g;i.format=function(F){if(!g(F)){for(var Z=[],$=0;$<arguments.length;$++)Z.push(o(arguments[$]));return Z.join(" ")}for(var $=1,ne=arguments,H=ne.length,X=String(F).replace(Q,function(se){if(se==="%%")return"%";if($>=H)return se;switch(se){case"%s":return String(ne[$++]);case"%d":return Number(ne[$++]);case"%j":try{return JSON.stringify(ne[$++])}catch(ie){return"[Circular]"}default:return se}}),oe=ne[$];$<H;oe=ne[++$])T(oe)||!A(oe)?X+=" "+oe:X+=" "+o(oe);return X},i.deprecate=function(F,Z){function $(){if(!ne){if(a.throwDeprecation)throw new Error(Z);a.traceDeprecation?console.trace(Z):console.error(Z),ne=!0}return F.apply(this,arguments)}if(j(t.process))return function(){return i.deprecate(F,Z).apply(this,arguments)};if(a.noDeprecation===!0)return F;var ne=!1;return $};var N,K={};i.debuglog=function(F){if(j(N)&&(N=a.env.NODE_DEBUG||""),F=F.toUpperCase(),!K[F])if(new RegExp("\\b"+F+"\\b","i").test(N)){var Z=a.pid;K[F]=function(){var $=i.format.apply(i,arguments);console.error("%s %d: %s",F,Z,$)}}else K[F]=function(){};return K[F]},i.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=S,i.isBoolean=v,i.isNull=T,i.isNullOrUndefined=E,i.isNumber=I,i.isString=g,i.isSymbol=k,i.isUndefined=j,i.isRegExp=x,i.isObject=A,i.isDate=w,i.isError=C,i.isFunction=O,i.isPrimitive=V,i.isBuffer=e("./support/isBuffer");var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){console.log("%s - %s",B(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(F,Z){if(!Z||!A(Z))return F;for(var $=Object.keys(Z),ne=$.length;ne--;)F[$[ne]]=Z[$[ne]];return F}}).call(this)}).call(this,e("_process"),typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./support/isBuffer":87,_process:568,inherits:86}],89:[function(e,l,i){"use strict";function a(o){var u=new Array(2*o.length-1);u[0]=o[0];for(var n=0,s=arguments.length<=1?0:arguments.length-1;n<s;n++){var f=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];u[2*n+1]=f&&Object.prototype.hasOwnProperty.call(f,"__html")?f.__html:(0,t.default)(f),u[2*n+2]=o[n+1]}return u.join("")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var t=function(o){return o&&o.__esModule?o:{default:o}}(e("lodash/escape"));l.exports=i.default,l.exports.default=i.default},{"lodash/escape":482}],90:[function(e,l,i){(function(a){(function(){"use strict";var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];l.exports=function(){for(var o=[],u=0;u<t.length;u++)typeof a[t[u]]=="function"&&(o[o.length]=t[u]);return o}}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],91:[function(e,l,i){l.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":142}],92:[function(e,l,i){l.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":146}],93:[function(e,l,i){l.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":149}],94:[function(e,l,i){l.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":157}],95:[function(e,l,i){"use strict";i.__esModule=!0,i.default=function(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],96:[function(e,l,i){"use strict";i.__esModule=!0;var a=e("../core-js/object/define-property"),t=function(o){return o&&o.__esModule?o:{default:o}}(a);i.default=function(){function o(u,n){for(var s=0;s<n.length;s++){var f=n[s];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),(0,t.default)(u,f.key,f)}}return function(u,n,s){return n&&o(u.prototype,n),s&&o(u,s),u}}()},{"../core-js/object/define-property":93}],97:[function(e,l,i){"use strict";i.__esModule=!0;var a=e("../core-js/object/assign"),t=function(o){return o&&o.__esModule?o:{default:o}}(a);i.default=t.default||function(o){for(var u=1;u<arguments.length;u++){var n=arguments[u];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s])}return o}},{"../core-js/object/assign":92}],98:[function(e,l,i){"use strict";function a(v){var T=v.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=v.indexOf("=");return E===-1&&(E=T),[E,E===T?0:4-E%4]}function t(v){var T=a(v),E=T[0],I=T[1];return 3*(E+I)/4-I}function o(v,T,E){return 3*(T+E)/4-E}function u(v){var T,E,I=a(v),g=I[0],k=I[1],j=new h(o(v,g,k)),x=0,A=k>0?g-4:g;for(E=0;E<A;E+=4)T=m[v.charCodeAt(E)]<<18|m[v.charCodeAt(E+1)]<<12|m[v.charCodeAt(E+2)]<<6|m[v.charCodeAt(E+3)],j[x++]=T>>16&255,j[x++]=T>>8&255,j[x++]=255&T;return k===2&&(T=m[v.charCodeAt(E)]<<2|m[v.charCodeAt(E+1)]>>4,j[x++]=255&T),k===1&&(T=m[v.charCodeAt(E)]<<10|m[v.charCodeAt(E+1)]<<4|m[v.charCodeAt(E+2)]>>2,j[x++]=T>>8&255,j[x++]=255&T),j}function n(v){return d[v>>18&63]+d[v>>12&63]+d[v>>6&63]+d[63&v]}function s(v,T,E){for(var I,g=[],k=T;k<E;k+=3)I=(v[k]<<16&16711680)+(v[k+1]<<8&65280)+(255&v[k+2]),g.push(n(I));return g.join("")}function f(v){for(var T,E=v.length,I=E%3,g=[],k=0,j=E-I;k<j;k+=16383)g.push(s(v,k,k+16383>j?j:k+16383));return I===1?(T=v[E-1],g.push(d[T>>2]+d[T<<4&63]+"==")):I===2&&(T=(v[E-2]<<8)+v[E-1],g.push(d[T>>10]+d[T>>4&63]+d[T<<2&63]+"=")),g.join("")}i.byteLength=t,i.toByteArray=u,i.fromByteArray=f;for(var d=[],m=[],h=typeof Uint8Array!="undefined"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,S=_.length;y<S;++y)d[y]=_[y],m[_.charCodeAt(y)]=y;m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63},{}],99:[function(e,l,i){(function(a){"use strict";function t(A){function w(L,G){var le,pe,we,ye,W,te,ce,je,be=this;if(!(be instanceof w))return new w(L,G);if(G==null){if(L&&L._isBigNumber===!0)return be.s=L.s,void(!L.c||L.e>H?be.c=be.e=null:L.e<ne?be.c=[be.e=0]:(be.e=L.e,be.c=L.c.slice()));if((te=typeof L=="number")&&0*L==0){if(be.s=1/L<0?(L=-L,-1):1,L===~~L){for(ye=0,W=L;W>=10;W/=10,ye++);return void(ye>H?be.c=be.e=null:(be.e=ye,be.c=[L]))}je=String(L)}else{if(!_.test(je=String(L)))return Q(be,je,te);be.s=je.charCodeAt(0)==45?(je=je.slice(1),-1):1}(ye=je.indexOf("."))>-1&&(je=je.replace(".","")),(W=je.search(/e/i))>0?(ye<0&&(ye=W),ye+=+je.slice(W+1),je=je.substring(0,W)):ye<0&&(ye=je.length)}else{if(s(G,2,ie.length,"Base"),G==10)return be=new w(L),R(be,U+be.e+1,F);if(je=String(L),te=typeof L=="number"){if(0*L!=0)return Q(be,je,te,G);if(be.s=1/L<0?(je=je.slice(1),-1):1,w.DEBUG&&je.replace(/^0\.0*|\./,"").length>15)throw Error(T+L)}else be.s=je.charCodeAt(0)===45?(je=je.slice(1),-1):1;for(le=ie.slice(0,G),ye=W=0,ce=je.length;W<ce;W++)if(le.indexOf(pe=je.charAt(W))<0){if(pe=="."){if(W>ye){ye=ce;continue}}else if(!we&&(je==je.toUpperCase()&&(je=je.toLowerCase())||je==je.toLowerCase()&&(je=je.toUpperCase()))){we=!0,W=-1,ye=0;continue}return Q(be,String(L),te,G)}te=!1,je=z(je,G,10,be.s),(ye=je.indexOf("."))>-1?je=je.replace(".",""):ye=je.length}for(W=0;je.charCodeAt(W)===48;W++);for(ce=je.length;je.charCodeAt(--ce)===48;);if(je=je.slice(W,++ce)){if(ce-=W,te&&w.DEBUG&&ce>15&&(L>g||L!==S(L)))throw Error(T+be.s*L);if((ye=ye-W-1)>H)be.c=be.e=null;else if(ye<ne)be.c=[be.e=0];else{if(be.e=ye,be.c=[],W=(ye+1)%I,ye<0&&(W+=I),W<ce){for(W&&be.c.push(+je.slice(0,W)),ce-=I;W<ce;)be.c.push(+je.slice(W,W+=I));W=I-(je=je.slice(W)).length}else W-=ce;for(;W--;je+="0");be.c.push(+je)}}else be.c=[be.e=0]}function C(L,G,le,pe){var we,ye,W,te,ce;if(le==null?le=F:s(le,0,8),!L.c)return L.toString();if(we=L.c[0],W=L.e,G==null)ce=u(L.c),ce=pe==1||pe==2&&(W<=Z||W>=$)?d(ce,W):m(ce,W,"0");else if(L=R(new w(L),G,le),ye=L.e,ce=u(L.c),te=ce.length,pe==1||pe==2&&(G<=ye||ye<=Z)){for(;te<G;ce+="0",te++);ce=d(ce,ye)}else if(G-=W,ce=m(ce,ye,"0"),ye+1>te){if(--G>0)for(ce+=".";G--;ce+="0");}else if((G+=ye-te)>0)for(ye+1==te&&(ce+=".");G--;ce+="0");return L.s<0&&we?"-"+ce:ce}function O(L,G){for(var le,pe=1,we=new w(L[0]);pe<L.length;pe++){if(le=new w(L[pe]),!le.s){we=le;break}G.call(we,le)&&(we=le)}return we}function V(L,G,le){for(var pe=1,we=G.length;!G[--we];G.pop());for(we=G[0];we>=10;we/=10,pe++);return(le=pe+le*I-1)>H?L.c=L.e=null:le<ne?L.c=[L.e=0]:(L.e=le,L.c=G),L}function R(L,G,le,pe){var we,ye,W,te,ce,je,be,Ne=L.c,He=k;if(Ne){e:{for(we=1,te=Ne[0];te>=10;te/=10,we++);if((ye=G-we)<0)ye+=I,W=G,ce=Ne[je=0],be=ce/He[we-W-1]%10|0;else if((je=y((ye+1)/I))>=Ne.length){if(!pe)break e;for(;Ne.length<=je;Ne.push(0));ce=be=0,we=1,ye%=I,W=ye-I+1}else{for(ce=te=Ne[je],we=1;te>=10;te/=10,we++);ye%=I,W=ye-I+we,be=W<0?0:ce/He[we-W-1]%10|0}if(pe=pe||G<0||Ne[je+1]!=null||(W<0?ce:ce%He[we-W-1]),pe=le<4?(be||pe)&&(le==0||le==(L.s<0?3:2)):be>5||be==5&&(le==4||pe||le==6&&(ye>0?W>0?ce/He[we-W]:0:Ne[je-1])%10&1||le==(L.s<0?8:7)),G<1||!Ne[0])return Ne.length=0,pe?(G-=L.e+1,Ne[0]=He[(I-G%I)%I],L.e=-G||0):Ne[0]=L.e=0,L;if(ye==0?(Ne.length=je,te=1,je--):(Ne.length=je+1,te=He[I-ye],Ne[je]=W>0?S(ce/He[we-W]%He[W])*te:0),pe)for(;;){if(je==0){for(ye=1,W=Ne[0];W>=10;W/=10,ye++);for(W=Ne[0]+=te,te=1;W>=10;W/=10,te++);ye!=te&&(L.e++,Ne[0]==E&&(Ne[0]=1));break}if(Ne[je]+=te,Ne[je]!=E)break;Ne[je--]=0,te=1}for(ye=Ne.length;Ne[--ye]===0;Ne.pop());}L.e>H?L.c=L.e=null:L.e<ne&&(L.c=[L.e=0])}return L}function P(L){var G,le=L.e;return le===null?L.toString():(G=u(L.c),G=le<=Z||le>=$?d(G,le):m(G,le,"0"),L.s<0?"-"+G:G)}var B,z,Q,N=w.prototype={constructor:w,toString:null,valueOf:null},K=new w(1),U=20,F=4,Z=-7,$=21,ne=-1e7,H=1e7,X=!1,oe=1,Y=0,se={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},ie="0123456789abcdefghijklmnopqrstuvwxyz";return w.clone=t,w.ROUND_UP=0,w.ROUND_DOWN=1,w.ROUND_CEIL=2,w.ROUND_FLOOR=3,w.ROUND_HALF_UP=4,w.ROUND_HALF_DOWN=5,w.ROUND_HALF_EVEN=6,w.ROUND_HALF_CEIL=7,w.ROUND_HALF_FLOOR=8,w.EUCLID=9,w.config=w.set=function(L){var G,le;if(L!=null){if(typeof L!="object")throw Error(v+"Object expected: "+L);if(L.hasOwnProperty(G="DECIMAL_PLACES")&&(le=L[G],s(le,0,x,G),U=le),L.hasOwnProperty(G="ROUNDING_MODE")&&(le=L[G],s(le,0,8,G),F=le),L.hasOwnProperty(G="EXPONENTIAL_AT")&&(le=L[G],le&&le.pop?(s(le[0],-x,0,G),s(le[1],0,x,G),Z=le[0],$=le[1]):(s(le,-x,x,G),Z=-($=le<0?-le:le))),L.hasOwnProperty(G="RANGE"))if((le=L[G])&&le.pop)s(le[0],-x,-1,G),s(le[1],1,x,G),ne=le[0],H=le[1];else{if(s(le,-x,x,G),!le)throw Error(v+G+" cannot be zero: "+le);ne=-(H=le<0?-le:le)}if(L.hasOwnProperty(G="CRYPTO")){if((le=L[G])!==!!le)throw Error(v+G+" not true or false: "+le);if(le){if(typeof crypto=="undefined"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw X=!le,Error(v+"crypto unavailable");X=le}else X=le}if(L.hasOwnProperty(G="MODULO_MODE")&&(le=L[G],s(le,0,9,G),oe=le),L.hasOwnProperty(G="POW_PRECISION")&&(le=L[G],s(le,0,x,G),Y=le),L.hasOwnProperty(G="FORMAT")){if(typeof(le=L[G])!="object")throw Error(v+G+" not an object: "+le);se=le}if(L.hasOwnProperty(G="ALPHABET")){if(typeof(le=L[G])!="string"||/^.?$|[+\-.\s]|(.).*\1/.test(le))throw Error(v+G+" invalid: "+le);ie=le}}return{DECIMAL_PLACES:U,ROUNDING_MODE:F,EXPONENTIAL_AT:[Z,$],RANGE:[ne,H],CRYPTO:X,MODULO_MODE:oe,POW_PRECISION:Y,FORMAT:se,ALPHABET:ie}},w.isBigNumber=function(L){if(!L||L._isBigNumber!==!0)return!1;if(!w.DEBUG)return!0;var G,le,pe=L.c,we=L.e,ye=L.s;e:if({}.toString.call(pe)=="[object Array]"){if((ye===1||ye===-1)&&we>=-x&&we<=x&&we===S(we)){if(pe[0]===0){if(we===0&&pe.length===1)return!0;break e}if(G=(we+1)%I,G<1&&(G+=I),String(pe[0]).length==G){for(G=0;G<pe.length;G++)if((le=pe[G])<0||le>=E||le!==S(le))break e;if(le!==0)return!0}}}else if(pe===null&&we===null&&(ye===null||ye===1||ye===-1))return!0;throw Error(v+"Invalid BigNumber: "+L)},w.maximum=w.max=function(){return O(arguments,N.lt)},w.minimum=w.min=function(){return O(arguments,N.gt)},w.random=function(){var L=9007199254740992*Math.random()&2097151?function(){return S(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(G){var le,pe,we,ye,W,te=0,ce=[],je=new w(K);if(G==null?G=U:s(G,0,x),ye=y(G/I),X)if(crypto.getRandomValues){for(le=crypto.getRandomValues(new Uint32Array(ye*=2));te<ye;)W=131072*le[te]+(le[te+1]>>>11),W>=9e15?(pe=crypto.getRandomValues(new Uint32Array(2)),le[te]=pe[0],le[te+1]=pe[1]):(ce.push(W%1e14),te+=2);te=ye/2}else{if(!crypto.randomBytes)throw X=!1,Error(v+"crypto unavailable");for(le=crypto.randomBytes(ye*=7);te<ye;)W=281474976710656*(31&le[te])+1099511627776*le[te+1]+4294967296*le[te+2]+16777216*le[te+3]+(le[te+4]<<16)+(le[te+5]<<8)+le[te+6],W>=9e15?crypto.randomBytes(7).copy(le,te):(ce.push(W%1e14),te+=7);te=ye/7}if(!X)for(;te<ye;)(W=L())<9e15&&(ce[te++]=W%1e14);for(ye=ce[--te],G%=I,ye&&G&&(W=k[I-G],ce[te]=S(ye/W)*W);ce[te]===0;ce.pop(),te--);if(te<0)ce=[we=0];else{for(we=-1;ce[0]===0;ce.splice(0,1),we-=I);for(te=1,W=ce[0];W>=10;W/=10,te++);te<I&&(we-=I-te)}return je.e=we,je.c=ce,je}}(),w.sum=function(){for(var L=1,G=arguments,le=new w(G[0]);L<G.length;)le=le.plus(G[L++]);return le},z=function(){function L(G,le,pe,we){for(var ye,W,te=[0],ce=0,je=G.length;ce<je;){for(W=te.length;W--;te[W]*=le);for(te[0]+=we.indexOf(G.charAt(ce++)),ye=0;ye<te.length;ye++)te[ye]>pe-1&&(te[ye+1]==null&&(te[ye+1]=0),te[ye+1]+=te[ye]/pe|0,te[ye]%=pe)}return te.reverse()}return function(G,le,pe,we,ye){var W,te,ce,je,be,Ne,He,Qe,Be=G.indexOf("."),Je=U,_t=F;for(Be>=0&&(je=Y,Y=0,G=G.replace(".",""),Qe=new w(le),Ne=Qe.pow(G.length-Be),Y=je,Qe.c=L(m(u(Ne.c),Ne.e,"0"),10,pe,"0123456789"),Qe.e=Qe.c.length),He=L(G,le,pe,ye?(W=ie,"0123456789"):(W="0123456789",ie)),ce=je=He.length;He[--je]==0;He.pop());if(!He[0])return W.charAt(0);if(Be<0?--ce:(Ne.c=He,Ne.e=ce,Ne.s=we,Ne=B(Ne,Qe,Je,_t,pe),He=Ne.c,be=Ne.r,ce=Ne.e),te=ce+Je+1,Be=He[te],je=pe/2,be=be||te<0||He[te+1]!=null,be=_t<4?(Be!=null||be)&&(_t==0||_t==(Ne.s<0?3:2)):Be>je||Be==je&&(_t==4||be||_t==6&&1&He[te-1]||_t==(Ne.s<0?8:7)),te<1||!He[0])G=be?m(W.charAt(1),-Je,W.charAt(0)):W.charAt(0);else{if(He.length=te,be)for(--pe;++He[--te]>pe;)He[te]=0,te||(++ce,He=[1].concat(He));for(je=He.length;!He[--je];);for(Be=0,G="";Be<=je;G+=W.charAt(He[Be++]));G=m(G,ce,W.charAt(0))}return G}}(),B=function(){function L(pe,we,ye){var W,te,ce,je,be=0,Ne=pe.length,He=we%j,Qe=we/j|0;for(pe=pe.slice();Ne--;)ce=pe[Ne]%j,je=pe[Ne]/j|0,W=Qe*ce+je*He,te=He*ce+W%j*j+be,be=(te/ye|0)+(W/j|0)+Qe*je,pe[Ne]=te%ye;return be&&(pe=[be].concat(pe)),pe}function G(pe,we,ye,W){var te,ce;if(ye!=W)ce=ye>W?1:-1;else for(te=ce=0;te<ye;te++)if(pe[te]!=we[te]){ce=pe[te]>we[te]?1:-1;break}return ce}function le(pe,we,ye,W){for(var te=0;ye--;)pe[ye]-=te,te=pe[ye]<we[ye]?1:0,pe[ye]=te*W+pe[ye]-we[ye];for(;!pe[0]&&pe.length>1;pe.splice(0,1));}return function(pe,we,ye,W,te){var ce,je,be,Ne,He,Qe,Be,Je,_t,pt,Et,It,Qt,jt,Pt,At,Ce,Oe=pe.s==we.s?1:-1,at=pe.c,bt=we.c;if(!(at&&at[0]&&bt&&bt[0]))return new w(pe.s&&we.s&&(at?!bt||at[0]!=bt[0]:bt)?at&&at[0]==0||!bt?0*Oe:Oe/0:NaN);for(Je=new w(Oe),_t=Je.c=[],je=pe.e-we.e,Oe=ye+je+1,te||(te=E,je=o(pe.e/I)-o(we.e/I),Oe=Oe/I|0),be=0;bt[be]==(at[be]||0);be++);if(bt[be]>(at[be]||0)&&je--,Oe<0)_t.push(1),Ne=!0;else{for(jt=at.length,At=bt.length,be=0,Oe+=2,He=S(te/(bt[0]+1)),He>1&&(bt=L(bt,He,te),at=L(at,He,te),At=bt.length,jt=at.length),Qt=At,pt=at.slice(0,At),Et=pt.length;Et<At;pt[Et++]=0);Ce=bt.slice(),Ce=[0].concat(Ce),Pt=bt[0],bt[1]>=te/2&&Pt++;do{if(He=0,(ce=G(bt,pt,At,Et))<0){if(It=pt[0],At!=Et&&(It=It*te+(pt[1]||0)),(He=S(It/Pt))>1)for(He>=te&&(He=te-1),Qe=L(bt,He,te),Be=Qe.length,Et=pt.length;G(Qe,pt,Be,Et)==1;)He--,le(Qe,At<Be?Ce:bt,Be,te),Be=Qe.length,ce=1;else He==0&&(ce=He=1),Qe=bt.slice(),Be=Qe.length;if(Be<Et&&(Qe=[0].concat(Qe)),le(pt,Qe,Et,te),Et=pt.length,ce==-1)for(;G(bt,pt,At,Et)<1;)He++,le(pt,At<Et?Ce:bt,Et,te),Et=pt.length}else ce===0&&(He++,pt=[0]);_t[be++]=He,pt[0]?pt[Et++]=at[Qt]||0:(pt=[at[Qt]],Et=1)}while((Qt++<jt||pt[0]!=null)&&Oe--);Ne=pt[0]!=null,_t[0]||_t.splice(0,1)}if(te==E){for(be=1,Oe=_t[0];Oe>=10;Oe/=10,be++);R(Je,ye+(Je.e=be+je*I-1)+1,W,Ne)}else Je.e=je,Je.r=+Ne;return Je}}(),Q=function(){var L=/^(-?)0([xbo])(?=\w[\w.]*$)/i,G=/^([^.]+)\.$/,le=/^\.([^.]+)$/,pe=/^-?(Infinity|NaN)$/,we=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ye,W,te,ce){var je,be=te?W:W.replace(we,"");if(pe.test(be))ye.s=isNaN(be)?null:be<0?-1:1;else{if(!te&&(be=be.replace(L,function(Ne,He,Qe){return je=(Qe=Qe.toLowerCase())=="x"?16:Qe=="b"?2:8,ce&&ce!=je?Ne:He}),ce&&(je=ce,be=be.replace(G,"$1").replace(le,"0.$1")),W!=be))return new w(be,je);if(w.DEBUG)throw Error(v+"Not a"+(ce?" base "+ce:"")+" number: "+W);ye.s=null}ye.c=ye.e=null}}(),N.absoluteValue=N.abs=function(){var L=new w(this);return L.s<0&&(L.s=1),L},N.comparedTo=function(L,G){return n(this,new w(L,G))},N.decimalPlaces=N.dp=function(L,G){var le,pe,we,ye=this;if(L!=null)return s(L,0,x),G==null?G=F:s(G,0,8),R(new w(ye),L+ye.e+1,G);if(!(le=ye.c))return null;if(pe=((we=le.length-1)-o(this.e/I))*I,we=le[we])for(;we%10==0;we/=10,pe--);return pe<0&&(pe=0),pe},N.dividedBy=N.div=function(L,G){return B(this,new w(L,G),U,F)},N.dividedToIntegerBy=N.idiv=function(L,G){return B(this,new w(L,G),0,1)},N.exponentiatedBy=N.pow=function(L,G){var le,pe,we,ye,W,te,ce,je,be=this;if(L=new w(L),L.c&&!L.isInteger())throw Error(v+"Exponent not an integer: "+P(L));if(G!=null&&(G=new w(G)),W=L.e>14,!be.c||!be.c[0]||be.c[0]==1&&!be.e&&be.c.length==1||!L.c||!L.c[0])return je=new w(Math.pow(+P(be),W?2-f(L):+P(L))),G?je.mod(G):je;if(te=L.s<0,G){if(G.c?!G.c[0]:!G.s)return new w(NaN);pe=!te&&be.isInteger()&&G.isInteger(),pe&&(be=be.mod(G))}else{if(L.e>9&&(be.e>0||be.e<-1||(be.e==0?be.c[0]>1||W&&be.c[1]>=24e7:be.c[0]<8e13||W&&be.c[0]<=9999975e7)))return ye=be.s<0&&f(L)?-0:0,be.e>-1&&(ye=1/ye),new w(te?1/ye:ye);Y&&(ye=y(Y/I+2))}for(W?(le=new w(.5),te&&(L.s=1),ce=f(L)):(we=Math.abs(+P(L)),ce=we%2),je=new w(K);;){if(ce){if(je=je.times(be),!je.c)break;ye?je.c.length>ye&&(je.c.length=ye):pe&&(je=je.mod(G))}if(we){if((we=S(we/2))===0)break;ce=we%2}else if(L=L.times(le),R(L,L.e+1,1),L.e>14)ce=f(L);else{if((we=+P(L))==0)break;ce=we%2}be=be.times(be),ye?be.c&&be.c.length>ye&&(be.c.length=ye):pe&&(be=be.mod(G))}return pe?je:(te&&(je=K.div(je)),G?je.mod(G):ye?R(je,Y,F,void 0):je)},N.integerValue=function(L){var G=new w(this);return L==null?L=F:s(L,0,8),R(G,G.e+1,L)},N.isEqualTo=N.eq=function(L,G){return n(this,new w(L,G))===0},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(L,G){return n(this,new w(L,G))>0},N.isGreaterThanOrEqualTo=N.gte=function(L,G){return(G=n(this,new w(L,G)))===1||G===0},N.isInteger=function(){return!!this.c&&o(this.e/I)>this.c.length-2},N.isLessThan=N.lt=function(L,G){return n(this,new w(L,G))<0},N.isLessThanOrEqualTo=N.lte=function(L,G){return(G=n(this,new w(L,G)))===-1||G===0},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return this.s>0},N.isZero=function(){return!!this.c&&this.c[0]==0},N.minus=function(L,G){var le,pe,we,ye,W=this,te=W.s;if(L=new w(L,G),G=L.s,!te||!G)return new w(NaN);if(te!=G)return L.s=-G,W.plus(L);var ce=W.e/I,je=L.e/I,be=W.c,Ne=L.c;if(!ce||!je){if(!be||!Ne)return be?(L.s=-G,L):new w(Ne?W:NaN);if(!be[0]||!Ne[0])return Ne[0]?(L.s=-G,L):new w(be[0]?W:F==3?-0:0)}if(ce=o(ce),je=o(je),be=be.slice(),te=ce-je){for((ye=te<0)?(te=-te,we=be):(je=ce,we=Ne),we.reverse(),G=te;G--;we.push(0));we.reverse()}else for(pe=(ye=(te=be.length)<(G=Ne.length))?te:G,te=G=0;G<pe;G++)if(be[G]!=Ne[G]){ye=be[G]<Ne[G];break}if(ye&&(we=be,be=Ne,Ne=we,L.s=-L.s),(G=(pe=Ne.length)-(le=be.length))>0)for(;G--;be[le++]=0);for(G=E-1;pe>te;){if(be[--pe]<Ne[pe]){for(le=pe;le&&!be[--le];be[le]=G);--be[le],be[pe]+=E}be[pe]-=Ne[pe]}for(;be[0]==0;be.splice(0,1),--je);return be[0]?V(L,be,je):(L.s=F==3?-1:1,L.c=[L.e=0],L)},N.modulo=N.mod=function(L,G){var le,pe,we=this;return L=new w(L,G),!we.c||!L.s||L.c&&!L.c[0]?new w(NaN):!L.c||we.c&&!we.c[0]?new w(we):(oe==9?(pe=L.s,L.s=1,le=B(we,L,0,3),L.s=pe,le.s*=pe):le=B(we,L,0,oe),L=we.minus(le.times(L)),L.c[0]||oe!=1||(L.s=we.s),L)},N.multipliedBy=N.times=function(L,G){var le,pe,we,ye,W,te,ce,je,be,Ne,He,Qe,Be,Je,_t,pt=this,Et=pt.c,It=(L=new w(L,G)).c;if(!(Et&&It&&Et[0]&&It[0]))return!pt.s||!L.s||Et&&!Et[0]&&!It||It&&!It[0]&&!Et?L.c=L.e=L.s=null:(L.s*=pt.s,Et&&It?(L.c=[0],L.e=0):L.c=L.e=null),L;for(pe=o(pt.e/I)+o(L.e/I),L.s*=pt.s,ce=Et.length,Ne=It.length,ce<Ne&&(Be=Et,Et=It,It=Be,we=ce,ce=Ne,Ne=we),we=ce+Ne,Be=[];we--;Be.push(0));for(Je=E,_t=j,we=Ne;--we>=0;){for(le=0,He=It[we]%_t,Qe=It[we]/_t|0,W=ce,ye=we+W;ye>we;)je=Et[--W]%_t,be=Et[W]/_t|0,te=Qe*je+be*He,je=He*je+te%_t*_t+Be[ye]+le,le=(je/Je|0)+(te/_t|0)+Qe*be,Be[ye--]=je%Je;Be[ye]=le}return le?++pe:Be.splice(0,1),V(L,Be,pe)},N.negated=function(){var L=new w(this);return L.s=-L.s||null,L},N.plus=function(L,G){var le,pe=this,we=pe.s;if(L=new w(L,G),G=L.s,!we||!G)return new w(NaN);if(we!=G)return L.s=-G,pe.minus(L);var ye=pe.e/I,W=L.e/I,te=pe.c,ce=L.c;if(!ye||!W){if(!te||!ce)return new w(we/0);if(!te[0]||!ce[0])return ce[0]?L:new w(te[0]?pe:0*we)}if(ye=o(ye),W=o(W),te=te.slice(),we=ye-W){for(we>0?(W=ye,le=ce):(we=-we,le=te),le.reverse();we--;le.push(0));le.reverse()}for(we=te.length,G=ce.length,we-G<0&&(le=ce,ce=te,te=le,G=we),we=0;G;)we=(te[--G]=te[G]+ce[G]+we)/E|0,te[G]=E===te[G]?0:te[G]%E;return we&&(te=[we].concat(te),++W),V(L,te,W)},N.precision=N.sd=function(L,G){var le,pe,we,ye=this;if(L!=null&&L!==!!L)return s(L,1,x),G==null?G=F:s(G,0,8),R(new w(ye),L,G);if(!(le=ye.c))return null;if(we=le.length-1,pe=we*I+1,we=le[we]){for(;we%10==0;we/=10,pe--);for(we=le[0];we>=10;we/=10,pe++);}return L&&ye.e+1>pe&&(pe=ye.e+1),pe},N.shiftedBy=function(L){return s(L,-g,g),this.times("1e"+L)},N.squareRoot=N.sqrt=function(){var L,G,le,pe,we,ye=this,W=ye.c,te=ye.s,ce=ye.e,je=U+4,be=new w("0.5");if(te!==1||!W||!W[0])return new w(!te||te<0&&(!W||W[0])?NaN:W?ye:1/0);if(te=Math.sqrt(+P(ye)),te==0||te==1/0?(G=u(W),(G.length+ce)%2==0&&(G+="0"),te=Math.sqrt(+G),ce=o((ce+1)/2)-(ce<0||ce%2),te==1/0?G="5e"+ce:(G=te.toExponential(),G=G.slice(0,G.indexOf("e")+1)+ce),le=new w(G)):le=new w(te+""),le.c[0]){for(ce=le.e,te=ce+je,te<3&&(te=0);;)if(we=le,le=be.times(we.plus(B(ye,we,je,1))),u(we.c).slice(0,te)===(G=u(le.c)).slice(0,te)){if(le.e<ce&&--te,(G=G.slice(te-3,te+1))!="9999"&&(pe||G!="4999")){+G&&(+G.slice(1)||G.charAt(0)!="5")||(R(le,le.e+U+2,1),L=!le.times(le).eq(ye));break}if(!pe&&(R(we,we.e+U+2,0),we.times(we).eq(ye))){le=we;break}je+=4,te+=4,pe=1}}return R(le,le.e+U+1,F,L)},N.toExponential=function(L,G){return L!=null&&(s(L,0,x),L++),C(this,L,G,1)},N.toFixed=function(L,G){return L!=null&&(s(L,0,x),L=L+this.e+1),C(this,L,G)},N.toFormat=function(L,G,le){var pe,we=this;if(le==null)L!=null&&G&&typeof G=="object"?(le=G,G=null):L&&typeof L=="object"?(le=L,L=G=null):le=se;else if(typeof le!="object")throw Error(v+"Argument not an object: "+le);if(pe=we.toFixed(L,G),we.c){var ye,W=pe.split("."),te=+le.groupSize,ce=+le.secondaryGroupSize,je=le.groupSeparator||"",be=W[0],Ne=W[1],He=we.s<0,Qe=He?be.slice(1):be,Be=Qe.length;if(ce&&(ye=te,te=ce,ce=ye,Be-=ye),te>0&&Be>0){for(ye=Be%te||te,be=Qe.substr(0,ye);ye<Be;ye+=te)be+=je+Qe.substr(ye,te);ce>0&&(be+=je+Qe.slice(ye)),He&&(be="-"+be)}pe=Ne?be+(le.decimalSeparator||"")+((ce=+le.fractionGroupSize)?Ne.replace(new RegExp("\\d{"+ce+"}\\B","g"),"$&"+(le.fractionGroupSeparator||"")):Ne):be}return(le.prefix||"")+pe+(le.suffix||"")},N.toFraction=function(L){var G,le,pe,we,ye,W,te,ce,je,be,Ne,He,Qe=this,Be=Qe.c;if(L!=null&&(te=new w(L),!te.isInteger()&&(te.c||te.s!==1)||te.lt(K)))throw Error(v+"Argument "+(te.isInteger()?"out of range: ":"not an integer: ")+P(te));if(!Be)return new w(Qe);for(G=new w(K),je=le=new w(K),pe=ce=new w(K),He=u(Be),ye=G.e=He.length-Qe.e-1,G.c[0]=k[(W=ye%I)<0?I+W:W],L=!L||te.comparedTo(G)>0?ye>0?G:je:te,W=H,H=1/0,te=new w(He),ce.c[0]=0;be=B(te,G,0,1),we=le.plus(be.times(pe)),we.comparedTo(L)!=1;)le=pe,pe=we,je=ce.plus(be.times(we=je)),ce=we,G=te.minus(be.times(we=G)),te=we;return we=B(L.minus(le),pe,0,1),ce=ce.plus(we.times(je)),le=le.plus(we.times(pe)),ce.s=je.s=Qe.s,ye*=2,Ne=B(je,pe,ye,F).minus(Qe).abs().comparedTo(B(ce,le,ye,F).minus(Qe).abs())<1?[je,pe]:[ce,le],H=W,Ne},N.toNumber=function(){return+P(this)},N.toPrecision=function(L,G){return L!=null&&s(L,1,x),C(this,L,G,2)},N.toString=function(L){var G,le=this,pe=le.s,we=le.e;return we===null?pe?(G="Infinity",pe<0&&(G="-"+G)):G="NaN":(L==null?G=we<=Z||we>=$?d(u(le.c),we):m(u(le.c),we,"0"):L===10?(le=R(new w(le),U+we+1,F),G=m(u(le.c),le.e,"0")):(s(L,2,ie.length,"Base"),G=z(m(u(le.c),we,"0"),10,L,pe,!0)),pe<0&&le.c[0]&&(G="-"+G)),G},N.valueOf=N.toJSON=function(){return P(this)},N._isBigNumber=!0,A!=null&&w.set(A),w}function o(A){var w=0|A;return A>0||A===w?w:w-1}function u(A){for(var w,C,O=1,V=A.length,R=A[0]+"";O<V;){for(w=A[O++]+"",C=I-w.length;C--;w="0"+w);R+=w}for(V=R.length;R.charCodeAt(--V)===48;);return R.slice(0,V+1||1)}function n(A,w){var C,O,V=A.c,R=w.c,P=A.s,B=w.s,z=A.e,Q=w.e;if(!P||!B)return null;if(C=V&&!V[0],O=R&&!R[0],C||O)return C?O?0:-B:P;if(P!=B)return P;if(C=P<0,O=z==Q,!V||!R)return O?0:!V^C?1:-1;if(!O)return z>Q^C?1:-1;for(B=(z=V.length)<(Q=R.length)?z:Q,P=0;P<B;P++)if(V[P]!=R[P])return V[P]>R[P]^C?1:-1;return z==Q?0:z>Q^C?1:-1}function s(A,w,C,O){if(A<w||A>C||A!==S(A))throw Error(v+(O||"Argument")+(typeof A=="number"?A<w||A>C?" out of range: ":" not an integer: ":" not a primitive number: ")+String(A))}function f(A){var w=A.c.length-1;return o(A.e/I)==w&&A.c[w]%2!=0}function d(A,w){return(A.length>1?A.charAt(0)+"."+A.slice(1):A)+(w<0?"e":"e+")+w}function m(A,w,C){var O,V;if(w<0){for(V=C+".";++w;V+=C);A=V+A}else if(O=A.length,++w>O){for(V=C,w-=O;--w;V+=C);A+=V}else w<O&&(A=A.slice(0,w)+"."+A.slice(w));return A}var h,_=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,y=Math.ceil,S=Math.floor,v="[BigNumber Error] ",T=v+"Number primitive has more than 15 significant digits: ",E=1e14,I=14,g=9007199254740991,k=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],j=1e7,x=1e9;h=t(),h.default=h.BigNumber=h,typeof zt=="function"&&zt.amd?zt(function(){return h}):l!==void 0&&l.exports?l.exports=h:(a||(a=typeof self!="undefined"&&self?self:window),a.BigNumber=h)})(this)},{}],100:[function(e,l,i){(function(a){(function(){"use strict";var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime/helpers/slicedToArray")),u=t(e("@babel/runtime/helpers/classCallCheck")),n=t(e("@babel/runtime/helpers/createClass")),s=t(e("@babel/runtime/helpers/defineProperty")),f=t(e("lodash/throttle")),d=t(e("lodash/sortBy")),m=function(){function h(_){var y=this,S=_.key,v=_.getAfromB,T=_.getBfromA,E=_.storage,I=_.saveThrottle,g=_.maxLimit,k=_.maxAge;(0,u.default)(this,h),(0,s.default)(this,"_key",void 0),(0,s.default)(this,"_getAfromB",void 0),(0,s.default)(this,"_getBfromA",void 0),(0,s.default)(this,"_storage",void 0),(0,s.default)(this,"_aToTimestamp",new Map),(0,s.default)(this,"_aToB",new Map),(0,s.default)(this,"_bToA",new Map),(0,s.default)(this,"_aToBpromise",new Map),(0,s.default)(this,"_bToApromise",new Map),(0,s.default)(this,"_saveCache",void 0),this._key=S,this._getBfromA=T,this._getAfromB=v,this._storage=E||(a.localStorage?a.localStorage:null),I==null&&(I=3e3),g==null&&(g=1e3),k==null&&(k=31536e6);var j=g,x=k;this._saveCache=(0,f.default)(function(){var A=y._storage;if(A){y._loadCache();var w=Date.now()-x,C={version:2,ids:[]};y._aToB.forEach(function(O,V){var R=y._aToTimestamp.get(V);R!=null&&R>w&&C.ids.push([V,O,R])}),C.ids.length>j&&(C.ids=(0,d.default)(C.ids,function(O){return(0,o.default)(O,3)[2]}).slice(-j)),A.setItem(y._key,JSON.stringify(C))}},I,{leading:!1}),this._loadCache()}return(0,n.default)(h,[{key:"_loadCache",value:function(){var _=this._storage;if(_)try{var y=JSON.parse(_.getItem(this._key)||"null");if(!y||y.version!==2)return;var S=!0,v=!1,T=void 0;try{for(var E,I=y.ids[Symbol.iterator]();!(S=(E=I.next()).done);S=!0){var g=E.value,k=(0,o.default)(g,3),j=k[0],x=k[1],A=k[2];this._aToTimestamp.set(j,A),this._aToB.set(j,x),this._bToA.set(x,j)}}catch(w){v=!0,T=w}finally{try{S||I.return==null||I.return()}finally{if(v)throw T}}}catch(w){console.error("failed to load BiMapCache from storage",w)}}},{key:"_rememberPair",value:function(_,y){this._aToTimestamp.set(_,Date.now()),this._aToB.set(_,y),this._bToA.set(y,_),this._saveCache()}},{key:"_update",value:function(_){this._aToTimestamp.set(_,Date.now()),this._saveCache()}},{key:"getBfromA",value:function(_){var y=this,S=this._aToB.get(_);if(S)return this._update(_),Promise.resolve(S);var v=this._aToBpromise.get(_);if(v)return v;var T=this._getBfromA(_);return this._aToBpromise.set(_,T),T.then(function(E){T===y._aToBpromise.get(_)&&(y._aToBpromise.delete(_),y._rememberPair(_,E))},function(){T===y._aToBpromise.get(_)&&y._aToBpromise.delete(_)}),T}},{key:"getAfromB",value:function(_){var y=this,S=this._bToA.get(_);if(S)return this._update(S),Promise.resolve(S);var v=this._bToApromise.get(_);if(v)return v;var T=this._getAfromB(_);return this._bToApromise.set(_,T),T.then(function(E){T===y._bToApromise.get(_)&&(y._bToApromise.delete(_),y._rememberPair(E,_))},function(){T===y._bToApromise.get(_)&&y._bToApromise.delete(_)}),T}},{key:"removeAfromCache",value:function(_){if(this._aToBpromise.delete(_),this._aToB.has(_)){var y=this._aToB.get(_);this._aToB.delete(_),this._bToA.delete(y),this._saveCache()}}},{key:"removeBfromCache",value:function(_){if(this._bToApromise.delete(_),this._bToA.has(_)){var y=this._bToA.get(_);this._aToB.delete(y),this._bToA.delete(_),this._saveCache()}}}]),h}();i.default=m,l.exports=i.default,l.exports.default=i.default}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/slicedToArray":78,"lodash/sortBy":519,"lodash/throttle":523}],101:[function(e,l,i){(function(a){(function(){"use strict";function t(W){if(W>pe)throw new RangeError('The value "'+W+'" is invalid for option "size"');var te=new Uint8Array(W);return te.__proto__=o.prototype,te}function o(W,te,ce){if(typeof W=="number"){if(typeof te=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return u(W,te,ce)}function u(W,te,ce){if(typeof W=="string")return d(W,te);if(ArrayBuffer.isView(W))return m(W);if(W==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(ie(W,ArrayBuffer)||W&&ie(W.buffer,ArrayBuffer))return h(W,te,ce);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var je=W.valueOf&&W.valueOf();if(je!=null&&je!==W)return o.from(je,te,ce);var be=_(W);if(be)return be;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return o.from(W[Symbol.toPrimitive]("string"),te,ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}function n(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function s(W,te,ce){return n(W),W<=0?t(W):te!==void 0?typeof ce=="string"?t(W).fill(te,ce):t(W).fill(te):t(W)}function f(W){return n(W),t(W<0?0:0|y(W))}function d(W,te){if(typeof te=="string"&&te!==""||(te="utf8"),!o.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var ce=0|v(W,te),je=t(ce),be=je.write(W,te);return be!==ce&&(je=je.slice(0,be)),je}function m(W){for(var te=W.length<0?0:0|y(W.length),ce=t(te),je=0;je<te;je+=1)ce[je]=255&W[je];return ce}function h(W,te,ce){if(te<0||W.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<te+(ce||0))throw new RangeError('"length" is outside of buffer bounds');var je;return je=te===void 0&&ce===void 0?new Uint8Array(W):ce===void 0?new Uint8Array(W,te):new Uint8Array(W,te,ce),je.__proto__=o.prototype,je}function _(W){if(o.isBuffer(W)){var te=0|y(W.length),ce=t(te);return ce.length===0||W.copy(ce,0,0,te),ce}return W.length!==void 0?typeof W.length!="number"||L(W.length)?t(0):m(W):W.type==="Buffer"&&Array.isArray(W.data)?m(W.data):void 0}function y(W){if(W>=pe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+pe.toString(16)+" bytes");return 0|W}function S(W){return+W!=W&&(W=0),o.alloc(+W)}function v(W,te){if(o.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||ie(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);var ce=W.length,je=arguments.length>2&&arguments[2]===!0;if(!je&&ce===0)return 0;for(var be=!1;;)switch(te){case"ascii":case"latin1":case"binary":return ce;case"utf8":case"utf-8":return H(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ce;case"hex":return ce>>>1;case"base64":return Y(W).length;default:if(be)return je?-1:H(W).length;te=(""+te).toLowerCase(),be=!0}}function T(W,te,ce){var je=!1;if((te===void 0||te<0)&&(te=0),te>this.length||((ce===void 0||ce>this.length)&&(ce=this.length),ce<=0)||(ce>>>=0,te>>>=0,ce<=te))return"";for(W||(W="utf8");;)switch(W){case"hex":return z(this,te,ce);case"utf8":case"utf-8":return V(this,te,ce);case"ascii":return P(this,te,ce);case"latin1":case"binary":return B(this,te,ce);case"base64":return O(this,te,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,te,ce);default:if(je)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),je=!0}}function E(W,te,ce){var je=W[te];W[te]=W[ce],W[ce]=je}function I(W,te,ce,je,be){if(W.length===0)return-1;if(typeof ce=="string"?(je=ce,ce=0):ce>2147483647?ce=2147483647:ce<-2147483648&&(ce=-2147483648),ce=+ce,L(ce)&&(ce=be?0:W.length-1),ce<0&&(ce=W.length+ce),ce>=W.length){if(be)return-1;ce=W.length-1}else if(ce<0){if(!be)return-1;ce=0}if(typeof te=="string"&&(te=o.from(te,je)),o.isBuffer(te))return te.length===0?-1:g(W,te,ce,je,be);if(typeof te=="number")return te&=255,typeof Uint8Array.prototype.indexOf=="function"?be?Uint8Array.prototype.indexOf.call(W,te,ce):Uint8Array.prototype.lastIndexOf.call(W,te,ce):g(W,[te],ce,je,be);throw new TypeError("val must be string, number or Buffer")}function g(W,te,ce,je,be){function Ne(It,Qt){return He===1?It[Qt]:It.readUInt16BE(Qt*He)}var He=1,Qe=W.length,Be=te.length;if(je!==void 0&&((je=String(je).toLowerCase())==="ucs2"||je==="ucs-2"||je==="utf16le"||je==="utf-16le")){if(W.length<2||te.length<2)return-1;He=2,Qe/=2,Be/=2,ce/=2}var Je;if(be){var _t=-1;for(Je=ce;Je<Qe;Je++)if(Ne(W,Je)===Ne(te,_t===-1?0:Je-_t)){if(_t===-1&&(_t=Je),Je-_t+1===Be)return _t*He}else _t!==-1&&(Je-=Je-_t),_t=-1}else for(ce+Be>Qe&&(ce=Qe-Be),Je=ce;Je>=0;Je--){for(var pt=!0,Et=0;Et<Be;Et++)if(Ne(W,Je+Et)!==Ne(te,Et)){pt=!1;break}if(pt)return Je}return-1}function k(W,te,ce,je){ce=Number(ce)||0;var be=W.length-ce;je?(je=Number(je))>be&&(je=be):je=be;var Ne=te.length;je>Ne/2&&(je=Ne/2);for(var He=0;He<je;++He){var Qe=parseInt(te.substr(2*He,2),16);if(L(Qe))return He;W[ce+He]=Qe}return He}function j(W,te,ce,je){return se(H(te,W.length-ce),W,ce,je)}function x(W,te,ce,je){return se(X(te),W,ce,je)}function A(W,te,ce,je){return x(W,te,ce,je)}function w(W,te,ce,je){return se(Y(te),W,ce,je)}function C(W,te,ce,je){return se(oe(te,W.length-ce),W,ce,je)}function O(W,te,ce){return te===0&&ce===W.length?G.fromByteArray(W):G.fromByteArray(W.slice(te,ce))}function V(W,te,ce){ce=Math.min(W.length,ce);for(var je=[],be=te;be<ce;){var Ne=W[be],He=null,Qe=Ne>239?4:Ne>223?3:Ne>191?2:1;if(be+Qe<=ce){var Be,Je,_t,pt;switch(Qe){case 1:Ne<128&&(He=Ne);break;case 2:Be=W[be+1],(192&Be)==128&&(pt=(31&Ne)<<6|63&Be)>127&&(He=pt);break;case 3:Be=W[be+1],Je=W[be+2],(192&Be)==128&&(192&Je)==128&&(pt=(15&Ne)<<12|(63&Be)<<6|63&Je)>2047&&(pt<55296||pt>57343)&&(He=pt);break;case 4:Be=W[be+1],Je=W[be+2],_t=W[be+3],(192&Be)==128&&(192&Je)==128&&(192&_t)==128&&(pt=(15&Ne)<<18|(63&Be)<<12|(63&Je)<<6|63&_t)>65535&&pt<1114112&&(He=pt)}}He===null?(He=65533,Qe=1):He>65535&&(He-=65536,je.push(He>>>10&1023|55296),He=56320|1023&He),je.push(He),be+=Qe}return R(je)}function R(W){var te=W.length;if(te<=we)return String.fromCharCode.apply(String,W);for(var ce="",je=0;je<te;)ce+=String.fromCharCode.apply(String,W.slice(je,je+=we));return ce}function P(W,te,ce){var je="";ce=Math.min(W.length,ce);for(var be=te;be<ce;++be)je+=String.fromCharCode(127&W[be]);return je}function B(W,te,ce){var je="";ce=Math.min(W.length,ce);for(var be=te;be<ce;++be)je+=String.fromCharCode(W[be]);return je}function z(W,te,ce){var je=W.length;(!te||te<0)&&(te=0),(!ce||ce<0||ce>je)&&(ce=je);for(var be="",Ne=te;Ne<ce;++Ne)be+=ne(W[Ne]);return be}function Q(W,te,ce){for(var je=W.slice(te,ce),be="",Ne=0;Ne<je.length;Ne+=2)be+=String.fromCharCode(je[Ne]+256*je[Ne+1]);return be}function N(W,te,ce){if(W%1!=0||W<0)throw new RangeError("offset is not uint");if(W+te>ce)throw new RangeError("Trying to access beyond buffer length")}function K(W,te,ce,je,be,Ne){if(!o.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>be||te<Ne)throw new RangeError('"value" argument is out of bounds');if(ce+je>W.length)throw new RangeError("Index out of range")}function U(W,te,ce,je,be,Ne){if(ce+je>W.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("Index out of range")}function F(W,te,ce,je,be){return te=+te,ce>>>=0,be||U(W,te,ce,4,34028234663852886e22,-34028234663852886e22),le.write(W,te,ce,je,23,4),ce+4}function Z(W,te,ce,je,be){return te=+te,ce>>>=0,be||U(W,te,ce,8,17976931348623157e292,-17976931348623157e292),le.write(W,te,ce,je,52,8),ce+8}function $(W){if(W=W.split("=")[0],W=W.trim().replace(ye,""),W.length<2)return"";for(;W.length%4!=0;)W+="=";return W}function ne(W){return W<16?"0"+W.toString(16):W.toString(16)}function H(W,te){te=te||1/0;for(var ce,je=W.length,be=null,Ne=[],He=0;He<je;++He){if((ce=W.charCodeAt(He))>55295&&ce<57344){if(!be){if(ce>56319){(te-=3)>-1&&Ne.push(239,191,189);continue}if(He+1===je){(te-=3)>-1&&Ne.push(239,191,189);continue}be=ce;continue}if(ce<56320){(te-=3)>-1&&Ne.push(239,191,189),be=ce;continue}ce=65536+(be-55296<<10|ce-56320)}else be&&(te-=3)>-1&&Ne.push(239,191,189);if(be=null,ce<128){if((te-=1)<0)break;Ne.push(ce)}else if(ce<2048){if((te-=2)<0)break;Ne.push(ce>>6|192,63&ce|128)}else if(ce<65536){if((te-=3)<0)break;Ne.push(ce>>12|224,ce>>6&63|128,63&ce|128)}else{if(!(ce<1114112))throw new Error("Invalid code point");if((te-=4)<0)break;Ne.push(ce>>18|240,ce>>12&63|128,ce>>6&63|128,63&ce|128)}}return Ne}function X(W){for(var te=[],ce=0;ce<W.length;++ce)te.push(255&W.charCodeAt(ce));return te}function oe(W,te){for(var ce,je,be,Ne=[],He=0;He<W.length&&!((te-=2)<0);++He)ce=W.charCodeAt(He),je=ce>>8,be=ce%256,Ne.push(be),Ne.push(je);return Ne}function Y(W){return G.toByteArray($(W))}function se(W,te,ce,je){for(var be=0;be<je&&!(be+ce>=te.length||be>=W.length);++be)te[be+ce]=W[be];return be}function ie(W,te){return W instanceof te||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===te.name}function L(W){return W!==W}var G=e("base64-js"),le=e("ieee754");i.Buffer=o,i.SlowBuffer=S,i.INSPECT_MAX_BYTES=50;var pe=2147483647;i.kMaxLength=pe,o.TYPED_ARRAY_SUPPORT=function(){try{var W=new Uint8Array(1);return W.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},W.foo()===42}catch(te){return!1}}(),o.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol!="undefined"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(W,te,ce){return u(W,te,ce)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(W,te,ce){return s(W,te,ce)},o.allocUnsafe=function(W){return f(W)},o.allocUnsafeSlow=function(W){return f(W)},o.isBuffer=function(W){return W!=null&&W._isBuffer===!0&&W!==o.prototype},o.compare=function(W,te){if(ie(W,Uint8Array)&&(W=o.from(W,W.offset,W.byteLength)),ie(te,Uint8Array)&&(te=o.from(te,te.offset,te.byteLength)),!o.isBuffer(W)||!o.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===te)return 0;for(var ce=W.length,je=te.length,be=0,Ne=Math.min(ce,je);be<Ne;++be)if(W[be]!==te[be]){ce=W[be],je=te[be];break}return ce<je?-1:je<ce?1:0},o.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(W,te){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(W.length===0)return o.alloc(0);var ce;if(te===void 0)for(te=0,ce=0;ce<W.length;++ce)te+=W[ce].length;var je=o.allocUnsafe(te),be=0;for(ce=0;ce<W.length;++ce){var Ne=W[ce];if(ie(Ne,Uint8Array)&&(Ne=o.from(Ne)),!o.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(je,be),be+=Ne.length}return je},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<W;te+=2)E(this,te,te+1);return this},o.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<W;te+=4)E(this,te,te+3),E(this,te+1,te+2);return this},o.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<W;te+=8)E(this,te,te+7),E(this,te+1,te+6),E(this,te+2,te+5),E(this,te+3,te+4);return this},o.prototype.toString=function(){var W=this.length;return W===0?"":arguments.length===0?V(this,0,W):T.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(W){if(!o.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||o.compare(this,W)===0},o.prototype.inspect=function(){var W="",te=i.INSPECT_MAX_BYTES;return W=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(W+=" ... "),"<Buffer "+W+">"},o.prototype.compare=function(W,te,ce,je,be){if(ie(W,Uint8Array)&&(W=o.from(W,W.offset,W.byteLength)),!o.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(te===void 0&&(te=0),ce===void 0&&(ce=W?W.length:0),je===void 0&&(je=0),be===void 0&&(be=this.length),te<0||ce>W.length||je<0||be>this.length)throw new RangeError("out of range index");if(je>=be&&te>=ce)return 0;if(je>=be)return-1;if(te>=ce)return 1;if(te>>>=0,ce>>>=0,je>>>=0,be>>>=0,this===W)return 0;for(var Ne=be-je,He=ce-te,Qe=Math.min(Ne,He),Be=this.slice(je,be),Je=W.slice(te,ce),_t=0;_t<Qe;++_t)if(Be[_t]!==Je[_t]){Ne=Be[_t],He=Je[_t];break}return Ne<He?-1:He<Ne?1:0},o.prototype.includes=function(W,te,ce){return this.indexOf(W,te,ce)!==-1},o.prototype.indexOf=function(W,te,ce){return I(this,W,te,ce,!0)},o.prototype.lastIndexOf=function(W,te,ce){return I(this,W,te,ce,!1)},o.prototype.write=function(W,te,ce,je){if(te===void 0)je="utf8",ce=this.length,te=0;else if(ce===void 0&&typeof te=="string")je=te,ce=this.length,te=0;else{if(!isFinite(te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");te>>>=0,isFinite(ce)?(ce>>>=0,je===void 0&&(je="utf8")):(je=ce,ce=void 0)}var be=this.length-te;if((ce===void 0||ce>be)&&(ce=be),W.length>0&&(ce<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");for(var Ne=!1;;)switch(je){case"hex":return k(this,W,te,ce);case"utf8":case"utf-8":return j(this,W,te,ce);case"ascii":return x(this,W,te,ce);case"latin1":case"binary":return A(this,W,te,ce);case"base64":return w(this,W,te,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,W,te,ce);default:if(Ne)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),Ne=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var we=4096;o.prototype.slice=function(W,te){var ce=this.length;W=~~W,te=te===void 0?ce:~~te,W<0?(W+=ce)<0&&(W=0):W>ce&&(W=ce),te<0?(te+=ce)<0&&(te=0):te>ce&&(te=ce),te<W&&(te=W);var je=this.subarray(W,te);return je.__proto__=o.prototype,je},o.prototype.readUIntLE=function(W,te,ce){W>>>=0,te>>>=0,ce||N(W,te,this.length);for(var je=this[W],be=1,Ne=0;++Ne<te&&(be*=256);)je+=this[W+Ne]*be;return je},o.prototype.readUIntBE=function(W,te,ce){W>>>=0,te>>>=0,ce||N(W,te,this.length);for(var je=this[W+--te],be=1;te>0&&(be*=256);)je+=this[W+--te]*be;return je},o.prototype.readUInt8=function(W,te){return W>>>=0,te||N(W,1,this.length),this[W]},o.prototype.readUInt16LE=function(W,te){return W>>>=0,te||N(W,2,this.length),this[W]|this[W+1]<<8},o.prototype.readUInt16BE=function(W,te){return W>>>=0,te||N(W,2,this.length),this[W]<<8|this[W+1]},o.prototype.readUInt32LE=function(W,te){return W>>>=0,te||N(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},o.prototype.readUInt32BE=function(W,te){return W>>>=0,te||N(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},o.prototype.readIntLE=function(W,te,ce){W>>>=0,te>>>=0,ce||N(W,te,this.length);for(var je=this[W],be=1,Ne=0;++Ne<te&&(be*=256);)je+=this[W+Ne]*be;return be*=128,je>=be&&(je-=Math.pow(2,8*te)),je},o.prototype.readIntBE=function(W,te,ce){W>>>=0,te>>>=0,ce||N(W,te,this.length);for(var je=te,be=1,Ne=this[W+--je];je>0&&(be*=256);)Ne+=this[W+--je]*be;return be*=128,Ne>=be&&(Ne-=Math.pow(2,8*te)),Ne},o.prototype.readInt8=function(W,te){return W>>>=0,te||N(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},o.prototype.readInt16LE=function(W,te){W>>>=0,te||N(W,2,this.length);var ce=this[W]|this[W+1]<<8;return 32768&ce?4294901760|ce:ce},o.prototype.readInt16BE=function(W,te){W>>>=0,te||N(W,2,this.length);var ce=this[W+1]|this[W]<<8;return 32768&ce?4294901760|ce:ce},o.prototype.readInt32LE=function(W,te){return W>>>=0,te||N(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},o.prototype.readInt32BE=function(W,te){return W>>>=0,te||N(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},o.prototype.readFloatLE=function(W,te){return W>>>=0,te||N(W,4,this.length),le.read(this,W,!0,23,4)},o.prototype.readFloatBE=function(W,te){return W>>>=0,te||N(W,4,this.length),le.read(this,W,!1,23,4)},o.prototype.readDoubleLE=function(W,te){return W>>>=0,te||N(W,8,this.length),le.read(this,W,!0,52,8)},o.prototype.readDoubleBE=function(W,te){return W>>>=0,te||N(W,8,this.length),le.read(this,W,!1,52,8)},o.prototype.writeUIntLE=function(W,te,ce,je){W=+W,te>>>=0,ce>>>=0,!je&&K(this,W,te,ce,Math.pow(2,8*ce)-1,0);var be=1,Ne=0;for(this[te]=255&W;++Ne<ce&&(be*=256);)this[te+Ne]=W/be&255;return te+ce},o.prototype.writeUIntBE=function(W,te,ce,je){W=+W,te>>>=0,ce>>>=0,!je&&K(this,W,te,ce,Math.pow(2,8*ce)-1,0);var be=ce-1,Ne=1;for(this[te+be]=255&W;--be>=0&&(Ne*=256);)this[te+be]=W/Ne&255;return te+ce},o.prototype.writeUInt8=function(W,te,ce){return W=+W,te>>>=0,ce||K(this,W,te,1,255,0),this[te]=255&W,te+1},o.prototype.writeUInt16LE=function(W,te,ce){return W=+W,te>>>=0,ce||K(this,W,te,2,65535,0),this[te]=255&W,this[te+1]=W>>>8,te+2},o.prototype.writeUInt16BE=function(W,te,ce){return W=+W,te>>>=0,ce||K(this,W,te,2,65535,0),this[te]=W>>>8,this[te+1]=255&W,te+2},o.prototype.writeUInt32LE=function(W,te,ce){return W=+W,te>>>=0,ce||K(this,W,te,4,4294967295,0),this[te+3]=W>>>24,this[te+2]=W>>>16,this[te+1]=W>>>8,this[te]=255&W,te+4},o.prototype.writeUInt32BE=function(W,te,ce){return W=+W,te>>>=0,ce||K(this,W,te,4,4294967295,0),this[te]=W>>>24,this[te+1]=W>>>16,this[te+2]=W>>>8,this[te+3]=255&W,te+4},o.prototype.writeIntLE=function(W,te,ce,je){if(W=+W,te>>>=0,!je){var be=Math.pow(2,8*ce-1);K(this,W,te,ce,be-1,-be)}var Ne=0,He=1,Qe=0;for(this[te]=255&W;++Ne<ce&&(He*=256);)W<0&&Qe===0&&this[te+Ne-1]!==0&&(Qe=1),this[te+Ne]=(W/He>>0)-Qe&255;return te+ce},o.prototype.writeIntBE=function(W,te,ce,je){if(W=+W,te>>>=0,!je){var be=Math.pow(2,8*ce-1);K(this,W,te,ce,be-1,-be)}var Ne=ce-1,He=1,Qe=0;for(this[te+Ne]=255&W;--Ne>=0&&(He*=256);)W<0&&Qe===0&&this[te+Ne+1]!==0&&(Qe=1),this[te+Ne]=(W/He>>0)-Qe&255;return te+ce},o.prototype.writeInt8=function(W,te,ce){return W=+W,te>>>=0,ce||K(this,W,te,1,127,-128),W<0&&(W=255+W+1),this[te]=255&W,te+1},o.prototype.writeInt16LE=function(W,te,ce){return W=+W,te>>>=0,ce||K(this,W,te,2,32767,-32768),this[te]=255&W,this[te+1]=W>>>8,te+2},o.prototype.writeInt16BE=function(W,te,ce){return W=+W,te>>>=0,ce||K(this,W,te,2,32767,-32768),this[te]=W>>>8,this[te+1]=255&W,te+2},o.prototype.writeInt32LE=function(W,te,ce){return W=+W,te>>>=0,ce||K(this,W,te,4,2147483647,-2147483648),this[te]=255&W,this[te+1]=W>>>8,this[te+2]=W>>>16,this[te+3]=W>>>24,te+4},o.prototype.writeInt32BE=function(W,te,ce){return W=+W,te>>>=0,ce||K(this,W,te,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[te]=W>>>24,this[te+1]=W>>>16,this[te+2]=W>>>8,this[te+3]=255&W,te+4},o.prototype.writeFloatLE=function(W,te,ce){return F(this,W,te,!0,ce)},o.prototype.writeFloatBE=function(W,te,ce){return F(this,W,te,!1,ce)},o.prototype.writeDoubleLE=function(W,te,ce){return Z(this,W,te,!0,ce)},o.prototype.writeDoubleBE=function(W,te,ce){return Z(this,W,te,!1,ce)},o.prototype.copy=function(W,te,ce,je){if(!o.isBuffer(W))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),je||je===0||(je=this.length),te>=W.length&&(te=W.length),te||(te=0),je>0&&je<ce&&(je=ce),je===ce||W.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),W.length-te<je-ce&&(je=W.length-te+ce);var be=je-ce;if(this===W&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(te,ce,je);else if(this===W&&ce<te&&te<je)for(var Ne=be-1;Ne>=0;--Ne)W[Ne+te]=this[Ne+ce];else Uint8Array.prototype.set.call(W,this.subarray(ce,je),te);return be},o.prototype.fill=function(W,te,ce,je){if(typeof W=="string"){if(typeof te=="string"?(je=te,te=0,ce=this.length):typeof ce=="string"&&(je=ce,ce=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!o.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(W.length===1){var be=W.charCodeAt(0);(je==="utf8"&&be<128||je==="latin1")&&(W=be)}}else typeof W=="number"&&(W&=255);if(te<0||this.length<te||this.length<ce)throw new RangeError("Out of range index");if(ce<=te)return this;te>>>=0,ce=ce===void 0?this.length:ce>>>0,W||(W=0);var Ne;if(typeof W=="number")for(Ne=te;Ne<ce;++Ne)this[Ne]=W;else{var He=o.isBuffer(W)?W:o.from(W,je),Qe=He.length;if(Qe===0)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(Ne=0;Ne<ce-te;++Ne)this[Ne+te]=He[Ne%Qe]}return this};var ye=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":98,buffer:101,ieee754:316}],102:[function(e,l,i){"use strict";var a=e("get-intrinsic"),t=e("./"),o=t(a("String.prototype.indexOf"));l.exports=function(u,n){var s=a(u,!!n);return typeof s=="function"&&o(u,".prototype.")>-1?t(s):s}},{"./":103,"get-intrinsic":312}],103:[function(e,l,i){"use strict";var a=e("function-bind"),t=e("get-intrinsic"),o=t("%Function.prototype.apply%"),u=t("%Function.prototype.call%"),n=t("%Reflect.apply%",!0)||a.call(u,o),s=t("%Object.getOwnPropertyDescriptor%",!0),f=t("%Object.defineProperty%",!0),d=t("%Math.max%");if(f)try{f({},"a",{value:1})}catch(h){f=null}l.exports=function(h){var _=n(a,u,arguments);return s&&f&&s(_,"length").configurable&&f(_,"length",{value:1+d(0,h.length-(arguments.length-1))}),_};var m=function(){return n(a,o,arguments)};f?f(l.exports,"apply",{value:m}):l.exports.apply=m},{"function-bind":311,"get-intrinsic":312}],104:[function(e,l,i){(function(){"use strict";function a(){for(var o=[],u=0;u<arguments.length;u++){var n=arguments[u];if(n){var s=typeof n;if(s==="string"||s==="number")o.push(n);else if(Array.isArray(n)){if(n.length){var f=a.apply(null,n);f&&o.push(f)}}else if(s==="object")if(n.toString===Object.prototype.toString)for(var d in n)t.call(n,d)&&n[d]&&o.push(d);else o.push(n.toString())}}return o.join(" ")}var t={}.hasOwnProperty;l!==void 0&&l.exports?(a.default=a,l.exports=a):typeof zt=="function"&&typeof zt.amd=="object"&&zt.amd?zt("classnames",[],function(){return a}):window.classNames=a})()},{}],105:[function(e,l,i){(function(a){(function(){"use strict";function t(s,f){if(n)return n.call(s,f);var d=s;do{if((0,o.default)(d,f))return d;d=d.parentNode}while(d&&d!==a.document);return null}i.__esModule=!0,i.default=t;var o=function(s){return s&&s.__esModule?s:{default:s}}(e("matches-selector-ng")),u=a.Element&&a.Element.prototype,n=u&&u.closest;l.exports=i.default,l.exports.default=i.default}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"matches-selector-ng":534}],106:[function(e,l,i){"use strict";l.exports=function(a,t){var o=this,u=o.constructor;return o.callbacks={},o.activeSequences=[],o.resetTimer,o.ignoreNextKeyup=!1,o.ignoreNextKeypress=!1,o.nextExpectedAction=!1,o.element=a,o.addEvents(t),u.instances.push(o),o},l.exports.prototype.bind=e("./prototype/bind"),l.exports.prototype.bindMultiple=e("./prototype/bindMultiple"),l.exports.prototype.trigger=e("./prototype/trigger"),l.exports.prototype.reset=e("./prototype/reset.js"),l.exports.prototype.stopCallback=e("./prototype/stopCallback"),l.exports.prototype.handleKey=e("./prototype/handleKey"),l.exports.prototype.addEvents=e("./prototype/addEvents"),l.exports.prototype.bindSingle=e("./prototype/bindSingle"),l.exports.prototype.getKeyInfo=e("./prototype/getKeyInfo"),l.exports.prototype.pickBestAction=e("./prototype/pickBestAction"),l.exports.prototype.getReverseMap=e("./prototype/getReverseMap"),l.exports.prototype.getMatches=e("./prototype/getMatches"),l.exports.prototype.resetSequences=e("./prototype/resetSequences"),l.exports.prototype.fireCallback=e("./prototype/fireCallback"),l.exports.prototype.bindSequence=e("./prototype/bindSequence"),l.exports.prototype.resetSequenceTimer=e("./prototype/resetSequenceTimer"),l.exports.instances=[],l.exports.reset=e("./reset"),l.exports.REVERSE_MAP=null},{"./prototype/addEvents":107,"./prototype/bind":108,"./prototype/bindMultiple":109,"./prototype/bindSequence":110,"./prototype/bindSingle":111,"./prototype/fireCallback":112,"./prototype/getKeyInfo":113,"./prototype/getMatches":114,"./prototype/getReverseMap":115,"./prototype/handleKey":116,"./prototype/pickBestAction":119,"./prototype/reset.js":120,"./prototype/resetSequenceTimer":121,"./prototype/resetSequences":122,"./prototype/stopCallback":123,"./prototype/trigger":124,"./reset":125}],107:[function(e,l,i){"use strict";l.exports=function(a){var t,o,u,n=this,s=n.element;o=e("./handleKeyEvent"),t=e("../../helpers/addEvent"),u=o.bind(n),t(s,"keypress",u,a),t(s,"keydown",u,a),t(s,"keyup",u,a)}},{"../../helpers/addEvent":126,"./handleKeyEvent":117}],108:[function(e,l,i){"use strict";l.exports=function(a,t,o){var u=this;return a=a instanceof Array?a:[a],u.bindMultiple(a,t,o)}},{}],109:[function(e,l,i){"use strict";l.exports=function(a,t,o){for(var u=this,n=[],s=0;s<a.length;++s)n.push(u.bindSingle(a[s],t,o));return function(){for(var f=0;f<n.length;f++)n[f]()}}},{}],110:[function(e,l,i){"use strict";l.exports=function(a,t,o,u){function n(_){var y;s.fireCallback(o,_,a),u!=="keyup"&&(y=e("../../helpers/characterFromEvent"),s.ignoreNextKeyup=y(_)),setTimeout(function(){s.resetSequences()},10)}var s=this;o.currentLevel=0;for(var f=[],d=0;d<t.length;++d){var m=d+1===t.length,h=m?n:function(_){return function(){return s.nextExpectedAction=_,++o.currentLevel,s.resetSequenceTimer(),!0}}(u||s.getKeyInfo(t[d+1]).action);f.push(s.bindSingle(t[d],h,u,a,d,o))}return function(){for(var _=0;_<f.length;_++)f[_]()}}},{"../../helpers/characterFromEvent":127}],111:[function(e,l,i){"use strict";l.exports=function(a,t,o,u,n,s){var f=this;a=a.replace(/\s+/g," ");var d,m=a.split(" ");if(m.length>1)return f.bindSequence(a,m,t,o);d=f.getKeyInfo(a,o),f.callbacks[d.key]=f.callbacks[d.key]||{sequences:[],singles:[]};var h=f.callbacks[d.key][u?"sequences":"singles"],_={callback:t,originalCallback:s||t,modifiers:d.modifiers,action:d.action,seq:u,level:n,combo:a};return h.push(_),function(){var y=h.indexOf(_);h.splice(y,1)}}},{}],112:[function(e,l,i){"use strict";l.exports=function(a,t,o,u){var n,s=this;if(s.stopCallback(t,t.target||t.srcElement,o,u))return!0;var f=a(t,o);return f===!1&&(n=e("../../helpers/preventDefault"),n(t),e("../../helpers/stopPropagation")(t)),f}},{"../../helpers/preventDefault":131,"../../helpers/stopPropagation":136}],113:[function(e,l,i){"use strict";l.exports=function(a,t){var o,u,n,s,f,d,m,h=this,_=[];for(o=e("../../helpers/keysFromString"),u=o(a),f=e("../../helpers/special-aliases"),d=e("../../helpers/shift-map"),m=e("../../helpers/isModifier"),s=0;s<u.length;++s)n=u[s],f[n]&&(n=f[n]),t&&t!=="keypress"&&d[n]&&(n=d[n],_.push("shift")),m(n)&&_.push(n);return t=h.pickBestAction(n,_,t),{key:n,modifiers:_,action:t}}},{"../../helpers/isModifier":129,"../../helpers/keysFromString":130,"../../helpers/shift-map":132,"../../helpers/special-aliases":133}],114:[function(e,l,i){"use strict";l.exports=function(a,t,o,u,n,s){var f,d,m,h=this,_=[],y=o.type;if(!h.callbacks[a])return[];d=e("../../helpers/isModifier"),y==="keyup"&&d(a)&&(t=[a]);var S=h.callbacks[a].sequences.reverse().concat(h.callbacks[a].singles.reverse());for(h.callbacks[a].sequences.reverse(),h.callbacks[a].singles.reverse(),f=0;f<S.length;++f){var v=S[f];!u&&v.seq&&v.originalCallback.currentLevel!==v.level||y===v.action&&(m=e("./modifiersMatch"),(y==="keypress"&&!o.metaKey&&!o.ctrlKey||m(t,v.modifiers))&&_.push(v))}return _}},{"../../helpers/isModifier":129,"./modifiersMatch":118}],115:[function(e,l,i){"use strict";l.exports=function(){var a,t=this,o=t.constructor;if(!o.REVERSE_MAP){o.REVERSE_MAP={},a=e("../../helpers/special-keys-map");for(var u in a)u>95&&u<112||a.hasOwnProperty(u)&&(o.REVERSE_MAP[a[u]]=u)}return o.REVERSE_MAP}},{"../../helpers/special-keys-map":135}],116:[function(e,l,i){"use strict";l.exports=function(a,t,o){var u,n,s,f,d=this,m=[],h=0,_=!1;for(u=d.getMatches(a,t,o),n=0;n<u.length;++n)u[n].seq&&(h=Math.max(h,u[n].level));for(n=0;n<u.length;++n)if(u[n].seq){if(u[n].level!==h)continue;if(_=!0,m.push(u[n].originalCallback),!d.fireCallback(u[n].callback,o,u[n].combo,u[n].seq)){m=[];break}}else _||d.fireCallback(u[n].callback,o,u[n].combo);f=o.type==="keypress"&&d.ignoreNextKeypress,s=e("../../helpers/isModifier"),o.type!==d.nextExpectedAction||s(a)||f||d.resetSequences(m),d.ignoreNextKeypress=_&&o.type==="keydown"}},{"../../helpers/isModifier":129}],117:[function(e,l,i){"use strict";l.exports=function(a){var t,o,u=this;typeof a.which!="number"&&(a.which=a.keyCode),t=e("../../helpers/characterFromEvent");var n=t(a);if(n){if(a.type==="keyup"&&u.ignoreNextKeyup===n)return void(u.ignoreNextKeyup=!1);o=e("../../helpers/eventModifiers"),u.handleKey(n,o(a),a)}}},{"../../helpers/characterFromEvent":127,"../../helpers/eventModifiers":128}],118:[function(e,l,i){"use strict";l.exports=function(a,t){return a.sort().join(",")===t.sort().join(",")}},{}],119:[function(e,l,i){"use strict";l.exports=function(a,t,o){var u=this;return o||(o=u.getReverseMap()[a]?"keydown":"keypress"),o==="keypress"&&t.length&&(o="keydown"),o}},{}],120:[function(e,l,i){"use strict";l.exports=function(){var a=this;return a.callbacks={},a.directMap={},this}},{}],121:[function(e,l,i){"use strict";l.exports=function(){var a=this;clearTimeout(a.resetTimer),a.resetTimer=setTimeout(function(){a.resetSequences()},1e3)}},{}],122:[function(e,l,i){"use strict";l.exports=function(a){a=a||[];for(var t in this.callbacks)for(var o=this.callbacks[t].sequences,u=0;u<o.length;u++)a.indexOf(o[u].originalCallback)===-1&&(o[u].originalCallback.currentLevel=0);this.nextExpectedAction=a.length>0}},{}],123:[function(e,l,i){"use strict";l.exports=function(a,t){return!((" "+t.className+" ").indexOf(" combokeys ")>-1)&&(t.tagName==="INPUT"||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.isContentEditable)}},{}],124:[function(e,l,i){"use strict";l.exports=function(a,t){}},{}],125:[function(e,l,i){"use strict";l.exports=function(){this.instances.forEach(function(a){a.reset()})}},{}],126:[function(e,l,i){"use strict";l.exports=function(a,t,o,u){if(a.addEventListener)return void a.addEventListener(t,o,u);a.attachEvent("on"+t,o)}},{}],127:[function(e,l,i){"use strict";l.exports=function(a){var t,o;if(t=e("./special-keys-map"),o=e("./special-characters-map"),a.type==="keypress"){var u=String.fromCharCode(a.which);return a.shiftKey||(u=u.toLowerCase()),u}return t[a.which]?t[a.which]:o[a.which]?o[a.which]:String.fromCharCode(a.which).toLowerCase()}},{"./special-characters-map":134,"./special-keys-map":135}],128:[function(e,l,i){"use strict";l.exports=function(a){var t=[];return a.shiftKey&&t.push("shift"),a.altKey&&t.push("alt"),a.ctrlKey&&t.push("ctrl"),a.metaKey&&t.push("meta"),t}},{}],129:[function(e,l,i){"use strict";l.exports=function(a){return a==="shift"||a==="ctrl"||a==="alt"||a==="meta"}},{}],130:[function(e,l,i){"use strict";l.exports=function(a){return a==="+"?["+"]:a.split("+")}},{}],131:[function(e,l,i){"use strict";l.exports=function(a){if(a.preventDefault)return void a.preventDefault();a.returnValue=!1}},{}],132:[function(e,l,i){"use strict";l.exports={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"}},{}],133:[function(e,l,i){"use strict";l.exports={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}},{}],134:[function(e,l,i){"use strict";l.exports={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},{}],135:[function(e,l,i){"use strict";l.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",187:"plus",189:"minus",224:"meta"};for(var a=1;a<20;++a)l.exports[111+a]="f"+a;for(a=0;a<=9;++a)l.exports[a+96]=a},{}],136:[function(e,l,i){"use strict";l.exports=function(a){if(a.stopPropagation)return void a.stopPropagation();a.cancelBubble=!0}},{}],137:[function(e,l,i){"use strict";l.exports=e("./Combokeys")},{"./Combokeys":106}],138:[function(e,l,i){"use strict";function a(f,d,m){for(var h=t(f),_=t(d),y={all:m.buffer||0,top:m.topBuffer||0,bottom:m.bottomBuffer||0,left:m.leftBuffer||0,right:m.rightBuffer||0},S=Array.isArray(m.position)?m.position:[m.position].filter(Boolean),v=Array.isArray(m.hAlign)?m.hAlign:[m.hAlign].filter(Boolean),T=Array.isArray(m.vAlign)?m.vAlign:[m.vAlign].filter(Boolean),E=S.length>0&&m.forcePosition?S:(0,s.default)(S.concat(["top","bottom","left","right"])),I=v.length>0&&m.forceHAlign?v:(0,s.default)(v.concat(["center","left","right"])),g=T.length>0&&m.forceVAlign?T:(0,s.default)(T.concat(["center","top","bottom"])),k=(0,n.default)(E.map(function(R){return R==="cover"?(0,n.default)(I.map(function(P){return g.map(function(B){return{position:R,hAlign:P,vAlign:B}})})):R==="top"||R==="bottom"?I.map(function(P){return{position:R,hAlign:P,vAlign:"center"}}):g.map(function(P){return{position:R,hAlign:"center",vAlign:P}})})),j=null,x=0;x<k.length;x++){var A=k[x],w=o(h,_,A,y),C=w.top,O=w.left;if(C-y.all-y.top>=0&&O-y.all-y.left>=0&&C+h.height+y.all+y.bottom<=window.innerHeight&&O+h.width+y.all+y.right<=window.innerWidth){j={choice:A,coord:w};break}}if(!j){var V={position:S[0]||"top",hAlign:v[0]||"center",vAlign:T[0]||"center"};j={choice:V,coord:o(h,_,V,y)}}return f.style.top="".concat(j.coord.top,"px"),f.style.left="".concat(j.coord.left,"px"),j.choice}function t(f){var d=f.getBoundingClientRect();return"width"in d||(d=Object.assign({width:d.right-d.left,height:d.bottom-d.top},d)),d}function o(f,d,m,h){var _=m.position,y=m.hAlign,S=m.vAlign,v=0,T=0;if(_==="cover"){switch(y){case"center":T=Math.round((d.left+d.right-f.width)/2);break;case"left":T=Math.floor(d.left);break;case"right":T=Math.ceil(d.right-f.width);break;default:throw new Error("Should not happen")}switch(S){case"center":v=Math.round((d.top+d.bottom-f.height)/2);break;case"top":v=Math.floor(d.top);break;case"bottom":v=Math.ceil(d.bottom-f.height);break;default:throw new Error("Should not happen")}}else if(_==="top"||_==="bottom"){switch(_){case"top":v=Math.floor(d.top-f.height-h.all-h.bottom);break;case"bottom":v=Math.ceil(d.bottom+h.all+h.top);break;default:throw new Error("Should not happen")}switch(y){case"center":T=Math.round((d.left+d.right-f.width)/2);break;case"left":T=Math.round(d.left);break;case"right":T=Math.round(d.right-f.width);break;default:throw new Error("Should not happen")}}else{switch(_){case"left":T=Math.floor(d.left-f.width-h.all-h.right);break;case"right":T=Math.ceil(d.right+h.all+h.left);break;default:throw new Error("Should not happen")}switch(S){case"center":v=Math.round((d.top+d.bottom-f.height)/2);break;case"top":v=Math.round(d.top);break;case"bottom":v=Math.round(d.bottom-f.height);break;default:throw new Error("Should not happen")}}return{top:v,left:T}}var u=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var n=u(e("lodash/flatten")),s=u(e("lodash/uniq"));l.exports=i.default,l.exports.default=i.default},{"@babel/runtime/helpers/interopRequireDefault":69,"lodash/flatten":488,"lodash/uniq":528}],139:[function(e,l,i){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),l.exports=e("../../modules/_core").Array.from},{"../../modules/_core":186,"../../modules/es6.array.from":257,"../../modules/es6.string.iterator":280}],140:[function(e,l,i){e("../../modules/es6.array.is-array"),l.exports=e("../../modules/_core").Array.isArray},{"../../modules/_core":186,"../../modules/es6.array.is-array":258}],141:[function(e,l,i){e("../../modules/es6.date.now"),l.exports=e("../../modules/_core").Date.now},{"../../modules/_core":186,"../../modules/es6.date.now":260}],142:[function(e,l,i){var a=e("../../modules/_core"),t=a.JSON||(a.JSON={stringify:JSON.stringify});l.exports=function(o){return t.stringify.apply(t,arguments)}},{"../../modules/_core":186}],143:[function(e,l,i){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),e("../modules/es7.map.of"),e("../modules/es7.map.from"),l.exports=e("../modules/_core").Map},{"../modules/_core":186,"../modules/es6.map":261,"../modules/es6.object.to-string":274,"../modules/es6.string.iterator":280,"../modules/es7.map.from":284,"../modules/es7.map.of":285,"../modules/es7.map.to-json":286,"../modules/web.dom.iterable":299}],144:[function(e,l,i){e("../../modules/es6.number.max-safe-integer"),l.exports=9007199254740991},{"../../modules/es6.number.max-safe-integer":262}],145:[function(e,l,i){e("../../modules/es6.number.min-safe-integer"),l.exports=-9007199254740991},{"../../modules/es6.number.min-safe-integer":263}],146:[function(e,l,i){e("../../modules/es6.object.assign"),l.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":186,"../../modules/es6.object.assign":264}],147:[function(e,l,i){e("../../modules/es6.object.create");var a=e("../../modules/_core").Object;l.exports=function(t,o){return a.create(t,o)}},{"../../modules/_core":186,"../../modules/es6.object.create":265}],148:[function(e,l,i){e("../../modules/es6.object.define-properties");var a=e("../../modules/_core").Object;l.exports=function(t,o){return a.defineProperties(t,o)}},{"../../modules/_core":186,"../../modules/es6.object.define-properties":266}],149:[function(e,l,i){e("../../modules/es6.object.define-property");var a=e("../../modules/_core").Object;l.exports=function(t,o,u){return a.defineProperty(t,o,u)}},{"../../modules/_core":186,"../../modules/es6.object.define-property":267}],150:[function(e,l,i){e("../../modules/es7.object.entries"),l.exports=e("../../modules/_core").Object.entries},{"../../modules/_core":186,"../../modules/es7.object.entries":287}],151:[function(e,l,i){e("../../modules/es6.object.freeze"),l.exports=e("../../modules/_core").Object.freeze},{"../../modules/_core":186,"../../modules/es6.object.freeze":268}],152:[function(e,l,i){e("../../modules/es6.object.get-own-property-descriptor");var a=e("../../modules/_core").Object;l.exports=function(t,o){return a.getOwnPropertyDescriptor(t,o)}},{"../../modules/_core":186,"../../modules/es6.object.get-own-property-descriptor":269}],153:[function(e,l,i){e("../../modules/es7.object.get-own-property-descriptors"),l.exports=e("../../modules/_core").Object.getOwnPropertyDescriptors},{"../../modules/_core":186,"../../modules/es7.object.get-own-property-descriptors":288}],154:[function(e,l,i){e("../../modules/es6.object.get-own-property-names");var a=e("../../modules/_core").Object;l.exports=function(t){return a.getOwnPropertyNames(t)}},{"../../modules/_core":186,"../../modules/es6.object.get-own-property-names":270}],155:[function(e,l,i){e("../../modules/es6.symbol"),l.exports=e("../../modules/_core").Object.getOwnPropertySymbols},{"../../modules/_core":186,"../../modules/es6.symbol":281}],156:[function(e,l,i){e("../../modules/es6.object.get-prototype-of"),l.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":186,"../../modules/es6.object.get-prototype-of":271}],157:[function(e,l,i){e("../../modules/es6.object.keys"),l.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":186,"../../modules/es6.object.keys":272}],158:[function(e,l,i){e("../../modules/es6.object.set-prototype-of"),l.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":186,"../../modules/es6.object.set-prototype-of":273}],159:[function(e,l,i){e("../../modules/es7.object.values"),l.exports=e("../../modules/_core").Object.values},{"../../modules/_core":186,"../../modules/es7.object.values":289}],160:[function(e,l,i){e("../modules/es6.parse-float"),l.exports=e("../modules/_core").parseFloat},{"../modules/_core":186,"../modules/es6.parse-float":275}],161:[function(e,l,i){e("../modules/es6.parse-int"),l.exports=e("../modules/_core").parseInt},{"../modules/_core":186,"../modules/es6.parse-int":276}],162:[function(e,l,i){(function(a){(function(){l.exports=a.Promise}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],163:[function(e,l,i){e("../../modules/es6.reflect.construct"),l.exports=e("../../modules/_core").Reflect.construct},{"../../modules/_core":186,"../../modules/es6.reflect.construct":277}],164:[function(e,l,i){e("../../modules/es6.reflect.get"),l.exports=e("../../modules/_core").Reflect.get},{"../../modules/_core":186,"../../modules/es6.reflect.get":278}],165:[function(e,l,i){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),e("../modules/es7.set.of"),e("../modules/es7.set.from"),l.exports=e("../modules/_core").Set},{"../modules/_core":186,"../modules/es6.object.to-string":274,"../modules/es6.set":279,"../modules/es6.string.iterator":280,"../modules/es7.set.from":290,"../modules/es7.set.of":291,"../modules/es7.set.to-json":292,"../modules/web.dom.iterable":299}],166:[function(e,l,i){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),l.exports=e("../../modules/_core").Symbol},{"../../modules/_core":186,"../../modules/es6.object.to-string":274,"../../modules/es6.symbol":281,"../../modules/es7.symbol.async-iterator":293,"../../modules/es7.symbol.observable":294}],167:[function(e,l,i){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),l.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":254,"../../modules/es6.string.iterator":280,"../../modules/web.dom.iterable":299}],168:[function(e,l,i){e("../modules/es6.object.to-string"),e("../modules/web.dom.iterable"),e("../modules/es6.weak-map"),e("../modules/es7.weak-map.of"),e("../modules/es7.weak-map.from"),l.exports=e("../modules/_core").WeakMap},{"../modules/_core":186,"../modules/es6.object.to-string":274,"../modules/es6.weak-map":282,"../modules/es7.weak-map.from":295,"../modules/es7.weak-map.of":296,"../modules/web.dom.iterable":299}],169:[function(e,l,i){e("../modules/es6.object.to-string"),e("../modules/web.dom.iterable"),e("../modules/es6.weak-set"),e("../modules/es7.weak-set.of"),e("../modules/es7.weak-set.from"),l.exports=e("../modules/_core").WeakSet},{"../modules/_core":186,"../modules/es6.object.to-string":274,"../modules/es6.weak-set":283,"../modules/es7.weak-set.from":297,"../modules/es7.weak-set.of":298,"../modules/web.dom.iterable":299}],170:[function(e,l,i){l.exports=function(a){if(typeof a!="function")throw TypeError(a+" is not a function!");return a}},{}],171:[function(e,l,i){l.exports=function(){}},{}],172:[function(e,l,i){l.exports=function(a,t,o,u){if(!(a instanceof t)||u!==void 0&&u in a)throw TypeError(o+": incorrect invocation!");return a}},{}],173:[function(e,l,i){var a=e("./_is-object");l.exports=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":206}],174:[function(e,l,i){var a=e("./_for-of");l.exports=function(t,o){var u=[];return a(t,!1,u.push,u,o),u}},{"./_for-of":196}],175:[function(e,l,i){var a=e("./_to-iobject"),t=e("./_to-length"),o=e("./_to-absolute-index");l.exports=function(u){return function(n,s,f){var d,m=a(n),h=t(m.length),_=o(f,h);if(u&&s!=s){for(;h>_;)if((d=m[_++])!=d)return!0}else for(;h>_;_++)if((u||_ in m)&&m[_]===s)return u||_||0;return!u&&-1}}},{"./_to-absolute-index":245,"./_to-iobject":247,"./_to-length":248}],176:[function(e,l,i){var a=e("./_ctx"),t=e("./_iobject"),o=e("./_to-object"),u=e("./_to-length"),n=e("./_array-species-create");l.exports=function(s,f){var d=s==1,m=s==2,h=s==3,_=s==4,y=s==6,S=s==5||y,v=f||n;return function(T,E,I){for(var g,k,j=o(T),x=t(j),A=a(E,I,3),w=u(x.length),C=0,O=d?v(T,w):m?v(T,0):void 0;w>C;C++)if((S||C in x)&&(g=x[C],k=A(g,C,j),s)){if(d)O[C]=k;else if(k)switch(s){case 3:return!0;case 5:return g;case 6:return C;case 2:O.push(g)}else if(_)return!1}return y?-1:h||_?_:O}}},{"./_array-species-create":178,"./_ctx":188,"./_iobject":203,"./_to-length":248,"./_to-object":249}],177:[function(e,l,i){var a=e("./_is-object"),t=e("./_is-array"),o=e("./_wks")("species");l.exports=function(u){var n;return t(u)&&(n=u.constructor,typeof n!="function"||n!==Array&&!t(n.prototype)||(n=void 0),a(n)&&(n=n[o])===null&&(n=void 0)),n===void 0?Array:n}},{"./_is-array":205,"./_is-object":206,"./_wks":255}],178:[function(e,l,i){var a=e("./_array-species-constructor");l.exports=function(t,o){return new(a(t))(o)}},{"./_array-species-constructor":177}],179:[function(e,l,i){"use strict";var a=e("./_a-function"),t=e("./_is-object"),o=e("./_invoke"),u=[].slice,n={},s=function(f,d,m){if(!(d in n)){for(var h=[],_=0;_<d;_++)h[_]="a["+_+"]";n[d]=Function("F,a","return new F("+h.join(",")+")")}return n[d](f,m)};l.exports=Function.bind||function(f){var d=a(this),m=u.call(arguments,1),h=function(){var _=m.concat(u.call(arguments));return this instanceof h?s(d,_.length,_):o(d,_,f)};return t(d.prototype)&&(h.prototype=d.prototype),h}},{"./_a-function":170,"./_invoke":202,"./_is-object":206}],180:[function(e,l,i){var a=e("./_cof"),t=e("./_wks")("toStringTag"),o=a(function(){return arguments}())=="Arguments",u=function(n,s){try{return n[s]}catch(f){}};l.exports=function(n){var s,f,d;return n===void 0?"Undefined":n===null?"Null":typeof(f=u(s=Object(n),t))=="string"?f:o?a(s):(d=a(s))=="Object"&&typeof s.callee=="function"?"Arguments":d}},{"./_cof":181,"./_wks":255}],181:[function(e,l,i){var a={}.toString;l.exports=function(t){return a.call(t).slice(8,-1)}},{}],182:[function(e,l,i){"use strict";var a=e("./_object-dp").f,t=e("./_object-create"),o=e("./_redefine-all"),u=e("./_ctx"),n=e("./_an-instance"),s=e("./_for-of"),f=e("./_iter-define"),d=e("./_iter-step"),m=e("./_set-species"),h=e("./_descriptors"),_=e("./_meta").fastKey,y=e("./_validate-collection"),S=h?"_s":"size",v=function(T,E){var I,g=_(E);if(g!=="F")return T._i[g];for(I=T._f;I;I=I.n)if(I.k==E)return I};l.exports={getConstructor:function(T,E,I,g){var k=T(function(j,x){n(j,k,E,"_i"),j._t=E,j._i=t(null),j._f=void 0,j._l=void 0,j[S]=0,x!=null&&s(x,I,j[g],j)});return o(k.prototype,{clear:function(){for(var j=y(this,E),x=j._i,A=j._f;A;A=A.n)A.r=!0,A.p&&(A.p=A.p.n=void 0),delete x[A.i];j._f=j._l=void 0,j[S]=0},delete:function(j){var x=y(this,E),A=v(x,j);if(A){var w=A.n,C=A.p;delete x._i[A.i],A.r=!0,C&&(C.n=w),w&&(w.p=C),x._f==A&&(x._f=w),x._l==A&&(x._l=C),x[S]--}return!!A},forEach:function(j){y(this,E);for(var x,A=u(j,arguments.length>1?arguments[1]:void 0,3);x=x?x.n:this._f;)for(A(x.v,x.k,this);x&&x.r;)x=x.p},has:function(j){return!!v(y(this,E),j)}}),h&&a(k.prototype,"size",{get:function(){return y(this,E)[S]}}),k},def:function(T,E,I){var g,k,j=v(T,E);return j?j.v=I:(T._l=j={i:k=_(E,!0),k:E,v:I,p:g=T._l,n:void 0,r:!1},T._f||(T._f=j),g&&(g.n=j),T[S]++,k!=="F"&&(T._i[k]=j)),T},getEntry:v,setStrong:function(T,E,I){f(T,E,function(g,k){this._t=y(g,E),this._k=k,this._l=void 0},function(){for(var g=this,k=g._k,j=g._l;j&&j.r;)j=j.p;return g._t&&(g._l=j=j?j.n:g._t._f)?k=="keys"?d(0,j.k):k=="values"?d(0,j.v):d(0,[j.k,j.v]):(g._t=void 0,d(1))},I?"entries":"values",!I,!0),m(E)}}},{"./_an-instance":172,"./_ctx":188,"./_descriptors":190,"./_for-of":196,"./_iter-define":209,"./_iter-step":211,"./_meta":214,"./_object-create":216,"./_object-dp":217,"./_redefine-all":233,"./_set-species":238,"./_validate-collection":252}],183:[function(e,l,i){var a=e("./_classof"),t=e("./_array-from-iterable");l.exports=function(o){return function(){if(a(this)!=o)throw TypeError(o+"#toJSON isn't generic");return t(this)}}},{"./_array-from-iterable":174,"./_classof":180}],184:[function(e,l,i){"use strict";var a=e("./_redefine-all"),t=e("./_meta").getWeak,o=e("./_an-object"),u=e("./_is-object"),n=e("./_an-instance"),s=e("./_for-of"),f=e("./_array-methods"),d=e("./_has"),m=e("./_validate-collection"),h=f(5),_=f(6),y=0,S=function(E){return E._l||(E._l=new v)},v=function(){this.a=[]},T=function(E,I){return h(E.a,function(g){return g[0]===I})};v.prototype={get:function(E){var I=T(this,E);if(I)return I[1]},has:function(E){return!!T(this,E)},set:function(E,I){var g=T(this,E);g?g[1]=I:this.a.push([E,I])},delete:function(E){var I=_(this.a,function(g){return g[0]===E});return~I&&this.a.splice(I,1),!!~I}},l.exports={getConstructor:function(E,I,g,k){var j=E(function(x,A){n(x,j,I,"_i"),x._t=I,x._i=y++,x._l=void 0,A!=null&&s(A,g,x[k],x)});return a(j.prototype,{delete:function(x){if(!u(x))return!1;var A=t(x);return A===!0?S(m(this,I)).delete(x):A&&d(A,this._i)&&delete A[this._i]},has:function(x){if(!u(x))return!1;var A=t(x);return A===!0?S(m(this,I)).has(x):A&&d(A,this._i)}}),j},def:function(E,I,g){var k=t(o(I),!0);return k===!0?S(E).set(I,g):k[E._i]=g,E},ufstore:S}},{"./_an-instance":172,"./_an-object":173,"./_array-methods":176,"./_for-of":196,"./_has":198,"./_is-object":206,"./_meta":214,"./_redefine-all":233,"./_validate-collection":252}],185:[function(e,l,i){"use strict";var a=e("./_global"),t=e("./_export"),o=e("./_meta"),u=e("./_fails"),n=e("./_hide"),s=e("./_redefine-all"),f=e("./_for-of"),d=e("./_an-instance"),m=e("./_is-object"),h=e("./_set-to-string-tag"),_=e("./_object-dp").f,y=e("./_array-methods")(0),S=e("./_descriptors");l.exports=function(v,T,E,I,g,k){var j=a[v],x=j,A=g?"set":"add",w=x&&x.prototype,C={};return S&&typeof x=="function"&&(k||w.forEach&&!u(function(){new x().entries().next()}))?(x=T(function(O,V){d(O,x,v,"_c"),O._c=new j,V!=null&&f(V,g,O[A],O)}),y("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(O){var V=O=="add"||O=="set";O in w&&(!k||O!="clear")&&n(x.prototype,O,function(R,P){if(d(this,x,O),!V&&k&&!m(R))return O=="get"&&void 0;var B=this._c[O](R===0?0:R,P);return V?this:B})}),k||_(x.prototype,"size",{get:function(){return this._c.size}})):(x=I.getConstructor(T,v,g,A),s(x.prototype,E),o.NEED=!0),h(x,v),C[v]=x,t(t.G+t.W+t.F,C),k||I.setStrong(x,v,g),x}},{"./_an-instance":172,"./_array-methods":176,"./_descriptors":190,"./_export":194,"./_fails":195,"./_for-of":196,"./_global":197,"./_hide":199,"./_is-object":206,"./_meta":214,"./_object-dp":217,"./_redefine-all":233,"./_set-to-string-tag":239}],186:[function(e,l,i){var a=l.exports={version:"2.6.12"};typeof __e=="number"&&(__e=a)},{}],187:[function(e,l,i){"use strict";var a=e("./_object-dp"),t=e("./_property-desc");l.exports=function(o,u,n){u in o?a.f(o,u,t(0,n)):o[u]=n}},{"./_object-dp":217,"./_property-desc":232}],188:[function(e,l,i){var a=e("./_a-function");l.exports=function(t,o,u){if(a(t),o===void 0)return t;switch(u){case 1:return function(n){return t.call(o,n)};case 2:return function(n,s){return t.call(o,n,s)};case 3:return function(n,s,f){return t.call(o,n,s,f)}}return function(){return t.apply(o,arguments)}}},{"./_a-function":170}],189:[function(e,l,i){l.exports=function(a){if(a==null)throw TypeError("Can't call method on  "+a);return a}},{}],190:[function(e,l,i){l.exports=!e("./_fails")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},{"./_fails":195}],191:[function(e,l,i){var a=e("./_is-object"),t=e("./_global").document,o=a(t)&&a(t.createElement);l.exports=function(u){return o?t.createElement(u):{}}},{"./_global":197,"./_is-object":206}],192:[function(e,l,i){l.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],193:[function(e,l,i){var a=e("./_object-keys"),t=e("./_object-gops"),o=e("./_object-pie");l.exports=function(u){var n=a(u),s=t.f;if(s)for(var f,d=s(u),m=o.f,h=0;d.length>h;)m.call(u,f=d[h++])&&n.push(f);return n}},{"./_object-gops":222,"./_object-keys":225,"./_object-pie":226}],194:[function(e,l,i){var a=e("./_global"),t=e("./_core"),o=e("./_ctx"),u=e("./_hide"),n=e("./_has"),s=function(f,d,m){var h,_,y,S=f&s.F,v=f&s.G,T=f&s.S,E=f&s.P,I=f&s.B,g=f&s.W,k=v?t:t[d]||(t[d]={}),j=k.prototype,x=v?a:T?a[d]:(a[d]||{}).prototype;v&&(m=d);for(h in m)(_=!S&&x&&x[h]!==void 0)&&n(k,h)||(y=_?x[h]:m[h],k[h]=v&&typeof x[h]!="function"?m[h]:I&&_?o(y,a):g&&x[h]==y?function(A){var w=function(C,O,V){if(this instanceof A){switch(arguments.length){case 0:return new A;case 1:return new A(C);case 2:return new A(C,O)}return new A(C,O,V)}return A.apply(this,arguments)};return w.prototype=A.prototype,w}(y):E&&typeof y=="function"?o(Function.call,y):y,E&&((k.virtual||(k.virtual={}))[h]=y,f&s.R&&j&&!j[h]&&u(j,h,y)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,l.exports=s},{"./_core":186,"./_ctx":188,"./_global":197,"./_has":198,"./_hide":199}],195:[function(e,l,i){l.exports=function(a){try{return!!a()}catch(t){return!0}}},{}],196:[function(e,l,m){var a=e("./_ctx"),t=e("./_iter-call"),o=e("./_is-array-iter"),u=e("./_an-object"),n=e("./_to-length"),s=e("./core.get-iterator-method"),f={},d={},m=l.exports=function(h,_,y,S,v){var T,E,I,g,k=v?function(){return h}:s(h),j=a(y,S,_?2:1),x=0;if(typeof k!="function")throw TypeError(h+" is not iterable!");if(o(k)){for(T=n(h.length);T>x;x++)if((g=_?j(u(E=h[x])[0],E[1]):j(h[x]))===f||g===d)return g}else for(I=k.call(h);!(E=I.next()).done;)if((g=t(I,j,E.value,_))===f||g===d)return g};m.BREAK=f,m.RETURN=d},{"./_an-object":173,"./_ctx":188,"./_is-array-iter":204,"./_iter-call":207,"./_to-length":248,"./core.get-iterator-method":256}],197:[function(e,l,i){var a=l.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=a)},{}],198:[function(e,l,i){var a={}.hasOwnProperty;l.exports=function(t,o){return a.call(t,o)}},{}],199:[function(e,l,i){var a=e("./_object-dp"),t=e("./_property-desc");l.exports=e("./_descriptors")?function(o,u,n){return a.f(o,u,t(1,n))}:function(o,u,n){return o[u]=n,o}},{"./_descriptors":190,"./_object-dp":217,"./_property-desc":232}],200:[function(e,l,i){var a=e("./_global").document;l.exports=a&&a.documentElement},{"./_global":197}],201:[function(e,l,i){l.exports=!e("./_descriptors")&&!e("./_fails")(function(){return Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a!=7})},{"./_descriptors":190,"./_dom-create":191,"./_fails":195}],202:[function(e,l,i){l.exports=function(a,t,o){var u=o===void 0;switch(t.length){case 0:return u?a():a.call(o);case 1:return u?a(t[0]):a.call(o,t[0]);case 2:return u?a(t[0],t[1]):a.call(o,t[0],t[1]);case 3:return u?a(t[0],t[1],t[2]):a.call(o,t[0],t[1],t[2]);case 4:return u?a(t[0],t[1],t[2],t[3]):a.call(o,t[0],t[1],t[2],t[3])}return a.apply(o,t)}},{}],203:[function(e,l,i){var a=e("./_cof");l.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return a(t)=="String"?t.split(""):Object(t)}},{"./_cof":181}],204:[function(e,l,i){var a=e("./_iterators"),t=e("./_wks")("iterator"),o=Array.prototype;l.exports=function(u){return u!==void 0&&(a.Array===u||o[t]===u)}},{"./_iterators":212,"./_wks":255}],205:[function(e,l,i){var a=e("./_cof");l.exports=Array.isArray||function(t){return a(t)=="Array"}},{"./_cof":181}],206:[function(e,l,i){l.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},{}],207:[function(e,l,i){var a=e("./_an-object");l.exports=function(t,o,u,n){try{return n?o(a(u)[0],u[1]):o(u)}catch(f){var s=t.return;throw s!==void 0&&a(s.call(t)),f}}},{"./_an-object":173}],208:[function(e,l,i){"use strict";var a=e("./_object-create"),t=e("./_property-desc"),o=e("./_set-to-string-tag"),u={};e("./_hide")(u,e("./_wks")("iterator"),function(){return this}),l.exports=function(n,s,f){n.prototype=a(u,{next:t(1,f)}),o(n,s+" Iterator")}},{"./_hide":199,"./_object-create":216,"./_property-desc":232,"./_set-to-string-tag":239,"./_wks":255}],209:[function(e,l,i){"use strict";var a=e("./_library"),t=e("./_export"),o=e("./_redefine"),u=e("./_hide"),n=e("./_iterators"),s=e("./_iter-create"),f=e("./_set-to-string-tag"),d=e("./_object-gpo"),m=e("./_wks")("iterator"),h=!([].keys&&"next"in[].keys()),_=function(){return this};l.exports=function(y,S,v,T,E,I,g){s(v,S,T);var k,j,x,A=function(Q){if(!h&&Q in V)return V[Q];switch(Q){case"keys":case"values":return function(){return new v(this,Q)}}return function(){return new v(this,Q)}},w=S+" Iterator",C=E=="values",O=!1,V=y.prototype,R=V[m]||V["@@iterator"]||E&&V[E],P=R||A(E),B=E?C?A("entries"):P:void 0,z=S=="Array"&&V.entries||R;if(z&&(x=d(z.call(new y)))!==Object.prototype&&x.next&&(f(x,w,!0),a||typeof x[m]=="function"||u(x,m,_)),C&&R&&R.name!=="values"&&(O=!0,P=function(){return R.call(this)}),a&&!g||!h&&!O&&V[m]||u(V,m,P),n[S]=P,n[w]=_,E)if(k={values:C?P:A("values"),keys:I?P:A("keys"),entries:B},g)for(j in k)j in V||o(V,j,k[j]);else t(t.P+t.F*(h||O),S,k);return k}},{"./_export":194,"./_hide":199,"./_iter-create":208,"./_iterators":212,"./_library":213,"./_object-gpo":223,"./_redefine":234,"./_set-to-string-tag":239,"./_wks":255}],210:[function(e,l,i){var a=e("./_wks")("iterator"),t=!1;try{var o=[7][a]();o.return=function(){t=!0},Array.from(o,function(){throw 2})}catch(u){}l.exports=function(u,n){if(!n&&!t)return!1;var s=!1;try{var f=[7],d=f[a]();d.next=function(){return{done:s=!0}},f[a]=function(){return d},u(f)}catch(m){}return s}},{"./_wks":255}],211:[function(e,l,i){l.exports=function(a,t){return{value:t,done:!!a}}},{}],212:[function(e,l,i){l.exports={}},{}],213:[function(e,l,i){l.exports=!0},{}],214:[function(e,l,i){var a=e("./_uid")("meta"),t=e("./_is-object"),o=e("./_has"),u=e("./_object-dp").f,n=0,s=Object.isExtensible||function(){return!0},f=!e("./_fails")(function(){return s(Object.preventExtensions({}))}),d=function(S){u(S,a,{value:{i:"O"+ ++n,w:{}}})},m=function(S,v){if(!t(S))return typeof S=="symbol"?S:(typeof S=="string"?"S":"P")+S;if(!o(S,a)){if(!s(S))return"F";if(!v)return"E";d(S)}return S[a].i},h=function(S,v){if(!o(S,a)){if(!s(S))return!0;if(!v)return!1;d(S)}return S[a].w},_=function(S){return f&&y.NEED&&s(S)&&!o(S,a)&&d(S),S},y=l.exports={KEY:a,NEED:!1,fastKey:m,getWeak:h,onFreeze:_}},{"./_fails":195,"./_has":198,"./_is-object":206,"./_object-dp":217,"./_uid":251}],215:[function(e,l,i){"use strict";var a=e("./_descriptors"),t=e("./_object-keys"),o=e("./_object-gops"),u=e("./_object-pie"),n=e("./_to-object"),s=e("./_iobject"),f=Object.assign;l.exports=!f||e("./_fails")(function(){var d={},m={},h=Symbol(),_="abcdefghijklmnopqrst";return d[h]=7,_.split("").forEach(function(y){m[y]=y}),f({},d)[h]!=7||Object.keys(f({},m)).join("")!=_})?function(d,m){for(var h=n(d),_=arguments.length,y=1,S=o.f,v=u.f;_>y;)for(var T,E=s(arguments[y++]),I=S?t(E).concat(S(E)):t(E),g=I.length,k=0;g>k;)T=I[k++],a&&!v.call(E,T)||(h[T]=E[T]);return h}:f},{"./_descriptors":190,"./_fails":195,"./_iobject":203,"./_object-gops":222,"./_object-keys":225,"./_object-pie":226,"./_to-object":249}],216:[function(e,l,i){var a=e("./_an-object"),t=e("./_object-dps"),o=e("./_enum-bug-keys"),u=e("./_shared-key")("IE_PROTO"),n=function(){},s=function(){var f,d=e("./_dom-create")("iframe"),m=o.length;for(d.style.display="none",e("./_html").appendChild(d),d.src="javascript:",f=d.contentWindow.document,f.open(),f.write("<script>document.F=Object<\/script>"),f.close(),s=f.F;m--;)delete s.prototype[o[m]];return s()};l.exports=Object.create||function(f,d){var m;return f!==null?(n.prototype=a(f),m=new n,n.prototype=null,m[u]=f):m=s(),d===void 0?m:t(m,d)}},{"./_an-object":173,"./_dom-create":191,"./_enum-bug-keys":192,"./_html":200,"./_object-dps":218,"./_shared-key":240}],217:[function(e,l,i){var a=e("./_an-object"),t=e("./_ie8-dom-define"),o=e("./_to-primitive"),u=Object.defineProperty;i.f=e("./_descriptors")?Object.defineProperty:function(n,s,f){if(a(n),s=o(s,!0),a(f),t)try{return u(n,s,f)}catch(d){}if("get"in f||"set"in f)throw TypeError("Accessors not supported!");return"value"in f&&(n[s]=f.value),n}},{"./_an-object":173,"./_descriptors":190,"./_ie8-dom-define":201,"./_to-primitive":250}],218:[function(e,l,i){var a=e("./_object-dp"),t=e("./_an-object"),o=e("./_object-keys");l.exports=e("./_descriptors")?Object.defineProperties:function(u,n){t(u);for(var s,f=o(n),d=f.length,m=0;d>m;)a.f(u,s=f[m++],n[s]);return u}},{"./_an-object":173,"./_descriptors":190,"./_object-dp":217,"./_object-keys":225}],219:[function(e,l,i){var a=e("./_object-pie"),t=e("./_property-desc"),o=e("./_to-iobject"),u=e("./_to-primitive"),n=e("./_has"),s=e("./_ie8-dom-define"),f=Object.getOwnPropertyDescriptor;i.f=e("./_descriptors")?f:function(d,m){if(d=o(d),m=u(m,!0),s)try{return f(d,m)}catch(h){}if(n(d,m))return t(!a.f.call(d,m),d[m])}},{"./_descriptors":190,"./_has":198,"./_ie8-dom-define":201,"./_object-pie":226,"./_property-desc":232,"./_to-iobject":247,"./_to-primitive":250}],220:[function(e,l,i){var a=e("./_to-iobject"),t=e("./_object-gopn").f,o={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(s){try{return t(s)}catch(f){return u.slice()}};l.exports.f=function(s){return u&&o.call(s)=="[object Window]"?n(s):t(a(s))}},{"./_object-gopn":221,"./_to-iobject":247}],221:[function(e,l,i){var a=e("./_object-keys-internal"),t=e("./_enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(o){return a(o,t)}},{"./_enum-bug-keys":192,"./_object-keys-internal":224}],222:[function(e,l,i){i.f=Object.getOwnPropertySymbols},{}],223:[function(e,l,i){var a=e("./_has"),t=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),u=Object.prototype;l.exports=Object.getPrototypeOf||function(n){return n=t(n),a(n,o)?n[o]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?u:null}},{"./_has":198,"./_shared-key":240,"./_to-object":249}],224:[function(e,l,i){var a=e("./_has"),t=e("./_to-iobject"),o=e("./_array-includes")(!1),u=e("./_shared-key")("IE_PROTO");l.exports=function(n,s){var f,d=t(n),m=0,h=[];for(f in d)f!=u&&a(d,f)&&h.push(f);for(;s.length>m;)a(d,f=s[m++])&&(~o(h,f)||h.push(f));return h}},{"./_array-includes":175,"./_has":198,"./_shared-key":240,"./_to-iobject":247}],225:[function(e,l,i){var a=e("./_object-keys-internal"),t=e("./_enum-bug-keys");l.exports=Object.keys||function(o){return a(o,t)}},{"./_enum-bug-keys":192,"./_object-keys-internal":224}],226:[function(e,l,i){i.f={}.propertyIsEnumerable},{}],227:[function(e,l,i){var a=e("./_export"),t=e("./_core"),o=e("./_fails");l.exports=function(u,n){var s=(t.Object||{})[u]||Object[u],f={};f[u]=n(s),a(a.S+a.F*o(function(){s(1)}),"Object",f)}},{"./_core":186,"./_export":194,"./_fails":195}],228:[function(e,l,i){var a=e("./_descriptors"),t=e("./_object-keys"),o=e("./_to-iobject"),u=e("./_object-pie").f;l.exports=function(n){return function(s){for(var f,d=o(s),m=t(d),h=m.length,_=0,y=[];h>_;)f=m[_++],a&&!u.call(d,f)||y.push(n?[f,d[f]]:d[f]);return y}}},{"./_descriptors":190,"./_object-keys":225,"./_object-pie":226,"./_to-iobject":247}],229:[function(e,l,i){var a=e("./_object-gopn"),t=e("./_object-gops"),o=e("./_an-object"),u=e("./_global").Reflect;l.exports=u&&u.ownKeys||function(n){var s=a.f(o(n)),f=t.f;return f?s.concat(f(n)):s}},{"./_an-object":173,"./_global":197,"./_object-gopn":221,"./_object-gops":222}],230:[function(e,l,i){var a=e("./_global").parseFloat,t=e("./_string-trim").trim;l.exports=1/a(e("./_string-ws")+"-0")!=-1/0?function(o){var u=t(String(o),3),n=a(u);return n===0&&u.charAt(0)=="-"?-0:n}:a},{"./_global":197,"./_string-trim":243,"./_string-ws":244}],231:[function(e,l,i){var a=e("./_global").parseInt,t=e("./_string-trim").trim,o=e("./_string-ws"),u=/^[-+]?0[xX]/;l.exports=a(o+"08")!==8||a(o+"0x16")!==22?function(n,s){var f=t(String(n),3);return a(f,s>>>0||(u.test(f)?16:10))}:a},{"./_global":197,"./_string-trim":243,"./_string-ws":244}],232:[function(e,l,i){l.exports=function(a,t){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:t}}},{}],233:[function(e,l,i){var a=e("./_hide");l.exports=function(t,o,u){for(var n in o)u&&t[n]?t[n]=o[n]:a(t,n,o[n]);return t}},{"./_hide":199}],234:[function(e,l,i){l.exports=e("./_hide")},{"./_hide":199}],235:[function(e,l,i){"use strict";var a=e("./_export"),t=e("./_a-function"),o=e("./_ctx"),u=e("./_for-of");l.exports=function(n){a(a.S,n,{from:function(s){var f,d,m,h,_=arguments[1];return t(this),f=_!==void 0,f&&t(_),s==null?new this:(d=[],f?(m=0,h=o(_,arguments[2],2),u(s,!1,function(y){d.push(h(y,m++))})):u(s,!1,d.push,d),new this(d))}})}},{"./_a-function":170,"./_ctx":188,"./_export":194,"./_for-of":196}],236:[function(e,l,i){"use strict";var a=e("./_export");l.exports=function(t){a(a.S,t,{of:function(){for(var o=arguments.length,u=new Array(o);o--;)u[o]=arguments[o];return new this(u)}})}},{"./_export":194}],237:[function(e,l,i){var a=e("./_is-object"),t=e("./_an-object"),o=function(u,n){if(t(u),!a(n)&&n!==null)throw TypeError(n+": can't set as prototype!")};l.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(u,n,s){try{s=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),s(u,[]),n=!(u instanceof Array)}catch(f){n=!0}return function(f,d){return o(f,d),n?f.__proto__=d:s(f,d),f}}({},!1):void 0),check:o}},{"./_an-object":173,"./_ctx":188,"./_is-object":206,"./_object-gopd":219}],238:[function(e,l,i){"use strict";var a=e("./_global"),t=e("./_core"),o=e("./_object-dp"),u=e("./_descriptors"),n=e("./_wks")("species");l.exports=function(s){var f=typeof t[s]=="function"?t[s]:a[s];u&&f&&!f[n]&&o.f(f,n,{configurable:!0,get:function(){return this}})}},{"./_core":186,"./_descriptors":190,"./_global":197,"./_object-dp":217,"./_wks":255}],239:[function(e,l,i){var a=e("./_object-dp").f,t=e("./_has"),o=e("./_wks")("toStringTag");l.exports=function(u,n,s){u&&!t(u=s?u:u.prototype,o)&&a(u,o,{configurable:!0,value:n})}},{"./_has":198,"./_object-dp":217,"./_wks":255}],240:[function(e,l,i){var a=e("./_shared")("keys"),t=e("./_uid");l.exports=function(o){return a[o]||(a[o]=t(o))}},{"./_shared":241,"./_uid":251}],241:[function(e,l,i){var a=e("./_core"),t=e("./_global"),o=t["__core-js_shared__"]||(t["__core-js_shared__"]={});(l.exports=function(u,n){return o[u]||(o[u]=n!==void 0?n:{})})("versions",[]).push({version:a.version,mode:e("./_library")?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"./_core":186,"./_global":197,"./_library":213}],242:[function(e,l,i){var a=e("./_to-integer"),t=e("./_defined");l.exports=function(o){return function(u,n){var s,f,d=String(t(u)),m=a(n),h=d.length;return m<0||m>=h?o?"":void 0:(s=d.charCodeAt(m),s<55296||s>56319||m+1===h||(f=d.charCodeAt(m+1))<56320||f>57343?o?d.charAt(m):s:o?d.slice(m,m+2):f-56320+(s-55296<<10)+65536)}}},{"./_defined":189,"./_to-integer":246}],243:[function(e,l,i){var a=e("./_export"),t=e("./_defined"),o=e("./_fails"),u=e("./_string-ws"),n="["+u+"]",s="\u200B\x85",f=RegExp("^"+n+n+"*"),d=RegExp(n+n+"*$"),m=function(_,y,S){var v={},T=o(function(){return!!u[_]()||s[_]()!=s}),E=v[_]=T?y(h):u[_];S&&(v[S]=E),a(a.P+a.F*T,"String",v)},h=m.trim=function(_,y){return _=String(t(_)),1&y&&(_=_.replace(f,"")),2&y&&(_=_.replace(d,"")),_};l.exports=m},{"./_defined":189,"./_export":194,"./_fails":195,"./_string-ws":244}],244:[function(e,l,i){l.exports=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],245:[function(e,l,i){var a=e("./_to-integer"),t=Math.max,o=Math.min;l.exports=function(u,n){return u=a(u),u<0?t(u+n,0):o(u,n)}},{"./_to-integer":246}],246:[function(e,l,i){var a=Math.ceil,t=Math.floor;l.exports=function(o){return isNaN(o=+o)?0:(o>0?t:a)(o)}},{}],247:[function(e,l,i){var a=e("./_iobject"),t=e("./_defined");l.exports=function(o){return a(t(o))}},{"./_defined":189,"./_iobject":203}],248:[function(e,l,i){var a=e("./_to-integer"),t=Math.min;l.exports=function(o){return o>0?t(a(o),9007199254740991):0}},{"./_to-integer":246}],249:[function(e,l,i){var a=e("./_defined");l.exports=function(t){return Object(a(t))}},{"./_defined":189}],250:[function(e,l,i){var a=e("./_is-object");l.exports=function(t,o){if(!a(t))return t;var u,n;if(o&&typeof(u=t.toString)=="function"&&!a(n=u.call(t))||typeof(u=t.valueOf)=="function"&&!a(n=u.call(t))||!o&&typeof(u=t.toString)=="function"&&!a(n=u.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":206}],251:[function(e,l,i){var a=0,t=Math.random();l.exports=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++a+t).toString(36))}},{}],252:[function(e,l,i){var a=e("./_is-object");l.exports=function(t,o){if(!a(t)||t._t!==o)throw TypeError("Incompatible receiver, "+o+" required!");return t}},{"./_is-object":206}],253:[function(e,l,i){var a=e("./_global"),t=e("./_core"),o=e("./_library"),u=e("./_wks-ext"),n=e("./_object-dp").f;l.exports=function(s){var f=t.Symbol||(t.Symbol=o?{}:a.Symbol||{});s.charAt(0)=="_"||s in f||n(f,s,{value:u.f(s)})}},{"./_core":186,"./_global":197,"./_library":213,"./_object-dp":217,"./_wks-ext":254}],254:[function(e,l,i){i.f=e("./_wks")},{"./_wks":255}],255:[function(e,l,i){var a=e("./_shared")("wks"),t=e("./_uid"),o=e("./_global").Symbol,u=typeof o=="function";(l.exports=function(n){return a[n]||(a[n]=u&&o[n]||(u?o:t)("Symbol."+n))}).store=a},{"./_global":197,"./_shared":241,"./_uid":251}],256:[function(e,l,i){var a=e("./_classof"),t=e("./_wks")("iterator"),o=e("./_iterators");l.exports=e("./_core").getIteratorMethod=function(u){if(u!=null)return u[t]||u["@@iterator"]||o[a(u)]}},{"./_classof":180,"./_core":186,"./_iterators":212,"./_wks":255}],257:[function(e,l,i){"use strict";var a=e("./_ctx"),t=e("./_export"),o=e("./_to-object"),u=e("./_iter-call"),n=e("./_is-array-iter"),s=e("./_to-length"),f=e("./_create-property"),d=e("./core.get-iterator-method");t(t.S+t.F*!e("./_iter-detect")(function(m){Array.from(m)}),"Array",{from:function(m){var h,_,y,S,v=o(m),T=typeof this=="function"?this:Array,E=arguments.length,I=E>1?arguments[1]:void 0,g=I!==void 0,k=0,j=d(v);if(g&&(I=a(I,E>2?arguments[2]:void 0,2)),j==null||T==Array&&n(j))for(h=s(v.length),_=new T(h);h>k;k++)f(_,k,g?I(v[k],k):v[k]);else for(S=j.call(v),_=new T;!(y=S.next()).done;k++)f(_,k,g?u(S,I,[y.value,k],!0):y.value);return _.length=k,_}})},{"./_create-property":187,"./_ctx":188,"./_export":194,"./_is-array-iter":204,"./_iter-call":207,"./_iter-detect":210,"./_to-length":248,"./_to-object":249,"./core.get-iterator-method":256}],258:[function(e,l,i){var a=e("./_export");a(a.S,"Array",{isArray:e("./_is-array")})},{"./_export":194,"./_is-array":205}],259:[function(e,l,i){"use strict";var a=e("./_add-to-unscopables"),t=e("./_iter-step"),o=e("./_iterators"),u=e("./_to-iobject");l.exports=e("./_iter-define")(Array,"Array",function(n,s){this._t=u(n),this._i=0,this._k=s},function(){var n=this._t,s=this._k,f=this._i++;return!n||f>=n.length?(this._t=void 0,t(1)):s=="keys"?t(0,f):s=="values"?t(0,n[f]):t(0,[f,n[f]])},"values"),o.Arguments=o.Array,a("keys"),a("values"),a("entries")},{"./_add-to-unscopables":171,"./_iter-define":209,"./_iter-step":211,"./_iterators":212,"./_to-iobject":247}],260:[function(e,l,i){var a=e("./_export");a(a.S,"Date",{now:function(){return new Date().getTime()}})},{"./_export":194}],261:[function(e,l,i){"use strict";var a=e("./_collection-strong"),t=e("./_validate-collection");l.exports=e("./_collection")("Map",function(o){return function(){return o(this,arguments.length>0?arguments[0]:void 0)}},{get:function(o){var u=a.getEntry(t(this,"Map"),o);return u&&u.v},set:function(o,u){return a.def(t(this,"Map"),o===0?0:o,u)}},a,!0)},{"./_collection":185,"./_collection-strong":182,"./_validate-collection":252}],262:[function(e,l,i){var a=e("./_export");a(a.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":194}],263:[function(e,l,i){var a=e("./_export");a(a.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":194}],264:[function(e,l,i){var a=e("./_export");a(a.S+a.F,"Object",{assign:e("./_object-assign")})},{"./_export":194,"./_object-assign":215}],265:[function(e,l,i){var a=e("./_export");a(a.S,"Object",{create:e("./_object-create")})},{"./_export":194,"./_object-create":216}],266:[function(e,l,i){var a=e("./_export");a(a.S+a.F*!e("./_descriptors"),"Object",{defineProperties:e("./_object-dps")})},{"./_descriptors":190,"./_export":194,"./_object-dps":218}],267:[function(e,l,i){var a=e("./_export");a(a.S+a.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":190,"./_export":194,"./_object-dp":217}],268:[function(e,l,i){var a=e("./_is-object"),t=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(o){return function(u){return o&&a(u)?o(t(u)):u}})},{"./_is-object":206,"./_meta":214,"./_object-sap":227}],269:[function(e,l,i){var a=e("./_to-iobject"),t=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(o,u){return t(a(o),u)}})},{"./_object-gopd":219,"./_object-sap":227,"./_to-iobject":247}],270:[function(e,l,i){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":220,"./_object-sap":227}],271:[function(e,l,i){var a=e("./_to-object"),t=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(o){return t(a(o))}})},{"./_object-gpo":223,"./_object-sap":227,"./_to-object":249}],272:[function(e,l,i){var a=e("./_to-object"),t=e("./_object-keys");e("./_object-sap")("keys",function(){return function(o){return t(a(o))}})},{"./_object-keys":225,"./_object-sap":227,"./_to-object":249}],273:[function(e,l,i){var a=e("./_export");a(a.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":194,"./_set-proto":237}],274:[function(e,l,i){},{}],275:[function(e,l,i){var a=e("./_export"),t=e("./_parse-float");a(a.G+a.F*(parseFloat!=t),{parseFloat:t})},{"./_export":194,"./_parse-float":230}],276:[function(e,l,i){var a=e("./_export"),t=e("./_parse-int");a(a.G+a.F*(parseInt!=t),{parseInt:t})},{"./_export":194,"./_parse-int":231}],277:[function(e,l,i){var a=e("./_export"),t=e("./_object-create"),o=e("./_a-function"),u=e("./_an-object"),n=e("./_is-object"),s=e("./_fails"),f=e("./_bind"),d=(e("./_global").Reflect||{}).construct,m=s(function(){function _(){}return!(d(function(){},[],_)instanceof _)}),h=!s(function(){d(function(){})});a(a.S+a.F*(m||h),"Reflect",{construct:function(_,y){o(_),u(y);var S=arguments.length<3?_:o(arguments[2]);if(h&&!m)return d(_,y,S);if(_==S){switch(y.length){case 0:return new _;case 1:return new _(y[0]);case 2:return new _(y[0],y[1]);case 3:return new _(y[0],y[1],y[2]);case 4:return new _(y[0],y[1],y[2],y[3])}var v=[null];return v.push.apply(v,y),new(f.apply(_,v))}var T=S.prototype,E=t(n(T)?T:Object.prototype),I=Function.apply.call(_,E,y);return n(I)?I:E}})},{"./_a-function":170,"./_an-object":173,"./_bind":179,"./_export":194,"./_fails":195,"./_global":197,"./_is-object":206,"./_object-create":216}],278:[function(e,l,i){function a(d,m){var h,_,y=arguments.length<3?d:arguments[2];return f(d)===y?d[m]:(h=t.f(d,m))?u(h,"value")?h.value:h.get!==void 0?h.get.call(y):void 0:s(_=o(d))?a(_,m,y):void 0}var t=e("./_object-gopd"),o=e("./_object-gpo"),u=e("./_has"),n=e("./_export"),s=e("./_is-object"),f=e("./_an-object");n(n.S,"Reflect",{get:a})},{"./_an-object":173,"./_export":194,"./_has":198,"./_is-object":206,"./_object-gopd":219,"./_object-gpo":223}],279:[function(e,l,i){"use strict";var a=e("./_collection-strong"),t=e("./_validate-collection");l.exports=e("./_collection")("Set",function(o){return function(){return o(this,arguments.length>0?arguments[0]:void 0)}},{add:function(o){return a.def(t(this,"Set"),o=o===0?0:o,o)}},a)},{"./_collection":185,"./_collection-strong":182,"./_validate-collection":252}],280:[function(e,l,i){"use strict";var a=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,o=this._t,u=this._i;return u>=o.length?{value:void 0,done:!0}:(t=a(o,u),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":209,"./_string-at":242}],281:[function(e,l,i){"use strict";var a=e("./_global"),t=e("./_has"),o=e("./_descriptors"),u=e("./_export"),n=e("./_redefine"),s=e("./_meta").KEY,f=e("./_fails"),d=e("./_shared"),m=e("./_set-to-string-tag"),h=e("./_uid"),_=e("./_wks"),y=e("./_wks-ext"),S=e("./_wks-define"),v=e("./_enum-keys"),T=e("./_is-array"),E=e("./_an-object"),I=e("./_is-object"),g=e("./_to-object"),k=e("./_to-iobject"),j=e("./_to-primitive"),x=e("./_property-desc"),A=e("./_object-create"),w=e("./_object-gopn-ext"),C=e("./_object-gopd"),O=e("./_object-gops"),V=e("./_object-dp"),R=e("./_object-keys"),P=C.f,B=V.f,z=w.f,Q=a.Symbol,N=a.JSON,K=N&&N.stringify,U=_("_hidden"),F=_("toPrimitive"),Z={}.propertyIsEnumerable,$=d("symbol-registry"),ne=d("symbols"),H=d("op-symbols"),X=Object.prototype,oe=typeof Q=="function"&&!!O.f,Y=a.QObject,se=!Y||!Y.prototype||!Y.prototype.findChild,ie=o&&f(function(){return A(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a!=7})?function(Be,Je,_t){var pt=P(X,Je);pt&&delete X[Je],B(Be,Je,_t),pt&&Be!==X&&B(X,Je,pt)}:B,L=function(Be){var Je=ne[Be]=A(Q.prototype);return Je._k=Be,Je},G=oe&&typeof Q.iterator=="symbol"?function(Be){return typeof Be=="symbol"}:function(Be){return Be instanceof Q},le=function(Be,Je,_t){return Be===X&&le(H,Je,_t),E(Be),Je=j(Je,!0),E(_t),t(ne,Je)?(_t.enumerable?(t(Be,U)&&Be[U][Je]&&(Be[U][Je]=!1),_t=A(_t,{enumerable:x(0,!1)})):(t(Be,U)||B(Be,U,x(1,{})),Be[U][Je]=!0),ie(Be,Je,_t)):B(Be,Je,_t)},pe=function(Be,Je){E(Be);for(var _t,pt=v(Je=k(Je)),Et=0,It=pt.length;It>Et;)le(Be,_t=pt[Et++],Je[_t]);return Be},we=function(Be,Je){return Je===void 0?A(Be):pe(A(Be),Je)},ye=function(Be){var Je=Z.call(this,Be=j(Be,!0));return!(this===X&&t(ne,Be)&&!t(H,Be))&&(!(Je||!t(this,Be)||!t(ne,Be)||t(this,U)&&this[U][Be])||Je)},W=function(Be,Je){if(Be=k(Be),Je=j(Je,!0),Be!==X||!t(ne,Je)||t(H,Je)){var _t=P(Be,Je);return!_t||!t(ne,Je)||t(Be,U)&&Be[U][Je]||(_t.enumerable=!0),_t}},te=function(Be){for(var Je,_t=z(k(Be)),pt=[],Et=0;_t.length>Et;)t(ne,Je=_t[Et++])||Je==U||Je==s||pt.push(Je);return pt},ce=function(Be){for(var Je,_t=Be===X,pt=z(_t?H:k(Be)),Et=[],It=0;pt.length>It;)!t(ne,Je=pt[It++])||_t&&!t(X,Je)||Et.push(ne[Je]);return Et};oe||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor!");var Be=h(arguments.length>0?arguments[0]:void 0),Je=function(_t){this===X&&Je.call(H,_t),t(this,U)&&t(this[U],Be)&&(this[U][Be]=!1),ie(this,Be,x(1,_t))};return o&&se&&ie(X,Be,{configurable:!0,set:Je}),L(Be)},n(Q.prototype,"toString",function(){return this._k}),C.f=W,V.f=le,e("./_object-gopn").f=w.f=te,e("./_object-pie").f=ye,O.f=ce,o&&!e("./_library")&&n(X,"propertyIsEnumerable",ye,!0),y.f=function(Be){return L(_(Be))}),u(u.G+u.W+u.F*!oe,{Symbol:Q});for(var je="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),be=0;je.length>be;)_(je[be++]);for(var Ne=R(_.store),He=0;Ne.length>He;)S(Ne[He++]);u(u.S+u.F*!oe,"Symbol",{for:function(Be){return t($,Be+="")?$[Be]:$[Be]=Q(Be)},keyFor:function(Be){if(!G(Be))throw TypeError(Be+" is not a symbol!");for(var Je in $)if($[Je]===Be)return Je},useSetter:function(){se=!0},useSimple:function(){se=!1}}),u(u.S+u.F*!oe,"Object",{create:we,defineProperty:le,defineProperties:pe,getOwnPropertyDescriptor:W,getOwnPropertyNames:te,getOwnPropertySymbols:ce});var Qe=f(function(){O.f(1)});u(u.S+u.F*Qe,"Object",{getOwnPropertySymbols:function(Be){return O.f(g(Be))}}),N&&u(u.S+u.F*(!oe||f(function(){var Be=Q();return K([Be])!="[null]"||K({a:Be})!="{}"||K(Object(Be))!="{}"})),"JSON",{stringify:function(Be){for(var Je,_t,pt=[Be],Et=1;arguments.length>Et;)pt.push(arguments[Et++]);if(_t=Je=pt[1],(I(Je)||Be!==void 0)&&!G(Be))return T(Je)||(Je=function(It,Qt){if(typeof _t=="function"&&(Qt=_t.call(this,It,Qt)),!G(Qt))return Qt}),pt[1]=Je,K.apply(N,pt)}}),Q.prototype[F]||e("./_hide")(Q.prototype,F,Q.prototype.valueOf),m(Q,"Symbol"),m(Math,"Math",!0),m(a.JSON,"JSON",!0)},{"./_an-object":173,"./_descriptors":190,"./_enum-keys":193,"./_export":194,"./_fails":195,"./_global":197,"./_has":198,"./_hide":199,"./_is-array":205,"./_is-object":206,"./_library":213,"./_meta":214,"./_object-create":216,"./_object-dp":217,"./_object-gopd":219,"./_object-gopn":221,"./_object-gopn-ext":220,"./_object-gops":222,"./_object-keys":225,"./_object-pie":226,"./_property-desc":232,"./_redefine":234,"./_set-to-string-tag":239,"./_shared":241,"./_to-iobject":247,"./_to-object":249,"./_to-primitive":250,"./_uid":251,"./_wks":255,"./_wks-define":253,"./_wks-ext":254}],282:[function(e,l,i){"use strict";var a,t=e("./_global"),o=e("./_array-methods")(0),u=e("./_redefine"),n=e("./_meta"),s=e("./_object-assign"),f=e("./_collection-weak"),d=e("./_is-object"),m=e("./_validate-collection"),h=e("./_validate-collection"),_=!t.ActiveXObject&&"ActiveXObject"in t,y=n.getWeak,S=Object.isExtensible,v=f.ufstore,T=function(g){return function(){return g(this,arguments.length>0?arguments[0]:void 0)}},E={get:function(g){if(d(g)){var k=y(g);return k===!0?v(m(this,"WeakMap")).get(g):k?k[this._i]:void 0}},set:function(g,k){return f.def(m(this,"WeakMap"),g,k)}},I=l.exports=e("./_collection")("WeakMap",T,E,f,!0,!0);h&&_&&(a=f.getConstructor(T,"WeakMap"),s(a.prototype,E),n.NEED=!0,o(["delete","has","get","set"],function(g){var k=I.prototype,j=k[g];u(k,g,function(x,A){if(d(x)&&!S(x)){this._f||(this._f=new a);var w=this._f[g](x,A);return g=="set"?this:w}return j.call(this,x,A)})}))},{"./_array-methods":176,"./_collection":185,"./_collection-weak":184,"./_global":197,"./_is-object":206,"./_meta":214,"./_object-assign":215,"./_redefine":234,"./_validate-collection":252}],283:[function(e,l,i){"use strict";var a=e("./_collection-weak"),t=e("./_validate-collection");e("./_collection")("WeakSet",function(o){return function(){return o(this,arguments.length>0?arguments[0]:void 0)}},{add:function(o){return a.def(t(this,"WeakSet"),o,!0)}},a,!1,!0)},{"./_collection":185,"./_collection-weak":184,"./_validate-collection":252}],284:[function(e,l,i){e("./_set-collection-from")("Map")},{"./_set-collection-from":235}],285:[function(e,l,i){e("./_set-collection-of")("Map")},{"./_set-collection-of":236}],286:[function(e,l,i){var a=e("./_export");a(a.P+a.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":183,"./_export":194}],287:[function(e,l,i){var a=e("./_export"),t=e("./_object-to-array")(!0);a(a.S,"Object",{entries:function(o){return t(o)}})},{"./_export":194,"./_object-to-array":228}],288:[function(e,l,i){var a=e("./_export"),t=e("./_own-keys"),o=e("./_to-iobject"),u=e("./_object-gopd"),n=e("./_create-property");a(a.S,"Object",{getOwnPropertyDescriptors:function(s){for(var f,d,m=o(s),h=u.f,_=t(m),y={},S=0;_.length>S;)(d=h(m,f=_[S++]))!==void 0&&n(y,f,d);return y}})},{"./_create-property":187,"./_export":194,"./_object-gopd":219,"./_own-keys":229,"./_to-iobject":247}],289:[function(e,l,i){var a=e("./_export"),t=e("./_object-to-array")(!1);a(a.S,"Object",{values:function(o){return t(o)}})},{"./_export":194,"./_object-to-array":228}],290:[function(e,l,i){e("./_set-collection-from")("Set")},{"./_set-collection-from":235}],291:[function(e,l,i){e("./_set-collection-of")("Set")},{"./_set-collection-of":236}],292:[function(e,l,i){var a=e("./_export");a(a.P+a.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":183,"./_export":194}],293:[function(e,l,i){e("./_wks-define")("asyncIterator")},{"./_wks-define":253}],294:[function(e,l,i){e("./_wks-define")("observable")},{"./_wks-define":253}],295:[function(e,l,i){e("./_set-collection-from")("WeakMap")},{"./_set-collection-from":235}],296:[function(e,l,i){e("./_set-collection-of")("WeakMap")},{"./_set-collection-of":236}],297:[function(e,l,i){e("./_set-collection-from")("WeakSet")},{"./_set-collection-from":235}],298:[function(e,l,i){e("./_set-collection-of")("WeakSet")},{"./_set-collection-of":236}],299:[function(e,l,i){e("./es6.array.iterator");for(var a=e("./_global"),t=e("./_hide"),o=e("./_iterators"),u=e("./_wks")("toStringTag"),n="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<n.length;s++){var f=n[s],d=a[f],m=d&&d.prototype;m&&!m[u]&&t(m,u,f),o[f]=o.Array}},{"./_global":197,"./_hide":199,"./_iterators":212,"./_wks":255,"./es6.array.iterator":259}],300:[function(e,l,i){(function(a){"use strict";function t(ae){var de,_e,he,Ee=ae.length-1,ke="",Ve=ae[0];if(Ee>0){for(ke+=Ve,de=1;de<Ee;de++)he=ae[de]+"",_e=xt-he.length,_e&&(ke+=S(_e)),ke+=he;Ve=ae[de],he=Ve+"",_e=xt-he.length,_e&&(ke+=S(_e))}else if(Ve===0)return"0";for(;Ve%10==0;)Ve/=10;return ke+Ve}function o(ae,de,_e){if(ae!==~~ae||ae<de||ae>_e)throw Error($e+ae)}function u(ae,de,_e,he){var Ee,ke,Ve,ze;for(ke=ae[0];ke>=10;ke/=10)--de;return--de<0?(de+=xt,Ee=0):(Ee=Math.ceil((de+1)/xt),de%=xt),ke=Wt(10,xt-de),ze=ae[Ee]%ke|0,he==null?de<3?(de==0?ze=ze/100|0:de==1&&(ze=ze/10|0),Ve=_e<4&&ze==99999||_e>3&&ze==49999||ze==5e4||ze==0):Ve=(_e<4&&ze+1==ke||_e>3&&ze+1==ke/2)&&(ae[Ee+1]/ke/100|0)==Wt(10,de-2)-1||(ze==ke/2||ze==0)&&(ae[Ee+1]/ke/100|0)==0:de<4?(de==0?ze=ze/1e3|0:de==1?ze=ze/100|0:de==2&&(ze=ze/10|0),Ve=(he||_e<4)&&ze==9999||!he&&_e>3&&ze==4999):Ve=((he||_e<4)&&ze+1==ke||!he&&_e>3&&ze+1==ke/2)&&(ae[Ee+1]/ke/1e3|0)==Wt(10,de-3)-1,Ve}function n(ae,de,_e){for(var he,Ee,ke=[0],Ve=0,ze=ae.length;Ve<ze;){for(Ee=ke.length;Ee--;)ke[Ee]*=de;for(ke[0]+=Gt.indexOf(ae.charAt(Ve++)),he=0;he<ke.length;he++)ke[he]>_e-1&&(ke[he+1]===void 0&&(ke[he+1]=0),ke[he+1]+=ke[he]/_e|0,ke[he]%=_e)}return ke.reverse()}function s(ae,de){var _e,he,Ee=de.d.length;Ee<32?(_e=Math.ceil(Ee/3),he=(1/C(4,_e)).toString()):(_e=16,he="2.3283064365386962890625e-10"),ae.precision+=_e,de=w(ae,1,de.times(he),new ae(1));for(var ke=_e;ke--;){var Ve=de.times(de);de=Ve.times(Ve).minus(Ve).times(8).plus(1)}return ae.precision-=_e,de}function f(ae,de,_e,he){var Ee,ke,Ve,ze,qe,Me,We,rt,gt,$t=ae.constructor;e:if(de!=null){if(!(rt=ae.d))return ae;for(Ee=1,ze=rt[0];ze>=10;ze/=10)Ee++;if((ke=de-Ee)<0)ke+=xt,Ve=de,We=rt[gt=0],qe=We/Wt(10,Ee-Ve-1)%10|0;else if(gt=Math.ceil((ke+1)/xt),ze=rt.length,gt>=ze){if(!he)break e;for(;ze++<=gt;)rt.push(0);We=qe=0,Ee=1,ke%=xt,Ve=ke-xt+1}else{for(We=ze=rt[gt],Ee=1;ze>=10;ze/=10)Ee++;ke%=xt,Ve=ke-xt+Ee,qe=Ve<0?0:We/Wt(10,Ee-Ve-1)%10|0}if(he=he||de<0||rt[gt+1]!==void 0||(Ve<0?We:We%Wt(10,Ee-Ve-1)),Me=_e<4?(qe||he)&&(_e==0||_e==(ae.s<0?3:2)):qe>5||qe==5&&(_e==4||he||_e==6&&(ke>0?Ve>0?We/Wt(10,Ee-Ve):0:rt[gt-1])%10&1||_e==(ae.s<0?8:7)),de<1||!rt[0])return rt.length=0,Me?(de-=ae.e+1,rt[0]=Wt(10,(xt-de%xt)%xt),ae.e=-de||0):rt[0]=ae.e=0,ae;if(ke==0?(rt.length=gt,ze=1,gt--):(rt.length=gt+1,ze=Wt(10,xt-ke),rt[gt]=Ve>0?(We/Wt(10,Ee-Ve)%Wt(10,Ve)|0)*ze:0),Me)for(;;){if(gt==0){for(ke=1,Ve=rt[0];Ve>=10;Ve/=10)ke++;for(Ve=rt[0]+=ze,ze=1;Ve>=10;Ve/=10)ze++;ke!=ze&&(ae.e++,rt[0]==Un&&(rt[0]=1));break}if(rt[gt]+=ze,rt[gt]!=Un)break;rt[gt--]=0,ze=1}for(ke=rt.length;rt[--ke]===0;)rt.pop()}return Tt&&(ae.e>$t.maxE?(ae.d=null,ae.e=NaN):ae.e<$t.minE&&(ae.e=0,ae.d=[0])),ae}function d(ae,de,_e){if(!ae.isFinite())return k(ae);var he,Ee=ae.e,ke=t(ae.d),Ve=ke.length;return de?(_e&&(he=_e-Ve)>0?ke=ke.charAt(0)+"."+ke.slice(1)+S(he):Ve>1&&(ke=ke.charAt(0)+"."+ke.slice(1)),ke=ke+(ae.e<0?"e":"e+")+ae.e):Ee<0?(ke="0."+S(-Ee-1)+ke,_e&&(he=_e-Ve)>0&&(ke+=S(he))):Ee>=Ve?(ke+=S(Ee+1-Ve),_e&&(he=_e-Ee-1)>0&&(ke=ke+"."+S(he))):((he=Ee+1)<Ve&&(ke=ke.slice(0,he)+"."+ke.slice(he)),_e&&(he=_e-Ve)>0&&(Ee+1===Ve&&(ke+="."),ke+=S(he))),ke}function m(ae,de){var _e=ae[0];for(de*=xt;_e>=10;_e/=10)de++;return de}function h(ae,de,_e){if(de>Rt)throw Tt=!0,_e&&(ae.precision=_e),Error(St);return f(new ae(Vt),de,1,!0)}function _(ae,de,_e){if(de>Ae)throw Error(St);return f(new ae(dn),de,_e,!0)}function y(ae){var de=ae.length-1,_e=de*xt+1;if(de=ae[de]){for(;de%10==0;de/=10)_e--;for(de=ae[0];de>=10;de/=10)_e++}return _e}function S(ae){for(var de="";ae--;)de+="0";return de}function v(ae,de,_e,he){var Ee,ke=new ae(1),Ve=Math.ceil(he/xt+4);for(Tt=!1;;){if(_e%2&&(ke=ke.times(de),R(ke.d,Ve)&&(Ee=!0)),(_e=Ht(_e/2))===0){_e=ke.d.length-1,Ee&&ke.d[_e]===0&&++ke.d[_e];break}de=de.times(de),R(de.d,Ve)}return Tt=!0,ke}function T(ae){return 1&ae.d[ae.d.length-1]}function E(ae,de,_e){for(var he,Ee=new ae(de[0]),ke=0;++ke<de.length;){if(he=new ae(de[ke]),!he.s){Ee=he;break}Ee[_e](he)&&(Ee=he)}return Ee}function I(ae,de){var _e,he,Ee,ke,Ve,ze,qe,Me=0,We=0,rt=0,gt=ae.constructor,$t=gt.rounding,Zt=gt.precision;if(!ae.d||!ae.d[0]||ae.e>17)return new gt(ae.d?ae.d[0]?ae.s<0?0:1/0:1:ae.s?ae.s<0?0:ae:NaN);for(de==null?(Tt=!1,qe=Zt):qe=de,ze=new gt(.03125);ae.e>-2;)ae=ae.times(ze),rt+=5;for(he=Math.log(Wt(2,rt))/Math.LN10*2+5|0,qe+=he,_e=ke=Ve=new gt(1),gt.precision=qe;;){if(ke=f(ke.times(ae),qe,1),_e=_e.times(++We),ze=Ve.plus(et(ke,_e,qe,1)),t(ze.d).slice(0,qe)===t(Ve.d).slice(0,qe)){for(Ee=rt;Ee--;)Ve=f(Ve.times(Ve),qe,1);if(de!=null)return gt.precision=Zt,Ve;if(!(Me<3&&u(Ve.d,qe-he,$t,Me)))return f(Ve,gt.precision=Zt,$t,Tt=!0);gt.precision=qe+=10,_e=ke=ze=new gt(1),We=0,Me++}Ve=ze}}function g(ae,de){var _e,he,Ee,ke,Ve,ze,qe,Me,We,rt,gt,$t=1,Zt=ae,mn=Zt.d,hn=Zt.constructor,mr=hn.rounding,Mn=hn.precision;if(Zt.s<0||!mn||!mn[0]||!Zt.e&&mn[0]==1&&mn.length==1)return new hn(mn&&!mn[0]?-1/0:Zt.s!=1?NaN:mn?0:Zt);if(de==null?(Tt=!1,We=Mn):We=de,hn.precision=We+=10,_e=t(mn),he=_e.charAt(0),!(Math.abs(ke=Zt.e)<15e14))return Me=h(hn,We+2,Mn).times(ke+""),Zt=g(new hn(he+"."+_e.slice(1)),We-10).plus(Me),hn.precision=Mn,de==null?f(Zt,Mn,mr,Tt=!0):Zt;for(;he<7&&he!=1||he==1&&_e.charAt(1)>3;)Zt=Zt.times(ae),_e=t(Zt.d),he=_e.charAt(0),$t++;for(ke=Zt.e,he>1?(Zt=new hn("0."+_e),ke++):Zt=new hn(he+"."+_e.slice(1)),rt=Zt,qe=Ve=Zt=et(Zt.minus(1),Zt.plus(1),We,1),gt=f(Zt.times(Zt),We,1),Ee=3;;){if(Ve=f(Ve.times(gt),We,1),Me=qe.plus(et(Ve,new hn(Ee),We,1)),t(Me.d).slice(0,We)===t(qe.d).slice(0,We)){if(qe=qe.times(2),ke!==0&&(qe=qe.plus(h(hn,We+2,Mn).times(ke+""))),qe=et(qe,new hn($t),We,1),de!=null)return hn.precision=Mn,qe;if(!u(qe.d,We-10,mr,ze))return f(qe,hn.precision=Mn,mr,Tt=!0);hn.precision=We+=10,Me=Ve=Zt=et(rt.minus(1),rt.plus(1),We,1),gt=f(Zt.times(Zt),We,1),Ee=ze=1}qe=Me,Ee+=2}}function k(ae){return String(ae.s*ae.s/0)}function j(ae,de){var _e,he,Ee;for((_e=de.indexOf("."))>-1&&(de=de.replace(".","")),(he=de.search(/e/i))>0?(_e<0&&(_e=he),_e+=+de.slice(he+1),de=de.substring(0,he)):_e<0&&(_e=de.length),he=0;de.charCodeAt(he)===48;he++);for(Ee=de.length;de.charCodeAt(Ee-1)===48;--Ee);if(de=de.slice(he,Ee)){if(Ee-=he,ae.e=_e=_e-he-1,ae.d=[],he=(_e+1)%xt,_e<0&&(he+=xt),he<Ee){for(he&&ae.d.push(+de.slice(0,he)),Ee-=xt;he<Ee;)ae.d.push(+de.slice(he,he+=xt));de=de.slice(he),he=xt-de.length}else he-=Ee;for(;he--;)de+="0";ae.d.push(+de),Tt&&(ae.e>ae.constructor.maxE?(ae.d=null,ae.e=NaN):ae.e<ae.constructor.minE&&(ae.e=0,ae.d=[0]))}else ae.e=0,ae.d=[0];return ae}function x(ae,de){var _e,he,Ee,ke,Ve,ze,qe,Me,We;if(de==="Infinity"||de==="NaN")return+de||(ae.s=NaN),ae.e=NaN,ae.d=null,ae;if(Sn.test(de))_e=16,de=de.toLowerCase();else if(Pn.test(de))_e=2;else{if(!sr.test(de))throw Error($e+de);_e=8}for(ke=de.search(/p/i),ke>0?(qe=+de.slice(ke+1),de=de.substring(2,ke)):de=de.slice(2),ke=de.indexOf("."),Ve=ke>=0,he=ae.constructor,Ve&&(de=de.replace(".",""),ze=de.length,ke=ze-ke,Ee=v(he,new he(_e),ke,2*ke)),Me=n(de,_e,Un),We=Me.length-1,ke=We;Me[ke]===0;--ke)Me.pop();return ke<0?new he(0*ae.s):(ae.e=m(Me,We),ae.d=Me,Tt=!1,Ve&&(ae=et(ae,Ee,4*ze)),qe&&(ae=ae.times(Math.abs(qe)<54?Wt(2,qe):Pt.pow(2,qe))),Tt=!0,ae)}function A(ae,de){var _e,he=de.d.length;if(he<3)return w(ae,2,de,de);_e=1.4*Math.sqrt(he),_e=_e>16?16:0|_e,de=de.times(1/C(5,_e)),de=w(ae,2,de,de);for(var Ee,ke=new ae(5),Ve=new ae(16),ze=new ae(20);_e--;)Ee=de.times(de),de=de.times(ke.plus(Ee.times(Ve.times(Ee).minus(ze))));return de}function w(ae,de,_e,he,Ee){var ke,Ve,ze,qe,Me=1,We=ae.precision,rt=Math.ceil(We/xt);for(Tt=!1,qe=_e.times(_e),ze=new ae(he);;){if(Ve=et(ze.times(qe),new ae(de++*de++),We,1),ze=Ee?he.plus(Ve):he.minus(Ve),he=et(Ve.times(qe),new ae(de++*de++),We,1),Ve=ze.plus(he),Ve.d[rt]!==void 0){for(ke=rt;Ve.d[ke]===ze.d[ke]&&ke--;);if(ke==-1)break}ke=ze,ze=he,he=Ve,Ve=ke,Me++}return Tt=!0,Ve.d.length=rt+1,Ve}function C(ae,de){for(var _e=ae;--de;)_e*=ae;return _e}function O(ae,de){var _e,he=de.s<0,Ee=_(ae,ae.precision,1),ke=Ee.times(.5);if(de=de.abs(),de.lte(ke))return Oe=he?4:1,de;if(_e=de.divToInt(Ee),_e.isZero())Oe=he?3:2;else{if(de=de.minus(_e.times(Ee)),de.lte(ke))return Oe=T(_e)?he?2:3:he?4:1,de;Oe=T(_e)?he?1:4:he?3:2}return de.minus(Ee).abs()}function V(ae,de,_e,he){var Ee,ke,Ve,ze,qe,Me,We,rt,gt,$t=ae.constructor,Zt=_e!==void 0;if(Zt?(o(_e,1,bt),he===void 0?he=$t.rounding:o(he,0,8)):(_e=$t.precision,he=$t.rounding),ae.isFinite()){for(We=d(ae),Ve=We.indexOf("."),Zt?(Ee=2,de==16?_e=4*_e-3:de==8&&(_e=3*_e-2)):Ee=de,Ve>=0&&(We=We.replace(".",""),gt=new $t(1),gt.e=We.length-Ve,gt.d=n(d(gt),10,Ee),gt.e=gt.d.length),rt=n(We,10,Ee),ke=qe=rt.length;rt[--qe]==0;)rt.pop();if(rt[0]){if(Ve<0?ke--:(ae=new $t(ae),ae.d=rt,ae.e=ke,ae=et(ae,gt,_e,he,0,Ee),rt=ae.d,ke=ae.e,Me=At),Ve=rt[_e],ze=Ee/2,Me=Me||rt[_e+1]!==void 0,Me=he<4?(Ve!==void 0||Me)&&(he===0||he===(ae.s<0?3:2)):Ve>ze||Ve===ze&&(he===4||Me||he===6&&1&rt[_e-1]||he===(ae.s<0?8:7)),rt.length=_e,Me)for(;++rt[--_e]>Ee-1;)rt[_e]=0,_e||(++ke,rt.unshift(1));for(qe=rt.length;!rt[qe-1];--qe);for(Ve=0,We="";Ve<qe;Ve++)We+=Gt.charAt(rt[Ve]);if(Zt){if(qe>1)if(de==16||de==8){for(Ve=de==16?4:3,--qe;qe%Ve;qe++)We+="0";for(rt=n(We,Ee,de),qe=rt.length;!rt[qe-1];--qe);for(Ve=1,We="1.";Ve<qe;Ve++)We+=Gt.charAt(rt[Ve])}else We=We.charAt(0)+"."+We.slice(1);We=We+(ke<0?"p":"p+")+ke}else if(ke<0){for(;++ke;)We="0"+We;We="0."+We}else if(++ke>qe)for(ke-=qe;ke--;)We+="0";else ke<qe&&(We=We.slice(0,ke)+"."+We.slice(ke))}else We=Zt?"0p+0":"0";We=(de==16?"0x":de==2?"0b":de==8?"0o":"")+We}else We=k(ae);return ae.s<0?"-"+We:We}function R(ae,de){if(ae.length>de)return ae.length=de,!0}function P(ae){return new this(ae).abs()}function B(ae){return new this(ae).acos()}function z(ae){return new this(ae).acosh()}function Q(ae,de){return new this(ae).plus(de)}function N(ae){return new this(ae).asin()}function K(ae){return new this(ae).asinh()}function U(ae){return new this(ae).atan()}function F(ae){return new this(ae).atanh()}function Z(ae,de){ae=new this(ae),de=new this(de);var _e,he=this.precision,Ee=this.rounding,ke=he+4;return ae.s&&de.s?ae.d||de.d?!de.d||ae.isZero()?(_e=de.s<0?_(this,he,Ee):new this(0),_e.s=ae.s):!ae.d||de.isZero()?(_e=_(this,ke,1).times(.5),_e.s=ae.s):de.s<0?(this.precision=ke,this.rounding=1,_e=this.atan(et(ae,de,ke,1)),de=_(this,ke,1),this.precision=he,this.rounding=Ee,_e=ae.s<0?_e.minus(de):_e.plus(de)):_e=this.atan(et(ae,de,ke,1)):(_e=_(this,ke,1).times(de.s>0?.25:.75),_e.s=ae.s):_e=new this(NaN),_e}function $(ae){return new this(ae).cbrt()}function ne(ae){return f(ae=new this(ae),ae.e+1,2)}function H(ae){if(!ae||typeof ae!="object")throw Error(In+"Object expected");var de,_e,he,Ee=ae.defaults===!0,ke=["precision",1,bt,"rounding",0,8,"toExpNeg",-at,0,"toExpPos",0,at,"maxE",0,at,"minE",-at,0,"modulo",0,9];for(de=0;de<ke.length;de+=3)if(_e=ke[de],Ee&&(this[_e]=Cn[_e]),(he=ae[_e])!==void 0){if(!(Ht(he)===he&&he>=ke[de+1]&&he<=ke[de+2]))throw Error($e+_e+": "+he);this[_e]=he}if(_e="crypto",Ee&&(this[_e]=Cn[_e]),(he=ae[_e])!==void 0){if(he!==!0&&he!==!1&&he!==0&&he!==1)throw Error($e+_e+": "+he);if(he){if(typeof crypto=="undefined"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Yt);this[_e]=!0}else this[_e]=!1}return this}function X(ae){return new this(ae).cos()}function oe(ae){return new this(ae).cosh()}function Y(ae){function de(ke){var Ve,ze,qe,Me=this;if(!(Me instanceof de))return new de(ke);if(Me.constructor=de,ke instanceof de)return Me.s=ke.s,void(Tt?!ke.d||ke.e>de.maxE?(Me.e=NaN,Me.d=null):ke.e<de.minE?(Me.e=0,Me.d=[0]):(Me.e=ke.e,Me.d=ke.d.slice()):(Me.e=ke.e,Me.d=ke.d?ke.d.slice():ke.d));if((qe=typeof ke)=="number"){if(ke===0)return Me.s=1/ke<0?-1:1,Me.e=0,void(Me.d=[0]);if(ke<0?(ke=-ke,Me.s=-1):Me.s=1,ke===~~ke&&ke<1e7){for(Ve=0,ze=ke;ze>=10;ze/=10)Ve++;return void(Tt?Ve>de.maxE?(Me.e=NaN,Me.d=null):Ve<de.minE?(Me.e=0,Me.d=[0]):(Me.e=Ve,Me.d=[ke]):(Me.e=Ve,Me.d=[ke]))}return 0*ke!=0?(ke||(Me.s=NaN),Me.e=NaN,void(Me.d=null)):j(Me,ke.toString())}if(qe!=="string")throw Error($e+ke);return(ze=ke.charCodeAt(0))===45?(ke=ke.slice(1),Me.s=-1):(ze===43&&(ke=ke.slice(1)),Me.s=1),lr.test(ke)?j(Me,ke):x(Me,ke)}var _e,he,Ee;if(de.prototype=De,de.ROUND_UP=0,de.ROUND_DOWN=1,de.ROUND_CEIL=2,de.ROUND_FLOOR=3,de.ROUND_HALF_UP=4,de.ROUND_HALF_DOWN=5,de.ROUND_HALF_EVEN=6,de.ROUND_HALF_CEIL=7,de.ROUND_HALF_FLOOR=8,de.EUCLID=9,de.config=de.set=H,de.clone=Y,de.isDecimal=le,de.abs=P,de.acos=B,de.acosh=z,de.add=Q,de.asin=N,de.asinh=K,de.atan=U,de.atanh=F,de.atan2=Z,de.cbrt=$,de.ceil=ne,de.cos=X,de.cosh=oe,de.div=se,de.exp=ie,de.floor=L,de.hypot=G,de.ln=pe,de.log=we,de.log10=W,de.log2=ye,de.max=te,de.min=ce,de.mod=je,de.mul=be,de.pow=Ne,de.random=He,de.round=Qe,de.sign=Be,de.sin=Je,de.sinh=_t,de.sqrt=pt,de.sub=Et,de.tan=It,de.tanh=Qt,de.trunc=jt,ae===void 0&&(ae={}),ae&&ae.defaults!==!0)for(Ee=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],_e=0;_e<Ee.length;)ae.hasOwnProperty(he=Ee[_e++])||(ae[he]=this[he]);return de.config(ae),de}function se(ae,de){return new this(ae).div(de)}function ie(ae){return new this(ae).exp()}function L(ae){return f(ae=new this(ae),ae.e+1,3)}function G(){var ae,de,_e=new this(0);for(Tt=!1,ae=0;ae<arguments.length;)if(de=new this(arguments[ae++]),de.d)_e.d&&(_e=_e.plus(de.times(de)));else{if(de.s)return Tt=!0,new this(1/0);_e=de}return Tt=!0,_e.sqrt()}function le(ae){return ae instanceof Pt||ae&&ae.name==="[object Decimal]"||!1}function pe(ae){return new this(ae).ln()}function we(ae,de){return new this(ae).log(de)}function ye(ae){return new this(ae).log(2)}function W(ae){return new this(ae).log(10)}function te(){return E(this,arguments,"lt")}function ce(){return E(this,arguments,"gt")}function je(ae,de){return new this(ae).mod(de)}function be(ae,de){return new this(ae).mul(de)}function Ne(ae,de){return new this(ae).pow(de)}function He(ae){var de,_e,he,Ee,ke=0,Ve=new this(1),ze=[];if(ae===void 0?ae=this.precision:o(ae,1,bt),he=Math.ceil(ae/xt),this.crypto)if(crypto.getRandomValues)for(de=crypto.getRandomValues(new Uint32Array(he));ke<he;)Ee=de[ke],Ee>=429e7?de[ke]=crypto.getRandomValues(new Uint32Array(1))[0]:ze[ke++]=Ee%1e7;else{if(!crypto.randomBytes)throw Error(Yt);for(de=crypto.randomBytes(he*=4);ke<he;)Ee=de[ke]+(de[ke+1]<<8)+(de[ke+2]<<16)+((127&de[ke+3])<<24),Ee>=214e7?crypto.randomBytes(4).copy(de,ke):(ze.push(Ee%1e7),ke+=4);ke=he/4}else for(;ke<he;)ze[ke++]=1e7*Math.random()|0;for(he=ze[--ke],ae%=xt,he&&ae&&(Ee=Wt(10,xt-ae),ze[ke]=(he/Ee|0)*Ee);ze[ke]===0;ke--)ze.pop();if(ke<0)_e=0,ze=[0];else{for(_e=-1;ze[0]===0;_e-=xt)ze.shift();for(he=1,Ee=ze[0];Ee>=10;Ee/=10)he++;he<xt&&(_e-=xt-he)}return Ve.e=_e,Ve.d=ze,Ve}function Qe(ae){return f(ae=new this(ae),ae.e+1,this.rounding)}function Be(ae){return ae=new this(ae),ae.d?ae.d[0]?ae.s:0*ae.s:ae.s||NaN}function Je(ae){return new this(ae).sin()}function _t(ae){return new this(ae).sinh()}function pt(ae){return new this(ae).sqrt()}function Et(ae,de){return new this(ae).sub(de)}function It(ae){return new this(ae).tan()}function Qt(ae){return new this(ae).tanh()}function jt(ae){return f(ae=new this(ae),ae.e+1,1)}var Pt,At,Ce,Oe,at=9e15,bt=1e9,Gt="0123456789abcdef",Vt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",dn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Cn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-at,maxE:at,crypto:!1},Tt=!0,In="[DecimalError] ",$e=In+"Invalid argument: ",St=In+"Precision limit exceeded",Yt=In+"crypto unavailable",Ht=Math.floor,Wt=Math.pow,Pn=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Sn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,sr=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,lr=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Un=1e7,xt=7,Rt=Vt.length-1,Ae=dn.length-1,De={name:"[object Decimal]"};De.absoluteValue=De.abs=function(){var ae=new this.constructor(this);return ae.s<0&&(ae.s=1),f(ae)},De.ceil=function(){return f(new this.constructor(this),this.e+1,2)},De.comparedTo=De.cmp=function(ae){var de,_e,he,Ee,ke=this,Ve=ke.d,ze=(ae=new ke.constructor(ae)).d,qe=ke.s,Me=ae.s;if(!Ve||!ze)return qe&&Me?qe!==Me?qe:Ve===ze?0:!Ve^qe<0?1:-1:NaN;if(!Ve[0]||!ze[0])return Ve[0]?qe:ze[0]?-Me:0;if(qe!==Me)return qe;if(ke.e!==ae.e)return ke.e>ae.e^qe<0?1:-1;for(he=Ve.length,Ee=ze.length,de=0,_e=he<Ee?he:Ee;de<_e;++de)if(Ve[de]!==ze[de])return Ve[de]>ze[de]^qe<0?1:-1;return he===Ee?0:he>Ee^qe<0?1:-1},De.cosine=De.cos=function(){var ae,de,_e=this,he=_e.constructor;return _e.d?_e.d[0]?(ae=he.precision,de=he.rounding,he.precision=ae+Math.max(_e.e,_e.sd())+xt,he.rounding=1,_e=s(he,O(he,_e)),he.precision=ae,he.rounding=de,f(Oe==2||Oe==3?_e.neg():_e,ae,de,!0)):new he(1):new he(NaN)},De.cubeRoot=De.cbrt=function(){var ae,de,_e,he,Ee,ke,Ve,ze,qe,Me,We=this,rt=We.constructor;if(!We.isFinite()||We.isZero())return new rt(We);for(Tt=!1,ke=We.s*Wt(We.s*We,.3333333333333333),ke&&Math.abs(ke)!=1/0?he=new rt(ke.toString()):(_e=t(We.d),ae=We.e,(ke=(ae-_e.length+1)%3)&&(_e+=ke==1||ke==-2?"0":"00"),ke=Wt(_e,.3333333333333333),ae=Ht((ae+1)/3)-(ae%3==(ae<0?-1:2)),ke==1/0?_e="5e"+ae:(_e=ke.toExponential(),_e=_e.slice(0,_e.indexOf("e")+1)+ae),he=new rt(_e),he.s=We.s),Ve=(ae=rt.precision)+3;;)if(ze=he,qe=ze.times(ze).times(ze),Me=qe.plus(We),he=et(Me.plus(We).times(ze),Me.plus(qe),Ve+2,1),t(ze.d).slice(0,Ve)===(_e=t(he.d)).slice(0,Ve)){if((_e=_e.slice(Ve-3,Ve+1))!="9999"&&(Ee||_e!="4999")){+_e&&(+_e.slice(1)||_e.charAt(0)!="5")||(f(he,ae+1,1),de=!he.times(he).times(he).eq(We));break}if(!Ee&&(f(ze,ae+1,0),ze.times(ze).times(ze).eq(We))){he=ze;break}Ve+=4,Ee=1}return Tt=!0,f(he,ae,rt.rounding,de)},De.decimalPlaces=De.dp=function(){var ae,de=this.d,_e=NaN;if(de){if(ae=de.length-1,_e=(ae-Ht(this.e/xt))*xt,ae=de[ae])for(;ae%10==0;ae/=10)_e--;_e<0&&(_e=0)}return _e},De.dividedBy=De.div=function(ae){return et(this,new this.constructor(ae))},De.dividedToIntegerBy=De.divToInt=function(ae){var de=this,_e=de.constructor;return f(et(de,new _e(ae),0,1,1),_e.precision,_e.rounding)},De.equals=De.eq=function(ae){return this.cmp(ae)===0},De.floor=function(){return f(new this.constructor(this),this.e+1,3)},De.greaterThan=De.gt=function(ae){return this.cmp(ae)>0},De.greaterThanOrEqualTo=De.gte=function(ae){var de=this.cmp(ae);return de==1||de===0},De.hyperbolicCosine=De.cosh=function(){var ae,de,_e,he,Ee,ke=this,Ve=ke.constructor,ze=new Ve(1);if(!ke.isFinite())return new Ve(ke.s?1/0:NaN);if(ke.isZero())return ze;_e=Ve.precision,he=Ve.rounding,Ve.precision=_e+Math.max(ke.e,ke.sd())+4,Ve.rounding=1,Ee=ke.d.length,Ee<32?(ae=Math.ceil(Ee/3),de=(1/C(4,ae)).toString()):(ae=16,de="2.3283064365386962890625e-10"),ke=w(Ve,1,ke.times(de),new Ve(1),!0);for(var qe,Me=ae,We=new Ve(8);Me--;)qe=ke.times(ke),ke=ze.minus(qe.times(We.minus(qe.times(We))));return f(ke,Ve.precision=_e,Ve.rounding=he,!0)},De.hyperbolicSine=De.sinh=function(){var ae,de,_e,he,Ee=this,ke=Ee.constructor;if(!Ee.isFinite()||Ee.isZero())return new ke(Ee);if(de=ke.precision,_e=ke.rounding,ke.precision=de+Math.max(Ee.e,Ee.sd())+4,ke.rounding=1,(he=Ee.d.length)<3)Ee=w(ke,2,Ee,Ee,!0);else{ae=1.4*Math.sqrt(he),ae=ae>16?16:0|ae,Ee=Ee.times(1/C(5,ae)),Ee=w(ke,2,Ee,Ee,!0);for(var Ve,ze=new ke(5),qe=new ke(16),Me=new ke(20);ae--;)Ve=Ee.times(Ee),Ee=Ee.times(ze.plus(Ve.times(qe.times(Ve).plus(Me))))}return ke.precision=de,ke.rounding=_e,f(Ee,de,_e,!0)},De.hyperbolicTangent=De.tanh=function(){var ae,de,_e=this,he=_e.constructor;return _e.isFinite()?_e.isZero()?new he(_e):(ae=he.precision,de=he.rounding,he.precision=ae+7,he.rounding=1,et(_e.sinh(),_e.cosh(),he.precision=ae,he.rounding=de)):new he(_e.s)},De.inverseCosine=De.acos=function(){var ae,de=this,_e=de.constructor,he=de.abs().cmp(1),Ee=_e.precision,ke=_e.rounding;return he!==-1?he===0?de.isNeg()?_(_e,Ee,ke):new _e(0):new _e(NaN):de.isZero()?_(_e,Ee+4,ke).times(.5):(_e.precision=Ee+6,_e.rounding=1,de=de.asin(),ae=_(_e,Ee+4,ke).times(.5),_e.precision=Ee,_e.rounding=ke,ae.minus(de))},De.inverseHyperbolicCosine=De.acosh=function(){var ae,de,_e=this,he=_e.constructor;return _e.lte(1)?new he(_e.eq(1)?0:NaN):_e.isFinite()?(ae=he.precision,de=he.rounding,he.precision=ae+Math.max(Math.abs(_e.e),_e.sd())+4,he.rounding=1,Tt=!1,_e=_e.times(_e).minus(1).sqrt().plus(_e),Tt=!0,he.precision=ae,he.rounding=de,_e.ln()):new he(_e)},De.inverseHyperbolicSine=De.asinh=function(){var ae,de,_e=this,he=_e.constructor;return!_e.isFinite()||_e.isZero()?new he(_e):(ae=he.precision,de=he.rounding,he.precision=ae+2*Math.max(Math.abs(_e.e),_e.sd())+6,he.rounding=1,Tt=!1,_e=_e.times(_e).plus(1).sqrt().plus(_e),Tt=!0,he.precision=ae,he.rounding=de,_e.ln())},De.inverseHyperbolicTangent=De.atanh=function(){var ae,de,_e,he,Ee=this,ke=Ee.constructor;return Ee.isFinite()?Ee.e>=0?new ke(Ee.abs().eq(1)?Ee.s/0:Ee.isZero()?Ee:NaN):(ae=ke.precision,de=ke.rounding,he=Ee.sd(),Math.max(he,ae)<2*-Ee.e-1?f(new ke(Ee),ae,de,!0):(ke.precision=_e=he-Ee.e,Ee=et(Ee.plus(1),new ke(1).minus(Ee),_e+ae,1),ke.precision=ae+4,ke.rounding=1,Ee=Ee.ln(),ke.precision=ae,ke.rounding=de,Ee.times(.5))):new ke(NaN)},De.inverseSine=De.asin=function(){var ae,de,_e,he,Ee=this,ke=Ee.constructor;return Ee.isZero()?new ke(Ee):(de=Ee.abs().cmp(1),_e=ke.precision,he=ke.rounding,de!==-1?de===0?(ae=_(ke,_e+4,he).times(.5),ae.s=Ee.s,ae):new ke(NaN):(ke.precision=_e+6,ke.rounding=1,Ee=Ee.div(new ke(1).minus(Ee.times(Ee)).sqrt().plus(1)).atan(),ke.precision=_e,ke.rounding=he,Ee.times(2)))},De.inverseTangent=De.atan=function(){var ae,de,_e,he,Ee,ke,Ve,ze,qe,Me=this,We=Me.constructor,rt=We.precision,gt=We.rounding;if(Me.isFinite()){if(Me.isZero())return new We(Me);if(Me.abs().eq(1)&&rt+4<=Ae)return Ve=_(We,rt+4,gt).times(.25),Ve.s=Me.s,Ve}else{if(!Me.s)return new We(NaN);if(rt+4<=Ae)return Ve=_(We,rt+4,gt).times(.5),Ve.s=Me.s,Ve}for(We.precision=ze=rt+10,We.rounding=1,_e=Math.min(28,ze/xt+2|0),ae=_e;ae;--ae)Me=Me.div(Me.times(Me).plus(1).sqrt().plus(1));for(Tt=!1,de=Math.ceil(ze/xt),he=1,qe=Me.times(Me),Ve=new We(Me),Ee=Me;ae!==-1;)if(Ee=Ee.times(qe),ke=Ve.minus(Ee.div(he+=2)),Ee=Ee.times(qe),Ve=ke.plus(Ee.div(he+=2)),Ve.d[de]!==void 0)for(ae=de;Ve.d[ae]===ke.d[ae]&&ae--;);return _e&&(Ve=Ve.times(2<<_e-1)),Tt=!0,f(Ve,We.precision=rt,We.rounding=gt,!0)},De.isFinite=function(){return!!this.d},De.isInteger=De.isInt=function(){return!!this.d&&Ht(this.e/xt)>this.d.length-2},De.isNaN=function(){return!this.s},De.isNegative=De.isNeg=function(){return this.s<0},De.isPositive=De.isPos=function(){return this.s>0},De.isZero=function(){return!!this.d&&this.d[0]===0},De.lessThan=De.lt=function(ae){return this.cmp(ae)<0},De.lessThanOrEqualTo=De.lte=function(ae){return this.cmp(ae)<1},De.logarithm=De.log=function(ae){var de,_e,he,Ee,ke,Ve,ze,qe,Me=this,We=Me.constructor,rt=We.precision,gt=We.rounding;if(ae==null)ae=new We(10),de=!0;else{if(ae=new We(ae),_e=ae.d,ae.s<0||!_e||!_e[0]||ae.eq(1))return new We(NaN);de=ae.eq(10)}if(_e=Me.d,Me.s<0||!_e||!_e[0]||Me.eq(1))return new We(_e&&!_e[0]?-1/0:Me.s!=1?NaN:_e?0:1/0);if(de)if(_e.length>1)ke=!0;else{for(Ee=_e[0];Ee%10==0;)Ee/=10;ke=Ee!==1}if(Tt=!1,ze=rt+5,Ve=g(Me,ze),he=de?h(We,ze+10):g(ae,ze),qe=et(Ve,he,ze,1),u(qe.d,Ee=rt,gt))do if(ze+=10,Ve=g(Me,ze),he=de?h(We,ze+10):g(ae,ze),qe=et(Ve,he,ze,1),!ke){+t(qe.d).slice(Ee+1,Ee+15)+1==1e14&&(qe=f(qe,rt+1,0));break}while(u(qe.d,Ee+=10,gt));return Tt=!0,f(qe,rt,gt)},De.minus=De.sub=function(ae){var de,_e,he,Ee,ke,Ve,ze,qe,Me,We,rt,gt,$t=this,Zt=$t.constructor;if(ae=new Zt(ae),!$t.d||!ae.d)return $t.s&&ae.s?$t.d?ae.s=-ae.s:ae=new Zt(ae.d||$t.s!==ae.s?$t:NaN):ae=new Zt(NaN),ae;if($t.s!=ae.s)return ae.s=-ae.s,$t.plus(ae);if(Me=$t.d,gt=ae.d,ze=Zt.precision,qe=Zt.rounding,!Me[0]||!gt[0]){if(gt[0])ae.s=-ae.s;else{if(!Me[0])return new Zt(qe===3?-0:0);ae=new Zt($t)}return Tt?f(ae,ze,qe):ae}if(_e=Ht(ae.e/xt),We=Ht($t.e/xt),Me=Me.slice(),ke=We-_e){for(rt=ke<0,rt?(de=Me,ke=-ke,Ve=gt.length):(de=gt,_e=We,Ve=Me.length),he=Math.max(Math.ceil(ze/xt),Ve)+2,ke>he&&(ke=he,de.length=1),de.reverse(),he=ke;he--;)de.push(0);de.reverse()}else{for(he=Me.length,Ve=gt.length,rt=he<Ve,rt&&(Ve=he),he=0;he<Ve;he++)if(Me[he]!=gt[he]){rt=Me[he]<gt[he];break}ke=0}for(rt&&(de=Me,Me=gt,gt=de,ae.s=-ae.s),Ve=Me.length,he=gt.length-Ve;he>0;--he)Me[Ve++]=0;for(he=gt.length;he>ke;){if(Me[--he]<gt[he]){for(Ee=he;Ee&&Me[--Ee]===0;)Me[Ee]=Un-1;--Me[Ee],Me[he]+=Un}Me[he]-=gt[he]}for(;Me[--Ve]===0;)Me.pop();for(;Me[0]===0;Me.shift())--_e;return Me[0]?(ae.d=Me,ae.e=m(Me,_e),Tt?f(ae,ze,qe):ae):new Zt(qe===3?-0:0)},De.modulo=De.mod=function(ae){var de,_e=this,he=_e.constructor;return ae=new he(ae),!_e.d||!ae.s||ae.d&&!ae.d[0]?new he(NaN):!ae.d||_e.d&&!_e.d[0]?f(new he(_e),he.precision,he.rounding):(Tt=!1,he.modulo==9?(de=et(_e,ae.abs(),0,3,1),de.s*=ae.s):de=et(_e,ae,0,he.modulo,1),de=de.times(ae),Tt=!0,_e.minus(de))},De.naturalExponential=De.exp=function(){return I(this)},De.naturalLogarithm=De.ln=function(){return g(this)},De.negated=De.neg=function(){var ae=new this.constructor(this);return ae.s=-ae.s,f(ae)},De.plus=De.add=function(ae){var de,_e,he,Ee,ke,Ve,ze,qe,Me,We,rt=this,gt=rt.constructor;if(ae=new gt(ae),!rt.d||!ae.d)return rt.s&&ae.s?rt.d||(ae=new gt(ae.d||rt.s===ae.s?rt:NaN)):ae=new gt(NaN),ae;if(rt.s!=ae.s)return ae.s=-ae.s,rt.minus(ae);if(Me=rt.d,We=ae.d,ze=gt.precision,qe=gt.rounding,!Me[0]||!We[0])return We[0]||(ae=new gt(rt)),Tt?f(ae,ze,qe):ae;if(ke=Ht(rt.e/xt),he=Ht(ae.e/xt),Me=Me.slice(),Ee=ke-he){for(Ee<0?(_e=Me,Ee=-Ee,Ve=We.length):(_e=We,he=ke,Ve=Me.length),ke=Math.ceil(ze/xt),Ve=ke>Ve?ke+1:Ve+1,Ee>Ve&&(Ee=Ve,_e.length=1),_e.reverse();Ee--;)_e.push(0);_e.reverse()}for(Ve=Me.length,Ee=We.length,Ve-Ee<0&&(Ee=Ve,_e=We,We=Me,Me=_e),de=0;Ee;)de=(Me[--Ee]=Me[Ee]+We[Ee]+de)/Un|0,Me[Ee]%=Un;for(de&&(Me.unshift(de),++he),Ve=Me.length;Me[--Ve]==0;)Me.pop();return ae.d=Me,ae.e=m(Me,he),Tt?f(ae,ze,qe):ae},De.precision=De.sd=function(ae){var de,_e=this;if(ae!==void 0&&ae!==!!ae&&ae!==1&&ae!==0)throw Error($e+ae);return _e.d?(de=y(_e.d),ae&&_e.e+1>de&&(de=_e.e+1)):de=NaN,de},De.round=function(){var ae=this,de=ae.constructor;return f(new de(ae),ae.e+1,de.rounding)},De.sine=De.sin=function(){var ae,de,_e=this,he=_e.constructor;return _e.isFinite()?_e.isZero()?new he(_e):(ae=he.precision,de=he.rounding,he.precision=ae+Math.max(_e.e,_e.sd())+xt,he.rounding=1,_e=A(he,O(he,_e)),he.precision=ae,he.rounding=de,f(Oe>2?_e.neg():_e,ae,de,!0)):new he(NaN)},De.squareRoot=De.sqrt=function(){var ae,de,_e,he,Ee,ke,Ve=this,ze=Ve.d,qe=Ve.e,Me=Ve.s,We=Ve.constructor;if(Me!==1||!ze||!ze[0])return new We(!Me||Me<0&&(!ze||ze[0])?NaN:ze?Ve:1/0);for(Tt=!1,Me=Math.sqrt(+Ve),Me==0||Me==1/0?(de=t(ze),(de.length+qe)%2==0&&(de+="0"),Me=Math.sqrt(de),qe=Ht((qe+1)/2)-(qe<0||qe%2),Me==1/0?de="5e"+qe:(de=Me.toExponential(),de=de.slice(0,de.indexOf("e")+1)+qe),he=new We(de)):he=new We(Me.toString()),_e=(qe=We.precision)+3;;)if(ke=he,he=ke.plus(et(Ve,ke,_e+2,1)).times(.5),t(ke.d).slice(0,_e)===(de=t(he.d)).slice(0,_e)){if((de=de.slice(_e-3,_e+1))!="9999"&&(Ee||de!="4999")){+de&&(+de.slice(1)||de.charAt(0)!="5")||(f(he,qe+1,1),ae=!he.times(he).eq(Ve));break}if(!Ee&&(f(ke,qe+1,0),ke.times(ke).eq(Ve))){he=ke;break}_e+=4,Ee=1}return Tt=!0,f(he,qe,We.rounding,ae)},De.tangent=De.tan=function(){var ae,de,_e=this,he=_e.constructor;return _e.isFinite()?_e.isZero()?new he(_e):(ae=he.precision,de=he.rounding,he.precision=ae+10,he.rounding=1,_e=_e.sin(),_e.s=1,_e=et(_e,new he(1).minus(_e.times(_e)).sqrt(),ae+10,0),he.precision=ae,he.rounding=de,f(Oe==2||Oe==4?_e.neg():_e,ae,de,!0)):new he(NaN)},De.times=De.mul=function(ae){var de,_e,he,Ee,ke,Ve,ze,qe,Me,We=this,rt=We.constructor,gt=We.d,$t=(ae=new rt(ae)).d;if(ae.s*=We.s,!(gt&&gt[0]&&$t&&$t[0]))return new rt(!ae.s||gt&&!gt[0]&&!$t||$t&&!$t[0]&&!gt?NaN:gt&&$t?0*ae.s:ae.s/0);for(_e=Ht(We.e/xt)+Ht(ae.e/xt),qe=gt.length,Me=$t.length,qe<Me&&(ke=gt,gt=$t,$t=ke,Ve=qe,qe=Me,Me=Ve),ke=[],Ve=qe+Me,he=Ve;he--;)ke.push(0);for(he=Me;--he>=0;){for(de=0,Ee=qe+he;Ee>he;)ze=ke[Ee]+$t[he]*gt[Ee-he-1]+de,ke[Ee--]=ze%Un|0,de=ze/Un|0;ke[Ee]=(ke[Ee]+de)%Un|0}for(;!ke[--Ve];)ke.pop();return de?++_e:ke.shift(),ae.d=ke,ae.e=m(ke,_e),Tt?f(ae,rt.precision,rt.rounding):ae},De.toBinary=function(ae,de){return V(this,2,ae,de)},De.toDecimalPlaces=De.toDP=function(ae,de){var _e=this,he=_e.constructor;return _e=new he(_e),ae===void 0?_e:(o(ae,0,bt),de===void 0?de=he.rounding:o(de,0,8),f(_e,ae+_e.e+1,de))},De.toExponential=function(ae,de){var _e,he=this,Ee=he.constructor;return ae===void 0?_e=d(he,!0):(o(ae,0,bt),de===void 0?de=Ee.rounding:o(de,0,8),he=f(new Ee(he),ae+1,de),_e=d(he,!0,ae+1)),he.isNeg()&&!he.isZero()?"-"+_e:_e},De.toFixed=function(ae,de){var _e,he,Ee=this,ke=Ee.constructor;return ae===void 0?_e=d(Ee):(o(ae,0,bt),de===void 0?de=ke.rounding:o(de,0,8),he=f(new ke(Ee),ae+Ee.e+1,de),_e=d(he,!1,ae+he.e+1)),Ee.isNeg()&&!Ee.isZero()?"-"+_e:_e},De.toFraction=function(ae){var de,_e,he,Ee,ke,Ve,ze,qe,Me,We,rt,gt,$t=this,Zt=$t.d,mn=$t.constructor;if(!Zt)return new mn($t);if(Me=_e=new mn(1),he=qe=new mn(0),de=new mn(he),ke=de.e=y(Zt)-$t.e-1,Ve=ke%xt,de.d[0]=Wt(10,Ve<0?xt+Ve:Ve),ae==null)ae=ke>0?de:Me;else{if(ze=new mn(ae),!ze.isInt()||ze.lt(Me))throw Error($e+ze);ae=ze.gt(de)?ke>0?de:Me:ze}for(Tt=!1,ze=new mn(t(Zt)),We=mn.precision,mn.precision=ke=Zt.length*xt*2;rt=et(ze,de,0,1,1),Ee=_e.plus(rt.times(he)),Ee.cmp(ae)!=1;)_e=he,he=Ee,Ee=Me,Me=qe.plus(rt.times(Ee)),qe=Ee,Ee=de,de=ze.minus(rt.times(Ee)),ze=Ee;return Ee=et(ae.minus(_e),he,0,1,1),qe=qe.plus(Ee.times(Me)),_e=_e.plus(Ee.times(he)),qe.s=Me.s=$t.s,gt=et(Me,he,ke,1).minus($t).abs().cmp(et(qe,_e,ke,1).minus($t).abs())<1?[Me,he]:[qe,_e],mn.precision=We,Tt=!0,gt},De.toHexadecimal=De.toHex=function(ae,de){return V(this,16,ae,de)},De.toNearest=function(ae,de){var _e=this,he=_e.constructor;if(_e=new he(_e),ae==null){if(!_e.d)return _e;ae=new he(1),de=he.rounding}else{if(ae=new he(ae),de===void 0?de=he.rounding:o(de,0,8),!_e.d)return ae.s?_e:ae;if(!ae.d)return ae.s&&(ae.s=_e.s),ae}return ae.d[0]?(Tt=!1,_e=et(_e,ae,0,de,1).times(ae),Tt=!0,f(_e)):(ae.s=_e.s,_e=ae),_e},De.toNumber=function(){return+this},De.toOctal=function(ae,de){return V(this,8,ae,de)},De.toPower=De.pow=function(ae){var de,_e,he,Ee,ke,Ve,ze=this,qe=ze.constructor,Me=+(ae=new qe(ae));if(!(ze.d&&ae.d&&ze.d[0]&&ae.d[0]))return new qe(Wt(+ze,Me));if(ze=new qe(ze),ze.eq(1))return ze;if(he=qe.precision,ke=qe.rounding,ae.eq(1))return f(ze,he,ke);if((de=Ht(ae.e/xt))>=ae.d.length-1&&(_e=Me<0?-Me:Me)<=9007199254740991)return Ee=v(qe,ze,_e,he),ae.s<0?new qe(1).div(Ee):f(Ee,he,ke);if((Ve=ze.s)<0){if(de<ae.d.length-1)return new qe(NaN);if(!(1&ae.d[de])&&(Ve=1),ze.e==0&&ze.d[0]==1&&ze.d.length==1)return ze.s=Ve,ze}return _e=Wt(+ze,Me),(de=_e!=0&&isFinite(_e)?new qe(_e+"").e:Ht(Me*(Math.log("0."+t(ze.d))/Math.LN10+ze.e+1)))>qe.maxE+1||de<qe.minE-1?new qe(de>0?Ve/0:0):(Tt=!1,qe.rounding=ze.s=1,_e=Math.min(12,(de+"").length),Ee=I(ae.times(g(ze,he+_e)),he),Ee.d&&(Ee=f(Ee,he+5,1),u(Ee.d,he,ke)&&(de=he+10,Ee=f(I(ae.times(g(ze,de+_e)),de),de+5,1),+t(Ee.d).slice(he+1,he+15)+1==1e14&&(Ee=f(Ee,he+1,0)))),Ee.s=Ve,Tt=!0,qe.rounding=ke,f(Ee,he,ke))},De.toPrecision=function(ae,de){var _e,he=this,Ee=he.constructor;return ae===void 0?_e=d(he,he.e<=Ee.toExpNeg||he.e>=Ee.toExpPos):(o(ae,1,bt),de===void 0?de=Ee.rounding:o(de,0,8),he=f(new Ee(he),ae,de),_e=d(he,ae<=he.e||he.e<=Ee.toExpNeg,ae)),he.isNeg()&&!he.isZero()?"-"+_e:_e},De.toSignificantDigits=De.toSD=function(ae,de){var _e=this,he=_e.constructor;return ae===void 0?(ae=he.precision,de=he.rounding):(o(ae,1,bt),de===void 0?de=he.rounding:o(de,0,8)),f(new he(_e),ae,de)},De.toString=function(){var ae=this,de=ae.constructor,_e=d(ae,ae.e<=de.toExpNeg||ae.e>=de.toExpPos);return ae.isNeg()&&!ae.isZero()?"-"+_e:_e},De.truncated=De.trunc=function(){return f(new this.constructor(this),this.e+1,1)},De.valueOf=De.toJSON=function(){var ae=this,de=ae.constructor,_e=d(ae,ae.e<=de.toExpNeg||ae.e>=de.toExpPos);return ae.isNeg()?"-"+_e:_e};var et=function(){function ae(he,Ee,ke){var Ve,ze=0,qe=he.length;for(he=he.slice();qe--;)Ve=he[qe]*Ee+ze,he[qe]=Ve%ke|0,ze=Ve/ke|0;return ze&&he.unshift(ze),he}function de(he,Ee,ke,Ve){var ze,qe;if(ke!=Ve)qe=ke>Ve?1:-1;else for(ze=qe=0;ze<ke;ze++)if(he[ze]!=Ee[ze]){qe=he[ze]>Ee[ze]?1:-1;break}return qe}function _e(he,Ee,ke,Ve){for(var ze=0;ke--;)he[ke]-=ze,ze=he[ke]<Ee[ke]?1:0,he[ke]=ze*Ve+he[ke]-Ee[ke];for(;!he[0]&&he.length>1;)he.shift()}return function(he,Ee,ke,Ve,ze,qe){var Me,We,rt,gt,$t,Zt,mn,hn,mr,Mn,gn,cn,qn,Tn,Zo,Wr,Rn,no,yr,_i,Fi=he.constructor,Tr=he.s==Ee.s?1:-1,or=he.d,On=Ee.d;if(!(or&&or[0]&&On&&On[0]))return new Fi(he.s&&Ee.s&&(or?!On||or[0]!=On[0]:On)?or&&or[0]==0||!On?0*Tr:Tr/0:NaN);for(qe?($t=1,We=he.e-Ee.e):(qe=Un,$t=xt,We=Ht(he.e/$t)-Ht(Ee.e/$t)),yr=On.length,Rn=or.length,mr=new Fi(Tr),Mn=mr.d=[],rt=0;On[rt]==(or[rt]||0);rt++);if(On[rt]>(or[rt]||0)&&We--,ke==null?(Tn=ke=Fi.precision,Ve=Fi.rounding):Tn=ze?ke+(he.e-Ee.e)+1:ke,Tn<0)Mn.push(1),Zt=!0;else{if(Tn=Tn/$t+2|0,rt=0,yr==1){for(gt=0,On=On[0],Tn++;(rt<Rn||gt)&&Tn--;rt++)Zo=gt*qe+(or[rt]||0),Mn[rt]=Zo/On|0,gt=Zo%On|0;Zt=gt||rt<Rn}else{for(gt=qe/(On[0]+1)|0,gt>1&&(On=ae(On,gt,qe),or=ae(or,gt,qe),yr=On.length,Rn=or.length),Wr=yr,gn=or.slice(0,yr),cn=gn.length;cn<yr;)gn[cn++]=0;_i=On.slice(),_i.unshift(0),no=On[0],On[1]>=qe/2&&++no;do gt=0,Me=de(On,gn,yr,cn),Me<0?(qn=gn[0],yr!=cn&&(qn=qn*qe+(gn[1]||0)),gt=qn/no|0,gt>1?(gt>=qe&&(gt=qe-1),mn=ae(On,gt,qe),hn=mn.length,cn=gn.length,(Me=de(mn,gn,hn,cn))==1&&(gt--,_e(mn,yr<hn?_i:On,hn,qe))):(gt==0&&(Me=gt=1),mn=On.slice()),hn=mn.length,hn<cn&&mn.unshift(0),_e(gn,mn,cn,qe),Me==-1&&(cn=gn.length,(Me=de(On,gn,yr,cn))<1&&(gt++,_e(gn,yr<cn?_i:On,cn,qe))),cn=gn.length):Me===0&&(gt++,gn=[0]),Mn[rt++]=gt,Me&&gn[0]?gn[cn++]=or[Wr]||0:(gn=[or[Wr]],cn=1);while((Wr++<Rn||gn[0]!==void 0)&&Tn--);Zt=gn[0]!==void 0}Mn[0]||Mn.shift()}if($t==1)mr.e=We,At=Zt;else{for(rt=1,gt=Mn[0];gt>=10;gt/=10)rt++;mr.e=rt+We*$t-1,f(mr,ze?ke+mr.e+1:ke,Ve,Zt)}return mr}}();Pt=Y(Cn),Pt.default=Pt.Decimal=Pt,Vt=new Pt(Vt),dn=new Pt(dn),typeof zt=="function"&&zt.amd?zt(function(){return Pt}):l!==void 0&&l.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(De[Symbol.for("nodejs.util.inspect.custom")]=De.toString,De[Symbol.toStringTag]="Decimal"),l.exports=Pt):(a||(a=typeof self!="undefined"&&self&&self.self==self?self:window),Ce=a.Decimal,Pt.noConflict=function(){return a.Decimal=Ce,Pt},a.Decimal=Pt)})(this)},{}],301:[function(e,l,i){"use strict";var a=e("get-intrinsic"),t=a("%Object.getOwnPropertyDescriptor%");if(t)try{t([],"length")}catch(o){t=null}l.exports=t},{"get-intrinsic":312}],302:[function(e,l,i){"use strict";function a(n){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(n)}function t(n,s,f,d,m){var h=(0,u.default)()||!d||a(d)!=="object"?d:!!d.capture;n.addEventListener(s,f,h,m)}function o(n,s,f,d){var m=(0,u.default)()||!d||a(d)!=="object"?d:!!d.capture;n.removeEventListener(s,f,m)}Object.defineProperty(i,"__esModule",{value:!0}),i.addEventListener=t,i.removeEventListener=o;var u=function(n){return n&&n.__esModule?n:{default:n}}(e("./supportsCaptureOption"))},{"./supportsCaptureOption":303}],303:[function(e,l,i){"use strict";function a(){if(t===null){var o=!1;try{var u=Object.defineProperty({},"capture",{get:function(){o=!0}});window.addEventListener("test",null,u)}catch(n){}t=o}return t}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var t=null},{}],304:[function(e,l,i){"use strict";function a(x){console&&console.warn&&console.warn(x)}function t(){t.init.call(this)}function o(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}function u(x){return x._maxListeners===void 0?t.defaultMaxListeners:x._maxListeners}function n(x,A,w,C){var O,V,R;if(o(w),V=x._events,V===void 0?(V=x._events=Object.create(null),x._eventsCount=0):(V.newListener!==void 0&&(x.emit("newListener",A,w.listener?w.listener:w),V=x._events),R=V[A]),R===void 0)R=V[A]=w,++x._eventsCount;else if(typeof R=="function"?R=V[A]=C?[w,R]:[R,w]:C?R.unshift(w):R.push(w),(O=u(x))>0&&R.length>O&&!R.warned){R.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=x,P.type=A,P.count=R.length,a(P)}return x}function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(x,A,w){var C={fired:!1,wrapFn:void 0,target:x,type:A,listener:w},O=s.bind(C);return O.listener=w,C.wrapFn=O,O}function d(x,A,w){var C=x._events;if(C===void 0)return[];var O=C[A];return O===void 0?[]:typeof O=="function"?w?[O.listener||O]:[O]:w?y(O):h(O,O.length)}function m(x){var A=this._events;if(A!==void 0){var w=A[x];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}function h(x,A){for(var w=new Array(A),C=0;C<A;++C)w[C]=x[C];return w}function _(x,A){for(;A+1<x.length;A++)x[A]=x[A+1];x.pop()}function y(x){for(var A=new Array(x.length),w=0;w<A.length;++w)A[w]=x[w].listener||x[w];return A}function S(x,A){return new Promise(function(w,C){function O(R){x.removeListener(A,V),C(R)}function V(){typeof x.removeListener=="function"&&x.removeListener("error",O),w([].slice.call(arguments))}T(x,A,V,{once:!0}),A!=="error"&&v(x,O,{once:!0})})}function v(x,A,w){typeof x.on=="function"&&T(x,"error",A,w)}function T(x,A,w,C){if(typeof x.on=="function")C.once?x.once(A,w):x.on(A,w);else{if(typeof x.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x);x.addEventListener(A,function O(V){C.once&&x.removeEventListener(A,O),w(V)})}}var E,I=typeof Reflect=="object"?Reflect:null,g=I&&typeof I.apply=="function"?I.apply:function(x,A,w){return Function.prototype.apply.call(x,A,w)};E=I&&typeof I.ownKeys=="function"?I.ownKeys:Object.getOwnPropertySymbols?function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:function(x){return Object.getOwnPropertyNames(x)};var k=Number.isNaN||function(x){return x!==x};l.exports=t,l.exports.once=S,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var j=10;Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return j},set:function(x){if(typeof x!="number"||x<0||k(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");j=x}}),t.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||k(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this},t.prototype.getMaxListeners=function(){return u(this)},t.prototype.emit=function(x){for(var A=[],w=1;w<arguments.length;w++)A.push(arguments[w]);var C=x==="error",O=this._events;if(O!==void 0)C=C&&O.error===void 0;else if(!C)return!1;if(C){var V;if(A.length>0&&(V=A[0]),V instanceof Error)throw V;var R=new Error("Unhandled error."+(V?" ("+V.message+")":""));throw R.context=V,R}var P=O[x];if(P===void 0)return!1;if(typeof P=="function")g(P,this,A);else for(var B=P.length,z=h(P,B),w=0;w<B;++w)g(z[w],this,A);return!0},t.prototype.addListener=function(x,A){return n(this,x,A,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(x,A){return n(this,x,A,!0)},t.prototype.once=function(x,A){return o(A),this.on(x,f(this,x,A)),this},t.prototype.prependOnceListener=function(x,A){return o(A),this.prependListener(x,f(this,x,A)),this},t.prototype.removeListener=function(x,A){var w,C,O,V,R;if(o(A),(C=this._events)===void 0)return this;if((w=C[x])===void 0)return this;if(w===A||w.listener===A)--this._eventsCount==0?this._events=Object.create(null):(delete C[x],C.removeListener&&this.emit("removeListener",x,w.listener||A));else if(typeof w!="function"){for(O=-1,V=w.length-1;V>=0;V--)if(w[V]===A||w[V].listener===A){R=w[V].listener,O=V;break}if(O<0)return this;O===0?w.shift():_(w,O),w.length===1&&(C[x]=w[0]),C.removeListener!==void 0&&this.emit("removeListener",x,R||A)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(x){var A,w,C;if((w=this._events)===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[x]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete w[x]),this;if(arguments.length===0){var O,V=Object.keys(w);for(C=0;C<V.length;++C)(O=V[C])!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(A=w[x])=="function")this.removeListener(x,A);else if(A!==void 0)for(C=A.length-1;C>=0;C--)this.removeListener(x,A[C]);return this},t.prototype.listeners=function(x){return d(this,x,!0)},t.prototype.rawListeners=function(x){return d(this,x,!1)},t.listenerCount=function(x,A){return typeof x.listenerCount=="function"?x.listenerCount(A):m.call(x,A)},t.prototype.listenerCount=m,t.prototype.eventNames=function(){return this._eventsCount>0?E(this._events):[]}},{}],305:[function(e,l,i){"use strict";function a(v,T){var E=typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(!E){if(Array.isArray(v)||(E=t(v))||T&&v&&typeof v.length=="number"){E&&(v=E);var I=0,g=function(){};return{s:g,n:function(){return I>=v.length?{done:!0}:{done:!1,value:v[I++]}},e:function(A){throw A},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,j=!0,x=!1;return{s:function(){E=E.call(v)},n:function(){var A=E.next();return j=A.done,A},e:function(A){x=!0,k=A},f:function(){try{j||E.return==null||E.return()}finally{if(x)throw k}}}}function t(v,T){if(v){if(typeof v=="string")return o(v,T);var E=Object.prototype.toString.call(v).slice(8,-1);return E==="Object"&&v.constructor&&(E=v.constructor.name),E==="Map"||E==="Set"?Array.from(v):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?o(v,T):void 0}}function o(v,T){(T==null||T>v.length)&&(T=v.length);for(var E=0,I=new Array(T);E<T;E++)I[E]=v[E];return I}var u=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.installGlobally=i.getXMLHttpRequest=void 0;var n=u(e("@babel/runtime/helpers/classCallCheck")),s=u(e("@babel/runtime/helpers/createClass")),f=u(e("@babel/runtime/helpers/defineProperty")),d=u(e("@babel/runtime/helpers/slicedToArray")),m=u(e("lodash/once")),h=e("./moduleId"),_=u(e("./transferrables")),y=(0,m.default)(function(){var v={},T=new MessageChannel,E=T.port1;E.addEventListener("message",function(k){var j=k.data,x=j.id,A=j.type,w=v[x];switch(A){case"COMPLETE":var C=k.data,O=C.headers,V=C.readyState,R=C.status,P=C.statusText,B=C.response,z=C.responseText,Q=C.responseURL,N={};O.split(`\r
`).forEach(function(F){var Z=F.split(":"),$=(0,d.default)(Z,2),ne=$[0],H=$[1];ne&&H&&(N[ne.toLowerCase().trim()]=H.trim())}),w._headers=O,w._headersObj=N,w.status=R,w.statusText=P,w.readyState=V,w.response=B,w.responseText=z,w.responseURL=Q,delete v[x];for(var K=0,U=["load","loadend","readystatechange"];K<U.length;K++)(function(){var F=U[K],Z={name:F,target:w};(Object.prototype.hasOwnProperty.call(w._eventListeners,F)?w._eventListeners[F]:[]).forEach(function($){return $(Z)}),w["on"+F]&&w["on"+F](Z)})();break;default:console.error("ext-corb-workaround: Unknown event in content script:",k)}}),E.addEventListener("messageerror",function(k){console.error("ext-corb-workaround: Unknown error in content script:",k)}),E.start(),window.postMessage({type:"ext-corb-workaround_port",moduleId:h.moduleId,port:T.port2},document.location.origin,[T.port2]);var I=0,g=function(){function k(){var j=this;(0,n.default)(this,k),(0,f.default)(this,"UNSENT",0),(0,f.default)(this,"OPENED",1),(0,f.default)(this,"HEADERS_RECEIVED",2),(0,f.default)(this,"LOADING",3),(0,f.default)(this,"DONE",4),(0,f.default)(this,"_id",I++),(0,f.default)(this,"_eventListeners",{}),(0,f.default)(this,"_headersObj",{}),(0,f.default)(this,"status",0),(0,f.default)(this,"statusText",""),(0,f.default)(this,"readyState",0),(0,f.default)(this,"response",""),(0,f.default)(this,"responseText",""),(0,f.default)(this,"responseURL",""),(0,f.default)(this,"_headers",""),(0,f.default)(this,"responseType",void 0),(0,f.default)(this,"withCredentials",void 0),(0,f.default)(this,"setRequestHeader",void 0),(0,f.default)(this,"open",void 0),(0,f.default)(this,"send",void 0),(0,f.default)(this,"abort",void 0);var x=this._id;v[x]=this,E.postMessage({type:"NEW_XHR",id:x});var A,w=a(["responseType","withCredentials"]);try{for(w.s();!(A=w.n()).done;)(function(){var V=A.value,R=void 0;Object.defineProperty(j,V,{get:function(){return R},set:function(P){R=P,E.postMessage({type:"SET",id:x,prop:V,value:P})}})})()}catch(V){w.e(V)}finally{w.f()}var C,O=a(["setRequestHeader","open","send","abort"]);try{for(O.s();!(C=O.n()).done;)(function(){var V=C.value;j[V]=function(){for(var R=arguments.length,P=new Array(R),B=0;B<R;B++)P[B]=arguments[B];E.postMessage({type:"CALL",id:x,method:V,args:P},(0,_.default)(P))}})()}catch(V){O.e(V)}finally{O.f()}}return(0,s.default)(k,[{key:"getAllResponseHeaders",value:function(){return this._headers}},{key:"getResponseHeader",value:function(j){if(j=j.toLowerCase(),Object.prototype.hasOwnProperty.call(this._headersObj,j))return this._headersObj[j]}},{key:"addEventListener",value:function(j,x){Object.prototype.hasOwnProperty.call(this._eventListeners,j)||(this._eventListeners[j]=[]),this._eventListeners[j].push(x)}},{key:"removeEventListener",value:function(j,x){Object.prototype.hasOwnProperty.call(this._eventListeners,j)&&(this._eventListeners[j]=this._eventListeners[j].filter(function(A){return x!==A}))}}]),k}();return(0,f.default)(g,"UNSENT",0),(0,f.default)(g,"OPENED",1),(0,f.default)(g,"HEADERS_RECEIVED",2),(0,f.default)(g,"LOADING",3),(0,f.default)(g,"DONE",4),g});i.getXMLHttpRequest=y;var S=(0,m.default)(function(){window.XMLHttpRequest=y()});i.installGlobally=S},{"./moduleId":306,"./transferrables":307,"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/slicedToArray":78,"lodash/once":516}],306:[function(e,l,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.moduleId=void 0,i.moduleId="1f24 e53a"},{}],307:[function(e,l,i){"use strict";function a(u){return u.map(function(n){if(n&&(0,o.default)(n)==="object"&&n.__proto__){if(n.__proto__.constructor.name==="ArrayBuffer")return n;if(n.__proto__.__proto__&&n.__proto__.__proto__.constructor.name==="TypedArray")return n.buffer}}).filter(Boolean)}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("@babel/runtime/helpers/typeof"))},{"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/typeof":79}],308:[function(e,l,i){l.exports=function(a,t){function o(u,n){return u.reduce(function(s,f){return Array.isArray(f)&&n<t?s.concat(o(f,n+1)):s.concat(f)},[])}return t=typeof t=="number"?t:1/0,t?o(a,1):Array.isArray(a)?a.map(function(u){return u}):a}},{}],309:[function(e,l,i){var a=Object.prototype.hasOwnProperty,t=Object.prototype.toString;l.exports=function(o,u,n){if(t.call(u)!=="[object Function]")throw new TypeError("iterator must be a function");var s=o.length;if(s===+s)for(var f=0;f<s;f++)u.call(n,o[f],f,o);else for(var d in o)a.call(o,d)&&u.call(n,o[d],d,o)}},{}],310:[function(e,l,i){"use strict";var a=Array.prototype.slice,t=Object.prototype.toString;l.exports=function(o){var u=this;if(typeof u!="function"||t.call(u)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+u);for(var n,s=a.call(arguments,1),f=function(){if(this instanceof n){var y=u.apply(this,s.concat(a.call(arguments)));return Object(y)===y?y:this}return u.apply(o,s.concat(a.call(arguments)))},d=Math.max(0,u.length-s.length),m=[],h=0;h<d;h++)m.push("$"+h);if(n=Function("binder","return function ("+m.join(",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var _=function(){};_.prototype=u.prototype,n.prototype=new _,_.prototype=null}return n}},{}],311:[function(e,l,i){"use strict";var a=e("./implementation");l.exports=Function.prototype.bind||a},{"./implementation":310}],312:[function(e,l,i){"use strict";var a=SyntaxError,t=Function,o=TypeError,u=function(O){try{return t('"use strict"; return ('+O+").constructor;")()}catch(V){}},n=Object.getOwnPropertyDescriptor;if(n)try{n({},"")}catch(O){n=null}var s=function(){throw new o},f=n?function(){try{return arguments.callee,s}catch(O){try{return n(arguments,"callee").get}catch(V){return s}}}():s,d=e("has-symbols")(),m=Object.getPrototypeOf||function(O){return O.__proto__},h={},_=typeof Uint8Array=="undefined"?void 0:m(Uint8Array),y={"%AggregateError%":typeof AggregateError=="undefined"?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":d?m([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":typeof Atomics=="undefined"?void 0:Atomics,"%BigInt%":typeof BigInt=="undefined"?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?void 0:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?void 0:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?void 0:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":h,"%Int8Array%":typeof Int8Array=="undefined"?void 0:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?void 0:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?m(m([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%Map%":typeof Map=="undefined"?void 0:Map,"%MapIteratorPrototype%":typeof Map!="undefined"&&d?m(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?void 0:Promise,"%Proxy%":typeof Proxy=="undefined"?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?void 0:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?void 0:Set,"%SetIteratorPrototype%":typeof Set!="undefined"&&d?m(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?m(""[Symbol.iterator]()):void 0,"%Symbol%":d?Symbol:void 0,"%SyntaxError%":a,"%ThrowTypeError%":f,"%TypedArray%":_,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array=="undefined"?void 0:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?void 0:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?void 0:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?void 0:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?void 0:WeakSet},S=function O(V){var R;if(V==="%AsyncFunction%")R=u("async function () {}");else if(V==="%GeneratorFunction%")R=u("function* () {}");else if(V==="%AsyncGeneratorFunction%")R=u("async function* () {}");else if(V==="%AsyncGenerator%"){var P=O("%AsyncGeneratorFunction%");P&&(R=P.prototype)}else if(V==="%AsyncIteratorPrototype%"){var B=O("%AsyncGenerator%");B&&(R=m(B.prototype))}return y[V]=R,R},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=e("function-bind"),E=e("has"),I=T.call(Function.call,Array.prototype.concat),g=T.call(Function.apply,Array.prototype.splice),k=T.call(Function.call,String.prototype.replace),j=T.call(Function.call,String.prototype.slice),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,w=function(O){var V=j(O,0,1),R=j(O,-1);if(V==="%"&&R!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(R==="%"&&V!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var P=[];return k(O,x,function(B,z,Q,N){P[P.length]=Q?k(N,A,"$1"):z||B}),P},C=function(O,V){var R,P=O;if(E(v,P)&&(R=v[P],P="%"+R[0]+"%"),E(y,P)){var B=y[P];if(B===h&&(B=S(P)),B===void 0&&!V)throw new o("intrinsic "+O+" exists, but is not available. Please file an issue!");return{alias:R,name:P,value:B}}throw new a("intrinsic "+O+" does not exist!")};l.exports=function(O,V){if(typeof O!="string"||O.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof V!="boolean")throw new o('"allowMissing" argument must be a boolean');var R=w(O),P=R.length>0?R[0]:"",B=C("%"+P+"%",V),z=B.name,Q=B.value,N=!1,K=B.alias;K&&(P=K[0],g(R,I([0,1],K)));for(var U=1,F=!0;U<R.length;U+=1){var Z=R[U],$=j(Z,0,1),ne=j(Z,-1);if(($==='"'||$==="'"||$==="`"||ne==='"'||ne==="'"||ne==="`")&&$!==ne)throw new a("property names with quotes must have matching quotes");if(Z!=="constructor"&&F||(N=!0),P+="."+Z,z="%"+P+"%",E(y,z))Q=y[z];else if(Q!=null){if(!(Z in Q)){if(!V)throw new o("base intrinsic for "+O+" exists, but the property is not available.");return}if(n&&U+1>=R.length){var H=n(Q,Z);F=!!H,Q=F&&"get"in H&&!("originalValue"in H.get)?H.get:Q[Z]}else F=E(Q,Z),Q=Q[Z];F&&!N&&(y[z]=Q)}}return Q}},{"function-bind":311,has:315,"has-symbols":313}],313:[function(e,l,i){"use strict";var a=typeof Symbol!="undefined"&&Symbol,t=e("./shams");l.exports=function(){return typeof a=="function"&&typeof Symbol=="function"&&typeof a("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&t()}},{"./shams":314}],314:[function(e,l,i){"use strict";l.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var a={},t=Symbol("test"),o=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;a[t]=42;for(t in a)return!1;if(typeof Object.keys=="function"&&Object.keys(a).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(a).length!==0)return!1;var u=Object.getOwnPropertySymbols(a);if(u.length!==1||u[0]!==t||!Object.prototype.propertyIsEnumerable.call(a,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var n=Object.getOwnPropertyDescriptor(a,t);if(n.value!==42||n.enumerable!==!0)return!1}return!0}},{}],315:[function(e,l,i){"use strict";var a=e("function-bind");l.exports=a.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":311}],316:[function(e,l,i){i.read=function(a,t,o,u,n){var s,f,d=8*n-u-1,m=(1<<d)-1,h=m>>1,_=-7,y=o?n-1:0,S=o?-1:1,v=a[t+y];for(y+=S,s=v&(1<<-_)-1,v>>=-_,_+=d;_>0;s=256*s+a[t+y],y+=S,_-=8);for(f=s&(1<<-_)-1,s>>=-_,_+=u;_>0;f=256*f+a[t+y],y+=S,_-=8);if(s===0)s=1-h;else{if(s===m)return f?NaN:1/0*(v?-1:1);f+=Math.pow(2,u),s-=h}return(v?-1:1)*f*Math.pow(2,s-u)},i.write=function(a,t,o,u,n,s){var f,d,m,h=8*s-n-1,_=(1<<h)-1,y=_>>1,S=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=u?0:s-1,T=u?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,f=_):(f=Math.floor(Math.log(t)/Math.LN2),t*(m=Math.pow(2,-f))<1&&(f--,m*=2),t+=f+y>=1?S/m:S*Math.pow(2,1-y),t*m>=2&&(f++,m/=2),f+y>=_?(d=0,f=_):f+y>=1?(d=(t*m-1)*Math.pow(2,n),f+=y):(d=t*Math.pow(2,y-1)*Math.pow(2,n),f=0));n>=8;a[o+v]=255&d,v+=T,d/=256,n-=8);for(f=f<<n|d,h+=n;h>0;a[o+v]=255&f,v+=T,f/=256,h-=8);a[o+v-T]|=128*E}},{}],317:[function(e,l,i){(function(a){(function(){"use strict";function t(w){return typeof w!="object"||"toString"in w?w:Object.prototype.toString.call(w).slice(8,-1)}function o(w,C){if(!w)throw v?new Error("Invariant failed"):new Error(C())}function u(w){return I.call(w).slice(8,-1)}function n(w){return Array.isArray(w)?g(w.constructor(w.length),w):u(w)==="Map"?new Map(w):u(w)==="Set"?new Set(w):w&&typeof w=="object"?g(Object.create(Object.getPrototypeOf(w)),w):w}function s(w,C,O){o(Array.isArray(w),function(){return"update(): expected target of "+t(O)+" to be an array; got "+t(w)+"."}),f(C[O],O)}function f(w,C){o(Array.isArray(w),function(){return"update(): expected spec of "+t(C)+" to be an array; got "+t(w)+". Did you forget to wrap your parameter in an array?"})}function d(w,C){o(Array.isArray(w),function(){return"Expected $splice target to be an array; got "+t(w)}),m(C.$splice)}function m(w){o(Array.isArray(w),function(){return"update(): expected spec of $splice to be an array of arrays; got "+t(w)+". Did you forget to wrap your parameters in an array?"})}function h(w){o(typeof w=="function",function(){return"update(): expected spec of $apply to be a function; got "+t(w)+"."})}function _(w){o(Object.keys(w).length===1,function(){return"Cannot have more than one key in an object with $set"})}function y(w,C){o(C&&typeof C=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+t(C)}),o(w&&typeof w=="object",function(){return"update(): $merge expects a target of type 'object'; got "+t(w)})}function S(w,C){var O=u(w);o(O==="Map"||O==="Set",function(){return"update(): "+t(C)+" expects a target of type Set or Map; got "+t(O)})}Object.defineProperty(i,"__esModule",{value:!0});var v=typeof a=="object"&&a.env.NODE_ENV==="production";i.invariant=o;var T=Object.prototype.hasOwnProperty,E=Array.prototype.splice,I=Object.prototype.toString,g=Object.assign||function(w,C){return k(C).forEach(function(O){T.call(C,O)&&(w[O]=C[O])}),w},k=typeof Object.getOwnPropertySymbols=="function"?function(w){return Object.keys(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.keys(w)},j=function(){function w(){this.commands=g({},x),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(C,O){return C===O},this.update.newContext=function(){return new w().update}}return Object.defineProperty(w.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(C){this.update.isEquals=C},enumerable:!0,configurable:!0}),w.prototype.extend=function(C,O){this.commands[C]=O},w.prototype.update=function(C,O){var V=this,R=typeof O=="function"?{$apply:O}:O;Array.isArray(C)&&Array.isArray(R)||o(!Array.isArray(R),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),o(typeof R=="object"&&R!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(V.commands).join(", ")+"."});var P=C;return k(R).forEach(function(B){if(T.call(V.commands,B)){var z=C===P;P=V.commands[B](R[B],P,R,C),z&&V.isEquals(P,C)&&(P=C)}else{var Q=u(C)==="Map"?V.update(C.get(B),R[B]):V.update(C[B],R[B]),N=u(P)==="Map"?P.get(B):P[B];V.isEquals(Q,N)&&(Q!==void 0||T.call(C,B))||(P===C&&(P=n(C)),u(P)==="Map"?P.set(B,Q):P[B]=Q)}}),P},w}();i.Context=j;var x={$push:function(w,C,O){return s(C,O,"$push"),w.length?C.concat(w):C},$unshift:function(w,C,O){return s(C,O,"$unshift"),w.length?w.concat(C):C},$splice:function(w,C,O,V){return d(C,O),w.forEach(function(R){m(R),C===V&&R.length&&(C=n(V)),E.apply(C,R)}),C},$set:function(w,C,O){return _(O),w},$toggle:function(w,C){f(w,"$toggle");var O=w.length?n(C):C;return w.forEach(function(V){O[V]=!C[V]}),O},$unset:function(w,C,O,V){return f(w,"$unset"),w.forEach(function(R){Object.hasOwnProperty.call(C,R)&&(C===V&&(C=n(V)),delete C[R])}),C},$add:function(w,C,O,V){return S(C,"$add"),f(w,"$add"),u(C)==="Map"?w.forEach(function(R){var P=R[0],B=R[1];C===V&&C.get(P)!==B&&(C=n(V)),C.set(P,B)}):w.forEach(function(R){C!==V||C.has(R)||(C=n(V)),C.add(R)}),C},$remove:function(w,C,O,V){return S(C,"$remove"),f(w,"$remove"),w.forEach(function(R){C===V&&C.has(R)&&(C=n(V)),C.delete(R)}),C},$merge:function(w,C,O,V){return y(C,w),k(w).forEach(function(R){w[R]!==C[R]&&(C===V&&(C=n(V)),C[R]=w[R])}),C},$apply:function(w,C){return h(w),w(C)}},A=new j;i.isEquals=A.update.isEquals,i.extend=A.extend,i.default=A.update,i.default.default=l.exports=g(i.default,i)}).call(this)}).call(this,e("_process"))},{_process:568}],318:[function(e,l,i){l.exports=function(a,t){for(var o=-1,u=[];(o=a.indexOf(t,o+1))!==-1;)u.push(o);return u}},{}],319:[function(e,l,i){typeof Object.create=="function"?l.exports=function(a,t){t&&(a.super_=t,a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:l.exports=function(a,t){if(t){a.super_=t;var o=function(){};o.prototype=t.prototype,a.prototype=new o,a.prototype.constructor=a}}},{}],320:[function(e,l,i){"use strict";var a=function(t,o,u,n,s,f,d,m){if(!t){var h;if(o===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[u,n,s,f,d,m],y=0;h=new Error(o.replace(/%s/g,function(){return _[y++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};l.exports=a},{}],321:[function(e,l,i){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",t=e("call-bind/callBound"),o=t("Object.prototype.toString"),u=function(f){return!(a&&f&&typeof f=="object"&&Symbol.toStringTag in f)&&o(f)==="[object Arguments]"},n=function(f){return!!u(f)||f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&o(f)!=="[object Array]"&&o(f.callee)==="[object Function]"},s=function(){return u(arguments)}();u.isLegacyArguments=n,l.exports=s?u:n},{"call-bind/callBound":102}],322:[function(e,l,i){"use strict";var a,t=Object.prototype.toString,o=Function.prototype.toString,u=/^\s*(?:function)?\*/,n=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",s=Object.getPrototypeOf,f=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch(d){}};l.exports=function(d){if(typeof d!="function")return!1;if(u.test(o.call(d)))return!0;if(!n)return t.call(d)==="[object GeneratorFunction]";if(!s)return!1;if(a===void 0){var m=f();a=!!m&&s(m)}return s(d)===a}},{}],323:[function(e,l,i){(function(a){(function(){"use strict";var t=e("foreach"),o=e("available-typed-arrays"),u=e("call-bind/callBound"),n=u("Object.prototype.toString"),s=e("has-symbols")(),f=s&&typeof Symbol.toStringTag=="symbol",d=o(),m=u("Array.prototype.indexOf",!0)||function(T,E){for(var I=0;I<T.length;I+=1)if(T[I]===E)return I;return-1},h=u("String.prototype.slice"),_={},y=e("es-abstract/helpers/getOwnPropertyDescriptor"),S=Object.getPrototypeOf;f&&y&&S&&t(d,function(T){var E=new a[T];if(!(Symbol.toStringTag in E))throw new EvalError("this engine has support for Symbol.toStringTag, but "+T+" does not have the property! Please report this.");var I=S(E),g=y(I,Symbol.toStringTag);if(!g){var k=S(I);g=y(k,Symbol.toStringTag)}_[T]=g.get});var v=function(T){var E=!1;return t(_,function(I,g){if(!E)try{E=I.call(T)===g}catch(k){}}),E};l.exports=function(T){if(!T||typeof T!="object")return!1;if(!f){var E=h(n(T),8,-1);return m(d,E)>-1}return!!y&&v(T)}}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"available-typed-arrays":90,"call-bind/callBound":102,"es-abstract/helpers/getOwnPropertyDescriptor":301,foreach:309,"has-symbols":313}],324:[function(e,l,i){(function(a,t){typeof zt=="function"&&zt.amd?zt(["kefir"],t):typeof i=="object"?l.exports=t(e("kefir")):a.KefirBus=t(a.Kefir)})(this,function(a){function t(){var u=!1,n=a.pool(),s=null,f=a.stream(function(d){function m(h){d.emitEvent(h)}if(s=d,!u)return n.onAny(m),function(){s=null,n.offAny(m)};d.end()});return f.value=f.emit=function(d){return s&&s.emit(d),f},f.error=function(d){return s&&s.error(d),f},f.event=f.emitEvent=function(d){return d.type==="end"?f.end():s&&s.emitEvent(d),f},f.plug=function(d){return n.plug(d),f},f.unplug=function(d){return n.unplug(d),f},f.end=function(){return u||(u=!0,s&&s.end(),n=o),f},f.setName("bus")}var o={plug:function(){},unplug:function(){}};return t.default=t,t})},{kefir:327}],325:[function(e,l,i){"use strict";function a(t,o){return o&&o.subscribe&&o.subscribeOnNext?t.stream(function(u){var n=o.subscribe(function(s){u.emit(s)},function(s){u.error(s),u.end()},function(){u.end()});return function(){n.dispose()}}):o&&o.onAny&&o.offAny?t.stream(function(u){var n=u.emitEvent;return o.onAny(n),function(){o.offAny(n)}}):o&&o.subscribe&&o.onValue?t.stream(function(u){return o.subscribe(function(n){typeof n.hasValue=="function"?n.hasValue()?u.emit(n.value()):n.isEnd()?u.end():n.isError()?u.error(n.error):console.error("Unknown type of Bacon event",n):n.hasValue?u.emit(n.value):n.isEnd?u.end():n.isError?u.error(n.error):console.error("Unknown type of Bacon event",n)})}):o&&o.subscribe&&o.lift?t.stream(function(u){var n=o.subscribe(function(s){u.emit(s)},function(s){u.error(s),u.end()},function(){u.end()});return function(){n.unsubscribe()}}):t.constant(o)}l.exports=a},{}],326:[function(e,l,i){"use strict";function a(){function o(){s.stopped=!0,u&&(u.emit(null),u.end())}var u=null,n=t.stream(function(f){u=f,s.stopped&&o()}),s=n.toProperty();return s.stopped=!1,s.destroy=o,s}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var t=e("kefir");l.exports=i.default,l.exports.default=i.default},{kefir:327}],327:[function(e,l,i){(function(a){(function(){(function(t,o){typeof i=="object"&&l!==void 0?o(i):typeof zt=="function"&&zt.amd?zt(["exports"],o):o(t.Kefir=t.Kefir||{})})(this,function(t){"use strict";function o(J){var ve=function(){};return ve.prototype=J,new ve}function u(J){var ve=arguments.length,Pe=void 0,it=void 0;for(Pe=1;Pe<ve;Pe++)for(it in arguments[Pe])J[it]=arguments[Pe][it];return J}function n(J,ve){var Pe=arguments.length,it=void 0;for(J.prototype=o(ve.prototype),J.prototype.constructor=J,it=2;it<Pe;it++)u(J.prototype,arguments[it]);return J}function s(J,ve){var Pe=void 0,it=void 0,mt=void 0,Ut=void 0;if(J.length===0)return ve;if(ve.length===0)return J;for(Ut=0,Pe=new Array(J.length+ve.length),it=J.length,mt=0;mt<it;mt++,Ut++)Pe[Ut]=J[mt];for(it=ve.length,mt=0;mt<it;mt++,Ut++)Pe[Ut]=ve[mt];return Pe}function f(J,ve){var Pe=J.length,it=void 0;for(it=0;it<Pe;it++)if(J[it]===ve)return it;return-1}function d(J,ve){var Pe=J.length,it=void 0;for(it=0;it<Pe;it++)if(ve(J[it]))return it;return-1}function m(J){var ve=J.length,Pe=new Array(ve),it=void 0;for(it=0;it<ve;it++)Pe[it]=J[it];return Pe}function h(J,ve){var Pe=J.length,it=void 0,mt=void 0,Ut=void 0;if(ve>=0&&ve<Pe){if(Pe===1)return[];for(it=new Array(Pe-1),mt=0,Ut=0;mt<Pe;mt++)mt!==ve&&(it[Ut]=J[mt],Ut++);return it}return J}function _(J,ve){var Pe=J.length,it=new Array(Pe),mt=void 0;for(mt=0;mt<Pe;mt++)it[mt]=ve(J[mt]);return it}function y(J,ve){var Pe=J.length,it=void 0;for(it=0;it<Pe;it++)ve(J[it])}function S(J,ve){var Pe=J.length,it=void 0;for(it=0;it<Pe;it++)J[it]=ve}function v(J,ve){return f(J,ve)!==-1}function T(J,ve,Pe){var it=Math.min(Pe,J.length+1),mt=J.length-it+1,Ut=new Array(it),fn=void 0;for(fn=mt;fn<it;fn++)Ut[fn-mt]=J[fn];return Ut[it-1]=ve,Ut}function E(J,ve,Pe){J===Zo?ve(Pe):J===Pe.type&&(J===qn||J===Tn?ve(Pe.value):ve())}function I(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function g(){this._dispatcher=new I,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function k(){g.call(this)}function j(){g.call(this),this._currentEvent=null}function x(){return Wr}function A(J){function ve(Pe,it){var mt=this;k.call(this),this._wait=Pe,this._intervalId=null,this._$onTick=function(){return mt._onTick()},this._init(it)}return n(ve,k,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){this._intervalId!==null&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){k.prototype._clear.call(this),this._$onTick=null,this._free()}},J),ve}function w(J,ve){return new Rn(J,{x:ve})}function C(J,ve){return new no(J,{x:ve})}function O(J,ve){return ve.length===0?x():new yr(J,{xs:ve})}function V(J,ve){return new _i(J,{fn:ve})}function R(J){function ve(Ut){return J._emitValue(Ut),J._active}function Pe(Ut){return J._emitError(Ut),J._active}function it(){return J._emitEnd(),J._active}function mt(Ut){return J._emit(Ut.type,Ut.value),J._active}return{value:ve,error:Pe,end:it,event:mt,emit:ve,emitEvent:mt}}function P(J,ve){return new Fi(J,{fn:ve})}function B(J){k.call(this),this._fn=J,this._unsubscribe=null}function z(J){return new B(J)}function Q(J){var ve=!1;return z(function(Pe){ve||(J(function(it){Pe.emit(it),Pe.end()}),ve=!0)}).setName("fromCallback")}function N(J){var ve=!1;return z(function(Pe){ve||(J(function(it,mt){it?Pe.error(it):Pe.emit(mt),Pe.end()}),ve=!0)}).setName("fromNodeCallback")}function K(J,ve){switch(ve){case 0:return function(){return J()};case 1:return function(Pe){return J(Pe[0])};case 2:return function(Pe){return J(Pe[0],Pe[1])};case 3:return function(Pe){return J(Pe[0],Pe[1],Pe[2])};case 4:return function(Pe){return J(Pe[0],Pe[1],Pe[2],Pe[3])};default:return function(Pe){return J.apply(null,Pe)}}}function U(J,ve,Pe){var it=Pe?Pe.length:0;if(ve==null)switch(it){case 0:return J();case 1:return J(Pe[0]);case 2:return J(Pe[0],Pe[1]);case 3:return J(Pe[0],Pe[1],Pe[2]);case 4:return J(Pe[0],Pe[1],Pe[2],Pe[3]);default:return J.apply(null,Pe)}else switch(it){case 0:return J.call(ve);default:return J.apply(ve,Pe)}}function F(J,ve,Pe){return z(function(it){var mt=Pe?function(){it.emit(U(Pe,this,arguments))}:function(Ut){it.emit(Ut)};return J(mt),function(){return ve(mt)}}).setName("fromSubUnsub")}function Z(J,ve,Pe){for(var it=void 0,mt=void 0,Ut=0;Ut<Tr.length;Ut++)if(typeof J[Tr[Ut][0]]=="function"&&typeof J[Tr[Ut][1]]=="function"){it=Tr[Ut][0],mt=Tr[Ut][1];break}if(it===void 0)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return F(function(fn){return J[it](ve,fn)},function(fn){return J[mt](ve,fn)},Pe).setName("fromEvents")}function $(J){this._currentEvent={type:"value",value:J,current:!0}}function ne(J){return new $(J)}function H(J){this._currentEvent={type:"error",value:J,current:!0}}function X(J){return new H(J)}function oe(J,ve){return function(Pe,it){var mt=this;J.call(this),this._source=Pe,this._name=Pe._name+"."+ve,this._init(it),this._$handleAny=function(Ut){return mt._handleAny(Ut)}}}function Y(J){return{_init:function(){},_free:function(){},_handleValue:function(ve){this._emitValue(ve)},_handleError:function(ve){this._emitError(ve)},_handleEnd:function(){this._emitEnd()},_handleAny:function(ve){switch(ve.type){case qn:return this._handleValue(ve.value);case Tn:return this._handleError(ve.value);case cn:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){J.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function se(J,ve){var Pe=oe(k,J);return n(Pe,k,Y(k),ve),Pe}function ie(J,ve){var Pe=oe(j,J);return n(Pe,j,Y(j),ve),Pe}function L(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(ve!==null&&typeof ve!="function")throw new Error("You should call toProperty() with a function or no arguments.");return new On(J,{fn:ve})}function G(J){return new zi(J)}function le(J){var ve=!1;return L(z(function(Pe){if(!ve){var it=function(fn){Pe.emit(fn),Pe.end()},mt=function(fn){Pe.error(fn),Pe.end()},Ut=J.then(it,mt);Ut&&typeof Ut.done=="function"&&Ut.done(),ve=!0}}),null).setName("fromPromise")}function pe(){if(typeof Promise=="function")return Promise;throw new Error("There isn't default Promise, use shim or parameter")}function we(J){var ve=J[Ln]?J[Ln]():J;return z(function(Pe){var it=ve.subscribe({error:function(mt){Pe.error(mt),Pe.end()},next:function(mt){Pe.emit(mt)},complete:function(){Pe.end()}});return it.unsubscribe?function(){it.unsubscribe()}:it}).setName("fromESObservable")}function ye(J){this._observable=J.takeErrors(1)}function W(){return new ye(this)}function te(J,ve,Pe){for(var it in J)J.hasOwnProperty(it)&&(ve.push(it),Pe.push(J[it]))}function ce(J){for(var ve=void 0,Pe=0;Pe<J.length;Pe++)J[Pe]!==void 0&&(ve===void 0||ve.index<J[Pe].index)&&(ve=J[Pe]);return ve.error}function je(J,ve,Pe){var it=this;k.call(this),this._activeCount=J.length,this._sources=s(J,ve),this._combinator=Pe,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),S(this._latestValues,gn),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var mt=0;mt<this._sources.length;mt++)(function(Ut){it._$handlers.push(function(fn){return it._handleAny(Ut,fn)})})(mt)}function be(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Pe=arguments[2];if(!Array.isArray(ve))throw new Error("Combine can only combine active and passive collections of the same type.");return Pe=Pe?K(Pe,J.length+ve.length):function(it){return it},J.length===0?x():new je(J,ve,Pe)}function Ne(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pe=arguments[2];if(typeof ve!="object"||Array.isArray(ve))throw new Error("Combine can only combine active and passive collections of the same type.");var it=[],mt=[],Ut=[];te(J,it,mt),te(ve,it,Ut);var fn=function(cr){for(var Ia={},Fo=cr.length-1;0<=Fo;Fo--)Ia[it[Fo]]=cr[Fo];return Pe?Pe(Ia):Ia};return mt.length===0?x():new je(mt,Ut,fn)}function He(J,ve,Pe){return typeof ve=="function"&&(Pe=ve,ve=void 0),Array.isArray(J)?be(J,ve,Pe):Ne(J,ve,Pe)}function Qe(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:va;return new(J._ofSameType(ql,gi))(J,{fn:ve})}function Be(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lr;return new(J._ofSameType(Wi,Oo))(J,{fn:ve})}function Je(J,ve){return new(J._ofSameType(nr,Eo))(J,{n:ve})}function _t(J,ve){return new(J._ofSameType(As,Ds))(J,{n:ve})}function pt(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Po;return new(J._ofSameType(wi,Ms))(J,{fn:ve})}function Et(J){return new(J._ofSameType(ji,Lo))(J)}function It(J,ve){return new(J._ofSameType(yo,Nr))(J,{n:ve})}function Qt(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:No;return new(J._ofSameType(Rs,Ha))(J,{fn:ve})}function jt(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:So;return new(J._ofSameType(Wa,Vo))(J,{fn:ve})}function Pt(J,ve){return[J,ve]}function At(J,ve){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gn;return new(J._ofSameType(Os,ei))(J,{fn:ve||Pt,seed:Pe})}function Ce(J,ve){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gn;return new $i(J,{fn:ve,seed:Pe})}function Oe(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ti;return new Vr(J,{fn:ve})}function at(J,ve){return new(J._ofSameType(Ga,ki))(J,{wait:ve})}function bt(J,ve){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=Pe.leading,mt=it===void 0||it,Ut=Pe.trailing,fn=Ut===void 0||Ut;return new(J._ofSameType(Ki,Co))(J,{wait:ve,leading:mt,trailing:fn})}function Gt(J,ve){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=Pe.immediate,mt=it!==void 0&&it;return new(J._ofSameType(Ps,Ls))(J,{wait:ve,immediate:mt})}function Vt(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dl;return new(J._ofSameType(cl,Ka))(J,{fn:ve})}function dn(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vr;return new(J._ofSameType(Ya,Qa))(J,{fn:ve})}function Cn(J){return new(J._ofSameType(Vs,Ei))(J)}function Tt(J){return new(J._ofSameType(To,wa))(J)}function In(J){return new(J._ofSameType(Bs,Ul))(J)}function $e(J,ve){return new(J._ofSameType(ja,qs))(J,{fn:ve})}function St(J,ve){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new(J._ofSameType(ka,Ja))(J,{min:Pe,max:ve})}function Yt(J,ve){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=Pe.flushOnEnd,mt=it===void 0||it;return new(J._ofSameType(xa,oi))(J,{fn:ve||Us,flushOnEnd:mt})}function Ht(J,ve){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=Pe.flushOnEnd,mt=it===void 0||it;return new(J._ofSameType(Fs,Xa))(J,{count:ve,flushOnEnd:mt})}function Wt(J,ve,Pe){var it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},mt=it.flushOnEnd,Ut=mt===void 0||mt;return new(J._ofSameType(ii,zs))(J,{wait:ve,count:Pe,flushOnEnd:Ut})}function Pn(J){return{"@@transducer/step":function(ve,Pe){return J._emitValue(Pe),null},"@@transducer/result":function(){return J._emitEnd(),null}}}function Sn(J,ve){return new(J._ofSameType(io,es))(J,{transducer:ve})}function sr(J,ve){return new(J._ofSameType(Ii,Sa))(J,{fn:ve})}function lr(J,ve){var Pe=this;k.call(this),this._buffers=_(J,function(mt){return ai(mt)?m(mt):[]}),this._sources=_(J,function(mt){return ai(mt)?x():mt}),this._combinator=ve?K(ve,this._sources.length):function(mt){return mt},this._aliveCount=0,this._$handlers=[];for(var it=0;it<this._sources.length;it++)(function(mt){Pe._$handlers.push(function(Ut){return Pe._handleAny(mt,Ut)})})(it)}function Un(J,ve){return J.length===0?x():new lr(J,ve)}function xt(){var J=this,ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=ve.queueLim,it=Pe===void 0?0:Pe,mt=ve.concurLim,Ut=mt===void 0?-1:mt,fn=ve.drop,cr=fn===void 0?"new":fn;k.call(this),this._queueLim=it<0?-1:it,this._concurLim=Ut<0?-1:Ut,this._drop=cr,this._queue=[],this._curSources=[],this._$handleSubAny=function(Ia){return J._handleSubAny(Ia)},this._$endHandlers=[],this._currentlyAdding=null,this._concurLim===0&&this._emitEnd()}function Rt(J){xt.call(this),this._addAll(J),this._initialised=!0}function Ae(J){return J.length===0?x():new Rt(J)}function De(J){var ve=this;k.call(this),this._generator=J,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(Pe){return ve._handleAny(Pe)}}function et(J){return Gs(function(ve){return J.length>ve&&J[ve]}).setName("concat")}function ae(){xt.call(this)}function de(J,ve,Pe){var it=this;xt.call(this,Pe),this._source=J,this._fn=ve,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(mt){return it._handleMain(mt)}}function _e(J,ve){de.call(this,J,ve)}function he(J,ve){return function(Pe,it,mt){var Ut=this;J.call(this),this._primary=Pe,this._secondary=it,this._name=Pe._name+"."+ve,this._lastSecondary=gn,this._$handleSecondaryAny=function(fn){return Ut._handleSecondaryAny(fn)},this._$handlePrimaryAny=function(fn){return Ut._handlePrimaryAny(fn)},this._init(mt)}}function Ee(J){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(ve){this._emitValue(ve)},_handlePrimaryError:function(ve){this._emitError(ve)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(ve){this._lastSecondary=ve},_handleSecondaryError:function(ve){this._emitError(ve)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(ve){switch(ve.type){case qn:return this._handlePrimaryValue(ve.value);case Tn:return this._handlePrimaryError(ve.value);case cn:return this._handlePrimaryEnd(ve.value)}},_handleSecondaryAny:function(ve){switch(ve.type){case qn:return this._handleSecondaryValue(ve.value);case Tn:return this._handleSecondaryError(ve.value);case cn:this._handleSecondaryEnd(ve.value),this._removeSecondary()}},_removeSecondary:function(){this._secondary!==null&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){this._secondary!==null&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){this._secondary!==null&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){J.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function ke(J,ve){var Pe=he(k,J);return n(Pe,k,Ee(k),ve),Pe}function Ve(J,ve){var Pe=he(j,J);return n(Pe,j,Ee(j),ve),Pe}function ze(J,ve){return new(J._ofSameType(ts,ns))(J,ve)}function qe(J,ve,Pe){return He([ve],[J],Pe?function(it,mt){return Pe(mt,it)}:fl).setName(J,"sampledBy")}function Me(J,ve){return new(J._ofSameType(pl,ml))(J,ve)}function We(J,ve){return new(J._ofSameType($s,si))(J,ve)}function rt(J,ve,Pe){return new(J._ofSameType(jo,Ji))(J,ve,Pe)}function gt(J,ve,Pe){return new(J._ofSameType(so,is))(J,ve,Pe)}function $t(J,ve){var Pe=Ae([Qe(J,ss),Qe(ve,as)]);return Pe=jt(Pe),Pe=L(Pe,as),Pe.setName(J,"awaiting")}function Zt(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zi;return new(J._ofSameType(hl,qo))(J,{fn:ve})}function mn(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gr;return new(J._ofSameType(lo,Ks))(J,{fn:ve})}function hn(J){return new(J._ofSameType(Ai,ls))(J)}function mr(){Ys=!1}function Mn(J){Ys&&console&&typeof console.warn=="function"&&console.warn(J,`
Here is an Error object for you containing the call stack:`,new Error)}var gn=["<nothing>"],cn="end",qn="value",Tn="error",Zo="any";u(I.prototype,{add:function(J,ve){return this._items=s(this._items,[{type:J,fn:ve}]),this._items.length},remove:function(J,ve){var Pe=d(this._items,function(it){return it.type===J&&it.fn===ve});return this._inLoop!==0&&Pe!==-1&&(this._removedItems===null&&(this._removedItems=[]),this._removedItems.push(this._items[Pe])),this._items=h(this._items,Pe),this._items.length},addSpy:function(J){return this._spies=s(this._spies,[J]),this._spies.length},removeSpy:function(J){return this._spies=h(this._spies,this._spies.indexOf(J)),this._spies.length},dispatch:function(J){this._inLoop++;for(var ve=0,Pe=this._spies;this._spies!==null&&ve<Pe.length;ve++)Pe[ve](J);for(var it=0,mt=this._items;it<mt.length&&this._items!==null;it++)this._removedItems!==null&&v(this._removedItems,mt[it])||E(mt[it].type,mt[it].fn,J);--this._inLoop===0&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),u(g.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(J){this._active!==J&&(this._active=J,J?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(J,ve){switch(J){case qn:return this._emitValue(ve);case Tn:return this._emitError(ve);case cn:return this._emitEnd()}},_emitValue:function(J){this._alive&&this._dispatcher.dispatch({type:qn,value:J})},_emitError:function(J){this._alive&&this._dispatcher.dispatch({type:Tn,value:J})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:cn}),this._clear())},_on:function(J,ve){return this._alive?(this._dispatcher.add(J,ve),this._setActive(!0)):E(J,ve,{type:cn}),this},_off:function(J,ve){return this._alive&&this._dispatcher.remove(J,ve)===0&&this._setActive(!1),this},onValue:function(J){return this._on(qn,J)},onError:function(J){return this._on(Tn,J)},onEnd:function(J){return this._on(cn,J)},onAny:function(J){return this._on(Zo,J)},offValue:function(J){return this._off(qn,J)},offError:function(J){return this._off(Tn,J)},offEnd:function(J){return this._off(cn,J)},offAny:function(J){return this._off(Zo,J)},observe:function(J,ve,Pe){var it=this,mt=!1,Ut=J&&typeof J!="function"?J:{value:J,error:ve,end:Pe},fn=function(cr){cr.type===cn&&(mt=!0),cr.type===qn&&Ut.value?Ut.value(cr.value):cr.type===Tn&&Ut.error?Ut.error(cr.value):cr.type===cn&&Ut.end&&Ut.end(cr.value)};return this.onAny(fn),{unsubscribe:function(){mt||(it.offAny(fn),mt=!0)},get closed(){return mt}}},_ofSameType:function(J,ve){return J.prototype.getType()===this.getType()?J:ve},setName:function(J,ve){return this._name=ve?J._name+"."+ve:J,this},log:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString(),ve=void 0,Pe=function(it){var mt="<"+it.type+(ve?":current":"")+">";it.type===cn?console.log(J,mt):console.log(J,mt,it.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:J,handler:Pe})),ve=!0,this.onAny(Pe),ve=!1,this},offLog:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._logHandlers){var ve=d(this._logHandlers,function(Pe){return Pe.name===J});ve!==-1&&(this.offAny(this._logHandlers[ve].handler),this._logHandlers.splice(ve,1))}return this},spy:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString(),ve=function(Pe){var it="<"+Pe.type+">";Pe.type===cn?console.log(J,it):console.log(J,it,Pe.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:J,handler:ve}),this._dispatcher.addSpy(ve)),this},offSpy:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._spyHandlers){var ve=d(this._spyHandlers,function(Pe){return Pe.name===J});ve!==-1&&(this._dispatcher.removeSpy(this._spyHandlers[ve].handler),this._spyHandlers.splice(ve,1))}return this}}),g.prototype.toString=function(){return"["+this._name+"]"},n(k,g,{_name:"stream",getType:function(){return"stream"}}),n(j,g,{_name:"property",_emitValue:function(J){this._alive&&(this._currentEvent={type:qn,value:J},this._activating||this._dispatcher.dispatch({type:qn,value:J}))},_emitError:function(J){this._alive&&(this._currentEvent={type:Tn,value:J},this._activating||this._dispatcher.dispatch({type:Tn,value:J}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:cn}),this._clear())},_on:function(J,ve){return this._alive&&(this._dispatcher.add(J,ve),this._setActive(!0)),this._currentEvent!==null&&E(J,ve,this._currentEvent),this._alive||E(J,ve,{type:cn}),this},getType:function(){return"property"}});var Wr=new k;Wr._emitEnd(),Wr._name="never";var Rn=A({_name:"later",_init:function(J){var ve=J.x;this._x=ve},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),no=A({_name:"interval",_init:function(J){var ve=J.x;this._x=ve},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),yr=A({_name:"sequentially",_init:function(J){var ve=J.xs;this._xs=m(ve)},_free:function(){this._xs=null},_onTick:function(){this._xs.length===1?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),_i=A({_name:"fromPoll",_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_onTick:function(){var J=this._fn;this._emitValue(J())}}),Fi=A({_name:"withInterval",_init:function(J){var ve=J.fn;this._fn=ve,this._emitter=R(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){(0,this._fn)(this._emitter)}});n(B,k,{_name:"stream",_onActivation:function(){var J=this._fn,ve=J(R(this));this._unsubscribe=typeof ve=="function"?ve:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){this._unsubscribe!==null&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){k.prototype._clear.call(this),this._fn=null}});var Tr=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];n($,j,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),n(H,j,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var or,On=ie("toProperty",{_init:function(J){var ve=J.fn;this._getInitialCurrent=ve},_onActivation:function(){if(this._getInitialCurrent!==null){var J=this._getInitialCurrent;this._emitValue(J())}this._source.onAny(this._$handleAny)}}),zi=se("changes",{_handleValue:function(J){this._activating||this._emitValue(J)},_handleError:function(J){this._activating||this._emitError(J)}}),Ts=function(J){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe(),Pe=null;return new ve(function(it,mt){J.onAny(function(Ut){Ut.type===cn&&Pe!==null?((Pe.type===qn?it:mt)(Pe.value),Pe=null):Pe=Ut})})};or=typeof self!="undefined"?self:typeof window!="undefined"?window:a!==void 0?a:l!==void 0?l:Function("return this")();var Hi=function(J){var ve,Pe=J.Symbol;return typeof Pe=="function"?Pe.observable?ve=Pe.observable:(ve=Pe("observable"),Pe.observable=ve):ve="@@observable",ve}(or),Ln=Hi.default?Hi.default:Hi;u(ye.prototype,{subscribe:function(J,ve,Pe){var it=this,mt=typeof J=="function"?{next:J,error:ve,complete:Pe}:J,Ut=function(cr){cr.type===cn&&(fn=!0),cr.type===qn&&mt.next?mt.next(cr.value):cr.type===Tn&&mt.error?mt.error(cr.value):cr.type===cn&&mt.complete&&mt.complete(cr.value)};this._observable.onAny(Ut);var fn=!1;return{unsubscribe:function(){fn=!0,it._observable.offAny(Ut)},get closed(){return fn}}}}),ye.prototype[Ln]=function(){return this},n(je,k,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var J=this._activeCount;J<this._sources.length;J++)this._sources[J].onAny(this._$handlers[J]);for(var ve=0;ve<this._activeCount;ve++)this._sources[ve].onAny(this._$handlers[ve]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var J=this._sources.length,ve=void 0;for(ve=0;ve<J;ve++)this._sources[ve].offAny(this._$handlers[ve])},_emitIfFull:function(){for(var J=!0,ve=!1,Pe=this._latestValues.length,it=new Array(Pe),mt=new Array(Pe),Ut=0;Ut<Pe;Ut++)it[Ut]=this._latestValues[Ut],mt[Ut]=this._latestErrors[Ut],it[Ut]===gn&&(J=!1),mt[Ut]!==void 0&&(ve=!0);if(J){var fn=this._combinator;this._emitValue(fn(it))}ve&&this._emitError(ce(mt))},_handleAny:function(J,ve){ve.type===qn||ve.type===Tn?(ve.type===qn&&(this._latestValues[J]=ve.value,this._latestErrors[J]=void 0),ve.type===Tn&&(this._latestValues[J]=gn,this._latestErrors[J]={index:this._latestErrorIndex++,error:ve.value}),J<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):J<this._activeCount&&--this._aliveCount===0&&(this._activating?this._endAfterActivation=!0:this._emitEnd())},_clear:function(){k.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var ba={empty:function(){return x()},concat:function(J,ve){return J.merge(ve)},of:function(J){return ne(J)},map:function(J,ve){return ve.map(J)},bimap:function(J,ve,Pe){return Pe.mapErrors(J).map(ve)},ap:function(J,ve){return He([J,ve],function(Pe,it){return Pe(it)})},chain:function(J,ve){return ve.flatMap(J)}},Ro=Object.freeze({Observable:ba}),Fa={_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_handleValue:function(J){var ve=this._fn;this._emitValue(ve(J))}},ql=se("map",Fa),gi=ie("map",Fa),va=function(J){return J},Xo={_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_handleValue:function(J){(0,this._fn)(J)&&this._emitValue(J)}},Wi=se("filter",Xo),Oo=ie("filter",Xo),Lr=function(J){return J},Vn={_init:function(J){var ve=J.n;this._n=ve,ve<=0&&this._emitEnd()},_handleValue:function(J){this._n!==0&&(this._n--,this._emitValue(J),this._n===0&&this._emitEnd())}},nr=se("take",Vn),Eo=ie("take",Vn),ur={_init:function(J){var ve=J.n;this._n=ve,ve<=0&&this._emitEnd()},_handleError:function(J){this._n!==0&&(this._n--,this._emitError(J),this._n===0&&this._emitEnd())}},As=se("takeErrors",ur),Ds=ie("takeErrors",ur),yi={_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_handleValue:function(J){(0,this._fn)(J)?this._emitValue(J):this._emitEnd()}},wi=se("takeWhile",yi),Ms=ie("takeWhile",yi),Po=function(J){return J},za={_init:function(){this._lastValue=gn},_free:function(){this._lastValue=null},_handleValue:function(J){this._lastValue=J},_handleEnd:function(){this._lastValue!==gn&&this._emitValue(this._lastValue),this._emitEnd()}},ji=se("last",za),Lo=ie("last",za),Ar={_init:function(J){var ve=J.n;this._n=Math.max(0,ve)},_handleValue:function(J){this._n===0?this._emitValue(J):this._n--}},yo=se("skip",Ar),Nr=ie("skip",Ar),Gi={_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_handleValue:function(J){var ve=this._fn;this._fn===null||ve(J)||(this._fn=null),this._fn===null&&this._emitValue(J)}},Rs=se("skipWhile",Gi),Ha=ie("skipWhile",Gi),No=function(J){return J},Er={_init:function(J){var ve=J.fn;this._fn=ve,this._prev=gn},_free:function(){this._fn=null,this._prev=null},_handleValue:function(J){var ve=this._fn;this._prev!==gn&&ve(this._prev,J)||(this._prev=J,this._emitValue(J))}},Wa=se("skipDuplicates",Er),Vo=ie("skipDuplicates",Er),So=function(J,ve){return J===ve},ro={_init:function(J){var ve=J.fn,Pe=J.seed;this._fn=ve,this._prev=Pe},_free:function(){this._prev=null,this._fn=null},_handleValue:function(J){if(this._prev!==gn){var ve=this._fn;this._emitValue(ve(this._prev,J))}this._prev=J}},Os=se("diff",ro),ei=ie("diff",ro),$i=ie("scan",{_init:function(J){var ve=J.fn,Pe=J.seed;this._fn=ve,this._seed=Pe,Pe!==gn&&this._emitValue(Pe)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(J){var ve=this._fn;this._currentEvent===null||this._currentEvent.type===Tn?this._emitValue(this._seed===gn?J:ve(this._seed,J)):this._emitValue(ve(this._currentEvent.value,J))}}),_a={_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_handleValue:function(J){for(var ve=this._fn,Pe=ve(J),it=0;it<Pe.length;it++)this._emitValue(Pe[it])}},Vr=se("flatten",_a),ti=function(J){return J},ga={},ni={_init:function(J){var ve=this,Pe=J.wait;this._wait=Math.max(0,Pe),this._buff=[],this._$shiftBuff=function(){var it=ve._buff.shift();it===ga?ve._emitEnd():ve._emitValue(it)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(J){this._activating?this._emitValue(J):(this._buff.push(J),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(ga),setTimeout(this._$shiftBuff,this._wait))}},Ga=se("delay",ni),ki=ie("delay",ni),xi=Date.now?function(){return Date.now()}:function(){return new Date().getTime()},oo={_init:function(J){var ve=this,Pe=J.wait,it=J.leading,mt=J.trailing;this._wait=Math.max(0,Pe),this._leading=it,this._trailing=mt,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return ve._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(J){if(this._activating)this._emitValue(J);else{var ve=xi();this._lastCallTime!==0||this._leading||(this._lastCallTime=ve);var Pe=this._wait-(ve-this._lastCallTime);Pe<=0?(this._cancelTrailing(),this._lastCallTime=ve,this._emitValue(J)):this._trailing&&(this._cancelTrailing(),this._trailingValue=J,this._timeoutId=setTimeout(this._$trailingCall,Pe))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){this._timeoutId!==null&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?xi():0,this._endLater&&this._emitEnd()}},Ki=se("throttle",oo),Co=ie("throttle",oo),$a={_init:function(J){var ve=this,Pe=J.wait,it=J.immediate;this._wait=Math.max(0,Pe),this._immediate=it,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return ve._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(J){this._activating?this._emitValue(J):(this._lastAttempt=xi(),this._immediate&&!this._timeoutId&&this._emitValue(J),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=J))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var J=xi()-this._lastAttempt;if(J<this._wait&&J>=0)this._timeoutId=setTimeout(this._$later,this._wait-J);else{if(this._timeoutId=null,!this._immediate){var ve=this._laterValue;this._laterValue=null,this._emitValue(ve)}this._endLater&&this._emitEnd()}}},Ps=se("debounce",$a),Ls=ie("debounce",$a),Io={_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_handleError:function(J){var ve=this._fn;this._emitError(ve(J))}},cl=se("mapErrors",Io),Ka=ie("mapErrors",Io),dl=function(J){return J},ya={_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_handleError:function(J){(0,this._fn)(J)&&this._emitError(J)}},Ya=se("filterErrors",ya),Qa=ie("filterErrors",ya),vr=function(J){return J},Ns={_handleValue:function(){}},Vs=se("ignoreValues",Ns),Ei=ie("ignoreValues",Ns),wo={_handleError:function(){}},To=se("ignoreErrors",wo),wa=ie("ignoreErrors",wo),Si={_handleEnd:function(){}},Bs=se("ignoreEnd",Si),Ul=ie("ignoreEnd",Si),ri={_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_handleEnd:function(){var J=this._fn;this._emitValue(J()),this._emitEnd()}},ja=se("beforeEnd",ri),qs=ie("beforeEnd",ri),Ci={_init:function(J){var ve=J.min,Pe=J.max;this._max=Pe,this._min=ve,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(J){this._buff=T(this._buff,J,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},ka=se("slidingWindow",Ci),Ja=ie("slidingWindow",Ci),Yi={_init:function(J){var ve=J.fn,Pe=J.flushOnEnd;this._fn=ve,this._flushOnEnd=Pe,this._buff=[]},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&this._buff.length!==0&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(J){this._buff.push(J),(0,this._fn)(J)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},xa=se("bufferWhile",Yi),oi=ie("bufferWhile",Yi),Us=function(J){return J},Za={_init:function(J){var ve=J.count,Pe=J.flushOnEnd;this._count=ve,this._flushOnEnd=Pe,this._buff=[]},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&this._buff.length!==0&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(J){this._buff.push(J),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Fs=se("bufferWithCount",Za),Xa=ie("bufferWithCount",Za),Ea={_init:function(J){var ve=this,Pe=J.wait,it=J.count,mt=J.flushOnEnd;this._wait=Pe,this._count=it,this._flushOnEnd=mt,this._intervalId=null,this._$onTick=function(){return ve._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(J){this._buff.push(J),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&this._buff.length!==0&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._intervalId!==null&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},ii=se("bufferWithTimeOrCount",Ea),zs=ie("bufferWithTimeOrCount",Ea),Hs={_init:function(J){var ve=J.transducer;this._xform=ve(Pn(this))},_free:function(){this._xform=null},_handleValue:function(J){this._xform["@@transducer/step"](null,J)!==null&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},io=se("transduce",Hs),es=ie("transduce",Hs),Ws={_init:function(J){var ve=J.fn;this._handler=ve,this._emitter=R(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(J){this._handler(this._emitter,J)}},Ii=se("withHandler",Ws),Sa=ie("withHandler",Ws),ai=Array.isArray||function(J){return Object.prototype.toString.call(J)==="[object Array]"};n(lr,k,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var J=this._sources.length;this._aliveCount=J;for(var ve=0;ve<J&&this._active;ve++)this._sources[ve].onAny(this._$handlers[ve])},_onDeactivation:function(){for(var J=0;J<this._sources.length;J++)this._sources[J].offAny(this._$handlers[J])},_emit:function(){for(var J=new Array(this._buffers.length),ve=0;ve<this._buffers.length;ve++)J[ve]=this._buffers[ve].shift();var Pe=this._combinator;this._emitValue(Pe(J))},_isFull:function(){for(var J=0;J<this._buffers.length;J++)if(this._buffers[J].length===0)return!1;return!0},_handleAny:function(J,ve){ve.type===qn&&(this._buffers[J].push(ve.value),this._isFull()&&this._emit()),ve.type===Tn&&this._emitError(ve.value),ve.type===cn&&--this._aliveCount===0&&this._emitEnd()},_clear:function(){k.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var Bo=function(J){return J};n(xt,k,{_name:"abstractPool",_add:function(J,ve){ve=ve||Bo,this._concurLim===-1||this._curSources.length<this._concurLim?this._addToCur(ve(J)):this._queueLim===-1||this._queue.length<this._queueLim?this._addToQueue(ve(J)):this._drop==="old"&&(this._removeOldest(),this._add(J,ve))},_addAll:function(J){var ve=this;y(J,function(Pe){return ve._add(Pe)})},_remove:function(J){this._removeCur(J)===-1&&this._removeQueue(J)},_addToQueue:function(J){this._queue=s(this._queue,[J])},_addToCur:function(J){if(this._active){if(!J._alive)return J._currentEvent&&this._emit(J._currentEvent.type,J._currentEvent.value),void(this._active&&(this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty()));this._currentlyAdding=J,J.onAny(this._$handleSubAny),this._currentlyAdding=null,J._alive?(this._curSources=s(this._curSources,[J]),this._active&&this._subToEnd(J)):this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty()}else this._curSources=s(this._curSources,[J])},_subToEnd:function(J){var ve=this,Pe=function(){return ve._removeCur(J)};this._$endHandlers.push({obs:J,handler:Pe}),J.onEnd(Pe)},_subscribe:function(J){J.onAny(this._$handleSubAny),this._active&&this._subToEnd(J)},_unsubscribe:function(J){J.offAny(this._$handleSubAny);var ve=d(this._$endHandlers,function(Pe){return Pe.obs===J});ve!==-1&&(J.offEnd(this._$endHandlers[ve].handler),this._$endHandlers.splice(ve,1))},_handleSubAny:function(J){J.type===qn?this._emitValue(J.value):J.type===Tn&&this._emitError(J.value)},_removeQueue:function(J){var ve=f(this._queue,J);return this._queue=h(this._queue,ve),ve},_removeCur:function(J){this._active&&this._unsubscribe(J);var ve=f(this._curSources,J);return this._curSources=h(this._curSources,ve),ve!==-1&&(this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty()),ve},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){this._queue.length!==0&&(this._queue=m(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var J=0,ve=this._curSources;J<ve.length&&this._active;J++)this._subscribe(ve[J])},_onDeactivation:function(){for(var J=0,ve=this._curSources;J<ve.length;J++)this._unsubscribe(ve[J]);this._currentlyAdding!==null&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return this._curSources.length===0},_onEmpty:function(){},_clear:function(){k.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),n(Rt,xt,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),n(De,k,{_name:"repeat",_handleAny:function(J){J.type===cn?(this._source=null,this._getSource()):this._emit(J.type,J.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var J=this._generator;this._source===null&&this._alive&&this._active;)this._source=J(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){k.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var Gs=function(J){return new De(J)};n(ae,xt,{_name:"pool",plug:function(J){return this._add(J),this},unplug:function(J){return this._remove(J),this}}),n(de,xt,{_onActivation:function(){xt.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){xt.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(J){J.type===qn&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===J.value||this._add(J.value,this._fn),this._lastCurrent=J.value,this._hadNoEvSinceDeact=!1),J.type===Tn&&this._emitError(J.value),J.type===cn&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){xt.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),n(_e,de,{_handleMain:function(J){J.type===Tn&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===J.value||this._add(J.value,this._fn),this._lastCurrent=J.value,this._hadNoEvSinceDeact=!1),J.type===qn&&this._emitValue(J.value),J.type===cn&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var Ti={_handlePrimaryValue:function(J){this._lastSecondary!==gn&&this._lastSecondary&&this._emitValue(J)},_handleSecondaryEnd:function(){this._lastSecondary!==gn&&this._lastSecondary||this._emitEnd()}},ts=ke("filterBy",Ti),ns=Ve("filterBy",Ti),fl=function(J,ve){return ve},rs={_handlePrimaryValue:function(J){this._lastSecondary!==gn&&this._emitValue(J)},_handleSecondaryEnd:function(){this._lastSecondary===gn&&this._emitEnd()}},pl=ke("skipUntilBy",rs),ml=Ve("skipUntilBy",rs),os={_handleSecondaryValue:function(){this._emitEnd()}},$s=ke("takeUntilBy",os),si=Ve("takeUntilBy",os),Qi={_init:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=J.flushOnEnd,Pe=ve===void 0||ve;this._buff=[],this._flushOnEnd=Pe},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&this._secondary!==null&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(J){this._buff.push(J)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},jo=ke("bufferBy",Qi),Ji=Ve("bufferBy",Qi),ao={_init:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=J.flushOnEnd,Pe=ve===void 0||ve,it=J.flushOnChange,mt=it!==void 0&&it;this._buff=[],this._flushOnEnd=Pe,this._flushOnChange=mt},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(J){this._buff.push(J),this._lastSecondary===gn||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==gn&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(J){this._flushOnChange&&!J&&this._flush(),this._lastSecondary=J}},so=ke("bufferWhileBy",ao),is=Ve("bufferWhileBy",ao),as=function(){return!1},ss=function(){return!0},Ca={_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_handleValue:function(J){var ve=this._fn,Pe=ve(J);Pe.convert?this._emitError(Pe.error):this._emitValue(J)}},hl=se("valuesToErrors",Ca),qo=ie("valuesToErrors",Ca),Zi=function(J){return{convert:!0,error:J}},Xi={_init:function(J){var ve=J.fn;this._fn=ve},_free:function(){this._fn=null},_handleError:function(J){var ve=this._fn,Pe=ve(J);Pe.convert?this._emitValue(Pe.value):this._emitError(J)}},lo=se("errorsToValues",Xi),Ks=ie("errorsToValues",Xi),Gr=function(J){return{convert:!0,value:J}},Uo={_handleError:function(J){this._emitError(J),this._emitEnd()}},Ai=se("endOnError",Uo),ls=ie("endOnError",Uo);g.prototype.toProperty=function(J){return L(this,J)},g.prototype.changes=function(){return G(this)},g.prototype.toPromise=function(J){return Ts(this,J)},g.prototype.toESObservable=W,g.prototype[Ln]=W,g.prototype.map=function(J){return Qe(this,J)},g.prototype.filter=function(J){return Be(this,J)},g.prototype.take=function(J){return Je(this,J)},g.prototype.takeErrors=function(J){return _t(this,J)},g.prototype.takeWhile=function(J){return pt(this,J)},g.prototype.last=function(){return Et(this)},g.prototype.skip=function(J){return It(this,J)},g.prototype.skipWhile=function(J){return Qt(this,J)},g.prototype.skipDuplicates=function(J){return jt(this,J)},g.prototype.diff=function(J,ve){return At(this,J,ve)},g.prototype.scan=function(J,ve){return Ce(this,J,ve)},g.prototype.flatten=function(J){return Oe(this,J)},g.prototype.delay=function(J){return at(this,J)},g.prototype.throttle=function(J,ve){return bt(this,J,ve)},g.prototype.debounce=function(J,ve){return Gt(this,J,ve)},g.prototype.mapErrors=function(J){return Vt(this,J)},g.prototype.filterErrors=function(J){return dn(this,J)},g.prototype.ignoreValues=function(){return Cn(this)},g.prototype.ignoreErrors=function(){return Tt(this)},g.prototype.ignoreEnd=function(){return In(this)},g.prototype.beforeEnd=function(J){return $e(this,J)},g.prototype.slidingWindow=function(J,ve){return St(this,J,ve)},g.prototype.bufferWhile=function(J,ve){return Yt(this,J,ve)},g.prototype.bufferWithCount=function(J,ve){return Ht(this,J,ve)},g.prototype.bufferWithTimeOrCount=function(J,ve,Pe){return Wt(this,J,ve,Pe)},g.prototype.transduce=function(J){return Sn(this,J)},g.prototype.withHandler=function(J){return sr(this,J)},g.prototype.thru=function(J){return J(this)},g.prototype.combine=function(J,ve){return He([this,J],ve)},g.prototype.zip=function(J,ve){return Un([this,J],ve)},g.prototype.merge=function(J){return Ae([this,J])},g.prototype.concat=function(J){return et([this,J])};var Di=function(){return new ae};g.prototype.flatMap=function(J){return new de(this,J).setName(this,"flatMap")},g.prototype.flatMapLatest=function(J){return new de(this,J,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},g.prototype.flatMapFirst=function(J){return new de(this,J,{concurLim:1}).setName(this,"flatMapFirst")},g.prototype.flatMapConcat=function(J){return new de(this,J,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},g.prototype.flatMapConcurLimit=function(J,ve){return new de(this,J,{queueLim:-1,concurLim:ve}).setName(this,"flatMapConcurLimit")},g.prototype.flatMapErrors=function(J){return new _e(this,J).setName(this,"flatMapErrors")},g.prototype.filterBy=function(J){return ze(this,J)},g.prototype.sampledBy=function(J,ve){return qe(this,J,ve)},g.prototype.skipUntilBy=function(J){return Me(this,J)},g.prototype.takeUntilBy=function(J){return We(this,J)},g.prototype.bufferBy=function(J,ve){return rt(this,J,ve)},g.prototype.bufferWhileBy=function(J,ve){return gt(this,J,ve)};var Ys=!0;g.prototype.awaiting=function(J){return Mn("You are using deprecated .awaiting() method, see https://github.com/kefirjs/kefir/issues/145"),$t(this,J)},g.prototype.valuesToErrors=function(J){return Mn("You are using deprecated .valuesToErrors() method, see https://github.com/kefirjs/kefir/issues/149"),Zt(this,J)},g.prototype.errorsToValues=function(J){return Mn("You are using deprecated .errorsToValues() method, see https://github.com/kefirjs/kefir/issues/149"),mn(this,J)},g.prototype.endOnError=function(){return Mn("You are using deprecated .endOnError() method, see https://github.com/kefirjs/kefir/issues/150"),hn(this)};var $r={Observable:g,Stream:k,Property:j,never:x,later:w,interval:C,sequentially:O,fromPoll:V,withInterval:P,fromCallback:Q,fromNodeCallback:N,fromEvents:Z,stream:z,constant:ne,constantError:X,fromPromise:le,fromESObservable:we,combine:He,zip:Un,merge:Ae,concat:et,Pool:ae,pool:Di,repeat:Gs,staticLand:Ro};$r.Kefir=$r,t.dissableDeprecationWarnings=mr,t.Kefir=$r,t.Observable=g,t.Stream=k,t.Property=j,t.never=x,t.later=w,t.interval=C,t.sequentially=O,t.fromPoll=V,t.withInterval=P,t.fromCallback=Q,t.fromNodeCallback=N,t.fromEvents=Z,t.stream=z,t.constant=ne,t.constantError=X,t.fromPromise=le,t.fromESObservable=we,t.combine=He,t.zip=Un,t.merge=Ae,t.concat=et,t.Pool=ae,t.pool=Di,t.repeat=Gs,t.staticLand=Ro,t.default=$r,Object.defineProperty(t,"__esModule",{value:!0})})}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],328:[function(e,l,i){"use strict";var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),u=a(e("@babel/runtime/helpers/defineProperty")),n=a(e("asap")),s=function(){function f(){(0,t.default)(this,f),(0,u.default)(this,"_queue",[]),(0,u.default)(this,"_isFlushing",!1),(0,u.default)(this,"_index",0)}return(0,o.default)(f,[{key:"schedule",value:function(d){var m=this;this._queue.push(function(){try{d()}catch(h){setTimeout(function(){throw h},0)}}),this._queue.length===1&&(0,n.default)(function(){m.flush()})}},{key:"flush",value:function(){if(!this._isFlushing){this._isFlushing=!0;for(var d=this._queue;this._index<d.length;){var m=this._index;if(this._index+=1,d[m].call(),this._index>1024){for(var h=0,_=d.length-this._index;h<_;h++)d[h]=d[h+this._index];d.length-=this._index,this._index=0}}d.length=0,this._index=0,this._isFlushing=!1}}}]),f}();i.default=s,l.exports=i.default,l.exports.default=i.default},{"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/interopRequireDefault":69,asap:83}],329:[function(e,l,i){"use strict";function a(u,n){return new o.default({scheduler:u.getScheduler(),read:function(){var s=new Set;return u.values().forEach(function(f){n(f)&&s.add(f)}),s},listen:function(s,f){var d=new Set;return u.subscribe({start:function(){var m=new Set;u.values().forEach(function(h){n(h)&&(d.add(h),m.add(h))}),s(m)},next:function(m){m.forEach(function(h){h.type==="add"?n(h.value)&&(d.add(h.value),f.add(h.value)):h.type==="remove"&&d.has(h.value)&&(d.delete(h.value),f.remove(h.value))})},error:function(m){f.error(m)},complete:function(){f.end()}})}})}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("."));l.exports=i.default,l.exports.default=i.default},{".":332,"@babel/runtime/helpers/interopRequireDefault":69}],330:[function(e,l,i){"use strict";function a(u,n){var s=!1;return new o.default({scheduler:u.getScheduler(),read:function(){if(s)throw new Error("reading inactive recursively-flatMapped stream is not supported");s=!0;var f=new Set;return u.values().forEach(function(d){n(d).values().forEach(function(m){f.add(m)})}),s=!1,f},listen:function(f,d){function m(T){T.isEnded()?T.values().forEach(function(E){d.add(E)}):T.subscribe({start:function(E){y.set(T,E),T.values().forEach(function(I){d.add(I)})},next:function(E){E.forEach(function(I){I.type==="add"?d.add(I.value):I.type==="remove"&&d.remove(I.value)})},error:function(E){d.error(E)},complete:function(){y.delete(T),h&&y.size===0&&d.end()}})}var h=!1,_=!1,y=new Map;f(new Set);var S=new Map,v=u.subscribe({start:function(){u.values().forEach(function(T){var E=n(T);S.set(T,E),m(E)}),_=!0},next:function(T){T.forEach(function(E){if(E.type==="add"){var I=n(E.value);S.set(E.value,I),m(I)}else if(E.type==="remove"){var g=S.get(E.value);if(!g)throw new Error("removed value not in liveset");g.values().forEach(function(j){d.remove(j)}),S.delete(E.value);var k=y.get(g);k&&(k.unsubscribe(),y.delete(g))}})},error:function(T){d.error(T)},complete:function(){h=!0,_&&y.size===0&&d.end()}});return{unsubscribe:function(){v.unsubscribe(),y.forEach(function(T){T.unsubscribe()}),S.clear(),y.clear()},pullChanges:function(){v.pullChanges(),y.forEach(function(T){T.pullChanges()})}}}})}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("."));l.exports=i.default,l.exports.default=i.default},{".":332,"@babel/runtime/helpers/interopRequireDefault":69}],331:[function(e,l,i){"use strict";function a(u,n){var s=!1;return new o.default({scheduler:u.getScheduler(),read:function(){if(s)throw new Error("reading inactive recursively-flatMapped stream is not supported");s=!0;var f=new Set;return u.values().forEach(function(d){n(d).values().forEach(function(m){f.add(m)})}),s=!1,f},listen:function(f,d){function m(I){I.isEnded()?I.values().forEach(function(g){d.add(g)}):I.subscribe({start:function(g){S.set(I,g),I.values().forEach(function(k){d.add(k)})},next:function(g){y=!0,g.forEach(function(k){k.type==="add"?d.add(k.value):k.type==="remove"&&d.remove(k.value)})},error:function(g){d.error(g)},complete:function(){S.delete(I),h&&S.size===0&&d.end()}})}var h=!1,_=!1,y=!1,S=new Map;f(new Set);var v=new Map,T=u.subscribe({start:function(){u.values().forEach(function(I){var g=n(I);v.set(I,g),m(g)}),_=!0},next:function(I){y=!0,I.forEach(function(g){if(g.type==="add"){var k=n(g.value);v.set(g.value,k),m(k)}else if(g.type==="remove"){var j=v.get(g.value);if(!j)throw new Error("removed value not in liveset");j.values().forEach(function(A){d.remove(A)}),v.delete(g.value);var x=S.get(j);x&&(x.unsubscribe(),S.delete(j))}})},error:function(I){d.error(I)},complete:function(){h=!0,_&&S.size===0&&d.end()}}),E=!1;return{unsubscribe:function(){T.unsubscribe(),S.forEach(function(I){I.unsubscribe()}),v.clear(),S.clear()},pullChanges:function(){if(!E){E=!0;do y=!1,T.pullChanges(),S.forEach(function(I){I.pullChanges()});while(y);E=!1}}}}})}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("."));l.exports=i.default,l.exports.default=i.default},{".":332,"@babel/runtime/helpers/interopRequireDefault":69}],332:[function(e,l,i){"use strict";var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),u=a(e("@babel/runtime/helpers/defineProperty")),n=a(e("./Scheduler")),s=a(e("symbol-observable")),f=function(){function d(m){(0,t.default)(this,d),(0,u.default)(this,"_init",void 0),(0,u.default)(this,"_scheduler",void 0),(0,u.default)(this,"_values",null),(0,u.default)(this,"_mutableValues",!1),(0,u.default)(this,"_active",null),(0,u.default)(this,"_inSubscriptionStart",!1),(0,u.default)(this,"_ended",!1),(0,u.default)(this,"_endedWithError",!1),(0,u.default)(this,"_error",null),(0,u.default)(this,"_queuedCall",!1),(0,u.default)(this,"_changeQueue",[]),(0,u.default)(this,"_observers",[]),this._init=m,this._scheduler=m.scheduler||d.defaultScheduler}return(0,o.default)(d,[{key:"_queueChange",value:function(m){var h=this;m&&this._changeQueue.push(m),this._queuedCall||(this._queuedCall=!0,this._scheduler.schedule(function(){h._queuedCall=!1;var _=h._changeQueue;h._changeQueue=[];var y,S=h._ended;S?(y=h._observers,h._observers=[]):y=h._observers.slice(),y.forEach(function(v){var T=v.observer,E=v.ignore,I=T.next;if(I)if(E===0)I.call(T,_);else{v.ignore=0;var g=_.slice(E);g.length&&I.call(T,g)}S&&(h._endedWithError?T.error&&T.error(h._error):T.complete&&T.complete())})}))}},{key:"_deactivate",value:function(){if(!this._active)throw new Error("already inactive");var m=this._active.listenHandler;this._active=null,m&&m.unsubscribe()}},{key:"values",value:function(){if(this._values){if(this._active&&!this._inSubscriptionStart){var m=this._active.listenHandler;m.pullChanges&&m.pullChanges()}return this._mutableValues&&(this._mutableValues=!1,this._values),this._values}if(this._active)throw new Error("tried to call values() on liveset during subscription before setValues was called");var h=this._init.read();return h}},{key:"isEnded",value:function(){return this._ended}},{key:"getScheduler",value:function(){return this._scheduler}},{key:"subscribe",value:function(m,h,_){var y,S=this,v=this;if(y=typeof m=="function"?{next:m,error:h,complete:_}:m,this._ended){var T={closed:!1,unsubscribe:function(){T.closed=!0},pullChanges:function(){}};return y.start&&y.start(T),T.closed||(this._endedWithError?y.error&&y.error(this._error):y.complete&&y.complete()),T.closed=!0,T}var E={observer:y,ignore:this._changeQueue.length},I=!0,g=!1,k={get closed(){return!I&&v._observers.indexOf(E)<0},unsubscribe:function(){if(I)return void(g=!0);var O=S._observers.indexOf(E);O>=0&&(S._observers.splice(O,1),S._ended||S._observers.length!==0||(S._values=null,S._deactivate()))},pullChanges:function(){S._active&&S._active.listenHandler&&S._active.listenHandler.pullChanges&&S._active.listenHandler.pullChanges();var O=S._changeQueue.length,V=y.next;if(O!==0&&V){var R=S._changeQueue.slice(E.ignore);R.length!==0&&(E.ignore=O,V.call(y,R))}}};if(!this._active){var j={get closed(){return!v._active||v._active.controller!==this},add:function(O){var V=S._values;if(!V)throw new Error("setValue must be called before controller is used");S._ended||V.has(O)||(S._mutableValues||(S._values=V=new Set(V),S._mutableValues=!0),V.add(O),S._queueChange({type:"add",value:O}))},remove:function(O){var V=S._values;if(!V)throw new Error("setValue must be called before controller is used");!S._ended&&V.has(O)&&(S._mutableValues||(S._values=V=new Set(V),S._mutableValues=!0),V.delete(O),S._queueChange({type:"remove",value:O}))},error:function(O){S._ended||(S._ended=!0,S._endedWithError=!0,S._error=O,S._queueChange(),S._deactivate())},end:function(){S._ended||(S._ended=!0,S._queueChange(),S._deactivate())}},x=this._active={controller:j,listenHandler:{unsubscribe:function(){}}},A=function(){throw new Error("setValues must be called once during listen")},w=function(O){w=A,S._values=O,S._mutableValues=!1},C=this._init.listen(function(O){return w(O)},j);if(this._values||A(),typeof C=="function")x.listenHandler={unsubscribe:C};else if(C!=null&&typeof C.unsubscribe=="function")x.listenHandler=C;else if(C!=null)throw new TypeError("listen must return object with unsubscribe method, a function, or null");j.closed&&(this._active=x,this._deactivate())}return y.start&&(this._inSubscriptionStart=!0,y.start(k),this._inSubscriptionStart=!1),I=!1,E.ignore=this._changeQueue.length,g||this._observers.push(E),k}}],[{key:"active",value:function(m,h){var _,y=m||new Set,S=new d({scheduler:h?h.scheduler:void 0,read:function(){return y},listen:function(v,T){v(y),_=T}});return S.subscribe({}),{liveSet:S,controller:_}}},{key:"constant",value:function(m,h){var _=function(){throw new Error("Should not happen")},y=new d({scheduler:h?h.scheduler:void 0,read:_,listen:_});return y._ended=!0,y._values=m,y._mutableValues=!1,y}}]),d}();i.default=f,(0,u.default)(f,"defaultScheduler",new n.default),f.prototype[s.default]=function(){return this},l.exports=i.default,l.exports.default=i.default},{"./Scheduler":328,"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/interopRequireDefault":69,"symbol-observable":618}],333:[function(e,l,i){"use strict";function a(u,n){return new o.default({scheduler:u.getScheduler(),read:function(){throw new Error("mapWithRemoval liveset may not be read while inactive")},listen:function(s,f){var d=new Map,m=u.subscribe({start:function(){var h=new Set;u.values().forEach(function(_){var y,S=new Promise(function(T){y=T}),v=n(_,S);d.set(_,{newValue:v,resolve:y}),h.add(v)}),s(h)},next:function(h){h.forEach(function(_){if(_.type==="add"){var y,S=new Promise(function(g){y=g}),v=n(_.value,S);d.set(_.value,{newValue:v,resolve:y}),f.add(v)}else if(_.type==="remove"){var T=d.get(_.value);if(!T)throw new Error("removed item not in liveset");var E=T.newValue,I=T.resolve;I(),d.delete(_.value),f.remove(E)}})},error:function(h){f.error(h)},complete:function(){f.end()}});return{unsubscribe:function(){m.unsubscribe(),d.forEach(function(h){(0,h.resolve)()})},pullChanges:function(){m.pullChanges()}}}})}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("."));l.exports=i.default,l.exports.default=i.default},{".":332,"@babel/runtime/helpers/interopRequireDefault":69}],334:[function(e,l,i){"use strict";function a(u){return new o.default({scheduler:u[0]?u[0].getScheduler():void 0,read:function(){var n=new Set;return u.forEach(function(s){s.values().forEach(function(f){n.add(f)})}),n},listen:function(n,s){var f=new Set,d=new Set,m=!1;return u.forEach(function(h){var _;h.subscribe({start:function(y){_=y,d.add(_),h.values().forEach(function(S){f.add(S)})},next:function(y){y.forEach(function(S){S.type==="add"?s.add(S.value):S.type==="remove"&&s.remove(S.value)})},error:function(y){s.error(y)},complete:function(){d.delete(_),m&&d.size===0&&s.end()}})}),n(f),m=!0,d.size===0&&s.end(),{unsubscribe:function(){d.forEach(function(h){h.unsubscribe()})},pullChanges:function(){d.forEach(function(h){h.pullChanges()})}}}})}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("."));l.exports=i.default,l.exports.default=i.default},{".":332,"@babel/runtime/helpers/interopRequireDefault":69}],335:[function(e,l,i){"use strict";function a(u){return new o.default(function(n){function s(h){var _,y=new Promise(function(v){_=v});d.set(h,_);var S={value:h,removal:y};n.next(S)}function f(h){var _=d.get(h);if(!_)throw new Error("Resolver not found in map for value");d.delete(h),_()}var d=new Map,m=u.subscribe({start:function(h){var _=!0,y=!1,S=void 0;try{for(var v,T=u.values()[Symbol.iterator]();!(_=(v=T.next()).done);_=!0){var E=v.value;if(h.closed)break;s(E)}}catch(I){y=!0,S=I}finally{try{_||T.return==null||T.return()}finally{if(y)throw S}}},next:function(h){h.forEach(function(_){_.type==="add"?s(_.value):_.type==="remove"&&f(_.value)})},error:function(h){n.error(h)},complete:function(){n.complete()}});return function(){m.unsubscribe(),d.forEach(function(h){h()})}})}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=(t(e(".")),t(e("zen-observable")));l.exports=i.default,l.exports.default=i.default},{".":332,"@babel/runtime/helpers/interopRequireDefault":69,"zen-observable":631}],336:[function(e,l,i){"use strict";function a(n,s){function f(m,h){var _,y=!1,S=m["@@transducer/step"]([],h);return S&&S["@@transducer/reduced"]?(_=S["@@transducer/value"],y=!0):_=S,{outputValues:_,addsComplete:y}}function d(){var m=new Map,h=s(u),_=!1,y=new Set(h["@@transducer/init"]()),S=!0,v=!1,T=void 0;try{for(var E,I=n.values()[Symbol.iterator]();!(S=(E=I.next()).done);S=!0){var g=E.value,k=f(h,g),j=k.outputValues,x=k.addsComplete;m.set(g,j);for(var A=0,w=j.length;A<w;A++)y.add(j[A]);if(x){_=!0,h["@@transducer/result"]([]).forEach(function(C){y.add(C)});break}}}catch(C){v=!0,T=C}finally{try{S||I.return==null||I.return()}finally{if(v)throw T}}return{values:y,inputToOutputValues:m,xform:h,addsComplete:_}}return new o.default({scheduler:n.getScheduler(),read:function(){return d().values},listen:function(m,h){var _,y,S;return n.subscribe({start:function(){var v=d();m(v.values),_=v.inputToOutputValues,y=v.xform,S=v.addsComplete},next:function(v){for(var T=0,E=v.length;T<E;T++){var I=v[T];if(I.type==="add"){if(!S){var g=I.value,k=f(y,g),j=k.outputValues,x=k.addsComplete;_.set(g,j);for(var A=0,w=j.length;A<w;A++)h.add(j[A]);x&&(S=!0,y["@@transducer/result"]([]).forEach(function(V){h.add(V)}))}}else if(I.type==="remove"){var C=I.value,O=_.get(C);if(!O)throw new Error("value had not been added");O.forEach(function(V){h.remove(V)}),_.delete(C)}}},error:function(v){h.error(v)},complete:function(){h.end()}})}})}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e(".")),u={"@@transducer/init":function(){return[]},"@@transducer/step":function(n,s){return n.push(s),n},"@@transducer/result":function(n){return n}};l.exports=i.default,l.exports.default=i.default},{".":332,"@babel/runtime/helpers/interopRequireDefault":69}],337:[function(e,l,i){var a=e("./_getNative"),t=e("./_root"),o=a(t,"DataView");l.exports=o},{"./_getNative":421,"./_root":461}],338:[function(e,l,i){function a(f){var d=-1,m=f==null?0:f.length;for(this.clear();++d<m;){var h=f[d];this.set(h[0],h[1])}}var t=e("./_hashClear"),o=e("./_hashDelete"),u=e("./_hashGet"),n=e("./_hashHas"),s=e("./_hashSet");a.prototype.clear=t,a.prototype.delete=o,a.prototype.get=u,a.prototype.has=n,a.prototype.set=s,l.exports=a},{"./_hashClear":427,"./_hashDelete":428,"./_hashGet":429,"./_hashHas":430,"./_hashSet":431}],339:[function(e,l,i){function a(f){var d=-1,m=f==null?0:f.length;for(this.clear();++d<m;){var h=f[d];this.set(h[0],h[1])}}var t=e("./_listCacheClear"),o=e("./_listCacheDelete"),u=e("./_listCacheGet"),n=e("./_listCacheHas"),s=e("./_listCacheSet");a.prototype.clear=t,a.prototype.delete=o,a.prototype.get=u,a.prototype.has=n,a.prototype.set=s,l.exports=a},{"./_listCacheClear":440,"./_listCacheDelete":441,"./_listCacheGet":442,"./_listCacheHas":443,"./_listCacheSet":444}],340:[function(e,l,i){var a=e("./_getNative"),t=e("./_root"),o=a(t,"Map");l.exports=o},{"./_getNative":421,"./_root":461}],341:[function(e,l,i){function a(f){var d=-1,m=f==null?0:f.length;for(this.clear();++d<m;){var h=f[d];this.set(h[0],h[1])}}var t=e("./_mapCacheClear"),o=e("./_mapCacheDelete"),u=e("./_mapCacheGet"),n=e("./_mapCacheHas"),s=e("./_mapCacheSet");a.prototype.clear=t,a.prototype.delete=o,a.prototype.get=u,a.prototype.has=n,a.prototype.set=s,l.exports=a},{"./_mapCacheClear":445,"./_mapCacheDelete":446,"./_mapCacheGet":447,"./_mapCacheHas":448,"./_mapCacheSet":449}],342:[function(e,l,i){var a=e("./_getNative"),t=e("./_root"),o=a(t,"Promise");l.exports=o},{"./_getNative":421,"./_root":461}],343:[function(e,l,i){var a=e("./_getNative"),t=e("./_root"),o=a(t,"Set");l.exports=o},{"./_getNative":421,"./_root":461}],344:[function(e,l,i){function a(n){var s=-1,f=n==null?0:n.length;for(this.__data__=new t;++s<f;)this.add(n[s])}var t=e("./_MapCache"),o=e("./_setCacheAdd"),u=e("./_setCacheHas");a.prototype.add=a.prototype.push=o,a.prototype.has=u,l.exports=a},{"./_MapCache":341,"./_setCacheAdd":462,"./_setCacheHas":463}],345:[function(e,l,i){function a(d){var m=this.__data__=new t(d);this.size=m.size}var t=e("./_ListCache"),o=e("./_stackClear"),u=e("./_stackDelete"),n=e("./_stackGet"),s=e("./_stackHas"),f=e("./_stackSet");a.prototype.clear=o,a.prototype.delete=u,a.prototype.get=n,a.prototype.has=s,a.prototype.set=f,l.exports=a},{"./_ListCache":339,"./_stackClear":467,"./_stackDelete":468,"./_stackGet":469,"./_stackHas":470,"./_stackSet":471}],346:[function(e,l,i){var a=e("./_root"),t=a.Symbol;l.exports=t},{"./_root":461}],347:[function(e,l,i){var a=e("./_root"),t=a.Uint8Array;l.exports=t},{"./_root":461}],348:[function(e,l,i){var a=e("./_getNative"),t=e("./_root"),o=a(t,"WeakMap");l.exports=o},{"./_getNative":421,"./_root":461}],349:[function(e,l,i){function a(t,o,u){switch(u.length){case 0:return t.call(o);case 1:return t.call(o,u[0]);case 2:return t.call(o,u[0],u[1]);case 3:return t.call(o,u[0],u[1],u[2])}return t.apply(o,u)}l.exports=a},{}],350:[function(e,l,i){function a(t,o){for(var u=-1,n=t==null?0:t.length,s=0,f=[];++u<n;){var d=t[u];o(d,u,t)&&(f[s++]=d)}return f}l.exports=a},{}],351:[function(e,l,i){function a(o,u){return!!(o!=null&&o.length)&&t(o,u,0)>-1}var t=e("./_baseIndexOf");l.exports=a},{"./_baseIndexOf":369}],352:[function(e,l,i){function a(t,o,u){for(var n=-1,s=t==null?0:t.length;++n<s;)if(u(o,t[n]))return!0;return!1}l.exports=a},{}],353:[function(e,l,i){function a(h,_){var y=u(h),S=!y&&o(h),v=!y&&!S&&n(h),T=!y&&!S&&!v&&f(h),E=y||S||v||T,I=E?t(h.length,String):[],g=I.length;for(var k in h)!_&&!m.call(h,k)||E&&(k=="length"||v&&(k=="offset"||k=="parent")||T&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||s(k,g))||I.push(k);return I}var t=e("./_baseTimes"),o=e("./isArguments"),u=e("./isArray"),n=e("./isBuffer"),s=e("./_isIndex"),f=e("./isTypedArray"),d=Object.prototype,m=d.hasOwnProperty;l.exports=a},{"./_baseTimes":394,"./_isIndex":433,"./isArguments":496,"./isArray":497,"./isBuffer":500,"./isTypedArray":508}],354:[function(e,l,i){function a(t,o){for(var u=-1,n=t==null?0:t.length,s=Array(n);++u<n;)s[u]=o(t[u],u,t);return s}l.exports=a},{}],355:[function(e,l,i){function a(t,o){for(var u=-1,n=o.length,s=t.length;++u<n;)t[s+u]=o[u];return t}l.exports=a},{}],356:[function(e,l,i){function a(t,o){for(var u=-1,n=t==null?0:t.length;++u<n;)if(o(t[u],u,t))return!0;return!1}l.exports=a},{}],357:[function(e,l,i){function a(o,u){for(var n=o.length;n--;)if(t(o[n][0],u))return n;return-1}var t=e("./eq");l.exports=a},{"./eq":481}],358:[function(e,l,i){function a(t,o,u){return t===t&&(u!==void 0&&(t=t<=u?t:u),o!==void 0&&(t=t>=o?t:o)),t}l.exports=a},{}],359:[function(e,l,i){function a(m,h,_,y){var S=-1,v=o,T=!0,E=m.length,I=[],g=h.length;if(!E)return I;_&&(h=n(h,s(_))),y?(v=u,T=!1):h.length>=d&&(v=f,T=!1,h=new t(h));e:for(;++S<E;){var k=m[S],j=_==null?k:_(k);if(k=y||k!==0?k:0,T&&j===j){for(var x=g;x--;)if(h[x]===j)continue e;I.push(k)}else v(h,j,y)||I.push(k)}return I}var t=e("./_SetCache"),o=e("./_arrayIncludes"),u=e("./_arrayIncludesWith"),n=e("./_arrayMap"),s=e("./_baseUnary"),f=e("./_cacheHas"),d=200;l.exports=a},{"./_SetCache":344,"./_arrayIncludes":351,"./_arrayIncludesWith":352,"./_arrayMap":354,"./_baseUnary":397,"./_cacheHas":401}],360:[function(e,l,i){var a=e("./_baseForOwn"),t=e("./_createBaseEach"),o=t(a);l.exports=o},{"./_baseForOwn":364,"./_createBaseEach":407}],361:[function(e,l,i){function a(t,o,u,n){for(var s=t.length,f=u+(n?1:-1);n?f--:++f<s;)if(o(t[f],f,t))return f;return-1}l.exports=a},{}],362:[function(e,l,i){function a(u,n,s,f,d){var m=-1,h=u.length;for(s||(s=o),d||(d=[]);++m<h;){var _=u[m];n>0&&s(_)?n>1?a(_,n-1,s,f,d):t(d,_):f||(d[d.length]=_)}return d}var t=e("./_arrayPush"),o=e("./_isFlattenable");l.exports=a},{"./_arrayPush":355,"./_isFlattenable":432}],363:[function(e,l,i){var a=e("./_createBaseFor"),t=a();l.exports=t},{"./_createBaseFor":408}],364:[function(e,l,i){function a(u,n){return u&&t(u,n,o)}var t=e("./_baseFor"),o=e("./keys");l.exports=a},{"./_baseFor":363,"./keys":509}],365:[function(e,l,i){function a(u,n){n=t(n,u);for(var s=0,f=n.length;u!=null&&s<f;)u=u[o(n[s++])];return s&&s==f?u:void 0}var t=e("./_castPath"),o=e("./_toKey");l.exports=a},{"./_castPath":403,"./_toKey":474}],366:[function(e,l,i){function a(u,n,s){var f=n(u);return o(u)?f:t(f,s(u))}var t=e("./_arrayPush"),o=e("./isArray");l.exports=a},{"./_arrayPush":355,"./isArray":497}],367:[function(e,l,i){function a(d){return d==null?d===void 0?s:n:f&&f in Object(d)?o(d):u(d)}var t=e("./_Symbol"),o=e("./_getRawTag"),u=e("./_objectToString"),n="[object Null]",s="[object Undefined]",f=t?t.toStringTag:void 0;l.exports=a},{"./_Symbol":346,"./_getRawTag":422,"./_objectToString":457}],368:[function(e,l,i){function a(t,o){return t!=null&&o in Object(t)}l.exports=a},{}],369:[function(e,l,i){function a(n,s,f){return s===s?u(n,s,f):t(n,o,f)}var t=e("./_baseFindIndex"),o=e("./_baseIsNaN"),u=e("./_strictIndexOf");l.exports=a},{"./_baseFindIndex":361,"./_baseIsNaN":376,"./_strictIndexOf":472}],370:[function(e,l,i){function a(m,h,_){for(var y=_?u:o,S=m[0].length,v=m.length,T=v,E=Array(v),I=1/0,g=[];T--;){var k=m[T];T&&h&&(k=n(k,s(h))),I=d(k.length,I),E[T]=!_&&(h||S>=120&&k.length>=120)?new t(T&&k):void 0}k=m[0];var j=-1,x=E[0];e:for(;++j<S&&g.length<I;){var A=k[j],w=h?h(A):A;if(A=_||A!==0?A:0,!(x?f(x,w):y(g,w,_))){for(T=v;--T;){var C=E[T];if(!(C?f(C,w):y(m[T],w,_)))continue e}x&&x.push(w),g.push(A)}}return g}var t=e("./_SetCache"),o=e("./_arrayIncludes"),u=e("./_arrayIncludesWith"),n=e("./_arrayMap"),s=e("./_baseUnary"),f=e("./_cacheHas"),d=Math.min;l.exports=a},{"./_SetCache":344,"./_arrayIncludes":351,"./_arrayIncludesWith":352,"./_arrayMap":354,"./_baseUnary":397,"./_cacheHas":401}],371:[function(e,l,i){function a(o,u,n,s){return t(o,function(f,d,m){u(s,n(f),d,m)}),s}var t=e("./_baseForOwn");l.exports=a},{"./_baseForOwn":364}],372:[function(e,l,i){function a(n){return o(n)&&t(n)==u}var t=e("./_baseGetTag"),o=e("./isObjectLike"),u="[object Arguments]";l.exports=a},{"./_baseGetTag":367,"./isObjectLike":505}],373:[function(e,l,i){function a(u,n,s,f,d){return u===n||(u==null||n==null||!o(u)&&!o(n)?u!==u&&n!==n:t(u,n,s,f,a,d))}var t=e("./_baseIsEqualDeep"),o=e("./isObjectLike");l.exports=a},{"./_baseIsEqualDeep":374,"./isObjectLike":505}],374:[function(e,l,i){function a(E,I,g,k,j,x){var A=f(E),w=f(I),C=A?y:s(E),O=w?y:s(I);C=C==_?S:C,O=O==_?S:O;var V=C==S,R=O==S,P=C==O;if(P&&d(E)){if(!d(I))return!1;A=!0,V=!1}if(P&&!V)return x||(x=new t),A||m(E)?o(E,I,g,k,j,x):u(E,I,C,g,k,j,x);if(!(g&h)){var B=V&&T.call(E,"__wrapped__"),z=R&&T.call(I,"__wrapped__");if(B||z){var Q=B?E.value():E,N=z?I.value():I;return x||(x=new t),j(Q,N,g,k,x)}}return!!P&&(x||(x=new t),n(E,I,g,k,j,x))}var t=e("./_Stack"),o=e("./_equalArrays"),u=e("./_equalByTag"),n=e("./_equalObjects"),s=e("./_getTag"),f=e("./isArray"),d=e("./isBuffer"),m=e("./isTypedArray"),h=1,_="[object Arguments]",y="[object Array]",S="[object Object]",v=Object.prototype,T=v.hasOwnProperty;l.exports=a},{"./_Stack":345,"./_equalArrays":413,"./_equalByTag":414,"./_equalObjects":415,"./_getTag":424,"./isArray":497,"./isBuffer":500,"./isTypedArray":508}],375:[function(e,l,i){function a(s,f,d,m){var h=d.length,_=h,y=!m;if(s==null)return!_;for(s=Object(s);h--;){var S=d[h];if(y&&S[2]?S[1]!==s[S[0]]:!(S[0]in s))return!1}for(;++h<_;){S=d[h];var v=S[0],T=s[v],E=S[1];if(y&&S[2]){if(T===void 0&&!(v in s))return!1}else{var I=new t;if(m)var g=m(T,E,v,s,f,I);if(!(g===void 0?o(E,T,u|n,m,I):g))return!1}}return!0}var t=e("./_Stack"),o=e("./_baseIsEqual"),u=1,n=2;l.exports=a},{"./_Stack":345,"./_baseIsEqual":373}],376:[function(e,l,i){function a(t){return t!==t}l.exports=a},{}],377:[function(e,l,i){function a(S){return!(!u(S)||o(S))&&(t(S)?y:f).test(n(S))}var t=e("./isFunction"),o=e("./_isMasked"),u=e("./isObject"),n=e("./_toSource"),s=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,d=Function.prototype,m=Object.prototype,h=d.toString,_=m.hasOwnProperty,y=RegExp("^"+h.call(_).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");l.exports=a},{"./_isMasked":437,"./_toSource":475,"./isFunction":502,"./isObject":504}],378:[function(e,l,i){function a(s){return u(s)&&o(s.length)&&!!n[t(s)]}var t=e("./_baseGetTag"),o=e("./isLength"),u=e("./isObjectLike"),n={};n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,l.exports=a},{"./_baseGetTag":367,"./isLength":503,"./isObjectLike":505}],379:[function(e,l,i){function a(f){return typeof f=="function"?f:f==null?u:typeof f=="object"?n(f)?o(f[0],f[1]):t(f):s(f)}var t=e("./_baseMatches"),o=e("./_baseMatchesProperty"),u=e("./identity"),n=e("./isArray"),s=e("./property");l.exports=a},{"./_baseMatches":383,"./_baseMatchesProperty":384,"./identity":492,"./isArray":497,"./property":517}],380:[function(e,l,i){function a(s){if(!t(s))return o(s);var f=[];for(var d in Object(s))n.call(s,d)&&d!="constructor"&&f.push(d);return f}var t=e("./_isPrototype"),o=e("./_nativeKeys"),u=Object.prototype,n=u.hasOwnProperty;l.exports=a},{"./_isPrototype":438,"./_nativeKeys":454}],381:[function(e,l,i){function a(f){if(!t(f))return u(f);var d=o(f),m=[];for(var h in f)(h!="constructor"||!d&&s.call(f,h))&&m.push(h);return m}var t=e("./isObject"),o=e("./_isPrototype"),u=e("./_nativeKeysIn"),n=Object.prototype,s=n.hasOwnProperty;l.exports=a},{"./_isPrototype":438,"./_nativeKeysIn":455,"./isObject":504}],382:[function(e,l,i){function a(u,n){var s=-1,f=o(u)?Array(u.length):[];return t(u,function(d,m,h){f[++s]=n(d,m,h)}),f}var t=e("./_baseEach"),o=e("./isArrayLike");l.exports=a},{"./_baseEach":360,"./isArrayLike":498}],383:[function(e,l,i){function a(n){var s=o(n);return s.length==1&&s[0][2]?u(s[0][0],s[0][1]):function(f){return f===n||t(f,n,s)}}var t=e("./_baseIsMatch"),o=e("./_getMatchData"),u=e("./_matchesStrictComparable");l.exports=a},{"./_baseIsMatch":375,"./_getMatchData":420,"./_matchesStrictComparable":451}],384:[function(e,l,i){function a(_,y){return n(_)&&s(y)?f(d(_),y):function(S){var v=o(S,_);return v===void 0&&v===y?u(S,_):t(y,v,m|h)}}var t=e("./_baseIsEqual"),o=e("./get"),u=e("./hasIn"),n=e("./_isKey"),s=e("./_isStrictComparable"),f=e("./_matchesStrictComparable"),d=e("./_toKey"),m=1,h=2;l.exports=a},{"./_baseIsEqual":373,"./_isKey":435,"./_isStrictComparable":439,"./_matchesStrictComparable":451,"./_toKey":474,"./get":490,"./hasIn":491}],385:[function(e,l,i){function a(_,y,S){y=y.length?t(y,function(E){return h(E)?function(I){return o(I,E.length===1?E[0]:E)}:E}):[m];var v=-1;y=t(y,f(u));var T=n(_,function(E,I,g){return{criteria:t(y,function(k){return k(E)}),index:++v,value:E}});return s(T,function(E,I){return d(E,I,S)})}var t=e("./_arrayMap"),o=e("./_baseGet"),u=e("./_baseIteratee"),n=e("./_baseMap"),s=e("./_baseSortBy"),f=e("./_baseUnary"),d=e("./_compareMultiple"),m=e("./identity"),h=e("./isArray");l.exports=a},{"./_arrayMap":354,"./_baseGet":365,"./_baseIteratee":379,"./_baseMap":382,"./_baseSortBy":393,"./_baseUnary":397,"./_compareMultiple":405,"./identity":492,"./isArray":497}],386:[function(e,l,i){function a(t){return function(o){return o==null?void 0:o[t]}}l.exports=a},{}],387:[function(e,l,i){function a(o){return function(u){return t(u,o)}}var t=e("./_baseGet");l.exports=a},{"./_baseGet":365}],388:[function(e,l,i){function a(t){return function(o){return t==null?void 0:t[o]}}l.exports=a},{}],389:[function(e,l,i){function a(s,f){for(var d=s?f.length:0,m=d-1;d--;){var h=f[d];if(d==m||h!==_){var _=h;o(h)?n.call(s,h,1):t(s,h)}}return s}var t=e("./_baseUnset"),o=e("./_isIndex"),u=Array.prototype,n=u.splice;l.exports=a},{"./_baseUnset":399,"./_isIndex":433}],390:[function(e,l,i){function a(n,s){return u(o(n,s,t),n+"")}var t=e("./identity"),o=e("./_overRest"),u=e("./_setToString");l.exports=a},{"./_overRest":459,"./_setToString":465,"./identity":492}],391:[function(e,l,i){var a=e("./constant"),t=e("./_defineProperty"),o=e("./identity"),u=t?function(n,s){return t(n,"toString",{configurable:!0,enumerable:!1,value:a(s),writable:!0})}:o;l.exports=u},{"./_defineProperty":412,"./constant":477,"./identity":492}],392:[function(e,l,i){function a(t,o,u){var n=-1,s=t.length;o<0&&(o=-o>s?0:s+o),u=u>s?s:u,u<0&&(u+=s),s=o>u?0:u-o>>>0,o>>>=0;for(var f=Array(s);++n<s;)f[n]=t[n+o];return f}l.exports=a},{}],393:[function(e,l,i){function a(t,o){var u=t.length;for(t.sort(o);u--;)t[u]=t[u].value;return t}l.exports=a},{}],394:[function(e,l,i){function a(t,o){for(var u=-1,n=Array(t);++u<t;)n[u]=o(u);return n}l.exports=a},{}],395:[function(e,l,i){function a(m){if(typeof m=="string")return m;if(u(m))return o(m,a)+"";if(n(m))return d?d.call(m):"";var h=m+"";return h=="0"&&1/m==-s?"-0":h}var t=e("./_Symbol"),o=e("./_arrayMap"),u=e("./isArray"),n=e("./isSymbol"),s=1/0,f=t?t.prototype:void 0,d=f?f.toString:void 0;l.exports=a},{"./_Symbol":346,"./_arrayMap":354,"./isArray":497,"./isSymbol":507}],396:[function(e,l,i){function a(u){return u&&u.slice(0,t(u)+1).replace(o,"")}var t=e("./_trimmedEndIndex"),o=/^\s+/;l.exports=a},{"./_trimmedEndIndex":476}],397:[function(e,l,i){function a(t){return function(o){return t(o)}}l.exports=a},{}],398:[function(e,l,i){function a(m,h,_){var y=-1,S=o,v=m.length,T=!0,E=[],I=E;if(_)T=!1,S=u;else if(v>=d){var g=h?null:s(m);if(g)return f(g);T=!1,S=n,I=new t}else I=h?[]:E;e:for(;++y<v;){var k=m[y],j=h?h(k):k;if(k=_||k!==0?k:0,T&&j===j){for(var x=I.length;x--;)if(I[x]===j)continue e;h&&I.push(j),E.push(k)}else S(I,j,_)||(I!==E&&I.push(j),E.push(k))}return E}var t=e("./_SetCache"),o=e("./_arrayIncludes"),u=e("./_arrayIncludesWith"),n=e("./_cacheHas"),s=e("./_createSet"),f=e("./_setToArray"),d=200;l.exports=a},{"./_SetCache":344,"./_arrayIncludes":351,"./_arrayIncludesWith":352,"./_cacheHas":401,"./_createSet":411,"./_setToArray":464}],399:[function(e,l,i){function a(s,f){return f=t(f,s),(s=u(s,f))==null||delete s[n(o(f))]}var t=e("./_castPath"),o=e("./last"),u=e("./_parent"),n=e("./_toKey");l.exports=a},{"./_castPath":403,"./_parent":460,"./_toKey":474,"./last":511}],400:[function(e,l,i){function a(o,u){return t(u,function(n){return o[n]})}var t=e("./_arrayMap");l.exports=a},{"./_arrayMap":354}],401:[function(e,l,i){function a(t,o){return t.has(o)}l.exports=a},{}],402:[function(e,l,i){function a(o){return t(o)?o:[]}var t=e("./isArrayLikeObject");l.exports=a},{"./isArrayLikeObject":499}],403:[function(e,l,i){function a(s,f){return t(s)?s:o(s,f)?[s]:u(n(s))}var t=e("./isArray"),o=e("./_isKey"),u=e("./_stringToPath"),n=e("./toString");l.exports=a},{"./_isKey":435,"./_stringToPath":473,"./isArray":497,"./toString":527}],404:[function(e,l,i){function a(o,u){if(o!==u){var n=o!==void 0,s=o===null,f=o===o,d=t(o),m=u!==void 0,h=u===null,_=u===u,y=t(u);if(!h&&!y&&!d&&o>u||d&&m&&_&&!h&&!y||s&&m&&_||!n&&_||!f)return 1;if(!s&&!d&&!y&&o<u||y&&n&&f&&!s&&!d||h&&n&&f||!m&&f||!_)return-1}return 0}var t=e("./isSymbol");l.exports=a},{"./isSymbol":507}],405:[function(e,l,i){function a(o,u,n){for(var s=-1,f=o.criteria,d=u.criteria,m=f.length,h=n.length;++s<m;){var _=t(f[s],d[s]);if(_)return s>=h?_:_*(n[s]=="desc"?-1:1)}return o.index-u.index}var t=e("./_compareAscending");l.exports=a},{"./_compareAscending":404}],406:[function(e,l,i){var a=e("./_root"),t=a["__core-js_shared__"];l.exports=t},{"./_root":461}],407:[function(e,l,i){function a(o,u){return function(n,s){if(n==null)return n;if(!t(n))return o(n,s);for(var f=n.length,d=u?f:-1,m=Object(n);(u?d--:++d<f)&&s(m[d],d,m)!==!1;);return n}}var t=e("./isArrayLike");l.exports=a},{"./isArrayLike":498}],408:[function(e,l,i){function a(t){return function(o,u,n){for(var s=-1,f=Object(o),d=n(o),m=d.length;m--;){var h=d[t?m:++s];if(u(f[h],h,f)===!1)break}return o}}l.exports=a},{}],409:[function(e,l,i){function a(n){return function(s,f,d){var m=Object(s);if(!o(s)){var h=t(f,3);s=u(s),f=function(y){return h(m[y],y,m)}}var _=n(s,f,d);return _>-1?m[h?s[_]:_]:void 0}}var t=e("./_baseIteratee"),o=e("./isArrayLike"),u=e("./keys");l.exports=a},{"./_baseIteratee":379,"./isArrayLike":498,"./keys":509}],410:[function(e,l,i){function a(o,u){return function(n,s){return t(n,o,u(s),{})}}var t=e("./_baseInverter");l.exports=a},{"./_baseInverter":371}],411:[function(e,l,i){var a=e("./_Set"),t=e("./noop"),o=e("./_setToArray"),u=a&&1/o(new a([,-0]))[1]==1/0?function(n){return new a(n)}:t;l.exports=u},{"./_Set":343,"./_setToArray":464,"./noop":514}],412:[function(e,l,i){var a=e("./_getNative"),t=function(){try{var o=a(Object,"defineProperty");return o({},"",{}),o}catch(u){}}();l.exports=t},{"./_getNative":421}],413:[function(e,l,i){function a(f,d,m,h,_,y){var S=m&n,v=f.length,T=d.length;if(v!=T&&!(S&&T>v))return!1;var E=y.get(f),I=y.get(d);if(E&&I)return E==d&&I==f;var g=-1,k=!0,j=m&s?new t:void 0;for(y.set(f,d),y.set(d,f);++g<v;){var x=f[g],A=d[g];if(h)var w=S?h(A,x,g,d,f,y):h(x,A,g,f,d,y);if(w!==void 0){if(w)continue;k=!1;break}if(j){if(!o(d,function(C,O){if(!u(j,O)&&(x===C||_(x,C,m,h,y)))return j.push(O)})){k=!1;break}}else if(x!==A&&!_(x,A,m,h,y)){k=!1;break}}return y.delete(f),y.delete(d),k}var t=e("./_SetCache"),o=e("./_arraySome"),u=e("./_cacheHas"),n=1,s=2;l.exports=a},{"./_SetCache":344,"./_arraySome":356,"./_cacheHas":401}],414:[function(e,l,i){function a(w,C,O,V,R,P,B){switch(O){case j:if(w.byteLength!=C.byteLength||w.byteOffset!=C.byteOffset)return!1;w=w.buffer,C=C.buffer;case k:return!(w.byteLength!=C.byteLength||!P(new o(w),new o(C)));case h:case _:case v:return u(+w,+C);case y:return w.name==C.name&&w.message==C.message;case T:case I:return w==C+"";case S:var z=s;case E:var Q=V&d;if(z||(z=f),w.size!=C.size&&!Q)return!1;var N=B.get(w);if(N)return N==C;V|=m,B.set(w,C);var K=n(z(w),z(C),V,R,P,B);return B.delete(w),K;case g:if(A)return A.call(w)==A.call(C)}return!1}var t=e("./_Symbol"),o=e("./_Uint8Array"),u=e("./eq"),n=e("./_equalArrays"),s=e("./_mapToArray"),f=e("./_setToArray"),d=1,m=2,h="[object Boolean]",_="[object Date]",y="[object Error]",S="[object Map]",v="[object Number]",T="[object RegExp]",E="[object Set]",I="[object String]",g="[object Symbol]",k="[object ArrayBuffer]",j="[object DataView]",x=t?t.prototype:void 0,A=x?x.valueOf:void 0;l.exports=a},{"./_Symbol":346,"./_Uint8Array":347,"./_equalArrays":413,"./_mapToArray":450,"./_setToArray":464,"./eq":481}],415:[function(e,l,i){function a(s,f,d,m,h,_){var y=d&o,S=t(s),v=S.length;if(v!=t(f).length&&!y)return!1;for(var T=v;T--;){var E=S[T];if(!(y?E in f:n.call(f,E)))return!1}var I=_.get(s),g=_.get(f);if(I&&g)return I==f&&g==s;var k=!0;_.set(s,f),_.set(f,s);for(var j=y;++T<v;){E=S[T];var x=s[E],A=f[E];if(m)var w=y?m(A,x,E,f,s,_):m(x,A,E,s,f,_);if(!(w===void 0?x===A||h(x,A,d,m,_):w)){k=!1;break}j||(j=E=="constructor")}if(k&&!j){var C=s.constructor,O=f.constructor;C!=O&&"constructor"in s&&"constructor"in f&&!(typeof C=="function"&&C instanceof C&&typeof O=="function"&&O instanceof O)&&(k=!1)}return _.delete(s),_.delete(f),k}var t=e("./_getAllKeys"),o=1,u=Object.prototype,n=u.hasOwnProperty;l.exports=a},{"./_getAllKeys":418}],416:[function(e,l,i){var a=e("./_basePropertyOf"),t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o=a(t);l.exports=o},{"./_basePropertyOf":388}],417:[function(e,l,i){(function(a){(function(){var t=typeof a=="object"&&a&&a.Object===Object&&a;l.exports=t}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],418:[function(e,l,i){function a(n){return t(n,u,o)}var t=e("./_baseGetAllKeys"),o=e("./_getSymbols"),u=e("./keys");l.exports=a},{"./_baseGetAllKeys":366,"./_getSymbols":423,"./keys":509}],419:[function(e,l,i){function a(o,u){var n=o.__data__;return t(u)?n[typeof u=="string"?"string":"hash"]:n.map}var t=e("./_isKeyable");l.exports=a},{"./_isKeyable":436}],420:[function(e,l,i){function a(u){for(var n=o(u),s=n.length;s--;){var f=n[s],d=u[f];n[s]=[f,d,t(d)]}return n}var t=e("./_isStrictComparable"),o=e("./keys");l.exports=a},{"./_isStrictComparable":439,"./keys":509}],421:[function(e,l,i){function a(u,n){var s=o(u,n);return t(s)?s:void 0}var t=e("./_baseIsNative"),o=e("./_getValue");l.exports=a},{"./_baseIsNative":377,"./_getValue":425}],422:[function(e,l,i){function a(f){var d=u.call(f,s),m=f[s];try{f[s]=void 0;var h=!0}catch(y){}var _=n.call(f);return h&&(d?f[s]=m:delete f[s]),_}var t=e("./_Symbol"),o=Object.prototype,u=o.hasOwnProperty,n=o.toString,s=t?t.toStringTag:void 0;l.exports=a},{"./_Symbol":346}],423:[function(e,l,i){var a=e("./_arrayFilter"),t=e("./stubArray"),o=Object.prototype,u=o.propertyIsEnumerable,n=Object.getOwnPropertySymbols,s=n?function(f){return f==null?[]:(f=Object(f),a(n(f),function(d){return u.call(f,d)}))}:t;l.exports=s},{"./_arrayFilter":350,"./stubArray":521}],424:[function(e,l,i){var a=e("./_DataView"),t=e("./_Map"),o=e("./_Promise"),u=e("./_Set"),n=e("./_WeakMap"),s=e("./_baseGetTag"),f=e("./_toSource"),d=f(a),m=f(t),h=f(o),_=f(u),y=f(n),S=s;(a&&S(new a(new ArrayBuffer(1)))!="[object DataView]"||t&&S(new t)!="[object Map]"||o&&S(o.resolve())!="[object Promise]"||u&&S(new u)!="[object Set]"||n&&S(new n)!="[object WeakMap]")&&(S=function(v){var T=s(v),E=T=="[object Object]"?v.constructor:void 0,I=E?f(E):"";if(I)switch(I){case d:return"[object DataView]";case m:return"[object Map]";case h:return"[object Promise]";case _:return"[object Set]";case y:return"[object WeakMap]"}return T}),l.exports=S},{"./_DataView":337,"./_Map":340,"./_Promise":342,"./_Set":343,"./_WeakMap":348,"./_baseGetTag":367,"./_toSource":475}],425:[function(e,l,i){function a(t,o){return t==null?void 0:t[o]}l.exports=a},{}],426:[function(e,l,i){function a(d,m,h){m=t(m,d);for(var _=-1,y=m.length,S=!1;++_<y;){var v=f(m[_]);if(!(S=d!=null&&h(d,v)))break;d=d[v]}return S||++_!=y?S:!!(y=d==null?0:d.length)&&s(y)&&n(v,y)&&(u(d)||o(d))}var t=e("./_castPath"),o=e("./isArguments"),u=e("./isArray"),n=e("./_isIndex"),s=e("./isLength"),f=e("./_toKey");l.exports=a},{"./_castPath":403,"./_isIndex":433,"./_toKey":474,"./isArguments":496,"./isArray":497,"./isLength":503}],427:[function(e,l,i){function a(){this.__data__=t?t(null):{},this.size=0}var t=e("./_nativeCreate");l.exports=a},{"./_nativeCreate":453}],428:[function(e,l,i){function a(t){var o=this.has(t)&&delete this.__data__[t];return this.size-=o?1:0,o}l.exports=a},{}],429:[function(e,l,i){function a(s){var f=this.__data__;if(t){var d=f[s];return d===o?void 0:d}return n.call(f,s)?f[s]:void 0}var t=e("./_nativeCreate"),o="__lodash_hash_undefined__",u=Object.prototype,n=u.hasOwnProperty;l.exports=a},{"./_nativeCreate":453}],430:[function(e,l,i){function a(n){var s=this.__data__;return t?s[n]!==void 0:u.call(s,n)}var t=e("./_nativeCreate"),o=Object.prototype,u=o.hasOwnProperty;l.exports=a},{"./_nativeCreate":453}],431:[function(e,l,i){function a(u,n){var s=this.__data__;return this.size+=this.has(u)?0:1,s[u]=t&&n===void 0?o:n,this}var t=e("./_nativeCreate"),o="__lodash_hash_undefined__";l.exports=a},{"./_nativeCreate":453}],432:[function(e,l,i){function a(s){return u(s)||o(s)||!!(n&&s&&s[n])}var t=e("./_Symbol"),o=e("./isArguments"),u=e("./isArray"),n=t?t.isConcatSpreadable:void 0;l.exports=a},{"./_Symbol":346,"./isArguments":496,"./isArray":497}],433:[function(e,l,i){function a(u,n){var s=typeof u;return!!(n=n==null?t:n)&&(s=="number"||s!="symbol"&&o.test(u))&&u>-1&&u%1==0&&u<n}var t=9007199254740991,o=/^(?:0|[1-9]\d*)$/;l.exports=a},{}],434:[function(e,l,i){function a(s,f,d){if(!n(d))return!1;var m=typeof f;return!!(m=="number"?o(d)&&u(f,d.length):m=="string"&&f in d)&&t(d[f],s)}var t=e("./eq"),o=e("./isArrayLike"),u=e("./_isIndex"),n=e("./isObject");l.exports=a},{"./_isIndex":433,"./eq":481,"./isArrayLike":498,"./isObject":504}],435:[function(e,l,i){function a(s,f){if(t(s))return!1;var d=typeof s;return!(d!="number"&&d!="symbol"&&d!="boolean"&&s!=null&&!o(s))||n.test(s)||!u.test(s)||f!=null&&s in Object(f)}var t=e("./isArray"),o=e("./isSymbol"),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;l.exports=a},{"./isArray":497,"./isSymbol":507}],436:[function(e,l,i){function a(t){var o=typeof t;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?t!=="__proto__":t===null}l.exports=a},{}],437:[function(e,l,i){function a(u){return!!o&&o in u}var t=e("./_coreJsData"),o=function(){var u=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}();l.exports=a},{"./_coreJsData":406}],438:[function(e,l,i){function a(o){var u=o&&o.constructor;return o===(typeof u=="function"&&u.prototype||t)}var t=Object.prototype;l.exports=a},{}],439:[function(e,l,i){function a(o){return o===o&&!t(o)}var t=e("./isObject");l.exports=a},{"./isObject":504}],440:[function(e,l,i){function a(){this.__data__=[],this.size=0}l.exports=a},{}],441:[function(e,l,i){function a(n){var s=this.__data__,f=t(s,n);return!(f<0)&&(f==s.length-1?s.pop():u.call(s,f,1),--this.size,!0)}var t=e("./_assocIndexOf"),o=Array.prototype,u=o.splice;l.exports=a},{"./_assocIndexOf":357}],442:[function(e,l,i){function a(o){var u=this.__data__,n=t(u,o);return n<0?void 0:u[n][1]}var t=e("./_assocIndexOf");l.exports=a},{"./_assocIndexOf":357}],443:[function(e,l,i){function a(o){return t(this.__data__,o)>-1}var t=e("./_assocIndexOf");l.exports=a},{"./_assocIndexOf":357}],444:[function(e,l,i){function a(o,u){var n=this.__data__,s=t(n,o);return s<0?(++this.size,n.push([o,u])):n[s][1]=u,this}var t=e("./_assocIndexOf");l.exports=a},{"./_assocIndexOf":357}],445:[function(e,l,i){function a(){this.size=0,this.__data__={hash:new t,map:new(u||o),string:new t}}var t=e("./_Hash"),o=e("./_ListCache"),u=e("./_Map");l.exports=a},{"./_Hash":338,"./_ListCache":339,"./_Map":340}],446:[function(e,l,i){function a(o){var u=t(this,o).delete(o);return this.size-=u?1:0,u}var t=e("./_getMapData");l.exports=a},{"./_getMapData":419}],447:[function(e,l,i){function a(o){return t(this,o).get(o)}var t=e("./_getMapData");l.exports=a},{"./_getMapData":419}],448:[function(e,l,i){function a(o){return t(this,o).has(o)}var t=e("./_getMapData");l.exports=a},{"./_getMapData":419}],449:[function(e,l,i){function a(o,u){var n=t(this,o),s=n.size;return n.set(o,u),this.size+=n.size==s?0:1,this}var t=e("./_getMapData");l.exports=a},{"./_getMapData":419}],450:[function(e,l,i){function a(t){var o=-1,u=Array(t.size);return t.forEach(function(n,s){u[++o]=[s,n]}),u}l.exports=a},{}],451:[function(e,l,i){function a(t,o){return function(u){return u!=null&&u[t]===o&&(o!==void 0||t in Object(u))}}l.exports=a},{}],452:[function(e,l,i){function a(u){var n=t(u,function(f){return s.size===o&&s.clear(),f}),s=n.cache;return n}var t=e("./memoize"),o=500;l.exports=a},{"./memoize":513}],453:[function(e,l,i){var a=e("./_getNative"),t=a(Object,"create");l.exports=t},{"./_getNative":421}],454:[function(e,l,i){var a=e("./_overArg"),t=a(Object.keys,Object);l.exports=t},{"./_overArg":458}],455:[function(e,l,i){function a(t){var o=[];if(t!=null)for(var u in Object(t))o.push(u);return o}l.exports=a},{}],456:[function(e,l,i){var a=e("./_freeGlobal"),t=typeof i=="object"&&i&&!i.nodeType&&i,o=t&&typeof l=="object"&&l&&!l.nodeType&&l,u=o&&o.exports===t,n=u&&a.process,s=function(){try{var f=o&&o.require&&o.require("util").types;return f||n&&n.binding&&n.binding("util")}catch(d){}}();l.exports=s},{"./_freeGlobal":417}],457:[function(e,l,i){function a(u){return o.call(u)}var t=Object.prototype,o=t.toString;l.exports=a},{}],458:[function(e,l,i){function a(t,o){return function(u){return t(o(u))}}l.exports=a},{}],459:[function(e,l,i){function a(u,n,s){return n=o(n===void 0?u.length-1:n,0),function(){for(var f=arguments,d=-1,m=o(f.length-n,0),h=Array(m);++d<m;)h[d]=f[n+d];d=-1;for(var _=Array(n+1);++d<n;)_[d]=f[d];return _[n]=s(h),t(u,this,_)}}var t=e("./_apply"),o=Math.max;l.exports=a},{"./_apply":349}],460:[function(e,l,i){function a(u,n){return n.length<2?u:t(u,o(n,0,-1))}var t=e("./_baseGet"),o=e("./_baseSlice");l.exports=a},{"./_baseGet":365,"./_baseSlice":392}],461:[function(e,l,i){var a=e("./_freeGlobal"),t=typeof self=="object"&&self&&self.Object===Object&&self,o=a||t||Function("return this")();l.exports=o},{"./_freeGlobal":417}],462:[function(e,l,i){function a(o){return this.__data__.set(o,t),this}var t="__lodash_hash_undefined__";l.exports=a},{}],463:[function(e,l,i){function a(t){return this.__data__.has(t)}l.exports=a},{}],464:[function(e,l,i){function a(t){var o=-1,u=Array(t.size);return t.forEach(function(n){u[++o]=n}),u}l.exports=a},{}],465:[function(e,l,i){var a=e("./_baseSetToString"),t=e("./_shortOut"),o=t(a);l.exports=o},{"./_baseSetToString":391,"./_shortOut":466}],466:[function(e,l,i){function a(n){var s=0,f=0;return function(){var d=u(),m=o-(d-f);if(f=d,m>0){if(++s>=t)return arguments[0]}else s=0;return n.apply(void 0,arguments)}}var t=800,o=16,u=Date.now;l.exports=a},{}],467:[function(e,l,i){function a(){this.__data__=new t,this.size=0}var t=e("./_ListCache");l.exports=a},{"./_ListCache":339}],468:[function(e,l,i){function a(t){var o=this.__data__,u=o.delete(t);return this.size=o.size,u}l.exports=a},{}],469:[function(e,l,i){function a(t){return this.__data__.get(t)}l.exports=a},{}],470:[function(e,l,i){function a(t){return this.__data__.has(t)}l.exports=a},{}],471:[function(e,l,i){function a(s,f){var d=this.__data__;if(d instanceof t){var m=d.__data__;if(!o||m.length<n-1)return m.push([s,f]),this.size=++d.size,this;d=this.__data__=new u(m)}return d.set(s,f),this.size=d.size,this}var t=e("./_ListCache"),o=e("./_Map"),u=e("./_MapCache"),n=200;l.exports=a},{"./_ListCache":339,"./_Map":340,"./_MapCache":341}],472:[function(e,l,i){function a(t,o,u){for(var n=u-1,s=t.length;++n<s;)if(t[n]===o)return n;return-1}l.exports=a},{}],473:[function(e,l,i){var a=e("./_memoizeCapped"),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,u=a(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(t,function(f,d,m,h){s.push(m?h.replace(o,"$1"):d||f)}),s});l.exports=u},{"./_memoizeCapped":452}],474:[function(e,l,i){function a(u){if(typeof u=="string"||t(u))return u;var n=u+"";return n=="0"&&1/u==-o?"-0":n}var t=e("./isSymbol"),o=1/0;l.exports=a},{"./isSymbol":507}],475:[function(e,l,i){function a(u){if(u!=null){try{return o.call(u)}catch(n){}try{return u+""}catch(n){}}return""}var t=Function.prototype,o=t.toString;l.exports=a},{}],476:[function(e,l,i){function a(o){for(var u=o.length;u--&&t.test(o.charAt(u)););return u}var t=/\s/;l.exports=a},{}],477:[function(e,l,i){function a(t){return function(){return t}}l.exports=a},{}],478:[function(e,l,i){function a(d,m,h){function _(z){var Q=j,N=x;return j=x=void 0,V=z,w=d.apply(N,Q)}function y(z){return V=z,C=setTimeout(T,m),R?_(z):w}function S(z){var Q=z-O,N=z-V,K=m-Q;return P?f(K,A-N):K}function v(z){var Q=z-O,N=z-V;return O===void 0||Q>=m||Q<0||P&&N>=A}function T(){var z=o();if(v(z))return E(z);C=setTimeout(T,S(z))}function E(z){return C=void 0,B&&j?_(z):(j=x=void 0,w)}function I(){C!==void 0&&clearTimeout(C),V=0,j=O=x=C=void 0}function g(){return C===void 0?w:E(o())}function k(){var z=o(),Q=v(z);if(j=arguments,x=this,O=z,Q){if(C===void 0)return y(O);if(P)return clearTimeout(C),C=setTimeout(T,m),_(O)}return C===void 0&&(C=setTimeout(T,m)),w}var j,x,A,w,C,O,V=0,R=!1,P=!1,B=!0;if(typeof d!="function")throw new TypeError(n);return m=u(m)||0,t(h)&&(R=!!h.leading,P="maxWait"in h,A=P?s(u(h.maxWait)||0,m):A,B="trailing"in h?!!h.trailing:B),k.cancel=I,k.flush=g,k}var t=e("./isObject"),o=e("./now"),u=e("./toNumber"),n="Expected a function",s=Math.max,f=Math.min;l.exports=a},{"./isObject":504,"./now":515,"./toNumber":526}],479:[function(e,l,i){var a=e("./_baseRest"),t=e("./eq"),o=e("./_isIterateeCall"),u=e("./keysIn"),n=Object.prototype,s=n.hasOwnProperty,f=a(function(d,m){d=Object(d);var h=-1,_=m.length,y=_>2?m[2]:void 0;for(y&&o(m[0],m[1],y)&&(_=1);++h<_;)for(var S=m[h],v=u(S),T=-1,E=v.length;++T<E;){var I=v[T],g=d[I];(g===void 0||t(g,n[I])&&!s.call(d,I))&&(d[I]=S[I])}return d});l.exports=f},{"./_baseRest":390,"./_isIterateeCall":434,"./eq":481,"./keysIn":510}],480:[function(e,l,i){var a=e("./_baseDifference"),t=e("./_baseFlatten"),o=e("./_baseRest"),u=e("./isArrayLikeObject"),n=o(function(s,f){return u(s)?a(s,t(f,1,u,!0)):[]});l.exports=n},{"./_baseDifference":359,"./_baseFlatten":362,"./_baseRest":390,"./isArrayLikeObject":499}],481:[function(e,l,i){function a(t,o){return t===o||t!==t&&o!==o}l.exports=a},{}],482:[function(e,l,i){function a(s){return s=o(s),s&&n.test(s)?s.replace(u,t):s}var t=e("./_escapeHtmlChar"),o=e("./toString"),u=/[&<>"']/g,n=RegExp(u.source);l.exports=a},{"./_escapeHtmlChar":416,"./toString":527}],483:[function(e,l,i){function a(n){return n=t(n),n&&u.test(n)?n.replace(o,"\\$&"):n}var t=e("./toString"),o=/[\\^$.*+?()[\]{}|]/g,u=RegExp(o.source);l.exports=a},{"./toString":527}],484:[function(e,l,i){var a=e("./_createFind"),t=e("./findIndex"),o=a(t);l.exports=o},{"./_createFind":409,"./findIndex":485}],485:[function(e,l,i){function a(s,f,d){var m=s==null?0:s.length;if(!m)return-1;var h=d==null?0:u(d);return h<0&&(h=n(m+h,0)),t(s,o(f,3),h)}var t=e("./_baseFindIndex"),o=e("./_baseIteratee"),u=e("./toInteger"),n=Math.max;l.exports=a},{"./_baseFindIndex":361,"./_baseIteratee":379,"./toInteger":525}],486:[function(e,l,i){function a(f,d,m){var h=f==null?0:f.length;if(!h)return-1;var _=h-1;return m!==void 0&&(_=u(m),_=m<0?n(h+_,0):s(_,h-1)),t(f,o(d,3),_,!0)}var t=e("./_baseFindIndex"),o=e("./_baseIteratee"),u=e("./toInteger"),n=Math.max,s=Math.min;l.exports=a},{"./_baseFindIndex":361,"./_baseIteratee":379,"./toInteger":525}],487:[function(e,l,i){function a(u,n){return t(o(u,n),1)}var t=e("./_baseFlatten"),o=e("./map");l.exports=a},{"./_baseFlatten":362,"./map":512}],488:[function(e,l,i){function a(o){return o!=null&&o.length?t(o,1):[]}var t=e("./_baseFlatten");l.exports=a},{"./_baseFlatten":362}],489:[function(e,l,i){function a(t){for(var o=-1,u=t==null?0:t.length,n={};++o<u;){var s=t[o];n[s[0]]=s[1]}return n}l.exports=a},{}],490:[function(e,l,i){function a(o,u,n){var s=o==null?void 0:t(o,u);return s===void 0?n:s}var t=e("./_baseGet");l.exports=a},{"./_baseGet":365}],491:[function(e,l,i){function a(u,n){return u!=null&&o(u,n,t)}var t=e("./_baseHasIn"),o=e("./_hasPath");l.exports=a},{"./_baseHasIn":368,"./_hasPath":426}],492:[function(e,l,i){function a(t){return t}l.exports=a},{}],493:[function(e,l,i){function a(d,m,h,_){d=o(d)?d:s(d),h=h&&!_?n(h):0;var y=d.length;return h<0&&(h=f(y+h,0)),u(d)?h<=y&&d.indexOf(m,h)>-1:!!y&&t(d,m,h)>-1}var t=e("./_baseIndexOf"),o=e("./isArrayLike"),u=e("./isString"),n=e("./toInteger"),s=e("./values"),f=Math.max;l.exports=a},{"./_baseIndexOf":369,"./isArrayLike":498,"./isString":506,"./toInteger":525,"./values":531}],494:[function(e,l,i){var a=e("./_arrayMap"),t=e("./_baseIntersection"),o=e("./_baseRest"),u=e("./_castArrayLikeObject"),n=o(function(s){var f=a(s,u);return f.length&&f[0]===s[0]?t(f):[]});l.exports=n},{"./_arrayMap":354,"./_baseIntersection":370,"./_baseRest":390,"./_castArrayLikeObject":402}],495:[function(e,l,i){var a=e("./_baseIteratee"),t=e("./_createInverter"),o=Object.prototype,u=o.hasOwnProperty,n=o.toString,s=t(function(f,d,m){d!=null&&typeof d.toString!="function"&&(d=n.call(d)),u.call(f,d)?f[d].push(m):f[d]=[m]},a);l.exports=s},{"./_baseIteratee":379,"./_createInverter":410}],496:[function(e,l,i){var a=e("./_baseIsArguments"),t=e("./isObjectLike"),o=Object.prototype,u=o.hasOwnProperty,n=o.propertyIsEnumerable,s=a(function(){return arguments}())?a:function(f){return t(f)&&u.call(f,"callee")&&!n.call(f,"callee")};l.exports=s},{"./_baseIsArguments":372,"./isObjectLike":505}],497:[function(e,l,i){var a=Array.isArray;l.exports=a},{}],498:[function(e,l,i){function a(u){return u!=null&&o(u.length)&&!t(u)}var t=e("./isFunction"),o=e("./isLength");l.exports=a},{"./isFunction":502,"./isLength":503}],499:[function(e,l,i){function a(u){return o(u)&&t(u)}var t=e("./isArrayLike"),o=e("./isObjectLike");l.exports=a},{"./isArrayLike":498,"./isObjectLike":505}],500:[function(e,l,i){var a=e("./_root"),t=e("./stubFalse"),o=typeof i=="object"&&i&&!i.nodeType&&i,u=o&&typeof l=="object"&&l&&!l.nodeType&&l,n=u&&u.exports===o,s=n?a.Buffer:void 0,f=s?s.isBuffer:void 0,d=f||t;l.exports=d},{"./_root":461,"./stubFalse":522}],501:[function(e,l,i){function a(o,u){return t(o,u)}var t=e("./_baseIsEqual");l.exports=a},{"./_baseIsEqual":373}],502:[function(e,l,i){function a(d){if(!o(d))return!1;var m=t(d);return m==n||m==s||m==u||m==f}var t=e("./_baseGetTag"),o=e("./isObject"),u="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",f="[object Proxy]";l.exports=a},{"./_baseGetTag":367,"./isObject":504}],503:[function(e,l,i){function a(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=t}var t=9007199254740991;l.exports=a},{}],504:[function(e,l,i){function a(t){var o=typeof t;return t!=null&&(o=="object"||o=="function")}l.exports=a},{}],505:[function(e,l,i){function a(t){return t!=null&&typeof t=="object"}l.exports=a},{}],506:[function(e,l,i){function a(s){return typeof s=="string"||!o(s)&&u(s)&&t(s)==n}var t=e("./_baseGetTag"),o=e("./isArray"),u=e("./isObjectLike"),n="[object String]";l.exports=a},{"./_baseGetTag":367,"./isArray":497,"./isObjectLike":505}],507:[function(e,l,i){function a(n){return typeof n=="symbol"||o(n)&&t(n)==u}var t=e("./_baseGetTag"),o=e("./isObjectLike"),u="[object Symbol]";l.exports=a},{"./_baseGetTag":367,"./isObjectLike":505}],508:[function(e,l,i){var a=e("./_baseIsTypedArray"),t=e("./_baseUnary"),o=e("./_nodeUtil"),u=o&&o.isTypedArray,n=u?t(u):a;l.exports=n},{"./_baseIsTypedArray":378,"./_baseUnary":397,"./_nodeUtil":456}],509:[function(e,l,i){function a(n){return u(n)?t(n):o(n)}var t=e("./_arrayLikeKeys"),o=e("./_baseKeys"),u=e("./isArrayLike");l.exports=a},{"./_arrayLikeKeys":353,"./_baseKeys":380,"./isArrayLike":498}],510:[function(e,l,i){function a(n){return u(n)?t(n,!0):o(n)}var t=e("./_arrayLikeKeys"),o=e("./_baseKeysIn"),u=e("./isArrayLike");l.exports=a},{"./_arrayLikeKeys":353,"./_baseKeysIn":381,"./isArrayLike":498}],511:[function(e,l,i){function a(t){var o=t==null?0:t.length;return o?t[o-1]:void 0}l.exports=a},{}],512:[function(e,l,i){function a(s,f){return(n(s)?t:u)(s,o(f,3))}var t=e("./_arrayMap"),o=e("./_baseIteratee"),u=e("./_baseMap"),n=e("./isArray");l.exports=a},{"./_arrayMap":354,"./_baseIteratee":379,"./_baseMap":382,"./isArray":497}],513:[function(e,l,i){function a(u,n){if(typeof u!="function"||n!=null&&typeof n!="function")throw new TypeError(o);var s=function(){var f=arguments,d=n?n.apply(this,f):f[0],m=s.cache;if(m.has(d))return m.get(d);var h=u.apply(this,f);return s.cache=m.set(d,h)||m,h};return s.cache=new(a.Cache||t),s}var t=e("./_MapCache"),o="Expected a function";a.Cache=t,l.exports=a},{"./_MapCache":341}],514:[function(e,l,i){function a(){}l.exports=a},{}],515:[function(e,l,i){var a=e("./_root"),t=function(){return a.Date.now()};l.exports=t},{"./_root":461}],516:[function(e,l,i){"use strict";function a(t){if(typeof t!="function")throw new Error("Parameter must be function");var o;return function(){if(t){var u=t;t=void 0,o=u.apply(this,arguments)}return o}}l.exports=a},{}],517:[function(e,l,i){function a(s){return u(s)?t(n(s)):o(s)}var t=e("./_baseProperty"),o=e("./_basePropertyDeep"),u=e("./_isKey"),n=e("./_toKey");l.exports=a},{"./_baseProperty":386,"./_basePropertyDeep":387,"./_isKey":435,"./_toKey":474}],518:[function(e,l,i){function a(u,n){var s=[];if(!u||!u.length)return s;var f=-1,d=[],m=u.length;for(n=t(n,3);++f<m;){var h=u[f];n(h,f,u)&&(s.push(h),d.push(f))}return o(u,d),s}var t=e("./_baseIteratee"),o=e("./_basePullAt");l.exports=a},{"./_baseIteratee":379,"./_basePullAt":389}],519:[function(e,l,i){var a=e("./_baseFlatten"),t=e("./_baseOrderBy"),o=e("./_baseRest"),u=e("./_isIterateeCall"),n=o(function(s,f){if(s==null)return[];var d=f.length;return d>1&&u(s,f[0],f[1])?f=[]:d>2&&u(f[0],f[1],f[2])&&(f=[f[0]]),t(s,a(f,1),[])});l.exports=n},{"./_baseFlatten":362,"./_baseOrderBy":385,"./_baseRest":390,"./_isIterateeCall":434}],520:[function(e,l,i){function a(s,f,d){return s=n(s),d=d==null?0:t(u(d),0,s.length),f=o(f),s.slice(d,d+f.length)==f}var t=e("./_baseClamp"),o=e("./_baseToString"),u=e("./toInteger"),n=e("./toString");l.exports=a},{"./_baseClamp":358,"./_baseToString":395,"./toInteger":525,"./toString":527}],521:[function(e,l,i){function a(){return[]}l.exports=a},{}],522:[function(e,l,i){function a(){return!1}l.exports=a},{}],523:[function(e,l,i){function a(n,s,f){var d=!0,m=!0;if(typeof n!="function")throw new TypeError(u);return o(f)&&(d="leading"in f?!!f.leading:d,m="trailing"in f?!!f.trailing:m),t(n,s,{leading:d,maxWait:s,trailing:m})}var t=e("./debounce"),o=e("./isObject"),u="Expected a function";l.exports=a},{"./debounce":478,"./isObject":504}],524:[function(e,l,i){function a(n){return n?(n=t(n))===o||n===-o?(n<0?-1:1)*u:n===n?n:0:n===0?n:0}var t=e("./toNumber"),o=1/0,u=17976931348623157e292;l.exports=a},{"./toNumber":526}],525:[function(e,l,i){function a(o){var u=t(o),n=u%1;return u===u?n?u-n:u:0}var t=e("./toFinite");l.exports=a},{"./toFinite":524}],526:[function(e,l,i){function a(h){if(typeof h=="number")return h;if(u(h))return n;if(o(h)){var _=typeof h.valueOf=="function"?h.valueOf():h;h=o(_)?_+"":_}if(typeof h!="string")return h===0?h:+h;h=t(h);var y=f.test(h);return y||d.test(h)?m(h.slice(2),y?2:8):s.test(h)?n:+h}var t=e("./_baseTrim"),o=e("./isObject"),u=e("./isSymbol"),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,d=/^0o[0-7]+$/i,m=parseInt;l.exports=a},{"./_baseTrim":396,"./isObject":504,"./isSymbol":507}],527:[function(e,l,i){function a(o){return o==null?"":t(o)}var t=e("./_baseToString");l.exports=a},{"./_baseToString":395}],528:[function(e,l,i){function a(o){return o&&o.length?t(o):[]}var t=e("./_baseUniq");l.exports=a},{"./_baseUniq":398}],529:[function(e,l,i){function a(u,n){return u&&u.length?o(u,t(n,2)):[]}var t=e("./_baseIteratee"),o=e("./_baseUniq");l.exports=a},{"./_baseIteratee":379,"./_baseUniq":398}],530:[function(e,l,i){function a(d){if(!d||!d.length)return[];var m=0;return d=t(d,function(h){if(s(h))return m=f(h.length,m),!0}),n(m,function(h){return o(d,u(h))})}var t=e("./_arrayFilter"),o=e("./_arrayMap"),u=e("./_baseProperty"),n=e("./_baseTimes"),s=e("./isArrayLikeObject"),f=Math.max;l.exports=a},{"./_arrayFilter":350,"./_arrayMap":354,"./_baseProperty":386,"./_baseTimes":394,"./isArrayLikeObject":499}],531:[function(e,l,i){function a(u){return u==null?[]:t(u,o(u))}var t=e("./_baseValues"),o=e("./keys");l.exports=a},{"./_baseValues":400,"./keys":509}],532:[function(e,l,i){var a=e("./_baseRest"),t=e("./unzip"),o=a(t);l.exports=o},{"./_baseRest":390,"./unzip":530}],533:[function(e,l,i){"use strict";function a(s){return function(f){return new n(s,f)}}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("@babel/runtime/helpers/classCallCheck")),u=t(e("@babel/runtime/helpers/createClass")),n=function(){function s(f,d){(0,o.default)(this,s),this.f=f,this.xform=d,this.i=-1}return(0,u.default)(s,[{key:"@@transducer/init",value:function(){return this.xform["@@transducer/init"]()}},{key:"@@transducer/result",value:function(f){return this.xform["@@transducer/result"](f)}},{key:"@@transducer/step",value:function(f,d){return this.i++,this.xform["@@transducer/step"](f,this.f(d,this.i))}}]),s}();l.exports=i.default,l.exports.default=i.default},{"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/interopRequireDefault":69}],534:[function(e,l,i){(function(a){(function(){"use strict";function t(n,s){if(u)return u.call(n,s);var f=n.parentNode;if(f&&typeof f.querySelectorAll=="function"){for(var d=f.querySelectorAll(s),m=0;m<d.length;m++)if(d[m]===n)return!0}return!1}i.__esModule=!0,i.default=t;var o=a.Element&&a.Element.prototype,u=o&&(o.matches||o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector);l.exports=i.default,l.exports.default=i.default}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],535:[function(e,l,i){"use strict";function a(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}var t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;l.exports=function(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var s={},f=0;f<10;f++)s["_"+String.fromCharCode(f)]=f;if(Object.getOwnPropertyNames(s).map(function(m){return s[m]}).join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(m){d[m]=m}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch(m){return!1}}()?Object.assign:function(n,s){for(var f,d,m=a(n),h=1;h<arguments.length;h++){f=Object(arguments[h]);for(var _ in f)o.call(f,_)&&(m[_]=f[_]);if(t){d=t(f);for(var y=0;y<d.length;y++)u.call(f,d[y])&&(m[d[y]]=f[d[y]])}}return m}},{}],536:[function(e,l,i){(function(a){(function(){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=a.Object.freeze||function(o){return o};i.default=t,l.exports=i.default}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],537:[function(e,l,i){"use strict";function a(V){return V&&V.__esModule?V:{default:V}}function t(V){return(0,y.default)(V.groupId)+":"+(0,y.default)(V.id)}Object.defineProperty(i,"__esModule",{value:!0});var o=e("babel-runtime/helpers/extends"),u=a(o),n=e("babel-runtime/core-js/object/keys"),s=a(n),f=e("babel-runtime/helpers/classCallCheck"),d=a(f),m=e("babel-runtime/helpers/createClass"),h=a(m),_=e("babel-runtime/core-js/json/stringify"),y=a(_),S=e("immutability-helper"),v=a(S),T=e("lodash/findIndex"),E=a(T),I=e("lodash/findLastIndex"),g=a(I),k=e("lodash/invertBy"),j=a(k),x=e("lodash/sortBy"),A=a(x),w=e("./freeze"),C=a(w),O=function(){function V(R){(0,d.default)(this,V),this._items=(0,C.default)([]),this._needsSort=!1,this._get=R.get,this._set=R.set,this._maxLimit=R.maxLimit||200}return(0,h.default)(V,[{key:"_read",value:function(){var R=this._get();return R==null?{order:[]}:R}},{key:"_save",value:function(R){if(R.order.length>this._maxLimit){var P=R.order.map(function(Q,N){return{item:Q,index:N}}),B=(0,A.default)(P,function(Q){return Q.item.lastUse}).slice(0,R.order.length-this._maxLimit).map(function(Q){return Q.index}),z=(0,A.default)(B,function(Q){return-Q});R=(0,v.default)(R,{order:{$splice:z.map(function(Q){return[Q,1]})}})}this._set(R)}},{key:"_updatePersistedDataWithItem",value:function(R){var P=this._read(),B=(0,E.default)(P.order,function(Z){return Z.groupId===R.groupId&&Z.id===R.id});if(B!==-1&&P.order[B].orderHint!==R.orderHint&&(P=(0,v.default)(P,{order:{$splice:[[B,1]]}}),B=-1),B!==-1)P=(0,v.default)(P,{order:{$splice:[[B,1,{groupId:R.groupId,id:R.id,orderHint:R.orderHint,lastUse:Date.now()}]]}});else{var z=void 0,Q=(0,g.default)(P.order,function(Z){return Z.groupId===R.groupId&&Z.orderHint<=R.orderHint});if(Q!==-1)z=Q+1;else{var N=(0,E.default)(P.order,function(Z){return Z.groupId===R.groupId});if(N!==-1)z=N;else{var K=(0,j.default)(P.order,function(Z){return Z.groupId}),U=(0,s.default)(K),F=Math.floor(Math.random()*(U.length+1));z=F===U.length?P.order.length:K[U[F]][0]}}P=(0,v.default)(P,{order:{$splice:[[z,0,{groupId:R.groupId,id:R.id,orderHint:R.orderHint,lastUse:Date.now()}]]}})}return this._save(P),P}},{key:"_sortItemsIfNecessary",value:function(R){if(this._needsSort){R||(R=this._read());var P=(0,j.default)(R.order,t);this._items=(0,C.default)((0,A.default)(this._items,function(B){var z=t(B);return Object.prototype.hasOwnProperty.call(P,z)?Number(P[z][0]):0})),this._needsSort=!1}}},{key:"addItem",value:function(R){this._updatePersistedDataWithItem(R),this._needsSort=!0,this._items=this._items.concat([(0,C.default)({groupId:R.groupId,id:R.id,orderHint:R.orderHint,value:R.value})])}},{key:"updateItemValue",value:function(R,P,B){this._items=(0,C.default)(this._items.map(function(z){return z.groupId===R&&z.id===P?(0,C.default)((0,u.default)({},z,{value:B})):z}))}},{key:"updateItemValueByIndex",value:function(R,P){this._sortItemsIfNecessary(),this._items=(0,C.default)((0,v.default)(this._items,{$splice:[[R,1,(0,C.default)((0,u.default)({},this._items[R],{value:P}))]]}))}},{key:"removeItem",value:function(R,P){this._items=(0,C.default)(this._items.filter(function(B){return B.groupId!==R||B.id!==P}))}},{key:"removeItemByIndex",value:function(R){this._sortItemsIfNecessary(),this._items=(0,C.default)((0,v.default)(this._items,{$splice:[[R,1]]}))}},{key:"moveItem",value:function(R,P){var B=this._read();this._sortItemsIfNecessary(B);var z=this._items[R],Q=this._items[P],N=(0,E.default)(B.order,function(U){return U.groupId===z.groupId&&U.id===z.id}),K=(0,E.default)(B.order,function(U){return U.groupId===Q.groupId&&U.id===Q.id});B=(0,v.default)(B,{order:{$splice:[[N,1],[K,0,B.order[N]]]}}),this._save(B),this._needsSort=!0}},{key:"getOrderedItems",value:function(){return this._sortItemsIfNecessary(),this._items}},{key:"reload",value:function(){this._needsSort=!0}}]),V}();i.default=O,l.exports=i.default},{"./freeze":536,"babel-runtime/core-js/json/stringify":91,"babel-runtime/core-js/object/keys":94,"babel-runtime/helpers/classCallCheck":95,"babel-runtime/helpers/createClass":96,"babel-runtime/helpers/extends":97,"immutability-helper":538,"lodash/findIndex":485,"lodash/findLastIndex":486,"lodash/invertBy":495,"lodash/sortBy":519}],538:[function(e,l,i){function a(j){if(Array.isArray(j))return E(j.constructor(j.length),j);if(T(j)==="Map")return new Map(j);if(T(j)==="Set")return new Set(j);if(j&&typeof j=="object"){var x=Object.getPrototypeOf(j);return E(Object.create(x),j)}return j}function t(){function j(A,w){typeof w=="function"&&(w={$apply:w}),Array.isArray(A)&&Array.isArray(w)||_(!Array.isArray(w),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),_(typeof w=="object"&&w!==null,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(x).join(", "));var C=A;return I(w).forEach(function(O){if(y.call(x,O)){var V=A===C;C=x[O](w[O],C,w,A),V&&j.isEquals(C,A)&&(C=A)}else{var R=T(A)==="Map"?j(A.get(O),w[O]):j(A[O],w[O]),P=T(C)==="Map"?C.get(O):C[O];j.isEquals(R,P)&&(R!==void 0||y.call(A,O))||(C===A&&(C=a(A)),T(C)==="Map"?C.set(O,R):C[O]=R)}}),C}var x=E({},g);return j.extend=function(A,w){x[A]=w},j.isEquals=function(A,w){return A===w},j}function o(j,x,A){_(Array.isArray(j),"update(): expected target of %s to be an array; got %s.",A,j),u(x[A],A)}function u(j,x){_(Array.isArray(j),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",x,j)}function n(j,x){_(Array.isArray(j),"Expected $splice target to be an array; got %s",j),s(x.$splice)}function s(j){_(Array.isArray(j),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",j)}function f(j){_(typeof j=="function","update(): expected spec of $apply to be a function; got %s.",j)}function d(j){_(Object.keys(j).length===1,"Cannot have more than one key in an object with $set")}function m(j,x){_(x&&typeof x=="object","update(): $merge expects a spec of type 'object'; got %s",x),_(j&&typeof j=="object","update(): $merge expects a target of type 'object'; got %s",j)}function h(j,x){var A=T(j);_(A==="Map"||A==="Set","update(): %s expects a target of type Set or Map; got %s",x,A)}var _=e("invariant"),y=Object.prototype.hasOwnProperty,S=Array.prototype.splice,v=Object.prototype.toString,T=function(j){return v.call(j).slice(8,-1)},E=Object.assign||function(j,x){return I(x).forEach(function(A){y.call(x,A)&&(j[A]=x[A])}),j},I=typeof Object.getOwnPropertySymbols=="function"?function(j){return Object.keys(j).concat(Object.getOwnPropertySymbols(j))}:function(j){return Object.keys(j)},g={$push:function(j,x,A){return o(x,A,"$push"),j.length?x.concat(j):x},$unshift:function(j,x,A){return o(x,A,"$unshift"),j.length?j.concat(x):x},$splice:function(j,x,A,w){return n(x,A),j.forEach(function(C){s(C),x===w&&C.length&&(x=a(w)),S.apply(x,C)}),x},$set:function(j,x,A){return d(A),j},$toggle:function(j,x){u(j,"$toggle");var A=j.length?a(x):x;return j.forEach(function(w){A[w]=!x[w]}),A},$unset:function(j,x,A,w){return u(j,"$unset"),j.forEach(function(C){Object.hasOwnProperty.call(x,C)&&(x===w&&(x=a(w)),delete x[C])}),x},$add:function(j,x,A,w){return h(x,"$add"),u(j,"$add"),T(x)==="Map"?j.forEach(function(C){var O=C[0],V=C[1];x===w&&x.get(O)!==V&&(x=a(w)),x.set(O,V)}):j.forEach(function(C){x!==w||x.has(C)||(x=a(w)),x.add(C)}),x},$remove:function(j,x,A,w){return h(x,"$remove"),u(j,"$remove"),j.forEach(function(C){x===w&&x.has(C)&&(x=a(w)),x.delete(C)}),x},$merge:function(j,x,A,w){return m(x,j),I(j).forEach(function(C){j[C]!==x[C]&&(x===w&&(x=a(w)),x[C]=j[C])}),x},$apply:function(j,x){return f(j),j(x)}},k=t();l.exports=k,l.exports.default=k,l.exports.newContext=t},{invariant:320}],539:[function(e,l,i){"use strict";function a(u){return function(n){return(0,o.default)(n,u)}}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("matches-selector-ng"));l.exports=i.default,l.exports.default=i.default},{"@babel/runtime/helpers/interopRequireDefault":69,"matches-selector-ng":534}],540:[function(e,l,i){"use strict";function a(h,_){return _.map(function(y){if(typeof y=="string"){var S=(0,f.default)(y);return function(O){return(0,m.default)(O,S)}}if(y.$or){var v=y.$or.map(function(O){return a(h,O)});return function(O){return(0,s.default)(v.map(function(V){return V(O)}))}}if(y.$watch){var T=y.$watch,E=T.attributeFilter,I=T.cond,g=typeof I=="function"?I:(0,f.default)(I);return function(O){return(0,d.default)(O,E,g)}}if(y.$log){var k=y.$log,j=function(O){return console.log(k,O.el),!0};return function(O){return(0,n.default)(O,j)}}if(y.$filter){var x=y.$filter,A=function(O){var V=O.el;return x(V)};return function(O){return(0,n.default)(O,A)}}if(y.$map){var w=y.$map,C=o.default.compose(o.default.map(function(O){return{el:w(O.el),parents:O.parents}}),o.default.filter(function(O){return O.el!=null}));return function(O){return(0,u.default)(O,C)}}throw new Error("Invalid selector item: ".concat(JSON.stringify(y)))}).reduce(function(y,S){return function(v){return S(y(v))}},function(y){return y})}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("transducers.js")),u=t(e("live-set/transduce")),n=t(e("live-set/filter")),s=t(e("live-set/merge")),f=t(e("./createCssFn")),d=t(e("./watchMutations")),m=t(e("./watchFilteredChildren"));l.exports=i.default,l.exports.default=i.default},{"./createCssFn":539,"./watchFilteredChildren":541,"./watchMutations":542,"@babel/runtime/helpers/interopRequireDefault":69,"live-set/filter":329,"live-set/merge":334,"live-set/transduce":336,"transducers.js":623}],541:[function(e,l,i){"use strict";function a(u,n){return new o.default({scheduler:u.getScheduler(),read:function(){throw new Error},listen:function(s,f){function d(S){function v(g){if(g.nodeType===1&&n(g)){var k={el:g,parents:S.parents};_.set(g,k),f.add(k)}}function T(g){if(g.nodeType===1){var k=_.get(g);k&&(_.delete(g),f.remove(k))}}function E(g){if(g.length>1){var k=new Set,j=[];g.forEach(function(x){for(var A=x.addedNodes,w=x.removedNodes,C=0,O=w.length;C<O;C++)w[C].nodeType===1&&k.add(w[C]);for(var V=0,R=A.length;V<R;V++){var P=A[V];P.nodeType===1&&(k.has(P)?k.delete(P):j.push(P))}}),j.forEach(v),k.forEach(T)}else g.forEach(function(x){Array.prototype.forEach.call(x.addedNodes,v),Array.prototype.forEach.call(x.removedNodes,T)})}Array.prototype.forEach.call(S.el.children,v);var I=new MutationObserver(E);I.observe(S.el,{childList:!0}),h.set(S,{observer:I,removedNode:T})}function m(S){var v=h.get(S);if(!v)throw new Error("Should not happen: Unseen ElementContext removed");v.observer.takeRecords().forEach(function(T){Array.prototype.forEach.call(T.removedNodes,v.removedNode)}),v.observer.disconnect(),Array.prototype.forEach.call(S.el.children,v.removedNode),h.delete(S)}s(new Set);var h=new Map,_=new Map,y=u.subscribe({start:function(){u.values().forEach(d)},next:function(S){S.forEach(function(v){v.type==="add"?d(v.value):v.type==="remove"&&m(v.value)})}});return{unsubscribe:function(){y.unsubscribe(),h.forEach(function(S){S.observer.disconnect()})},pullChanges:function(){y.pullChanges()}}}})}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("live-set"));l.exports=i.default,l.exports.default=i.default},{"@babel/runtime/helpers/interopRequireDefault":69,"live-set":332}],542:[function(e,l,i){"use strict";function a(u,n,s){return new o.default({scheduler:u.getScheduler(),read:function(){throw new Error},listen:function(f,d){function m(S){var v=new MutationObserver(function(E){E.length!==0&&(s(S.el)?T.passed||(T.passed=!0,d.add(S)):T.passed&&(T.passed=!1,d.remove(S)))}),T={mo:v,passed:!1};s(S.el)&&(T.passed=!0,d.add(S)),v.observe(S.el,{attributes:!0,attributeFilter:n}),_.set(S,T)}function h(S){var v=_.get(S);if(!v)throw new Error("Should not happen: Unseen ElementContext removed");v.mo.disconnect(),v.passed&&d.remove(S),_.delete(S)}f(new Set);var _=new Map,y=u.subscribe({start:function(){u.values().forEach(m)},next:function(S){S.forEach(function(v){v.type==="add"?m(v.value):v.type==="remove"&&h(v.value)})}});return{unsubscribe:function(){y.unsubscribe(),_.forEach(function(S){S.mo.disconnect()})},pullChanges:function(){y.pullChanges()}}}})}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var o=t(e("live-set"));l.exports=i.default,l.exports.default=i.default},{"@babel/runtime/helpers/interopRequireDefault":69,"live-set":332}],543:[function(e,l,i){"use strict";function a(v){var T=new Map,E=[];return Object.keys(v.tags).forEach(function(I){var g=v.tags[I],k=g.ownedBy;E.push({tag:I,ownedBy:k}),T.set(I,g)}),Object.keys(v.finders).concat(v.watchers.map(function(I){return I.tag})).forEach(function(I){T.has(I)||(T.set(I,{ownedBy:[]}),E.push({tag:I}))}),{map:T,list:E}}var t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime/helpers/classCallCheck")),u=t(e("@babel/runtime/helpers/createClass")),n=t(e("@babel/runtime/helpers/defineProperty")),s=t(e("live-set")),f=t(e("live-set/merge")),d=t(e("live-set/flatMapR")),m=t(e("live-set/Scheduler")),h=e("tag-tree"),_=t(e("./watcherFinderMerger")),y=t(e("./createTransformer")),S=function(){function v(T,E){var I=this;(0,o.default)(this,v),(0,n.default)(this,"tree",void 0),(0,n.default)(this,"_scheduler",new m.default),(0,n.default)(this,"_treeController",void 0),(0,n.default)(this,"_rootMatchedSet",void 0),(0,n.default)(this,"_ecSources",void 0),(0,n.default)(this,"_logError",void 0),(0,n.default)(this,"_options",void 0),(0,n.default)(this,"_tagOptions",void 0),(0,n.default)(this,"_tagsList",void 0),(0,n.default)(this,"_subscriptions",[]);var g;if(T.nodeType===Node.DOCUMENT_NODE){if(!(g=T.documentElement))throw new Error("missing documentElement")}else g=T;this._options=E,this._logError=E.logError||function(A){setTimeout(function(){throw A},0)};var k=a(this._options),j=k.map,x=k.list;this._tagOptions=j,this._tagsList=x,this.tree=new h.TagTree({root:g,tags:x,executor:function(A){I._treeController=A}}),this._rootMatchedSet=s.default.constant(new Set([{el:this.tree.getValue(),parents:[{tag:null,node:this.tree}]}]),{scheduler:this._scheduler}),this._setupWatchersAndFinders()}return(0,u.default)(v,[{key:"_setupWatchersAndFinders",value:function(){var T=this,E=new Set;this._options.watchers.forEach(function(I){E.add(I.tag)}),this._ecSources=new Map(this._tagsList.map(function(I){function g(z){for(var Q,N=z.length-1;N>=0;N--)if(z[N].tag==null||x.has(z[N].tag)){Q=z[N].node;break}if(!Q)throw new Error;return Q}var k=I.tag,j=T._tagOptions.get(k);if(!j)throw new Error;var x=new Set(j.ownedBy||[]),A=s.default.active(null,{scheduler:T._scheduler}),w=A.liveSet,C=A.controller,O=E.has(k)?(0,d.default)(w,function(z){return z}):null,V=T._options.finders[k],R=V?(0,_.default)(T._scheduler,T.tree,k,j,O,V,T._logError):O||s.default.constant(new Set,{scheduler:T._scheduler}),P=new Map,B=new s.default({scheduler:T._scheduler,read:function(){throw new Error},listen:function(z,Q){var N=new Map,K=function(U){var F=U.el,Z=U.parents,$=g(Z),ne=T._treeController.addTaggedValue($,k,F);return P.has(F)&&T._logError(new Error("PageParserTree(".concat(k,") watcher received element twice")),F),P.set(F,ne),{el:F,parents:U.parents.concat([{tag:k,node:ne}])}};return R.subscribe({start:function(){var U=new Set;R.values().forEach(function(F){var Z=K(F);N.set(F,Z),U.add(Z)}),z(U)},next:function(U){var F=new Set;U.length>1&&U.forEach(function(Z){Z.type==="remove"&&F.add(Z.value)}),U.forEach(function(Z){if(Z.type==="add"){if(F.has(Z.value))return;var $=K(Z.value);N.set(Z.value,$),Q.add($)}else if(Z.type==="remove"){var ne=N.get(Z.value);if(!ne)return;N.delete(Z.value),Q.remove(ne);var H=P.get(ne.el);if(!H)throw new Error("Should not happen: received removal of unseen element");P.delete(ne.el);var X=H.getParent();X&&X.ownsNode(H)&&T._treeController.removeTaggedNode(X,k,H)}})},error:function(U){Q.error(U)},complete:function(){Q.end()}})}});return T._subscriptions.push(B.subscribe({})),[k,{liveSet:w,controller:C,ecSet:B}]})),this._options.watchers.forEach(function(I){var g=I.sources,k=I.selectors,j=I.tag,x=g.map(function(O){if(!O)return T._rootMatchedSet;var V=T._ecSources.get(O);if(!V)throw new Error("Unknown source: "+O);return V.ecSet}),A=x.length===1?x[0]:(0,f.default)(x),w=(0,y.default)(T._scheduler,k),C=T._ecSources.get(j);if(!C)throw new Error;C.controller.add(w(A))}),this._scheduler.flush()}},{key:"_dumpWithoutEnd",value:function(){var T=this;this._subscriptions.forEach(function(E){E.unsubscribe()}),this._subscriptions.length=0,this.tree.getOwned().forEach(function(E,I){E.values().forEach(function(g){T._treeController.removeTaggedNode(T.tree,I,g)})})}},{key:"dump",value:function(){this._dumpWithoutEnd(),this._treeController.end()}},{key:"replaceOptions",value:function(T){var E="replaceOptions does not support tag changes",I=a(T),g=I.map;if(this._tagOptions.size!==g.size)throw new Error(E);this._tagOptions.forEach(function(k,j){var x=g.get(j);if(!x)throw new Error(E);var A=k.ownedBy||[],w=new Set(x.ownedBy||[]);if(A.length!==w.size)throw new Error(E);A.forEach(function(C){if(!w.has(C))throw new Error(E)})}),this._dumpWithoutEnd(),this._options=T,this._setupWatchersAndFinders()}}]),v}();i.default=S,l.exports=i.default,l.exports.default=i.default},{"./createTransformer":540,"./watcherFinderMerger":544,"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/interopRequireDefault":69,"live-set":332,"live-set/Scheduler":328,"live-set/flatMapR":331,"live-set/merge":334,"tag-tree":622}],544:[function(e,l,i){(function(a){(function(){"use strict";function t(d,m,h,_,y,S,v){return new f.default({scheduler:d,read:function(){throw new Error("Should not happen")},listen:function(T,E){var I=new Set,g=new Set,k=new Set,j=new Set,x=null;y?x=y.subscribe({start:function(){if(!y)throw new Error;var V=y.values();T(V),V.forEach(function(R){k.add(R.el),I.add(R.el),g.add(R)})},next:function(V){V.forEach(function(R){if(R.type==="add"){var P=R.value.el;k.add(P),I.has(P)?v(new Error("PageParserTree(".concat(h,") watcher found element already found by finder")),P):(I.add(P),g.add(R.value),E.add(R.value))}else if(R.type==="remove"){var B=R.value.el;k.delete(B),j.delete(B),g.has(R.value)&&(I.delete(B),g.delete(R.value),E.remove(R.value))}})},error:function(V){E.error(V)},complete:function(){E.end()}}):T(new Set);var A=null;if(S){var w=S.fn,C=S.interval,O=_.ownedBy||[];A=o(C,I,function(){for(var V=new Set,R=w(m.getValue()),P=0,B=R.length;P<B;P++){var z=R[P];if(V.add(z),!I.has(z)){I.add(z);var Q=u(z,m,O);g.add(Q),E.add(Q),y&&(v(new Error("PageParserTree(".concat(h,") finder found element missed by watcher")),z),x&&x.pullChanges())}}g.forEach(function(N){var K=N.el;V.has(K)||(k.has(K)?j.has(K)||(j.add(K),v(new Error("PageParserTree(".concat(h,") watcher found element missed by finder")),K)):(g.delete(N),I.delete(K),E.remove(N),x&&x.pullChanges()))}),d.flush()})}return{unsubscribe:function(){A!=null&&A.dispose(),x&&x.unsubscribe()},pullChanges:function(){x&&x.pullChanges()}}}})}function o(d,m,h){var _=Date.now(),y=null,S=null,v=function(){S=null,h(),T()},T=function(){var E;if(d==null)E=5e3+1e3*Math.random();else if(typeof d=="number")E=d;else{if(typeof d!="function")throw new Error("interval has wrong type: ".concat((0,s.default)(d)));E=d(m.size,Date.now()-_)}E!==1/0&&(y=setTimeout(function(){y=null,a.requestIdleCallback&&a.cancelIdleCallback?S=a.requestIdleCallback(v,{timeout:E}):v()},E))};return T(),{dispose:function(){y!=null&&clearTimeout(y),S!=null&&a.cancelIdleCallback(S)}}}function u(d,m,h){var _=null;return{el:d,get parents(){if(!_){for(var y=m.getValue(),S=[],v=d.parentElement;v;){for(var T=m.getNodesForValue(v),E=0,I=T.length;E<I;E++){var g=T[E],k=g.getTag();if(k==null||h.indexOf(k)>=0){S.push({tag:k,node:g});break}}if(v===y)break;v=v.parentElement}S.reverse(),_=S}return _}}}var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=t;var s=n(e("@babel/runtime/helpers/typeof")),f=n(e("live-set"));l.exports=i.default,l.exports.default=i.default}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/typeof":79,"live-set":332}],545:[function(e,l,i){"use strict";function a(t,o){return new Promise(function(u){setTimeout(function(){u(o)},t)})}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a},{}],546:[function(e,l,i){(function(a){(function(){(function(){var t,o,u;typeof performance!="undefined"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:a!=null&&a.hrtime?(l.exports=function(){return(t()-u)/1e6},o=a.hrtime,t=function(){var n;return n=o(),1e9*n[0]+n[1]},u=t()):Date.now?(l.exports=function(){return Date.now()-u},u=Date.now()):(l.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)}).call(this)}).call(this,e("_process"))},{_process:568}],547:[function(e,l,i){"use strict";function a(Q){return Q&&Q.__esModule?Q:{default:Q}}i.__esModule=!0;var t=e("./processor"),o=a(t),u=e("./selectors/attribute"),n=a(u),s=e("./selectors/className"),f=a(s),d=e("./selectors/combinator"),m=a(d),h=e("./selectors/comment"),_=a(h),y=e("./selectors/id"),S=a(y),v=e("./selectors/nesting"),T=a(v),E=e("./selectors/pseudo"),I=a(E),g=e("./selectors/root"),k=a(g),j=e("./selectors/selector"),x=a(j),A=e("./selectors/string"),w=a(A),C=e("./selectors/tag"),O=a(C),V=e("./selectors/universal"),R=a(V),P=e("./selectors/types"),B=function(Q){if(Q&&Q.__esModule)return Q;var N={};if(Q!=null)for(var K in Q)Object.prototype.hasOwnProperty.call(Q,K)&&(N[K]=Q[K]);return N.default=Q,N}(P),z=function(Q){return new o.default(Q)};z.attribute=function(Q){return new n.default(Q)},z.className=function(Q){return new f.default(Q)},z.combinator=function(Q){return new m.default(Q)},z.comment=function(Q){return new _.default(Q)},z.id=function(Q){return new S.default(Q)},z.nesting=function(Q){return new T.default(Q)},z.pseudo=function(Q){return new I.default(Q)},z.root=function(Q){return new k.default(Q)},z.selector=function(Q){return new x.default(Q)},z.string=function(Q){return new w.default(Q)},z.tag=function(Q){return new O.default(Q)},z.universal=function(Q){return new R.default(Q)},Object.keys(B).forEach(function(Q){Q!=="__esModule"&&(z[Q]=B[Q])}),i.default=z,l.exports=i.default},{"./processor":549,"./selectors/attribute":550,"./selectors/className":551,"./selectors/combinator":552,"./selectors/comment":553,"./selectors/id":555,"./selectors/nesting":557,"./selectors/pseudo":559,"./selectors/root":560,"./selectors/selector":561,"./selectors/string":562,"./selectors/tag":563,"./selectors/types":564,"./selectors/universal":565}],548:[function(e,l,i){"use strict";function a(oe){return oe&&oe.__esModule?oe:{default:oe}}function t(oe,Y){if(!(oe instanceof Y))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var o=function(){function oe(Y,se){for(var ie=0;ie<se.length;ie++){var L=se[ie];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(Y,L.key,L)}}return function(Y,se,ie){return se&&oe(Y.prototype,se),ie&&oe(Y,ie),Y}}(),u=e("flatten"),n=a(u),s=e("indexes-of"),f=a(s),d=e("uniq"),m=a(d),h=e("./selectors/root"),_=a(h),y=e("./selectors/selector"),S=a(y),v=e("./selectors/className"),T=a(v),E=e("./selectors/comment"),I=a(E),g=e("./selectors/id"),k=a(g),j=e("./selectors/tag"),x=a(j),A=e("./selectors/string"),w=a(A),C=e("./selectors/pseudo"),O=a(C),V=e("./selectors/attribute"),R=a(V),P=e("./selectors/universal"),B=a(P),z=e("./selectors/combinator"),Q=a(z),N=e("./selectors/nesting"),K=a(N),U=e("./sortAscending"),F=a(U),Z=e("./tokenize"),$=a(Z),ne=e("./selectors/types"),H=function(oe){if(oe&&oe.__esModule)return oe;var Y={};if(oe!=null)for(var se in oe)Object.prototype.hasOwnProperty.call(oe,se)&&(Y[se]=oe[se]);return Y.default=oe,Y}(ne),X=function(){function oe(Y){t(this,oe),this.input=Y,this.lossy=Y.options.lossless===!1,this.position=0,this.root=new _.default;var se=new S.default;return this.root.append(se),this.current=se,this.lossy?this.tokens=(0,$.default)({safe:Y.safe,css:Y.css.trim()}):this.tokens=(0,$.default)(Y),this.loop()}return oe.prototype.attribute=function(){var Y="",se=void 0,ie=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[0]!=="]";)Y+=this.tokens[this.position][1],this.position++;this.position!==this.tokens.length||~Y.indexOf("]")||this.error("Expected a closing square bracket.");var L=Y.split(/((?:[*~^$|]?=))([^]*)/),G=L[0].split(/(\|)/g),le={operator:L[1],value:L[2],source:{start:{line:ie[2],column:ie[3]},end:{line:this.currToken[2],column:this.currToken[3]}},sourceIndex:ie[4]};if(G.length>1?(G[0]===""&&(G[0]=!0),le.attribute=this.parseValue(G[2]),le.namespace=this.parseNamespace(G[0])):le.attribute=this.parseValue(L[0]),se=new R.default(le),L[2]){var pe=L[2].split(/(\s+i\s*?)$/),we=pe[0].trim();se.value=this.lossy?we:pe[0],pe[1]&&(se.insensitive=!0,this.lossy||(se.raws.insensitive=pe[1])),se.quoted=we[0]==="'"||we[0]==='"',se.raws.unquoted=se.quoted?we.slice(1,-1):we}this.newNode(se),this.position++},oe.prototype.combinator=function(){if(this.currToken[1]==="|")return this.namespace();for(var Y=new Q.default({value:"",source:{start:{line:this.currToken[2],column:this.currToken[3]},end:{line:this.currToken[2],column:this.currToken[3]}},sourceIndex:this.currToken[4]});this.position<this.tokens.length&&this.currToken&&(this.currToken[0]==="space"||this.currToken[0]==="combinator");)this.nextToken&&this.nextToken[0]==="combinator"?(Y.spaces.before=this.parseSpace(this.currToken[1]),Y.source.start.line=this.nextToken[2],Y.source.start.column=this.nextToken[3],Y.source.end.column=this.nextToken[3],Y.source.end.line=this.nextToken[2],Y.sourceIndex=this.nextToken[4]):this.prevToken&&this.prevToken[0]==="combinator"?Y.spaces.after=this.parseSpace(this.currToken[1]):this.currToken[0]==="combinator"?Y.value=this.currToken[1]:this.currToken[0]==="space"&&(Y.value=this.parseSpace(this.currToken[1]," ")),this.position++;return this.newNode(Y)},oe.prototype.comma=function(){if(this.position===this.tokens.length-1)return this.root.trailingComma=!0,void this.position++;var Y=new S.default;this.current.parent.append(Y),this.current=Y,this.position++},oe.prototype.comment=function(){var Y=new I.default({value:this.currToken[1],source:{start:{line:this.currToken[2],column:this.currToken[3]},end:{line:this.currToken[4],column:this.currToken[5]}},sourceIndex:this.currToken[6]});this.newNode(Y),this.position++},oe.prototype.error=function(Y){throw new this.input.error(Y)},oe.prototype.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.")},oe.prototype.missingParenthesis=function(){return this.error("Expected opening parenthesis.")},oe.prototype.missingSquareBracket=function(){return this.error("Expected opening square bracket.")},oe.prototype.namespace=function(){var Y=this.prevToken&&this.prevToken[1]||!0;return this.nextToken[0]==="word"?(this.position++,this.word(Y)):this.nextToken[0]==="*"?(this.position++,this.universal(Y)):void 0},oe.prototype.nesting=function(){this.newNode(new K.default({value:this.currToken[1],source:{start:{line:this.currToken[2],column:this.currToken[3]},end:{line:this.currToken[2],column:this.currToken[3]}},sourceIndex:this.currToken[4]})),this.position++},oe.prototype.parentheses=function(){var Y=this.current.last;if(Y&&Y.type===H.PSEUDO){var se=new S.default,ie=this.current;Y.append(se),this.current=se;var L=1;for(this.position++;this.position<this.tokens.length&&L;)this.currToken[0]==="("&&L++,this.currToken[0]===")"&&L--,L?this.parse():(se.parent.source.end.line=this.currToken[2],se.parent.source.end.column=this.currToken[3],this.position++);L&&this.error("Expected closing parenthesis."),this.current=ie}else{var G=1;for(this.position++,Y.value+="(";this.position<this.tokens.length&&G;)this.currToken[0]==="("&&G++,this.currToken[0]===")"&&G--,Y.value+=this.parseParenthesisToken(this.currToken),this.position++;G&&this.error("Expected closing parenthesis.")}},oe.prototype.pseudo=function(){for(var Y=this,se="",ie=this.currToken;this.currToken&&this.currToken[0]===":";)se+=this.currToken[1],this.position++;if(!this.currToken)return this.error("Expected pseudo-class or pseudo-element");if(this.currToken[0]==="word"){var L=void 0;this.splitWord(!1,function(G,le){se+=G,L=new O.default({value:se,source:{start:{line:ie[2],column:ie[3]},end:{line:Y.currToken[4],column:Y.currToken[5]}},sourceIndex:ie[4]}),Y.newNode(L),le>1&&Y.nextToken&&Y.nextToken[0]==="("&&Y.error("Misplaced parenthesis.")})}else this.error('Unexpected "'+this.currToken[0]+'" found.')},oe.prototype.space=function(){var Y=this.currToken;this.position===0||this.prevToken[0]===","||this.prevToken[0]==="("?(this.spaces=this.parseSpace(Y[1]),this.position++):this.position===this.tokens.length-1||this.nextToken[0]===","||this.nextToken[0]===")"?(this.current.last.spaces.after=this.parseSpace(Y[1]),this.position++):this.combinator()},oe.prototype.string=function(){var Y=this.currToken;this.newNode(new w.default({value:this.currToken[1],source:{start:{line:Y[2],column:Y[3]},end:{line:Y[4],column:Y[5]}},sourceIndex:Y[6]})),this.position++},oe.prototype.universal=function(Y){var se=this.nextToken;if(se&&se[1]==="|")return this.position++,this.namespace();this.newNode(new B.default({value:this.currToken[1],source:{start:{line:this.currToken[2],column:this.currToken[3]},end:{line:this.currToken[2],column:this.currToken[3]}},sourceIndex:this.currToken[4]}),Y),this.position++},oe.prototype.splitWord=function(Y,se){for(var ie=this,L=this.nextToken,G=this.currToken[1];L&&L[0]==="word";){this.position++;var le=this.currToken[1];if(G+=le,le.lastIndexOf("\\")===le.length-1){var pe=this.nextToken;pe&&pe[0]==="space"&&(G+=this.parseSpace(pe[1]," "),this.position++)}L=this.nextToken}var we=(0,f.default)(G,"."),ye=(0,f.default)(G,"#"),W=(0,f.default)(G,"#{");W.length&&(ye=ye.filter(function(ce){return!~W.indexOf(ce)}));var te=(0,F.default)((0,m.default)((0,n.default)([[0],we,ye])));te.forEach(function(ce,je){var be=te[je+1]||G.length,Ne=G.slice(ce,be);if(je===0&&se)return se.call(ie,Ne,te.length);var He=void 0;He=~we.indexOf(ce)?new T.default({value:Ne.slice(1),source:{start:{line:ie.currToken[2],column:ie.currToken[3]+ce},end:{line:ie.currToken[4],column:ie.currToken[3]+(be-1)}},sourceIndex:ie.currToken[6]+te[je]}):~ye.indexOf(ce)?new k.default({value:Ne.slice(1),source:{start:{line:ie.currToken[2],column:ie.currToken[3]+ce},end:{line:ie.currToken[4],column:ie.currToken[3]+(be-1)}},sourceIndex:ie.currToken[6]+te[je]}):new x.default({value:Ne,source:{start:{line:ie.currToken[2],column:ie.currToken[3]+ce},end:{line:ie.currToken[4],column:ie.currToken[3]+(be-1)}},sourceIndex:ie.currToken[6]+te[je]}),ie.newNode(He,Y)}),this.position++},oe.prototype.word=function(Y){var se=this.nextToken;return se&&se[1]==="|"?(this.position++,this.namespace()):this.splitWord(Y)},oe.prototype.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.root},oe.prototype.parse=function(Y){switch(this.currToken[0]){case"space":this.space();break;case"comment":this.comment();break;case"(":this.parentheses();break;case")":Y&&this.missingParenthesis();break;case"[":this.attribute();break;case"]":this.missingSquareBracket();break;case"at-word":case"word":this.word();break;case":":this.pseudo();break;case";":this.missingBackslash();break;case",":this.comma();break;case"*":this.universal();break;case"&":this.nesting();break;case"combinator":this.combinator();break;case"string":this.string()}},oe.prototype.parseNamespace=function(Y){if(this.lossy&&typeof Y=="string"){var se=Y.trim();return!se.length||se}return Y},oe.prototype.parseSpace=function(Y,se){return this.lossy?se||"":Y},oe.prototype.parseValue=function(Y){return this.lossy&&Y&&typeof Y=="string"?Y.trim():Y},oe.prototype.parseParenthesisToken=function(Y){return this.lossy?Y[0]==="space"?this.parseSpace(Y[1]," "):this.parseValue(Y[1]):Y[1]},oe.prototype.newNode=function(Y,se){return se&&(Y.namespace=this.parseNamespace(se)),this.spaces&&(Y.spaces.before=this.spaces,this.spaces=""),this.current.append(Y)},o(oe,[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}]),oe}();i.default=X,l.exports=i.default},{"./selectors/attribute":550,"./selectors/className":551,"./selectors/combinator":552,"./selectors/comment":553,"./selectors/id":555,"./selectors/nesting":557,"./selectors/pseudo":559,"./selectors/root":560,"./selectors/selector":561,"./selectors/string":562,"./selectors/tag":563,"./selectors/types":564,"./selectors/universal":565,"./sortAscending":566,"./tokenize":567,flatten:308,"indexes-of":318,uniq:626}],549:[function(e,l,i){"use strict";function a(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var t=function(){function s(f,d){for(var m=0;m<d.length;m++){var h=d[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,d,m){return d&&s(f.prototype,d),m&&s(f,m),f}}(),o=e("./parser"),u=function(s){return s&&s.__esModule?s:{default:s}}(o),n=function(){function s(f){return a(this,s),this.func=f||function(){},this}return s.prototype.process=function(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=new u.default({css:f,error:function(h){throw new Error(h)},options:d});return this.res=m,this.func(m),this},t(s,[{key:"result",get:function(){return String(this.res)}}]),s}();i.default=n,l.exports=i.default},{"./parser":548}],550:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./namespace"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.ATTRIBUTE,_.raws={},_}return o(m,d),m.prototype.toString=function(){var h=[this.spaces.before,"[",this.ns,this.attribute];return this.operator&&h.push(this.operator),this.value&&h.push(this.value),this.raws.insensitive?h.push(this.raws.insensitive):this.insensitive&&h.push(" i"),h.push("]"),h.concat(this.spaces.after).join("")},m}(n.default);i.default=f,l.exports=i.default},{"./namespace":556,"./types":564}],551:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./namespace"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.CLASS,_}return o(m,d),m.prototype.toString=function(){return[this.spaces.before,this.ns,String("."+this.value),this.spaces.after].join("")},m}(n.default);i.default=f,l.exports=i.default},{"./namespace":556,"./types":564}],552:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./node"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.COMBINATOR,_}return o(m,d),m}(n.default);i.default=f,l.exports=i.default},{"./node":558,"./types":564}],553:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./node"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.COMMENT,_}return o(m,d),m}(n.default);i.default=f,l.exports=i.default},{"./node":558,"./types":564}],554:[function(e,l,i){"use strict";function a(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}function t(h,_){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?h:_}function o(h,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);h.prototype=Object.create(_&&_.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(h,_):h.__proto__=_)}i.__esModule=!0;var u=function(){function h(_,y){for(var S=0;S<y.length;S++){var v=y[S];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,y,S){return y&&h(_.prototype,y),S&&h(_,S),_}}(),n=e("./node"),s=function(h){return h&&h.__esModule?h:{default:h}}(n),f=e("./types"),d=function(h){if(h&&h.__esModule)return h;var _={};if(h!=null)for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(_[y]=h[y]);return _.default=h,_}(f),m=function(h){function _(y){a(this,_);var S=t(this,h.call(this,y));return S.nodes||(S.nodes=[]),S}return o(_,h),_.prototype.append=function(y){return y.parent=this,this.nodes.push(y),this},_.prototype.prepend=function(y){return y.parent=this,this.nodes.unshift(y),this},_.prototype.at=function(y){return this.nodes[y]},_.prototype.index=function(y){return typeof y=="number"?y:this.nodes.indexOf(y)},_.prototype.removeChild=function(y){y=this.index(y),this.at(y).parent=void 0,this.nodes.splice(y,1);var S=void 0;for(var v in this.indexes)(S=this.indexes[v])>=y&&(this.indexes[v]=S-1);return this},_.prototype.removeAll=function(){for(var v=this.nodes,y=Array.isArray(v),S=0,v=y?v:v[Symbol.iterator]();;){var T;if(y){if(S>=v.length)break;T=v[S++]}else{if(S=v.next(),S.done)break;T=S.value}T.parent=void 0}return this.nodes=[],this},_.prototype.empty=function(){return this.removeAll()},_.prototype.insertAfter=function(y,S){var v=this.index(y);this.nodes.splice(v+1,0,S);var T=void 0;for(var E in this.indexes)T=this.indexes[E],v<=T&&(this.indexes[E]=T+this.nodes.length);return this},_.prototype.insertBefore=function(y,S){var v=this.index(y);this.nodes.splice(v,0,S);var T=void 0;for(var E in this.indexes)T=this.indexes[E],v<=T&&(this.indexes[E]=T+this.nodes.length);return this},_.prototype.each=function(y){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var S=this.lastEach;if(this.indexes[S]=0,this.length){for(var v=void 0,T=void 0;this.indexes[S]<this.length&&(v=this.indexes[S],(T=y(this.at(v),v))!==!1);)this.indexes[S]+=1;return delete this.indexes[S],T!==!1&&void 0}},_.prototype.walk=function(y){return this.each(function(S,v){var T=y(S,v);if(T!==!1&&S.length&&(T=S.walk(y)),T===!1)return!1})},_.prototype.walkAttributes=function(y){var S=this;return this.walk(function(v){if(v.type===d.ATTRIBUTE)return y.call(S,v)})},_.prototype.walkClasses=function(y){var S=this;return this.walk(function(v){if(v.type===d.CLASS)return y.call(S,v)})},_.prototype.walkCombinators=function(y){var S=this;return this.walk(function(v){if(v.type===d.COMBINATOR)return y.call(S,v)})},_.prototype.walkComments=function(y){var S=this;return this.walk(function(v){if(v.type===d.COMMENT)return y.call(S,v)})},_.prototype.walkIds=function(y){var S=this;return this.walk(function(v){if(v.type===d.ID)return y.call(S,v)})},_.prototype.walkNesting=function(y){var S=this;return this.walk(function(v){if(v.type===d.NESTING)return y.call(S,v)})},_.prototype.walkPseudos=function(y){var S=this;return this.walk(function(v){if(v.type===d.PSEUDO)return y.call(S,v)})},_.prototype.walkTags=function(y){var S=this;return this.walk(function(v){if(v.type===d.TAG)return y.call(S,v)})},_.prototype.walkUniversals=function(y){var S=this;return this.walk(function(v){if(v.type===d.UNIVERSAL)return y.call(S,v)})},_.prototype.split=function(y){var S=this,v=[];return this.reduce(function(T,E,I){var g=y.call(S,E);return v.push(E),g?(T.push(v),v=[]):I===S.length-1&&T.push(v),T},[])},_.prototype.map=function(y){return this.nodes.map(y)},_.prototype.reduce=function(y,S){return this.nodes.reduce(y,S)},_.prototype.every=function(y){return this.nodes.every(y)},_.prototype.some=function(y){return this.nodes.some(y)},_.prototype.filter=function(y){return this.nodes.filter(y)},_.prototype.sort=function(y){return this.nodes.sort(y)},_.prototype.toString=function(){return this.map(String).join("")},u(_,[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}]),_}(s.default);i.default=m,l.exports=i.default},{"./node":558,"./types":564}],555:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./namespace"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.ID,_}return o(m,d),m.prototype.toString=function(){return[this.spaces.before,this.ns,String("#"+this.value),this.spaces.after].join("")},m}(n.default);i.default=f,l.exports=i.default},{"./namespace":556,"./types":564}],556:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=function(){function d(m,h){for(var _=0;_<h.length;_++){var y=h[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,h,_){return h&&d(m.prototype,h),_&&d(m,_),m}}(),n=e("./node"),s=function(d){return d&&d.__esModule?d:{default:d}}(n),f=function(d){function m(){return a(this,m),t(this,d.apply(this,arguments))}return o(m,d),m.prototype.toString=function(){return[this.spaces.before,this.ns,String(this.value),this.spaces.after].join("")},u(m,[{key:"ns",get:function(){var h=this.namespace;return h?(typeof h=="string"?h:"")+"|":""}}]),m}(s.default);i.default=f,l.exports=i.default},{"./node":558}],557:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./node"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.NESTING,_.value="&",_}return o(m,d),m}(n.default);i.default=f,l.exports=i.default},{"./node":558,"./types":564}],558:[function(e,l,i){"use strict";function a(n,s){if(!(n instanceof s))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o=function n(s,f){if((s===void 0?"undefined":t(s))!=="object")return s;var d=new s.constructor;for(var m in s)if(s.hasOwnProperty(m)){var h=s[m],_=h===void 0?"undefined":t(h);m==="parent"&&_==="object"?f&&(d[m]=f):h instanceof Array?d[m]=h.map(function(y){return n(y,d)}):d[m]=n(h,d)}return d},u=function(){function n(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};a(this,n);for(var f in s)this[f]=s[f];var d=s.spaces;d=d===void 0?{}:d;var m=d.before,h=m===void 0?"":m,_=d.after,y=_===void 0?"":_;this.spaces={before:h,after:y}}return n.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},n.prototype.replaceWith=function(){if(this.parent){for(var s in arguments)this.parent.insertBefore(this,arguments[s]);this.remove()}return this},n.prototype.next=function(){return this.parent.at(this.parent.index(this)+1)},n.prototype.prev=function(){return this.parent.at(this.parent.index(this)-1)},n.prototype.clone=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=o(this);for(var d in s)f[d]=s[d];return f},n.prototype.toString=function(){return[this.spaces.before,String(this.value),this.spaces.after].join("")},n}();i.default=u,l.exports=i.default},{}],559:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./container"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.PSEUDO,_}return o(m,d),m.prototype.toString=function(){var h=this.length?"("+this.map(String).join(",")+")":"";return[this.spaces.before,String(this.value),h,this.spaces.after].join("")},m}(n.default);i.default=f,l.exports=i.default},{"./container":554,"./types":564}],560:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./container"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.ROOT,_}return o(m,d),m.prototype.toString=function(){var h=this.reduce(function(_,y){var S=String(y);return S?_+S+",":""},"").slice(0,-1);return this.trailingComma?h+",":h},m}(n.default);i.default=f,l.exports=i.default},{"./container":554,"./types":564}],561:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./container"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.SELECTOR,_}return o(m,d),m}(n.default);i.default=f,l.exports=i.default},{"./container":554,"./types":564}],562:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./node"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.STRING,_}return o(m,d),m}(n.default);i.default=f,l.exports=i.default},{"./node":558,"./types":564}],563:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./namespace"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.TAG,_}return o(m,d),m}(n.default);i.default=f,l.exports=i.default},{"./namespace":556,"./types":564}],564:[function(e,l,i){"use strict";i.__esModule=!0,i.TAG="tag",i.STRING="string",i.SELECTOR="selector",i.ROOT="root",i.PSEUDO="pseudo",i.NESTING="nesting",i.ID="id",i.COMMENT="comment",i.COMBINATOR="combinator",i.CLASS="class",i.ATTRIBUTE="attribute",i.UNIVERSAL="universal"},{}],565:[function(e,l,i){"use strict";function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function t(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}function o(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}i.__esModule=!0;var u=e("./namespace"),n=function(d){return d&&d.__esModule?d:{default:d}}(u),s=e("./types"),f=function(d){function m(h){a(this,m);var _=t(this,d.call(this,h));return _.type=s.UNIVERSAL,_.value="*",_}return o(m,d),m}(n.default);i.default=f,l.exports=i.default},{"./namespace":556,"./types":564}],566:[function(e,l,i){"use strict";function a(t){return t.sort(function(o,u){return o-u})}i.__esModule=!0,i.default=a,l.exports=i.default},{}],567:[function(e,l,i){"use strict";function a(R){for(var P=[],B=R.css.valueOf(),z=void 0,Q=void 0,N=void 0,K=void 0,U=void 0,F=void 0,Z=void 0,$=void 0,ne=void 0,H=void 0,X=void 0,oe=B.length,Y=-1,se=1,ie=0,L=function(G,le){if(!R.safe)throw R.error("Unclosed "+G,se,ie-Y,ie);B+=le,Q=B.length-1};ie<oe;){switch(z=B.charCodeAt(ie),z===s&&(Y=ie,se+=1),z){case s:case f:case m:case h:case d:Q=ie;do Q+=1,(z=B.charCodeAt(Q))===s&&(Y=Q,se+=1);while(z===f||z===s||z===m||z===h||z===d);P.push(["space",B.slice(ie,Q),se,ie-Y,ie]),ie=Q-1;break;case _:case y:case S:case v:Q=ie;do Q+=1,z=B.charCodeAt(Q);while(z===_||z===y||z===S||z===v);P.push(["combinator",B.slice(ie,Q),se,ie-Y,ie]),ie=Q-1;break;case x:P.push(["*","*",se,ie-Y,ie]);break;case w:P.push(["&","&",se,ie-Y,ie]);break;case T:P.push([",",",",se,ie-Y,ie]);break;case g:P.push(["[","[",se,ie-Y,ie]);break;case k:P.push(["]","]",se,ie-Y,ie]);break;case A:P.push([":",":",se,ie-Y,ie]);break;case j:P.push([";",";",se,ie-Y,ie]);break;case E:P.push(["(","(",se,ie-Y,ie]);break;case I:P.push([")",")",se,ie-Y,ie]);break;case t:case o:N=z===t?"'":'"',Q=ie;do for(H=!1,Q=B.indexOf(N,Q+1),Q===-1&&L("quote",N),X=Q;B.charCodeAt(X-1)===u;)X-=1,H=!H;while(H);P.push(["string",B.slice(ie,Q+1),se,ie-Y,se,Q-Y,ie]),ie=Q;break;case C:O.lastIndex=ie+1,O.test(B),Q=O.lastIndex===0?B.length-1:O.lastIndex-2,P.push(["at-word",B.slice(ie,Q+1),se,ie-Y,se,Q-Y,ie]),ie=Q;break;case u:for(Q=ie,Z=!0;B.charCodeAt(Q+1)===u;)Q+=1,Z=!Z;z=B.charCodeAt(Q+1),Z&&z!==n&&z!==f&&z!==s&&z!==m&&z!==h&&z!==d&&(Q+=1),P.push(["word",B.slice(ie,Q+1),se,ie-Y,se,Q-Y,ie]),ie=Q;break;default:z===n&&B.charCodeAt(ie+1)===x?(Q=B.indexOf("*/",ie+2)+1,Q===0&&L("comment","*/"),F=B.slice(ie,Q+1),K=F.split(`
`),U=K.length-1,U>0?($=se+U,ne=Q-K[U].length):($=se,ne=Y),P.push(["comment",F,se,ie-Y,$,Q-ne,ie]),Y=ne,se=$,ie=Q):(V.lastIndex=ie+1,V.test(B),Q=V.lastIndex===0?B.length-1:V.lastIndex-2,P.push(["word",B.slice(ie,Q+1),se,ie-Y,se,Q-Y,ie]),ie=Q)}ie++}return P}i.__esModule=!0,i.default=a;var t=39,o=34,u=92,n=47,s=10,f=32,d=12,m=9,h=13,_=43,y=62,S=126,v=124,T=44,E=40,I=41,g=91,k=93,j=59,x=42,A=58,w=38,C=64,O=/[ \n\t\r\{\(\)'"\\;/]/g,V=/[ \n\t\r\(\)\*:;@!&'"\+\|~>,\[\]\\]|\/(?=\*)/g;l.exports=i.default},{}],568:[function(e,l,i){function a(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function o(E){if(m===setTimeout)return setTimeout(E,0);if((m===a||!m)&&setTimeout)return m=setTimeout,setTimeout(E,0);try{return m(E,0)}catch(I){try{return m.call(null,E,0)}catch(g){return m.call(this,E,0)}}}function u(E){if(h===clearTimeout)return clearTimeout(E);if((h===t||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(E);try{return h(E)}catch(I){try{return h.call(null,E)}catch(g){return h.call(this,E)}}}function n(){v&&y&&(v=!1,y.length?S=y.concat(S):T=-1,S.length&&s())}function s(){if(!v){var E=o(n);v=!0;for(var I=S.length;I;){for(y=S,S=[];++T<I;)y&&y[T].run();T=-1,I=S.length}y=null,v=!1,u(E)}}function f(E,I){this.fun=E,this.array=I}function d(){}var m,h,_=l.exports={};(function(){try{m=typeof setTimeout=="function"?setTimeout:a}catch(E){m=a}try{h=typeof clearTimeout=="function"?clearTimeout:t}catch(E){h=t}})();var y,S=[],v=!1,T=-1;_.nextTick=function(E){var I=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)I[g-1]=arguments[g];S.push(new f(E,I)),S.length!==1||v||o(s)},f.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=d,_.addListener=d,_.once=d,_.off=d,_.removeListener=d,_.removeAllListeners=d,_.emit=d,_.prependListener=d,_.prependOnceListener=d,_.listeners=function(E){return[]},_.binding=function(E){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(E){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},{}],569:[function(e,l,i){"use strict";function a(t,o,u,n,s){}a.resetWarningCache=function(){},l.exports=a},{"./lib/ReactPropTypesSecret":573}],570:[function(e,l,i){"use strict";function a(){}function t(){}var o=e("./lib/ReactPropTypesSecret");t.resetWarningCache=a,l.exports=function(){function u(f,d,m,h,_,y){if(y!==o){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}function n(){return u}u.isRequired=u;var s={array:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:n,element:u,elementType:u,instanceOf:n,node:u,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:a};return s.PropTypes=s,s}},{"./lib/ReactPropTypesSecret":573}],571:[function(e,l,i){"use strict";function a(){return null}var t=e("react-is"),o=e("object-assign"),u=e("./lib/ReactPropTypesSecret"),n=e("./checkPropTypes"),s=Function.call.bind(Object.prototype.hasOwnProperty),f=function(){};l.exports=function(d,m){function h(N){var K=N&&(P&&N[P]||N[B]);if(typeof K=="function")return K}function _(N,K){return N===K?N!==0||1/N==1/K:N!==N&&K!==K}function y(N){this.message=N,this.stack=""}function S(N){function K(F,Z,$,ne,H,X,oe){if(ne=ne||z,X=X||$,oe!==u&&m){var Y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Y.name="Invariant Violation",Y}return Z[$]==null?F?new y(Z[$]===null?"The "+H+" `"+X+"` is marked as required in `"+ne+"`, but its value is `null`.":"The "+H+" `"+X+"` is marked as required in `"+ne+"`, but its value is `undefined`."):null:N(Z,$,ne,H,X)}var U=K.bind(null,!1);return U.isRequired=K.bind(null,!0),U}function v(N){function K(U,F,Z,$,ne,H){var X=U[F];return C(X)!==N?new y("Invalid "+$+" `"+ne+"` of type `"+O(X)+"` supplied to `"+Z+"`, expected `"+N+"`."):null}return S(K)}function T(N){function K(U,F,Z,$,ne){if(typeof N!="function")return new y("Property `"+ne+"` of component `"+Z+"` has invalid PropType notation inside arrayOf.");var H=U[F];if(!Array.isArray(H))return new y("Invalid "+$+" `"+ne+"` of type `"+C(H)+"` supplied to `"+Z+"`, expected an array.");for(var X=0;X<H.length;X++){var oe=N(H,X,Z,$,ne+"["+X+"]",u);if(oe instanceof Error)return oe}return null}return S(K)}function E(N){function K(U,F,Z,$,ne){if(!(U[F]instanceof N)){var H=N.name||z;return new y("Invalid "+$+" `"+ne+"` of type `"+R(U[F])+"` supplied to `"+Z+"`, expected instance of `"+H+"`.")}return null}return S(K)}function I(N){function K(U,F,Z,$,ne){for(var H=U[F],X=0;X<N.length;X++)if(_(H,N[X]))return null;var oe=JSON.stringify(N,function(Y,se){return O(se)==="symbol"?String(se):se});return new y("Invalid "+$+" `"+ne+"` of value `"+String(H)+"` supplied to `"+Z+"`, expected one of "+oe+".")}return Array.isArray(N)?S(K):a}function g(N){function K(U,F,Z,$,ne){if(typeof N!="function")return new y("Property `"+ne+"` of component `"+Z+"` has invalid PropType notation inside objectOf.");var H=U[F],X=C(H);if(X!=="object")return new y("Invalid "+$+" `"+ne+"` of type `"+X+"` supplied to `"+Z+"`, expected an object.");for(var oe in H)if(s(H,oe)){var Y=N(H,oe,Z,$,ne+"."+oe,u);if(Y instanceof Error)return Y}return null}return S(K)}function k(N){function K(Z,$,ne,H,X){for(var oe=0;oe<N.length;oe++)if((0,N[oe])(Z,$,ne,H,X,u)==null)return null;return new y("Invalid "+H+" `"+X+"` supplied to `"+ne+"`.")}if(!Array.isArray(N))return a;for(var U=0;U<N.length;U++){var F=N[U];if(typeof F!="function")return f("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+V(F)+" at index "+U+"."),a}return S(K)}function j(N){function K(U,F,Z,$,ne){var H=U[F],X=C(H);if(X!=="object")return new y("Invalid "+$+" `"+ne+"` of type `"+X+"` supplied to `"+Z+"`, expected `object`.");for(var oe in N){var Y=N[oe];if(Y){var se=Y(H,oe,Z,$,ne+"."+oe,u);if(se)return se}}return null}return S(K)}function x(N){function K(U,F,Z,$,ne){var H=U[F],X=C(H);if(X!=="object")return new y("Invalid "+$+" `"+ne+"` of type `"+X+"` supplied to `"+Z+"`, expected `object`.");var oe=o({},U[F],N);for(var Y in oe){var se=N[Y];if(!se)return new y("Invalid "+$+" `"+ne+"` key `"+Y+"` supplied to `"+Z+"`.\nBad object: "+JSON.stringify(U[F],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(N),null,"  "));var ie=se(H,Y,Z,$,ne+"."+Y,u);if(ie)return ie}return null}return S(K)}function A(N){switch(typeof N){case"number":case"string":case"undefined":return!0;case"boolean":return!N;case"object":if(Array.isArray(N))return N.every(A);if(N===null||d(N))return!0;var K=h(N);if(!K)return!1;var U,F=K.call(N);if(K!==N.entries){for(;!(U=F.next()).done;)if(!A(U.value))return!1}else for(;!(U=F.next()).done;){var Z=U.value;if(Z&&!A(Z[1]))return!1}return!0;default:return!1}}function w(N,K){return N==="symbol"||!!K&&(K["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&K instanceof Symbol)}function C(N){var K=typeof N;return Array.isArray(N)?"array":N instanceof RegExp?"object":w(K,N)?"symbol":K}function O(N){if(N==null)return""+N;var K=C(N);if(K==="object"){if(N instanceof Date)return"date";if(N instanceof RegExp)return"regexp"}return K}function V(N){var K=O(N);switch(K){case"array":case"object":return"an "+K;case"boolean":case"date":case"regexp":return"a "+K;default:return K}}function R(N){return N.constructor&&N.constructor.name?N.constructor.name:z}var P=typeof Symbol=="function"&&Symbol.iterator,B="@@iterator",z="<<anonymous>>",Q={array:v("array"),bool:v("boolean"),func:v("function"),number:v("number"),object:v("object"),string:v("string"),symbol:v("symbol"),any:function(){return S(a)}(),arrayOf:T,element:function(){function N(K,U,F,Z,$){var ne=K[U];return d(ne)?null:new y("Invalid "+Z+" `"+$+"` of type `"+C(ne)+"` supplied to `"+F+"`, expected a single ReactElement.")}return S(N)}(),elementType:function(){function N(K,U,F,Z,$){var ne=K[U];return t.isValidElementType(ne)?null:new y("Invalid "+Z+" `"+$+"` of type `"+C(ne)+"` supplied to `"+F+"`, expected a single ReactElement type.")}return S(N)}(),instanceOf:E,node:function(){function N(K,U,F,Z,$){return A(K[U])?null:new y("Invalid "+Z+" `"+$+"` supplied to `"+F+"`, expected a ReactNode.")}return S(N)}(),objectOf:g,oneOf:I,oneOfType:k,shape:j,exact:x};return y.prototype=Error.prototype,Q.checkPropTypes=n,Q.resetWarningCache=n.resetWarningCache,Q.PropTypes=Q,Q}},{"./checkPropTypes":569,"./lib/ReactPropTypesSecret":573,"object-assign":535,"react-is":576}],572:[function(e,l,i){l.exports=e("./factoryWithThrowingShims")()},{"./factoryWithThrowingShims":570,"./factoryWithTypeCheckers":571,"react-is":576}],573:[function(e,l,i){"use strict";l.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],574:[function(e,l,i){(function(a){(function(){"use strict";a.env.NODE_ENV!=="production"&&function(){function t(ye){return typeof ye=="string"||typeof ye=="function"||ye===j||ye===V||ye===A||ye===x||ye===P||ye===B||typeof ye=="object"&&ye!==null&&(ye.$$typeof===Q||ye.$$typeof===z||ye.$$typeof===w||ye.$$typeof===C||ye.$$typeof===R||ye.$$typeof===K||ye.$$typeof===U||ye.$$typeof===F||ye.$$typeof===N)}function o(ye){if(typeof ye=="object"&&ye!==null){var W=ye.$$typeof;switch(W){case g:var te=ye.type;switch(te){case O:case V:case j:case A:case x:case P:return te;default:var ce=te&&te.$$typeof;switch(ce){case C:case R:case Q:case z:case w:return ce;default:return W}}case k:return W}}}function u(ye){return we||(we=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),n(ye)||o(ye)===O}function n(ye){return o(ye)===V}function s(ye){return o(ye)===C}function f(ye){return o(ye)===w}function d(ye){return typeof ye=="object"&&ye!==null&&ye.$$typeof===g}function m(ye){return o(ye)===R}function h(ye){return o(ye)===j}function _(ye){return o(ye)===Q}function y(ye){return o(ye)===z}function S(ye){return o(ye)===k}function v(ye){return o(ye)===A}function T(ye){return o(ye)===x}function E(ye){return o(ye)===P}var I=typeof Symbol=="function"&&Symbol.for,g=I?Symbol.for("react.element"):60103,k=I?Symbol.for("react.portal"):60106,j=I?Symbol.for("react.fragment"):60107,x=I?Symbol.for("react.strict_mode"):60108,A=I?Symbol.for("react.profiler"):60114,w=I?Symbol.for("react.provider"):60109,C=I?Symbol.for("react.context"):60110,O=I?Symbol.for("react.async_mode"):60111,V=I?Symbol.for("react.concurrent_mode"):60111,R=I?Symbol.for("react.forward_ref"):60112,P=I?Symbol.for("react.suspense"):60113,B=I?Symbol.for("react.suspense_list"):60120,z=I?Symbol.for("react.memo"):60115,Q=I?Symbol.for("react.lazy"):60116,N=I?Symbol.for("react.block"):60121,K=I?Symbol.for("react.fundamental"):60117,U=I?Symbol.for("react.responder"):60118,F=I?Symbol.for("react.scope"):60119,Z=O,$=V,ne=C,H=w,X=g,oe=R,Y=j,se=Q,ie=z,L=k,G=A,le=x,pe=P,we=!1;i.AsyncMode=Z,i.ConcurrentMode=$,i.ContextConsumer=ne,i.ContextProvider=H,i.Element=X,i.ForwardRef=oe,i.Fragment=Y,i.Lazy=se,i.Memo=ie,i.Portal=L,i.Profiler=G,i.StrictMode=le,i.Suspense=pe,i.isAsyncMode=u,i.isConcurrentMode=n,i.isContextConsumer=s,i.isContextProvider=f,i.isElement=d,i.isForwardRef=m,i.isFragment=h,i.isLazy=_,i.isMemo=y,i.isPortal=S,i.isProfiler=v,i.isStrictMode=T,i.isSuspense=E,i.isValidElementType=t,i.typeOf=o}()}).call(this)}).call(this,e("_process"))},{_process:568}],575:[function(e,l,i){"use strict";function a(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case u:switch(A=A.type){case _:case y:case s:case d:case f:case v:return A;default:switch(A=A&&A.$$typeof){case h:case S:case I:case E:case m:return A;default:return w}}case n:return w}}}function t(A){return a(A)===y}var o=typeof Symbol=="function"&&Symbol.for,u=o?Symbol.for("react.element"):60103,n=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,f=o?Symbol.for("react.strict_mode"):60108,d=o?Symbol.for("react.profiler"):60114,m=o?Symbol.for("react.provider"):60109,h=o?Symbol.for("react.context"):60110,_=o?Symbol.for("react.async_mode"):60111,y=o?Symbol.for("react.concurrent_mode"):60111,S=o?Symbol.for("react.forward_ref"):60112,v=o?Symbol.for("react.suspense"):60113,T=o?Symbol.for("react.suspense_list"):60120,E=o?Symbol.for("react.memo"):60115,I=o?Symbol.for("react.lazy"):60116,g=o?Symbol.for("react.block"):60121,k=o?Symbol.for("react.fundamental"):60117,j=o?Symbol.for("react.responder"):60118,x=o?Symbol.for("react.scope"):60119;i.AsyncMode=_,i.ConcurrentMode=y,i.ContextConsumer=h,i.ContextProvider=m,i.Element=u,i.ForwardRef=S,i.Fragment=s,i.Lazy=I,i.Memo=E,i.Portal=n,i.Profiler=d,i.StrictMode=f,i.Suspense=v,i.isAsyncMode=function(A){return t(A)||a(A)===_},i.isConcurrentMode=t,i.isContextConsumer=function(A){return a(A)===h},i.isContextProvider=function(A){return a(A)===m},i.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===u},i.isForwardRef=function(A){return a(A)===S},i.isFragment=function(A){return a(A)===s},i.isLazy=function(A){return a(A)===I},i.isMemo=function(A){return a(A)===E},i.isPortal=function(A){return a(A)===n},i.isProfiler=function(A){return a(A)===d},i.isStrictMode=function(A){return a(A)===f},i.isSuspense=function(A){return a(A)===v},i.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===s||A===y||A===d||A===f||A===v||A===T||typeof A=="object"&&A!==null&&(A.$$typeof===I||A.$$typeof===E||A.$$typeof===m||A.$$typeof===h||A.$$typeof===S||A.$$typeof===k||A.$$typeof===j||A.$$typeof===x||A.$$typeof===g)},i.typeOf=a},{}],576:[function(e,l,i){(function(a){(function(){"use strict";a.env.NODE_ENV==="production"?l.exports=e("./cjs/react-is.production.min.js"):l.exports=e("./cjs/react-is.development.js")}).call(this)}).call(this,e("_process"))},{"./cjs/react-is.development.js":574,"./cjs/react-is.production.min.js":575,_process:568}],577:[function(e,l,i){"use strict";function a(o,u){return Object.prototype.hasOwnProperty.call(o,u)}l.exports=function(o,u,n,s){u=u||"&",n=n||"=";var f={};if(typeof o!="string"||o.length===0)return f;var d=/\+/g;o=o.split(u);var m=1e3;s&&typeof s.maxKeys=="number"&&(m=s.maxKeys);var h=o.length;m>0&&h>m&&(h=m);for(var _=0;_<h;++_){var y,S,v,T,E=o[_].replace(d,"%20"),I=E.indexOf(n);I>=0?(y=E.substr(0,I),S=E.substr(I+1)):(y=E,S=""),v=decodeURIComponent(y),T=decodeURIComponent(S),a(f,v)?t(f[v])?f[v].push(T):f[v]=[f[v],T]:f[v]=T}return f};var t=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"}},{}],578:[function(e,l,i){"use strict";function a(n,s){if(n.map)return n.map(s);for(var f=[],d=0;d<n.length;d++)f.push(s(n[d],d));return f}var t=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};l.exports=function(n,s,f,d){return s=s||"&",f=f||"=",n===null&&(n=void 0),typeof n=="object"?a(u(n),function(m){var h=encodeURIComponent(t(m))+f;return o(n[m])?a(n[m],function(_){return h+encodeURIComponent(t(_))}).join(s):h+encodeURIComponent(t(n[m]))}).join(s):d?encodeURIComponent(t(d))+f+encodeURIComponent(t(n)):""};var o=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},u=Object.keys||function(n){var s=[];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&s.push(f);return s}},{}],579:[function(e,l,i){"use strict";i.decode=i.parse=e("./decode"),i.encode=i.stringify=e("./encode")},{"./decode":577,"./encode":578}],580:[function(e,l,i){(function(a){(function(){for(var t=e("performance-now"),o=typeof window=="undefined"?a:window,u=["moz","webkit"],n="AnimationFrame",s=o["request"+n],f=o["cancel"+n]||o["cancelRequest"+n],d=0;!s&&d<u.length;d++)s=o[u[d]+"Request"+n],f=o[u[d]+"Cancel"+n]||o[u[d]+"CancelRequest"+n];if(!s||!f){var m=0,h=0,_=[];s=function(y){if(_.length===0){var S=t(),v=Math.max(0,1e3/60-(S-m));m=v+S,setTimeout(function(){var T=_.slice(0);_.length=0;for(var E=0;E<T.length;E++)if(!T[E].cancelled)try{T[E].callback(m)}catch(I){setTimeout(function(){throw I},0)}},Math.round(v))}return _.push({handle:++h,callback:y,cancelled:!1}),h},f=function(y){for(var S=0;S<_.length;S++)_[S].handle===y&&(_[S].cancelled=!0)}}l.exports=function(y){return s.call(o,y)},l.exports.cancel=function(){f.apply(o,arguments)},l.exports.polyfill=function(y){y||(y=o),y.requestAnimationFrame=s,y.cancelAnimationFrame=f}}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"performance-now":581}],581:[function(e,l,i){(function(a){(function(){(function(){var t,o,u,n,s,f;typeof performance!="undefined"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:a!=null&&a.hrtime?(l.exports=function(){return(t()-s)/1e6},o=a.hrtime,t=function(){var d;return d=o(),1e9*d[0]+d[1]},n=t(),f=1e9*a.uptime(),s=n-f):Date.now?(l.exports=function(){return Date.now()-u},u=Date.now()):(l.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)}).call(this)}).call(this,e("_process"))},{_process:568}],582:[function(e,l,i){"use strict"},{"object-assign":535,react:606,scheduler:613,"scheduler/tracing":614}],583:[function(e,l,i){"use strict";function a(c){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+c,M=1;M<arguments.length;M++)b+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+c+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(c,b){o(c,b),o(c+"Capture",b)}function o(c,b){for(uo[c]=b,c=0;c<b.length;c++)Yr.add(b[c])}function u(c){return!!el.call(Kl,c)||!el.call($l,c)&&(fo.test(c)?Kl[c]=!0:($l[c]=!0,!1))}function n(c,b,M,ee){if(M!==null&&M.type===0)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return!ee&&(M!==null?!M.acceptsBooleans:(c=c.toLowerCase().slice(0,5))!=="data-"&&c!=="aria-");default:return!1}}function s(c,b,M,ee){if(b==null||n(c,b,M,ee))return!0;if(ee)return!1;if(M!==null)switch(M.type){case 3:return!b;case 4:return b===!1;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function f(c,b,M,ee,ue,ge,Te){this.acceptsBooleans=b===2||b===3||b===4,this.attributeName=ee,this.attributeNamespace=ue,this.mustUseProperty=M,this.propertyName=c,this.type=b,this.sanitizeURL=ge,this.removeEmptyString=Te}function d(c){return c[1].toUpperCase()}function m(c,b,M,ee){var ue=wr.hasOwnProperty(b)?wr[b]:null;(ue!==null?ue.type===0:!ee&&2<b.length&&(b[0]==="o"||b[0]==="O")&&(b[1]==="n"||b[1]==="N"))||(s(b,M,ue,ee)&&(M=null),ee||ue===null?u(b)&&(M===null?c.removeAttribute(b):c.setAttribute(b,""+M)):ue.mustUseProperty?c[ue.propertyName]=M===null?ue.type!==3&&"":M:(b=ue.attributeName,ee=ue.attributeNamespace,M===null?c.removeAttribute(b):(ue=ue.type,M=ue===3||ue===4&&M===!0?"":""+M,ee?c.setAttributeNS(ee,b,M):c.setAttribute(b,M))))}function h(c){return c===null||typeof c!="object"?null:(c=Kn&&c[Kn]||c["@@iterator"],typeof c=="function"?c:null)}function _(c){if(Gn===void 0)try{throw Error()}catch(M){var b=M.stack.trim().match(/\n( *(at )?)/);Gn=b&&b[1]||""}return`
`+Gn+c}function y(c,b){if(!c||Br)return"";Br=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(Ye){var ee=Ye}Reflect.construct(c,[],b)}else{try{b.call()}catch(Ye){ee=Ye}c.call(b.prototype)}else{try{throw Error()}catch(Ye){ee=Ye}c()}}catch(Ye){if(Ye&&ee&&typeof Ye.stack=="string"){for(var ue=Ye.stack.split(`
`),ge=ee.stack.split(`
`),Te=ue.length-1,Le=ge.length-1;1<=Te&&0<=Le&&ue[Te]!==ge[Le];)Le--;for(;1<=Te&&0<=Le;Te--,Le--)if(ue[Te]!==ge[Le]){if(Te!==1||Le!==1)do if(Te--,0>--Le||ue[Te]!==ge[Le])return`
`+ue[Te].replace(" at new "," at ");while(1<=Te&&0<=Le);break}}}finally{Br=!1,Error.prepareStackTrace=M}return(c=c?c.displayName||c.name:"")?_(c):""}function S(c){switch(c.tag){case 5:return _(c.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return c=y(c.type,!1);case 11:return c=y(c.type.render,!1);case 22:return c=y(c.type._render,!1);case 1:return c=y(c.type,!0);default:return""}}function v(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Re:return"Fragment";case Ie:return"Portal";case Ge:return"Profiler";case Fe:return"StrictMode";case yt:return"Suspense";case Lt:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case tt:return(c.displayName||"Context")+".Consumer";case ot:return(c._context.displayName||"Context")+".Provider";case ut:var b=c.render;return b=b.displayName||b.name||"",c.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case Jt:return v(c.type);case Ft:return v(c._render);case Xt:b=c._payload,c=c._init;try{return v(c(b))}catch(M){}}return null}function T(c){switch(typeof c){case"boolean":case"number":case"object":case"string":case"undefined":return c;default:return""}}function E(c){var b=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function I(c){var b=E(c)?"checked":"value",M=Object.getOwnPropertyDescriptor(c.constructor.prototype,b),ee=""+c[b];if(!c.hasOwnProperty(b)&&M!==void 0&&typeof M.get=="function"&&typeof M.set=="function"){var ue=M.get,ge=M.set;return Object.defineProperty(c,b,{configurable:!0,get:function(){return ue.call(this)},set:function(Te){ee=""+Te,ge.call(this,Te)}}),Object.defineProperty(c,b,{enumerable:M.enumerable}),{getValue:function(){return ee},setValue:function(Te){ee=""+Te},stopTracking:function(){c._valueTracker=null,delete c[b]}}}}function g(c){c._valueTracker||(c._valueTracker=I(c))}function k(c){if(!c)return!1;var b=c._valueTracker;if(!b)return!0;var M=b.getValue(),ee="";return c&&(ee=E(c)?c.checked?"true":"false":c.value),(c=ee)!==M&&(b.setValue(c),!0)}function j(c){if((c=c||(typeof document!="undefined"?document:void 0))===void 0)return null;try{return c.activeElement||c.body}catch(b){return c.body}}function x(c,b){var M=b.checked;return Wn({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:M!=null?M:c._wrapperState.initialChecked})}function A(c,b){var M=b.defaultValue==null?"":b.defaultValue,ee=b.checked!=null?b.checked:b.defaultChecked;M=T(b.value!=null?b.value:M),c._wrapperState={initialChecked:ee,initialValue:M,controlled:b.type==="checkbox"||b.type==="radio"?b.checked!=null:b.value!=null}}function w(c,b){(b=b.checked)!=null&&m(c,"checked",b,!1)}function C(c,b){w(c,b);var M=T(b.value),ee=b.type;if(M!=null)ee==="number"?(M===0&&c.value===""||c.value!=M)&&(c.value=""+M):c.value!==""+M&&(c.value=""+M);else if(ee==="submit"||ee==="reset")return void c.removeAttribute("value");b.hasOwnProperty("value")?V(c,b.type,M):b.hasOwnProperty("defaultValue")&&V(c,b.type,T(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(c.defaultChecked=!!b.defaultChecked)}function O(c,b,M){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var ee=b.type;if(!(ee!=="submit"&&ee!=="reset"||b.value!==void 0&&b.value!==null))return;b=""+c._wrapperState.initialValue,M||b===c.value||(c.value=b),c.defaultValue=b}M=c.name,M!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,M!==""&&(c.name=M)}function V(c,b,M){b==="number"&&j(c.ownerDocument)===c||(M==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+M&&(c.defaultValue=""+M))}function R(c){var b="";return Yn.Children.forEach(c,function(M){M!=null&&(b+=M)}),b}function P(c,b){return c=Wn({children:void 0},b),(b=R(b.children))&&(c.children=b),c}function B(c,b,M,ee){if(c=c.options,b){b={};for(var ue=0;ue<M.length;ue++)b["$"+M[ue]]=!0;for(M=0;M<c.length;M++)ue=b.hasOwnProperty("$"+c[M].value),c[M].selected!==ue&&(c[M].selected=ue),ue&&ee&&(c[M].defaultSelected=!0)}else{for(M=""+T(M),b=null,ue=0;ue<c.length;ue++){if(c[ue].value===M)return c[ue].selected=!0,void(ee&&(c[ue].defaultSelected=!0));b!==null||c[ue].disabled||(b=c[ue])}b!==null&&(b.selected=!0)}}function z(c,b){if(b.dangerouslySetInnerHTML!=null)throw Error(a(91));return Wn({},b,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Q(c,b){var M=b.value;if(M==null){if(M=b.children,b=b.defaultValue,M!=null){if(b!=null)throw Error(a(92));if(Array.isArray(M)){if(!(1>=M.length))throw Error(a(93));M=M[0]}b=M}b==null&&(b=""),M=b}c._wrapperState={initialValue:T(M)}}function N(c,b){var M=T(b.value),ee=T(b.defaultValue);M!=null&&(M=""+M,M!==c.value&&(c.value=M),b.defaultValue==null&&c.defaultValue!==M&&(c.defaultValue=M)),ee!=null&&(c.defaultValue=""+ee)}function K(c){var b=c.textContent;b===c._wrapperState.initialValue&&b!==""&&b!==null&&(c.value=b)}function U(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F(c,b){return c==null||c==="http://www.w3.org/1999/xhtml"?U(b):c==="http://www.w3.org/2000/svg"&&b==="foreignObject"?"http://www.w3.org/1999/xhtml":c}function Z(c,b){if(b){var M=c.firstChild;if(M&&M===c.lastChild&&M.nodeType===3)return void(M.nodeValue=b)}c.textContent=b}function $(c,b,M){return b==null||typeof b=="boolean"||b===""?"":M||typeof b!="number"||b===0||Oi.hasOwnProperty(c)&&Oi[c]?(""+b).trim():b+"px"}function ne(c,b){c=c.style;for(var M in b)if(b.hasOwnProperty(M)){var ee=M.indexOf("--")===0,ue=$(M,b[M],ee);M==="float"&&(M="cssFloat"),ee?c.setProperty(M,ue):c[M]=ue}}function H(c,b){if(b){if(jl[c]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw Error(a(137,c));if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw Error(a(60));if(!(typeof b.dangerouslySetInnerHTML=="object"&&"__html"in b.dangerouslySetInnerHTML))throw Error(a(61))}if(b.style!=null&&typeof b.style!="object")throw Error(a(62))}}function X(c,b){if(c.indexOf("-")===-1)return typeof b.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function oe(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}function Y(c){if(c=va(c)){if(typeof ms!="function")throw Error(a(280));var b=c.stateNode;b&&(b=Wi(b),ms(c.stateNode,c.type,b))}}function se(c){Pi?Sr?Sr.push(c):Sr=[c]:Pi=c}function ie(){if(Pi){var c=Pi,b=Sr;if(Sr=Pi=null,Y(c),b)for(c=0;c<b.length;c++)Y(b[c])}}function L(c,b){return c(b)}function G(c,b,M,ee,ue){return c(b,M,ee,ue)}function le(){}function pe(){Pi===null&&Sr===null||(le(),ie())}function we(c,b,M){if(po)return c(b,M);po=!0;try{return hs(c,b,M)}finally{po=!1,pe()}}function ye(c,b){var M=c.stateNode;if(M===null)return null;var ee=Wi(M);if(ee===null)return null;M=ee[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ee=!ee.disabled)||(c=c.type,ee=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!ee;break e;default:c=!1}if(c)return null;if(M&&typeof M!="function")throw Error(a(231,b,typeof M));return M}function W(c,b,M,ee,ue,ge,Te,Le,Ye){var ht=Array.prototype.slice.call(arguments,3);try{b.apply(M,ht)}catch(Bt){this.onError(Bt)}}function te(c,b,M,ee,ue,ge,Te,Le,Ye){ar=!1,Do=null,W.apply(vs,arguments)}function ce(c,b,M,ee,ue,ge,Te,Le,Ye){if(te.apply(this,arguments),ar){if(!ar)throw Error(a(198));var ht=Do;ar=!1,Do=null,qr||(qr=!0,Ho=ht)}}function je(c){var b=c,M=c;if(c.alternate)for(;b.return;)b=b.return;else{c=b;do b=c,1026&b.flags&&(M=b.return),c=b.return;while(c)}return b.tag===3?M:null}function be(c){if(c.tag===13){var b=c.memoizedState;if(b===null&&(c=c.alternate)!==null&&(b=c.memoizedState),b!==null)return b.dehydrated}return null}function Ne(c){if(je(c)!==c)throw Error(a(188))}function He(c){var b=c.alternate;if(!b){if((b=je(c))===null)throw Error(a(188));return b!==c?null:c}for(var M=c,ee=b;;){var ue=M.return;if(ue===null)break;var ge=ue.alternate;if(ge===null){if((ee=ue.return)!==null){M=ee;continue}break}if(ue.child===ge.child){for(ge=ue.child;ge;){if(ge===M)return Ne(ue),c;if(ge===ee)return Ne(ue),b;ge=ge.sibling}throw Error(a(188))}if(M.return!==ee.return)M=ue,ee=ge;else{for(var Te=!1,Le=ue.child;Le;){if(Le===M){Te=!0,M=ue,ee=ge;break}if(Le===ee){Te=!0,ee=ue,M=ge;break}Le=Le.sibling}if(!Te){for(Le=ge.child;Le;){if(Le===M){Te=!0,M=ge,ee=ue;break}if(Le===ee){Te=!0,ee=ge,M=ue;break}Le=Le.sibling}if(!Te)throw Error(a(189))}}if(M.alternate!==ee)throw Error(a(190))}if(M.tag!==3)throw Error(a(188));return M.stateNode.current===M?c:b}function Qe(c){if(!(c=He(c)))return null;for(var b=c;;){if(b.tag===5||b.tag===6)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===c)break;for(;!b.sibling;){if(!b.return||b.return===c)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}function Be(c,b){for(var M=c.alternate;b!==null;){if(b===c||b===M)return!0;b=b.return}return!1}function Je(c,b,M,ee,ue){return{blockedOn:c,domEventName:b,eventSystemFlags:16|M,nativeEvent:ue,targetContainers:[ee]}}function _t(c,b){switch(c){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Wo.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(b.pointerId)}}function pt(c,b,M,ee,ue,ge){return c===null||c.nativeEvent!==ge?(c=Je(b,M,ee,ue,ge),b!==null&&(b=va(b))!==null&&Oa(b),c):(c.eventSystemFlags|=ee,b=c.targetContainers,ue!==null&&b.indexOf(ue)===-1&&b.push(ue),c)}function Et(c,b,M,ee,ue){switch(b){case"focusin":return xo=pt(xo,c,b,M,ee,ue),!0;case"dragenter":return ra=pt(ra,c,b,M,ee,ue),!0;case"mouseover":return Pa=pt(Pa,c,b,M,ee,ue),!0;case"pointerover":var ge=ue.pointerId;return Wo.set(ge,pt(Wo.get(ge)||null,c,b,M,ee,ue)),!0;case"gotpointercapture":return ge=ue.pointerId,pi.set(ge,pt(pi.get(ge)||null,c,b,M,ee,ue)),!0}return!1}function It(c){var b=gi(c.target);if(b!==null){var M=je(b);if(M!==null){if((b=M.tag)===13){if((b=be(M))!==null)return c.blockedOn=b,void rr(c.lanePriority,function(){Fn.unstable_runWithPriority(c.priority,function(){An(M)})})}else if(b===3&&M.stateNode.hydrate)return void(c.blockedOn=M.tag===3?M.stateNode.containerInfo:null)}}c.blockedOn=null}function Qt(c){if(c.blockedOn!==null)return!1;for(var b=c.targetContainers;0<b.length;){var M=sr(c.domEventName,c.eventSystemFlags,b[0],c.nativeEvent);if(M!==null)return b=va(M),b!==null&&Oa(b),c.blockedOn=M,!1;b.shift()}return!0}function jt(c,b,M){Qt(c)&&M.delete(b)}function Pt(){for(_s=!1;0<Ur.length;){var c=Ur[0];if(c.blockedOn!==null){c=va(c.blockedOn),c!==null&&Ra(c);break}for(var b=c.targetContainers;0<b.length;){var M=sr(c.domEventName,c.eventSystemFlags,b[0],c.nativeEvent);if(M!==null){c.blockedOn=M;break}b.shift()}c.blockedOn===null&&Ur.shift()}xo!==null&&Qt(xo)&&(xo=null),ra!==null&&Qt(ra)&&(ra=null),Pa!==null&&Qt(Pa)&&(Pa=null),Wo.forEach(jt),pi.forEach(jt)}function At(c,b){c.blockedOn===b&&(c.blockedOn=null,_s||(_s=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,Pt)))}function Ce(c){function b(ue){return At(ue,c)}if(0<Ur.length){At(Ur[0],c);for(var M=1;M<Ur.length;M++){var ee=Ur[M];ee.blockedOn===c&&(ee.blockedOn=null)}}for(xo!==null&&At(xo,c),ra!==null&&At(ra,c),Pa!==null&&At(Pa,c),Wo.forEach(b),pi.forEach(b),M=0;M<gs.length;M++)ee=gs[M],ee.blockedOn===c&&(ee.blockedOn=null);for(;0<gs.length&&(M=gs[0],M.blockedOn===null);)It(M),M.blockedOn===null&&gs.shift()}function Oe(c,b){var M={};return M[c.toLowerCase()]=b.toLowerCase(),M["Webkit"+c]="webkit"+b,M["Moz"+c]="moz"+b,M}function at(c){if(Mu[c])return Mu[c];if(!La[c])return c;var b,M=La[c];for(b in M)if(M.hasOwnProperty(b)&&b in ic)return Mu[c]=M[b];return c}function bt(c,b){for(var M=0;M<c.length;M+=2){var ee=c[M],ue=c[M+1];ue="on"+(ue[0].toUpperCase()+ue.slice(1)),Zl.set(ee,b),lc.set(ee,ue),t(ue,[ee])}}function Gt(c){if(1&c)return Jn=15,1;if(2&c)return Jn=14,2;if(4&c)return Jn=13,4;var b=24&c;return b!==0?(Jn=12,b):32&c?(Jn=11,32):(b=192&c)!==0?(Jn=10,b):256&c?(Jn=9,256):(b=3584&c)!==0?(Jn=8,b):4096&c?(Jn=7,4096):(b=4186112&c)!==0?(Jn=6,b):(b=62914560&c)!==0?(Jn=5,b):67108864&c?(Jn=4,67108864):134217728&c?(Jn=3,134217728):(b=805306368&c)!==0?(Jn=2,b):1073741824&c?(Jn=1,1073741824):(Jn=8,c)}function Vt(c){switch(c){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function dn(c){switch(c){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,c))}}function Cn(c,b){var M=c.pendingLanes;if(M===0)return Jn=0;var ee=0,ue=0,ge=c.expiredLanes,Te=c.suspendedLanes,Le=c.pingedLanes;if(ge!==0)ee=ge,ue=Jn=15;else if((ge=134217727&M)!==0){var Ye=ge&~Te;Ye!==0?(ee=Gt(Ye),ue=Jn):(Le&=ge)!==0&&(ee=Gt(Le),ue=Jn)}else ge=M&~Te,ge!==0?(ee=Gt(ge),ue=Jn):Le!==0&&(ee=Gt(Le),ue=Jn);if(ee===0)return 0;if(ee=31-Na(ee),ee=M&((0>ee?0:1<<ee)<<1)-1,b!==0&&b!==ee&&(b&Te)==0){if(Gt(b),ue<=Jn)return b;Jn=ue}if((b=c.entangledLanes)!==0)for(c=c.entanglements,b&=ee;0<b;)M=31-Na(b),ue=1<<M,ee|=c[M],b&=~ue;return ee}function Tt(c){return c=-1073741825&c.pendingLanes,c!==0?c:1073741824&c?1073741824:0}function In(c,b){switch(c){case 15:return 1;case 14:return 2;case 12:return c=$e(24&~b),c===0?In(10,b):c;case 10:return c=$e(192&~b),c===0?In(8,b):c;case 8:return c=$e(3584&~b),c===0&&(c=$e(4186112&~b))===0&&(c=512),c;case 2:return b=$e(805306368&~b),b===0&&(b=268435456),b}throw Error(a(358,c))}function $e(c){return c&-c}function St(c){for(var b=[],M=0;31>M;M++)b.push(c);return b}function Yt(c,b,M){c.pendingLanes|=b;var ee=b-1;c.suspendedLanes&=ee,c.pingedLanes&=ee,c=c.eventTimes,b=31-Na(b),c[b]=M}function Ht(c){return c===0?32:31-(eu(c)/oa|0)|0}function Wt(c,b,M,ee){na||le();var ue=Sn,ge=na;na=!0;try{G(ue,c,b,M,ee)}finally{(na=ge)||pe()}}function Pn(c,b,M,ee){nu(tu,Sn.bind(null,c,b,M,ee))}function Sn(c,b,M,ee){if(ia){var ue;if((ue=(4&b)==0)&&0<Ur.length&&-1<oc.indexOf(c))c=Je(null,c,b,M,ee),Ur.push(c);else{var ge=sr(c,b,M,ee);if(ge===null)ue&&_t(c,ee);else{if(ue){if(-1<oc.indexOf(c))return c=Je(ge,c,b,M,ee),void Ur.push(c);if(Et(ge,c,b,M,ee))return;_t(c,ee)}Fi(c,b,ee,null,M)}}}}function sr(c,b,M,ee){var ue=oe(ee);if((ue=gi(ue))!==null){var ge=je(ue);if(ge===null)ue=null;else{var Te=ge.tag;if(Te===13){if((ue=be(ge))!==null)return ue;ue=null}else if(Te===3){if(ge.stateNode.hydrate)return ge.tag===3?ge.stateNode.containerInfo:null;ue=null}else ge!==ue&&(ue=null)}}return Fi(c,b,ee,ue,M),null}function lr(){if(ru)return ru;var c,b,M=ys,ee=M.length,ue="value"in aa?aa.value:aa.textContent,ge=ue.length;for(c=0;c<ee&&M[c]===ue[c];c++);var Te=ee-c;for(b=1;b<=Te&&M[ee-b]===ue[ge-b];b++);return ru=ue.slice(c,1<b?1-b:void 0)}function Un(c){var b=c.keyCode;return"charCode"in c?(c=c.charCode)===0&&b===13&&(c=13):c=b,c===10&&(c=13),32<=c||c===13?c:0}function xt(){return!0}function Rt(){return!1}function Ae(c){function b(M,ee,ue,ge,Te){this._reactName=M,this._targetInst=ue,this.type=ee,this.nativeEvent=ge,this.target=Te,this.currentTarget=null;for(var Le in c)c.hasOwnProperty(Le)&&(M=c[Le],this[Le]=M?M(ge):ge[Le]);return this.isDefaultPrevented=(ge.defaultPrevented!=null?ge.defaultPrevented:ge.returnValue===!1)?xt:Rt,this.isPropagationStopped=Rt,this}return Wn(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var M=this.nativeEvent;M&&(M.preventDefault?M.preventDefault():typeof M.returnValue!="unknown"&&(M.returnValue=!1),this.isDefaultPrevented=xt)},stopPropagation:function(){var M=this.nativeEvent;M&&(M.stopPropagation?M.stopPropagation():typeof M.cancelBubble!="unknown"&&(M.cancelBubble=!0),this.isPropagationStopped=xt)},persist:function(){},isPersistent:xt}),b}function De(c){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(c):!!(c=pc[c])&&!!b[c]}function et(){return De}function ae(c,b){switch(c){case"keyup":return Oc.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}function _e(c,b){switch(c){case"compositionend":return de(b);case"keypress":return b.which!==32?null:(cu=!0,uu);case"textInput":return c=b.data,c===uu&&cu?null:c;default:return null}}function he(c,b){if(nl)return c==="compositionend"||!Nu&&ae(c,b)?(c=lr(),ru=ys=aa=null,nl=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return hc&&b.locale!=="ko"?null:b.data;default:return null}}function Ee(c){var b=c&&c.nodeName&&c.nodeName.toLowerCase();return b==="input"?!!bc[c.type]:b==="textarea"}function ke(c,b,M,ee){se(ee),b=or(b,"onChange"),0<b.length&&(M=new hr("onChange","change",null,M,ee),c.push({event:M,listeners:b}))}function Ve(c){Wr(c,0)}function ze(c){if(k(Xo(c)))return c}function qe(c,b){if(c==="change")return b}function Me(){Cl&&(Cl.detachEvent("onpropertychange",We),Il=Cl=null)}function We(c){if(c.propertyName==="value"&&ze(Il)){var b=[];if(ke(b,Il,c,oe(c)),c=Ve,na)c(b);else{na=!0;try{L(c,b)}finally{na=!1,pe()}}}}function rt(c,b,M){c==="focusin"?(Me(),Cl=b,Il=M,Cl.attachEvent("onpropertychange",We)):c==="focusout"&&Me()}function gt(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return ze(Il)}function $t(c,b){if(c==="click")return ze(b)}function Zt(c,b){if(c==="input"||c==="change")return ze(b)}function mn(c,b){return c===b&&(c!==0||1/c==1/b)||c!==c&&b!==b}function hn(c,b){if(Go(c,b))return!0;if(typeof c!="object"||c===null||typeof b!="object"||b===null)return!1;var M=Object.keys(c),ee=Object.keys(b);if(M.length!==ee.length)return!1;for(ee=0;ee<M.length;ee++)if(!Pc.call(b,M[ee])||!Go(c[M[ee]],b[M[ee]]))return!1;return!0}function mr(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Mn(c,b){var M=mr(c);c=0;for(var ee;M;){if(M.nodeType===3){if(ee=c+M.textContent.length,c<=b&&ee>=b)return{node:M,offset:b-c};c=ee}e:{for(;M;){if(M.nextSibling){M=M.nextSibling;break e}M=M.parentNode}M=void 0}M=mr(M)}}function gn(c,b){return!(!c||!b)&&(c===b||(!c||c.nodeType!==3)&&(b&&b.nodeType===3?gn(c,b.parentNode):"contains"in c?c.contains(b):!!c.compareDocumentPosition&&!!(16&c.compareDocumentPosition(b))))}function cn(){for(var c=window,b=j();b instanceof c.HTMLIFrameElement;){try{var M=typeof b.contentWindow.location.href=="string"}catch(ee){M=!1}if(!M)break;c=b.contentWindow,b=j(c.document)}return b}function qn(c){var b=c&&c.nodeName&&c.nodeName.toLowerCase();return b&&(b==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||b==="textarea"||c.contentEditable==="true")}function Tn(c,b,M){var ee=M.window===M?M.document:M.nodeType===9?M:M.ownerDocument;Bu||rl==null||rl!==j(ee)||(ee=rl,"selectionStart"in ee&&qn(ee)?ee={start:ee.selectionStart,end:ee.selectionEnd}:(ee=(ee.ownerDocument&&ee.ownerDocument.defaultView||window).getSelection(),ee={anchorNode:ee.anchorNode,anchorOffset:ee.anchorOffset,focusNode:ee.focusNode,focusOffset:ee.focusOffset}),fu&&hn(fu,ee)||(fu=ee,ee=or(gc,"onSelect"),0<ee.length&&(b=new hr("onSelect","select",null,b,M),c.push({event:b,listeners:ee}),b.target=rl)))}function Zo(c,b,M){var ee=c.type||"unknown-event";c.currentTarget=M,ce(ee,b,void 0,c),c.currentTarget=null}function Wr(c,b){b=(4&b)!=0;for(var M=0;M<c.length;M++){var ee=c[M],ue=ee.event;ee=ee.listeners;e:{var ge=void 0;if(b)for(var Te=ee.length-1;0<=Te;Te--){var Le=ee[Te],Ye=Le.instance,ht=Le.currentTarget;if(Le=Le.listener,Ye!==ge&&ue.isPropagationStopped())break e;Zo(ue,Le,ht),ge=Ye}else for(Te=0;Te<ee.length;Te++){if(Le=ee[Te],Ye=Le.instance,ht=Le.currentTarget,Le=Le.listener,Ye!==ge&&ue.isPropagationStopped())break e;Zo(ue,Le,ht),ge=Ye}}}if(qr)throw c=Ho,qr=!1,Ho=null,c}function Rn(c,b){var M=Oo(b),ee=c+"__bubble";M.has(ee)||(_i(b,c,2,!1),M.add(ee))}function no(c){c[Fu]||(c[Fu]=!0,Yr.forEach(function(b){Uu.has(b)||yr(b,!1,c,null),yr(b,!0,c,null)}))}function yr(c,b,M,ee){var ue=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,ge=M;if(c==="selectionchange"&&M.nodeType!==9&&(ge=M.ownerDocument),ee!==null&&!b&&Uu.has(c)){if(c!=="scroll")return;ue|=2,ge=ee}var Te=Oo(ge),Le=c+"__"+(b?"capture":"bubble");Te.has(Le)||(b&&(ue|=4),_i(ge,c,ue,b),Te.add(Le))}function _i(c,b,M,ee){var ue=Zl.get(b);switch(ue===void 0?2:ue){case 0:ue=Wt;break;case 1:ue=Pn;break;default:ue=Sn}M=ue.bind(null,b,M,c),ue=void 0,!bs||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(ue=!0),ee?ue!==void 0?c.addEventListener(b,M,{capture:!0,passive:ue}):c.addEventListener(b,M,!0):ue!==void 0?c.addEventListener(b,M,{passive:ue}):c.addEventListener(b,M,!1)}function Fi(c,b,M,ee,ue){var ge=ee;if(!(1&b)&&!(2&b)&&ee!==null)e:for(;;){if(ee===null)return;var Te=ee.tag;if(Te===3||Te===4){var Le=ee.stateNode.containerInfo;if(Le===ue||Le.nodeType===8&&Le.parentNode===ue)break;if(Te===4)for(Te=ee.return;Te!==null;){var Ye=Te.tag;if((Ye===3||Ye===4)&&((Ye=Te.stateNode.containerInfo)===ue||Ye.nodeType===8&&Ye.parentNode===ue))return;Te=Te.return}for(;Le!==null;){if((Te=gi(Le))===null)return;if((Ye=Te.tag)===5||Ye===6){ee=ge=Te;continue e}Le=Le.parentNode}}ee=ee.return}we(function(){var ht=ge,Bt=oe(M),kn=[];e:{var Dt=lc.get(c);if(Dt!==void 0){var un=hr,xn=c;switch(c){case"keypress":if(Un(M)===0)break e;case"keydown":case"keyup":un=mi;break;case"focusin":xn="focus",un=kr;break;case"focusout":xn="blur",un=kr;break;case"beforeblur":case"afterblur":un=kr;break;case"click":if(M.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":un=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":un=tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":un=Tc;break;case Ru:case Jl:case ac:un=Pu;break;case sc:un=Dc;break;case"scroll":un=uc;break;case"wheel":un=Rc;break;case"copy":case"cut":case"paste":un=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":un=Lu}var bn=(4&b)!=0,st=!bn&&c==="scroll",Ze=bn?Dt!==null?Dt+"Capture":null:Dt;bn=[];for(var nt,kt=ht;kt!==null;){nt=kt;var Ct=nt.stateNode;if(nt.tag===5&&Ct!==null&&(nt=Ct,Ze!==null&&(Ct=ye(kt,Ze))!=null&&bn.push(Tr(kt,Ct,nt))),st)break;kt=kt.return}0<bn.length&&(Dt=new un(Dt,xn,null,M,Bt),kn.push({event:Dt,listeners:bn}))}}if(!(7&b)){if(Dt=c==="mouseover"||c==="pointerover",un=c==="mouseout"||c==="pointerout",(!Dt||(16&b)!=0||!(xn=M.relatedTarget||M.fromElement)||!gi(xn)&&!xn[Cr])&&(un||Dt)&&(Dt=Bt.window===Bt?Bt:(Dt=Bt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,un?(xn=M.relatedTarget||M.toElement,un=ht,(xn=xn?gi(xn):null)!==null&&(st=je(xn),xn!==st||xn.tag!==5&&xn.tag!==6)&&(xn=null)):(un=null,xn=ht),un!==xn)){if(bn=ou,Ct="onMouseLeave",Ze="onMouseEnter",kt="mouse",c!=="pointerout"&&c!=="pointerover"||(bn=Lu,Ct="onPointerLeave",Ze="onPointerEnter",kt="pointer"),st=un==null?Dt:Xo(un),nt=xn==null?Dt:Xo(xn),Dt=new bn(Ct,kt+"leave",un,M,Bt),Dt.target=st,Dt.relatedTarget=nt,Ct=null,gi(Bt)===ht&&(bn=new bn(Ze,kt+"enter",xn,M,Bt),bn.target=nt,bn.relatedTarget=st,Ct=bn),st=Ct,un&&xn)e:{for(bn=un,Ze=xn,kt=0,nt=bn;nt;nt=On(nt))kt++;for(nt=0,Ct=Ze;Ct;Ct=On(Ct))nt++;for(;0<kt-nt;)bn=On(bn),kt--;for(;0<nt-kt;)Ze=On(Ze),nt--;for(;kt--;){if(bn===Ze||Ze!==null&&bn===Ze.alternate)break e;bn=On(bn),Ze=On(Ze)}bn=null}else bn=null;un!==null&&zi(kn,Dt,un,bn,!1),xn!==null&&st!==null&&zi(kn,st,xn,bn,!0)}if(Dt=ht?Xo(ht):window,(un=Dt.nodeName&&Dt.nodeName.toLowerCase())==="select"||un==="input"&&Dt.type==="file")var pn=qe;else if(Ee(Dt))if(vc)pn=Zt;else{pn=gt;var nn=rt}else(un=Dt.nodeName)&&un.toLowerCase()==="input"&&(Dt.type==="checkbox"||Dt.type==="radio")&&(pn=$t);switch(pn&&(pn=pn(c,ht))?ke(kn,pn,M,Bt):(nn&&nn(c,Dt,ht),c==="focusout"&&(nn=Dt._wrapperState)&&nn.controlled&&Dt.type==="number"&&V(Dt,"number",Dt.value)),nn=ht?Xo(ht):window,c){case"focusin":(Ee(nn)||nn.contentEditable==="true")&&(rl=nn,gc=ht,fu=null);break;case"focusout":fu=gc=rl=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,Tn(kn,M,Bt);break;case"selectionchange":if(Xc)break;case"keydown":case"keyup":Tn(kn,M,Bt)}var wn;if(Nu)e:{switch(c){case"compositionstart":var Nn="onCompositionStart";break e;case"compositionend":Nn="onCompositionEnd";break e;case"compositionupdate":Nn="onCompositionUpdate";break e}Nn=void 0}else nl?ae(c,M)&&(Nn="onCompositionEnd"):c==="keydown"&&M.keyCode===229&&(Nn="onCompositionStart");Nn&&(hc&&M.locale!=="ko"&&(nl||Nn!=="onCompositionStart"?Nn==="onCompositionEnd"&&nl&&(wn=lr()):(aa=Bt,ys="value"in aa?aa.value:aa.textContent,nl=!0)),nn=or(ht,Nn),0<nn.length&&(Nn=new Qr(Nn,c,null,M,Bt),kn.push({event:Nn,listeners:nn}),(wn||(wn=de(M))!==null)&&(Nn.data=wn))),(wn=lu?_e(c,M):he(c,M))&&(ht=or(ht,"onBeforeInput"),0<ht.length&&(Bt=new Qr("onBeforeInput","beforeinput",null,M,Bt),kn.push({event:Bt,listeners:ht}),Bt.data=wn))}Wr(kn,b)})}function Tr(c,b,M){return{instance:c,listener:b,currentTarget:M}}function or(c,b){for(var M=b+"Capture",ee=[];c!==null;){var ue=c,ge=ue.stateNode;ue.tag===5&&ge!==null&&(ue=ge,ge=ye(c,M),ge!=null&&ee.unshift(Tr(c,ge,ue)),(ge=ye(c,b))!=null&&ee.push(Tr(c,ge,ue))),c=c.return}return ee}function On(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function zi(c,b,M,ee,ue){for(var ge=b._reactName,Te=[];M!==null&&M!==ee;){var Le=M,Ye=Le.alternate,ht=Le.stateNode;if(Ye!==null&&Ye===ee)break;Le.tag===5&&ht!==null&&(Le=ht,ue?(Ye=ye(M,ge))!=null&&Te.unshift(Tr(M,Ye,Le)):ue||(Ye=ye(M,ge))!=null&&Te.push(Tr(M,Ye,Le))),M=M.return}Te.length!==0&&c.push({event:b,listeners:Te})}function Ts(){}function Hi(c,b){switch(c){case"button":case"input":case"select":case"textarea":return!!b.autoFocus}return!1}function Ln(c,b){return c==="textarea"||c==="option"||c==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}function ba(c){(c.nodeType===1||c.nodeType===9&&(c=c.body)!=null)&&(c.textContent="")}function Ro(c){for(;c!=null;c=c.nextSibling){var b=c.nodeType;if(b===1||b===3)break}return c}function Fa(c){c=c.previousSibling;for(var b=0;c;){if(c.nodeType===8){var M=c.data;if(M==="$"||M==="$!"||M==="$?"){if(b===0)return c;b--}else M==="/$"&&b++}c=c.previousSibling}return null}function ql(c){return{$$typeof:yn,toString:c,valueOf:c}}function gi(c){var b=c[ks];if(b)return b;for(var M=c.parentNode;M;){if(b=M[Cr]||M[ks]){if(M=b.alternate,b.child!==null||M!==null&&M.child!==null)for(c=Fa(c);c!==null;){if(M=c[ks])return M;c=Fa(c)}return b}c=M,M=c.parentNode}return null}function va(c){return c=c[ks]||c[Cr],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Xo(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(a(33))}function Wi(c){return c[Jr]||null}function Oo(c){var b=c[xc];return b===void 0&&(b=c[xc]=new Set),b}function Lr(c){return{current:c}}function Vn(c){0>ol||(c.current=Wu[ol],Wu[ol]=null,ol--)}function nr(c,b){ol++,Wu[ol]=c.current,c.current=b}function Eo(c,b){var M=c.type.contextTypes;if(!M)return Va;var ee=c.stateNode;if(ee&&ee.__reactInternalMemoizedUnmaskedChildContext===b)return ee.__reactInternalMemoizedMaskedChildContext;var ue,ge={};for(ue in M)ge[ue]=b[ue];return ee&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=b,c.__reactInternalMemoizedMaskedChildContext=ge),ge}function ur(c){return(c=c.childContextTypes)!==null&&c!==void 0}function As(){Vn(mo),Vn(Zr)}function Ds(c,b,M){if(Zr.current!==Va)throw Error(a(168));nr(Zr,b),nr(mo,M)}function yi(c,b,M){var ee=c.stateNode;if(c=b.childContextTypes,typeof ee.getChildContext!="function")return M;ee=ee.getChildContext();for(var ue in ee)if(!(ue in c))throw Error(a(108,v(b)||"Unknown",ue));return Wn({},M,ee)}function wi(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Va,xs=Zr.current,nr(Zr,c),nr(mo,mo.current),!0}function Ms(c,b,M){var ee=c.stateNode;if(!ee)throw Error(a(169));M?(c=yi(c,b,xs),ee.__reactInternalMemoizedMergedChildContext=c,Vn(mo),Vn(Zr),nr(Zr,c)):Vn(mo),nr(mo,M)}function Po(){switch(ed()){case _u:return 99;case $u:return 98;case Ec:return 97;case gu:return 96;case ua:return 95;default:throw Error(a(332))}}function za(c){switch(c){case 99:return _u;case 98:return $u;case 97:return Ec;case 96:return gu;case 95:return ua;default:throw Error(a(332))}}function ji(c,b){return c=za(c),Bc(c,b)}function Lo(c,b,M){return c=za(c),bu(c,b,M)}function Ar(){if(yu!==null){var c=yu;yu=null,vu(c)}yo()}function yo(){if(!Ku&&Li!==null){Ku=!0;var c=0;try{var b=Li;ji(99,function(){for(;c<b.length;c++){var M=b[c];do M=M(!0);while(M!==null)}}),Li=null}catch(M){throw Li!==null&&(Li=Li.slice(c+1)),bu(_u,Ar),M}finally{Ku=!1}}}function Nr(c,b){if(c&&c.defaultProps){b=Wn({},b),c=c.defaultProps;for(var M in c)b[M]===void 0&&(b[M]=c[M]);return b}return b}function Gi(){Qu=xr=il=null}function Rs(c){var b=Yu.current;Vn(Yu),c.type._context._currentValue=b}function Ha(c,b){for(;c!==null;){var M=c.alternate;if((c.childLanes&b)===b){if(M===null||(M.childLanes&b)===b)break;M.childLanes|=b}else c.childLanes|=b,M!==null&&(M.childLanes|=b);c=c.return}}function No(c,b){il=c,Qu=xr=null,(c=c.dependencies)!==null&&c.firstContext!==null&&(c.lanes&b&&(Ko=!0),c.firstContext=null)}function Er(c,b){if(Qu!==c&&b!==!1&&b!==0)if(typeof b=="number"&&b!==1073741823||(Qu=c,b=1073741823),b={context:c,observedBits:b,next:null},xr===null){if(il===null)throw Error(a(308));xr=b,il.dependencies={lanes:0,firstContext:b,responders:null}}else xr=xr.next=b;return c._currentValue}function Wa(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Vo(c,b){c=c.updateQueue,b.updateQueue===c&&(b.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function So(c,b){return{eventTime:c,lane:b,tag:0,payload:null,callback:null,next:null}}function ro(c,b){if((c=c.updateQueue)!==null){c=c.shared;var M=c.pending;M===null?b.next=b:(b.next=M.next,M.next=b),c.pending=b}}function Os(c,b){var M=c.updateQueue,ee=c.alternate;if(ee!==null&&(ee=ee.updateQueue,M===ee)){var ue=null,ge=null;if((M=M.firstBaseUpdate)!==null){do{var Te={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};ge===null?ue=ge=Te:ge=ge.next=Te,M=M.next}while(M!==null);ge===null?ue=ge=b:ge=ge.next=b}else ue=ge=b;return M={baseState:ee.baseState,firstBaseUpdate:ue,lastBaseUpdate:ge,shared:ee.shared,effects:ee.effects},void(c.updateQueue=M)}c=M.lastBaseUpdate,c===null?M.firstBaseUpdate=b:c.next=b,M.lastBaseUpdate=b}function ei(c,b,M,ee){var ue=c.updateQueue;Kt=!1;var ge=ue.firstBaseUpdate,Te=ue.lastBaseUpdate,Le=ue.shared.pending;if(Le!==null){ue.shared.pending=null;var Ye=Le,ht=Ye.next;Ye.next=null,Te===null?ge=ht:Te.next=ht,Te=Ye;var Bt=c.alternate;if(Bt!==null){Bt=Bt.updateQueue;var kn=Bt.lastBaseUpdate;kn!==Te&&(kn===null?Bt.firstBaseUpdate=ht:kn.next=ht,Bt.lastBaseUpdate=Ye)}}if(ge!==null){for(kn=ue.baseState,Te=0,Bt=ht=Ye=null;;){Le=ge.lane;var Dt=ge.eventTime;if((ee&Le)===Le){Bt!==null&&(Bt=Bt.next={eventTime:Dt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var un=c,xn=ge;switch(Le=b,Dt=M,xn.tag){case 1:if(typeof(un=xn.payload)=="function"){kn=un.call(Dt,kn,Le);break e}kn=un;break e;case 3:un.flags=-4097&un.flags|64;case 0:if(un=xn.payload,(Le=typeof un=="function"?un.call(Dt,kn,Le):un)===null||Le===void 0)break e;kn=Wn({},kn,Le);break e;case 2:Kt=!0}}ge.callback!==null&&(c.flags|=32,Le=ue.effects,Le===null?ue.effects=[ge]:Le.push(ge))}else Dt={eventTime:Dt,lane:Le,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},Bt===null?(ht=Bt=Dt,Ye=kn):Bt=Bt.next=Dt,Te|=Le;if((ge=ge.next)===null){if((Le=ue.shared.pending)===null)break;ge=Le.next,Le.next=null,ue.lastBaseUpdate=Le,ue.shared.pending=null}}Bt===null&&(Ye=kn),ue.baseState=Ye,ue.firstBaseUpdate=ht,ue.lastBaseUpdate=Bt,Yo|=Te,c.lanes=Te,c.memoizedState=kn}}function $i(c,b,M){if(c=b.effects,b.effects=null,c!==null)for(b=0;b<c.length;b++){var ee=c[b],ue=ee.callback;if(ue!==null){if(ee.callback=null,ee=M,typeof ue!="function")throw Error(a(191,ue));ue.call(ee)}}}function _a(c,b,M,ee){b=c.memoizedState,M=M(ee,b),M=M==null?b:Wn({},b,M),c.memoizedState=M,c.lanes===0&&(c.updateQueue.baseState=M)}function Vr(c,b,M,ee,ue,ge,Te){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(ee,ge,Te):!b.prototype||!b.prototype.isPureReactComponent||!hn(M,ee)||!hn(ue,ge)}function ti(c,b,M){var ee=!1,ue=Va,ge=b.contextType;return typeof ge=="object"&&ge!==null?ge=Er(ge):(ue=ur(b)?xs:Zr.current,ee=b.contextTypes,ge=(ee=ee!=null)?Eo(c,ue):Va),b=new b(M,ge),c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Dl,c.stateNode=b,b._reactInternals=c,ee&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=ue,c.__reactInternalMemoizedMaskedChildContext=ge),b}function ga(c,b,M,ee){c=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(M,ee),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(M,ee),b.state!==c&&Dl.enqueueReplaceState(b,b.state,null)}function ni(c,b,M,ee){var ue=c.stateNode;ue.props=M,ue.state=c.memoizedState,ue.refs=al,Wa(c);var ge=b.contextType;typeof ge=="object"&&ge!==null?ue.context=Er(ge):(ge=ur(b)?xs:Zr.current,ue.context=Eo(c,ge)),ei(c,M,ue,ee),ue.state=c.memoizedState,ge=b.getDerivedStateFromProps,typeof ge=="function"&&(_a(c,b,ge,M),ue.state=c.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof ue.getSnapshotBeforeUpdate=="function"||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(b=ue.state,typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount(),b!==ue.state&&Dl.enqueueReplaceState(ue,ue.state,null),ei(c,M,ue,ee),ue.state=c.memoizedState),typeof ue.componentDidMount=="function"&&(c.flags|=4)}function Ga(c,b,M){if((c=M.ref)!==null&&typeof c!="function"&&typeof c!="object"){if(M._owner){if(M=M._owner){if(M.tag!==1)throw Error(a(309));var ee=M.stateNode}if(!ee)throw Error(a(147,c));var ue=""+c;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===ue?b.ref:(b=function(ge){var Te=ee.refs;Te===al&&(Te=ee.refs={}),ge===null?delete Te[ue]:Te[ue]=ge},b._stringRef=ue,b)}if(typeof c!="string")throw Error(a(284));if(!M._owner)throw Error(a(290,c))}return c}function ki(c,b){if(c.type!=="textarea")throw Error(a(31,Object.prototype.toString.call(b)==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":b))}function xi(c){function b(st,Ze){if(c){var nt=st.lastEffect;nt!==null?(nt.nextEffect=Ze,st.lastEffect=Ze):st.firstEffect=st.lastEffect=Ze,Ze.nextEffect=null,Ze.flags=8}}function M(st,Ze){if(!c)return null;for(;Ze!==null;)b(st,Ze),Ze=Ze.sibling;return null}function ee(st,Ze){for(st=new Map;Ze!==null;)Ze.key!==null?st.set(Ze.key,Ze):st.set(Ze.index,Ze),Ze=Ze.sibling;return st}function ue(st,Ze){return st=ui(st,Ze),st.index=0,st.sibling=null,st}function ge(st,Ze,nt){return st.index=nt,c?(nt=st.alternate)!==null?(nt=nt.index,nt<Ze?(st.flags=2,Ze):nt):(st.flags=2,Ze):Ze}function Te(st){return c&&st.alternate===null&&(st.flags=2),st}function Le(st,Ze,nt,kt){return Ze===null||Ze.tag!==6?(Ze=Kr(nt,st.mode,kt),Ze.return=st,Ze):(Ze=ue(Ze,nt),Ze.return=st,Ze)}function Ye(st,Ze,nt,kt){return Ze!==null&&Ze.elementType===nt.type?(kt=ue(Ze,nt.props),kt.ref=Ga(st,Ze,nt),kt.return=st,kt):(kt=zo(nt.type,nt.key,nt.props,null,st.mode,kt),kt.ref=Ga(st,Ze,nt),kt.return=st,kt)}function ht(st,Ze,nt,kt){return Ze===null||Ze.tag!==4||Ze.stateNode.containerInfo!==nt.containerInfo||Ze.stateNode.implementation!==nt.implementation?(Ze=Aa(nt,st.mode,kt),Ze.return=st,Ze):(Ze=ue(Ze,nt.children||[]),Ze.return=st,Ze)}function Bt(st,Ze,nt,kt,Ct){return Ze===null||Ze.tag!==7?(Ze=Ta(nt,st.mode,kt,Ct),Ze.return=st,Ze):(Ze=ue(Ze,nt),Ze.return=st,Ze)}function kn(st,Ze,nt){if(typeof Ze=="string"||typeof Ze=="number")return Ze=Kr(""+Ze,st.mode,nt),Ze.return=st,Ze;if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case xe:return nt=zo(Ze.type,Ze.key,Ze.props,null,st.mode,nt),nt.ref=Ga(st,null,Ze),nt.return=st,nt;case Ie:return Ze=Aa(Ze,st.mode,nt),Ze.return=st,Ze}if(wu(Ze)||h(Ze))return Ze=Ta(Ze,st.mode,nt,null),Ze.return=st,Ze;ki(st,Ze)}return null}function Dt(st,Ze,nt,kt){var Ct=Ze!==null?Ze.key:null;if(typeof nt=="string"||typeof nt=="number")return Ct!==null?null:Le(st,Ze,""+nt,kt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case xe:return nt.key===Ct?nt.type===Re?Bt(st,Ze,nt.props.children,kt,Ct):Ye(st,Ze,nt,kt):null;case Ie:return nt.key===Ct?ht(st,Ze,nt,kt):null}if(wu(nt)||h(nt))return Ct!==null?null:Bt(st,Ze,nt,kt,null);ki(st,nt)}return null}function un(st,Ze,nt,kt,Ct){if(typeof kt=="string"||typeof kt=="number")return st=st.get(nt)||null,Le(Ze,st,""+kt,Ct);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case xe:return st=st.get(kt.key===null?nt:kt.key)||null,kt.type===Re?Bt(Ze,st,kt.props.children,Ct,kt.key):Ye(Ze,st,kt,Ct);case Ie:return st=st.get(kt.key===null?nt:kt.key)||null,ht(Ze,st,kt,Ct)}if(wu(kt)||h(kt))return st=st.get(nt)||null,Bt(Ze,st,kt,Ct,null);ki(Ze,kt)}return null}function xn(st,Ze,nt,kt){for(var Ct=null,pn=null,nn=Ze,wn=Ze=0,Nn=null;nn!==null&&wn<nt.length;wn++){nn.index>wn?(Nn=nn,nn=null):Nn=nn.sibling;var Dn=Dt(st,nn,nt[wn],kt);if(Dn===null){nn===null&&(nn=Nn);break}c&&nn&&Dn.alternate===null&&b(st,nn),Ze=ge(Dn,Ze,wn),pn===null?Ct=Dn:pn.sibling=Dn,pn=Dn,nn=Nn}if(wn===nt.length)return M(st,nn),Ct;if(nn===null){for(;wn<nt.length;wn++)(nn=kn(st,nt[wn],kt))!==null&&(Ze=ge(nn,Ze,wn),pn===null?Ct=nn:pn.sibling=nn,pn=nn);return Ct}for(nn=ee(st,nn);wn<nt.length;wn++)(Nn=un(nn,st,wn,nt[wn],kt))!==null&&(c&&Nn.alternate!==null&&nn.delete(Nn.key===null?wn:Nn.key),Ze=ge(Nn,Ze,wn),pn===null?Ct=Nn:pn.sibling=Nn,pn=Nn);return c&&nn.forEach(function(ha){return b(st,ha)}),Ct}function bn(st,Ze,nt,kt){var Ct=h(nt);if(typeof Ct!="function")throw Error(a(150));if((nt=Ct.call(nt))==null)throw Error(a(151));for(var pn=Ct=null,nn=Ze,wn=Ze=0,Nn=null,Dn=nt.next();nn!==null&&!Dn.done;wn++,Dn=nt.next()){nn.index>wn?(Nn=nn,nn=null):Nn=nn.sibling;var ha=Dt(st,nn,Dn.value,kt);if(ha===null){nn===null&&(nn=Nn);break}c&&nn&&ha.alternate===null&&b(st,nn),Ze=ge(ha,Ze,wn),pn===null?Ct=ha:pn.sibling=ha,pn=ha,nn=Nn}if(Dn.done)return M(st,nn),Ct;if(nn===null){for(;!Dn.done;wn++,Dn=nt.next())(Dn=kn(st,Dn.value,kt))!==null&&(Ze=ge(Dn,Ze,wn),pn===null?Ct=Dn:pn.sibling=Dn,pn=Dn);return Ct}for(nn=ee(st,nn);!Dn.done;wn++,Dn=nt.next())(Dn=un(nn,st,wn,Dn.value,kt))!==null&&(c&&Dn.alternate!==null&&nn.delete(Dn.key===null?wn:Dn.key),Ze=ge(Dn,Ze,wn),pn===null?Ct=Dn:pn.sibling=Dn,pn=Dn);return c&&nn.forEach(function(rd){return b(st,rd)}),Ct}return function(st,Ze,nt,kt){var Ct=typeof nt=="object"&&nt!==null&&nt.type===Re&&nt.key===null;Ct&&(nt=nt.props.children);var pn=typeof nt=="object"&&nt!==null;if(pn)switch(nt.$$typeof){case xe:e:{for(pn=nt.key,Ct=Ze;Ct!==null;){if(Ct.key===pn){switch(Ct.tag){case 7:if(nt.type===Re){M(st,Ct.sibling),Ze=ue(Ct,nt.props.children),Ze.return=st,st=Ze;break e}break;default:if(Ct.elementType===nt.type){M(st,Ct.sibling),Ze=ue(Ct,nt.props),Ze.ref=Ga(st,Ct,nt),Ze.return=st,st=Ze;break e}}M(st,Ct);break}b(st,Ct),Ct=Ct.sibling}nt.type===Re?(Ze=Ta(nt.props.children,st.mode,kt,nt.key),Ze.return=st,st=Ze):(kt=zo(nt.type,nt.key,nt.props,null,st.mode,kt),kt.ref=Ga(st,Ze,nt),kt.return=st,st=kt)}return Te(st);case Ie:e:{for(Ct=nt.key;Ze!==null;){if(Ze.key===Ct){if(Ze.tag===4&&Ze.stateNode.containerInfo===nt.containerInfo&&Ze.stateNode.implementation===nt.implementation){M(st,Ze.sibling),Ze=ue(Ze,nt.children||[]),Ze.return=st,st=Ze;break e}M(st,Ze);break}b(st,Ze),Ze=Ze.sibling}Ze=Aa(nt,st.mode,kt),Ze.return=st,st=Ze}return Te(st)}if(typeof nt=="string"||typeof nt=="number")return nt=""+nt,Ze!==null&&Ze.tag===6?(M(st,Ze.sibling),Ze=ue(Ze,nt),Ze.return=st,st=Ze):(M(st,Ze),Ze=Kr(nt,st.mode,kt),Ze.return=st,st=Ze),Te(st);if(wu(nt))return xn(st,Ze,nt,kt);if(h(nt))return bn(st,Ze,nt,kt);if(pn&&ki(st,nt),nt===void 0&&!Ct)switch(st.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,v(st.type)||"Component"))}return M(st,Ze)}}function oo(c){if(c===Ss)throw Error(a(174));return c}function Ki(c,b){switch(nr(Ol,b),nr(Rl,c),nr(hi,Ss),c=b.nodeType){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:F(null,"");break;default:c=c===8?b.parentNode:b,b=c.namespaceURI||null,c=c.tagName,b=F(b,c)}Vn(hi),nr(hi,b)}function Co(){Vn(hi),Vn(Rl),Vn(Ol)}function $a(c){oo(Ol.current);var b=oo(hi.current),M=F(b,c.type);b!==M&&(nr(Rl,c),nr(hi,M))}function Ps(c){Rl.current===c&&(Vn(hi),Vn(Rl))}function Ls(c){for(var b=c;b!==null;){if(b.tag===13){var M=b.memoizedState;if(M!==null&&((M=M.dehydrated)===null||M.data==="$?"||M.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if(64&b.flags)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===c)break;for(;b.sibling===null;){if(b.return===null||b.return===c)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}function Io(c,b){var M=ko(5,null,null,0);M.elementType="DELETED",M.type="DELETED",M.stateNode=b,M.return=c,M.flags=8,c.lastEffect!==null?(c.lastEffect.nextEffect=M,c.lastEffect=M):c.firstEffect=c.lastEffect=M}function cl(c,b){switch(c.tag){case 5:var M=c.type;return(b=b.nodeType!==1||M.toLowerCase()!==b.nodeName.toLowerCase()?null:b)!==null&&(c.stateNode=b,!0);case 6:return(b=c.pendingProps===""||b.nodeType!==3?null:b)!==null&&(c.stateNode=b,!0);case 13:default:return!1}}function Ka(c){if(fr){var b=ca;if(b){var M=b;if(!cl(c,b)){if(!(b=Ro(M.nextSibling))||!cl(c,b))return c.flags=-1025&c.flags|2,fr=!1,void(Ni=c);Io(Ni,M)}Ni=c,ca=Ro(b.firstChild)}else c.flags=-1025&c.flags|2,fr=!1,Ni=c}}function dl(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ni=c}function ya(c){if(c!==Ni)return!1;if(!fr)return dl(c),fr=!0,!1;var b=c.type;if(c.tag!==5||b!=="head"&&b!=="body"&&!Ln(b,c.memoizedProps))for(b=ca;b;)Io(c,b),b=Ro(b.nextSibling);if(dl(c),c.tag===13){if(c=c.memoizedState,!(c=c!==null?c.dehydrated:null))throw Error(a(317));e:{for(c=c.nextSibling,b=0;c;){if(c.nodeType===8){var M=c.data;if(M==="/$"){if(b===0){ca=Ro(c.nextSibling);break e}b--}else M!=="$"&&M!=="$!"&&M!=="$?"||b++}c=c.nextSibling}ca=null}}else ca=Ni?Ro(c.stateNode.nextSibling):null;return!0}function Ya(){ca=Ni=null,fr=!1}function Qa(){for(var c=0;c<ho.length;c++)ho[c]._workInProgressVersionPrimary=null;ho.length=0}function vr(){throw Error(a(321))}function Ns(c,b){if(b===null)return!1;for(var M=0;M<b.length&&M<c.length;M++)if(!Go(c[M],b[M]))return!1;return!0}function Vs(c,b,M,ee,ue,ge){if(Pl=ge,Xn=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,bi.current=c===null||c.memoizedState===null?Fc:zc,c=M(ee,ue),Ll){ge=0;do{if(Ll=!1,!(25>ge))throw Error(a(301));ge+=1,pr=Xr=null,b.updateQueue=null,bi.current=nd,c=M(ee,ue)}while(Ll)}if(bi.current=ju,b=Xr!==null&&Xr.next!==null,Pl=0,pr=Xr=Xn=null,Zu=!1,b)throw Error(a(300));return c}function Ei(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?Xn.memoizedState=pr=c:pr=pr.next=c,pr}function wo(){if(Xr===null){var c=Xn.alternate;c=c!==null?c.memoizedState:null}else c=Xr.next;var b=pr===null?Xn.memoizedState:pr.next;if(b!==null)pr=b,Xr=c;else{if(c===null)throw Error(a(310));Xr=c,c={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},pr===null?Xn.memoizedState=pr=c:pr=pr.next=c}return pr}function To(c,b){return typeof b=="function"?b(c):b}function wa(c){var b=wo(),M=b.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=c;var ee=Xr,ue=ee.baseQueue,ge=M.pending;if(ge!==null){if(ue!==null){var Te=ue.next;ue.next=ge.next,ge.next=Te}ee.baseQueue=ue=ge,M.pending=null}if(ue!==null){ue=ue.next,ee=ee.baseState;var Le=Te=ge=null,Ye=ue;do{var ht=Ye.lane;if((Pl&ht)===ht)Le!==null&&(Le=Le.next={lane:0,action:Ye.action,eagerReducer:Ye.eagerReducer,eagerState:Ye.eagerState,next:null}),ee=Ye.eagerReducer===c?Ye.eagerState:c(ee,Ye.action);else{var Bt={lane:ht,action:Ye.action,eagerReducer:Ye.eagerReducer,eagerState:Ye.eagerState,next:null};Le===null?(Te=Le=Bt,ge=ee):Le=Le.next=Bt,Xn.lanes|=ht,Yo|=ht}Ye=Ye.next}while(Ye!==null&&Ye!==ue);Le===null?ge=ee:Le.next=Te,Go(ee,b.memoizedState)||(Ko=!0),b.memoizedState=ee,b.baseState=ge,b.baseQueue=Le,M.lastRenderedState=ee}return[b.memoizedState,M.dispatch]}function Si(c){var b=wo(),M=b.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=c;var ee=M.dispatch,ue=M.pending,ge=b.memoizedState;if(ue!==null){M.pending=null;var Te=ue=ue.next;do ge=c(ge,Te.action),Te=Te.next;while(Te!==ue);Go(ge,b.memoizedState)||(Ko=!0),b.memoizedState=ge,b.baseQueue===null&&(b.baseState=ge),M.lastRenderedState=ge}return[ge,ee]}function Bs(c,b,M){var ee=b._getVersion;ee=ee(b._source);var ue=b._workInProgressVersionPrimary;if(ue!==null?c=ue===ee:(c=c.mutableReadLanes,(c=(Pl&c)===c)&&(b._workInProgressVersionPrimary=ee,ho.push(b))),c)return M(b._source);throw ho.push(b),Error(a(350))}function Ul(c,b,M,ee){var ue=Mr;if(ue===null)throw Error(a(349));var ge=b._getVersion,Te=ge(b._source),Le=bi.current,Ye=Le.useState(function(){return Bs(ue,b,M)}),ht=Ye[1],Bt=Ye[0];Ye=pr;var kn=c.memoizedState,Dt=kn.refs,un=Dt.getSnapshot,xn=kn.source;kn=kn.subscribe;var bn=Xn;return c.memoizedState={refs:Dt,source:b,subscribe:ee},Le.useEffect(function(){Dt.getSnapshot=M,Dt.setSnapshot=ht;var st=ge(b._source);if(!Go(Te,st)){st=M(b._source),Go(Bt,st)||(ht(st),st=ve(bn),ue.mutableReadLanes|=st&ue.pendingLanes),st=ue.mutableReadLanes,ue.entangledLanes|=st;for(var Ze=ue.entanglements,nt=st;0<nt;){var kt=31-Na(nt),Ct=1<<kt;Ze[kt]|=st,nt&=~Ct}}},[M,b,ee]),Le.useEffect(function(){return ee(b._source,function(){var st=Dt.getSnapshot,Ze=Dt.setSnapshot;try{Ze(st(b._source));var nt=ve(bn);ue.mutableReadLanes|=nt&ue.pendingLanes}catch(kt){Ze(function(){throw kt})}})},[b,ee]),Go(un,M)&&Go(xn,b)&&Go(kn,ee)||(c={pending:null,dispatch:null,lastRenderedReducer:To,lastRenderedState:Bt},c.dispatch=ht=Hs.bind(null,Xn,c),Ye.queue=c,Ye.baseQueue=null,Bt=Bs(ue,b,M),Ye.memoizedState=Ye.baseState=Bt),Bt}function ri(c,b,M){return Ul(wo(),c,b,M)}function ja(c){var b=Ei();return typeof c=="function"&&(c=c()),b.memoizedState=b.baseState=c,c=b.queue={pending:null,dispatch:null,lastRenderedReducer:To,lastRenderedState:c},c=c.dispatch=Hs.bind(null,Xn,c),[b.memoizedState,c]}function qs(c,b,M,ee){return c={tag:c,create:b,destroy:M,deps:ee,next:null},b=Xn.updateQueue,b===null?(b={lastEffect:null},Xn.updateQueue=b,b.lastEffect=c.next=c):(M=b.lastEffect,M===null?b.lastEffect=c.next=c:(ee=M.next,M.next=c,c.next=ee,b.lastEffect=c)),c}function Ci(c){var b=Ei();return c={current:c},b.memoizedState=c}function ka(){return wo().memoizedState}function Ja(c,b,M,ee){var ue=Ei();Xn.flags|=c,ue.memoizedState=qs(1|b,M,void 0,ee===void 0?null:ee)}function Yi(c,b,M,ee){var ue=wo();ee=ee===void 0?null:ee;var ge=void 0;if(Xr!==null){var Te=Xr.memoizedState;if(ge=Te.destroy,ee!==null&&Ns(ee,Te.deps))return void qs(b,M,ge,ee)}Xn.flags|=c,ue.memoizedState=qs(1|b,M,ge,ee)}function xa(c,b){return Ja(516,4,c,b)}function oi(c,b){return Yi(516,4,c,b)}function Us(c,b){return Yi(4,2,c,b)}function Za(c,b){return typeof b=="function"?(c=c(),b(c),function(){b(null)}):b!=null?(c=c(),b.current=c,function(){b.current=null}):void 0}function Fs(c,b,M){return M=M!=null?M.concat([c]):null,Yi(4,2,Za.bind(null,b,c),M)}function Xa(){}function Ea(c,b){var M=wo();b=b===void 0?null:b;var ee=M.memoizedState;return ee!==null&&b!==null&&Ns(b,ee[1])?ee[0]:(M.memoizedState=[c,b],c)}function ii(c,b){var M=wo();b=b===void 0?null:b;var ee=M.memoizedState;return ee!==null&&b!==null&&Ns(b,ee[1])?ee[0]:(c=c(),M.memoizedState=[c,b],c)}function zs(c,b){var M=Po();ji(98>M?98:M,function(){c(!0)}),ji(97<M?97:M,function(){var ee=$o.transition;$o.transition=1;try{c(!1),b()}finally{$o.transition=ee}})}function Hs(c,b,M){var ee=J(),ue=ve(c),ge={lane:ue,action:M,eagerReducer:null,eagerState:null,next:null},Te=b.pending;if(Te===null?ge.next=ge:(ge.next=Te.next,Te.next=ge),b.pending=ge,Te=c.alternate,c===Xn||Te!==null&&Te===Xn)Ll=Zu=!0;else{if(c.lanes===0&&(Te===null||Te.lanes===0)&&(Te=b.lastRenderedReducer)!==null)try{var Le=b.lastRenderedState,Ye=Te(Le,M);if(ge.eagerReducer=Te,ge.eagerState=Ye,Go(Ye,Le))return}catch(ht){}Pe(c,ue,ee)}}function io(c,b,M,ee){b.child=c===null?Ml(b,null,M,ee):Ju(b,c.child,M,ee)}function es(c,b,M,ee,ue){M=M.render;var ge=b.ref;return No(b,ue),ee=Vs(c,b,M,ee,ge,ue),c===null||Ko?(b.flags|=1,io(c,b,ee,ue),b.child):(b.updateQueue=c.updateQueue,b.flags&=-517,c.lanes&=~ue,si(c,b,ue))}function Ws(c,b,M,ee,ue,ge){if(c===null){var Te=M.type;return typeof Te!="function"||Wl(Te)||Te.defaultProps!==void 0||M.compare!==null||M.defaultProps!==void 0?(c=zo(M.type,null,ee,b,b.mode,ge),c.ref=b.ref,c.return=b,b.child=c):(b.tag=15,b.type=Te,Ii(c,b,Te,ee,ue,ge))}return Te=c.child,!(ue&ge)&&(ue=Te.memoizedProps,M=M.compare,(M=M!==null?M:hn)(ue,ee)&&c.ref===b.ref)?si(c,b,ge):(b.flags|=1,c=ui(Te,ee),c.ref=b.ref,c.return=b,b.child=c)}function Ii(c,b,M,ee,ue,ge){if(c!==null&&hn(c.memoizedProps,ee)&&c.ref===b.ref){if(Ko=!1,(ge&ue)==0)return b.lanes=c.lanes,si(c,b,ge);16384&c.flags&&(Ko=!0)}return Bo(c,b,M,ee,ge)}function Sa(c,b,M){var ee=b.pendingProps,ue=ee.children,ge=c!==null?c.memoizedState:null;if(ee.mode==="hidden"||ee.mode==="unstable-defer-without-hiding")if(!(4&b.mode))b.memoizedState={baseLanes:0},Dr(b,M);else{if(!(1073741824&M))return c=ge!==null?ge.baseLanes|M:M,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:c},Dr(b,c),null;b.memoizedState={baseLanes:0},Dr(b,ge!==null?ge.baseLanes:M)}else ge!==null?(ee=ge.baseLanes|M,b.memoizedState=null):ee=M,Dr(b,ee);return io(c,b,ue,M),b.child}function ai(c,b){var M=b.ref;(c===null&&M!==null||c!==null&&c.ref!==M)&&(b.flags|=128)}function Bo(c,b,M,ee,ue){var ge=ur(M)?xs:Zr.current;return ge=Eo(b,ge),No(b,ue),M=Vs(c,b,M,ee,ge,ue),c===null||Ko?(b.flags|=1,io(c,b,M,ue),b.child):(b.updateQueue=c.updateQueue,b.flags&=-517,c.lanes&=~ue,si(c,b,ue))}function Gs(c,b,M,ee,ue){if(ur(M)){var ge=!0;wi(b)}else ge=!1;if(No(b,ue),b.stateNode===null)c!==null&&(c.alternate=null,b.alternate=null,b.flags|=2),ti(b,M,ee),ni(b,M,ee,ue),ee=!0;else if(c===null){var Te=b.stateNode,Le=b.memoizedProps;Te.props=Le;var Ye=Te.context,ht=M.contextType;typeof ht=="object"&&ht!==null?ht=Er(ht):(ht=ur(M)?xs:Zr.current,ht=Eo(b,ht));var Bt=M.getDerivedStateFromProps,kn=typeof Bt=="function"||typeof Te.getSnapshotBeforeUpdate=="function";kn||typeof Te.UNSAFE_componentWillReceiveProps!="function"&&typeof Te.componentWillReceiveProps!="function"||(Le!==ee||Ye!==ht)&&ga(b,Te,ee,ht),Kt=!1;var Dt=b.memoizedState;Te.state=Dt,ei(b,ee,Te,ue),Ye=b.memoizedState,Le!==ee||Dt!==Ye||mo.current||Kt?(typeof Bt=="function"&&(_a(b,M,Bt,ee),Ye=b.memoizedState),(Le=Kt||Vr(b,M,Le,ee,Dt,Ye,ht))?(kn||typeof Te.UNSAFE_componentWillMount!="function"&&typeof Te.componentWillMount!="function"||(typeof Te.componentWillMount=="function"&&Te.componentWillMount(),typeof Te.UNSAFE_componentWillMount=="function"&&Te.UNSAFE_componentWillMount()),typeof Te.componentDidMount=="function"&&(b.flags|=4)):(typeof Te.componentDidMount=="function"&&(b.flags|=4),b.memoizedProps=ee,b.memoizedState=Ye),Te.props=ee,Te.state=Ye,Te.context=ht,ee=Le):(typeof Te.componentDidMount=="function"&&(b.flags|=4),ee=!1)}else{Te=b.stateNode,Vo(c,b),Le=b.memoizedProps,ht=b.type===b.elementType?Le:Nr(b.type,Le),Te.props=ht,kn=b.pendingProps,Dt=Te.context,Ye=M.contextType,typeof Ye=="object"&&Ye!==null?Ye=Er(Ye):(Ye=ur(M)?xs:Zr.current,Ye=Eo(b,Ye));var un=M.getDerivedStateFromProps;(Bt=typeof un=="function"||typeof Te.getSnapshotBeforeUpdate=="function")||typeof Te.UNSAFE_componentWillReceiveProps!="function"&&typeof Te.componentWillReceiveProps!="function"||(Le!==kn||Dt!==Ye)&&ga(b,Te,ee,Ye),Kt=!1,Dt=b.memoizedState,Te.state=Dt,ei(b,ee,Te,ue);var xn=b.memoizedState;Le!==kn||Dt!==xn||mo.current||Kt?(typeof un=="function"&&(_a(b,M,un,ee),xn=b.memoizedState),(ht=Kt||Vr(b,M,ht,ee,Dt,xn,Ye))?(Bt||typeof Te.UNSAFE_componentWillUpdate!="function"&&typeof Te.componentWillUpdate!="function"||(typeof Te.componentWillUpdate=="function"&&Te.componentWillUpdate(ee,xn,Ye),typeof Te.UNSAFE_componentWillUpdate=="function"&&Te.UNSAFE_componentWillUpdate(ee,xn,Ye)),typeof Te.componentDidUpdate=="function"&&(b.flags|=4),typeof Te.getSnapshotBeforeUpdate=="function"&&(b.flags|=256)):(typeof Te.componentDidUpdate!="function"||Le===c.memoizedProps&&Dt===c.memoizedState||(b.flags|=4),typeof Te.getSnapshotBeforeUpdate!="function"||Le===c.memoizedProps&&Dt===c.memoizedState||(b.flags|=256),b.memoizedProps=ee,b.memoizedState=xn),Te.props=ee,Te.state=xn,Te.context=Ye,ee=ht):(typeof Te.componentDidUpdate!="function"||Le===c.memoizedProps&&Dt===c.memoizedState||(b.flags|=4),typeof Te.getSnapshotBeforeUpdate!="function"||Le===c.memoizedProps&&Dt===c.memoizedState||(b.flags|=256),ee=!1)}return Ti(c,b,M,ee,ge,ue)}function Ti(c,b,M,ee,ue,ge){ai(c,b);var Te=(64&b.flags)!=0;if(!ee&&!Te)return ue&&Ms(b,M,!1),si(c,b,ge);ee=b.stateNode,Xu.current=b;var Le=Te&&typeof M.getDerivedStateFromError!="function"?null:ee.render();return b.flags|=1,c!==null&&Te?(b.child=Ju(b,c.child,null,ge),b.child=Ju(b,null,Le,ge)):io(c,b,Le,ge),b.memoizedState=ee.state,ue&&Ms(b,M,!0),b.child}function ts(c){var b=c.stateNode;b.pendingContext?Ds(c,b.pendingContext,b.pendingContext!==b.context):b.context&&Ds(c,b.context,!1),Ki(c,b.containerInfo)}function ns(c,b,M){var ee,ue=b.pendingProps,ge=jr.current,Te=!1;return(ee=(64&b.flags)!=0)||(ee=(c===null||c.memoizedState!==null)&&(2&ge)!=0),ee?(Te=!0,b.flags&=-65):c!==null&&c.memoizedState===null||ue.fallback===void 0||ue.unstable_avoidThisFallback===!0||(ge|=1),nr(jr,1&ge),c===null?(ue.fallback!==void 0&&Ka(b),c=ue.children,ge=ue.fallback,Te?(c=fl(b,c,ge,M),b.child.memoizedState={baseLanes:M},b.memoizedState=Mo,c):typeof ue.unstable_expectedLoadTime=="number"?(c=fl(b,c,ge,M),b.child.memoizedState={baseLanes:M},b.memoizedState=Mo,b.lanes=33554432,c):(M=ta({mode:"visible",children:c},b.mode,M,null),M.return=b,b.child=M)):(c.memoizedState,Te?(ue=pl(c,b,ue.children,ue.fallback,M),Te=b.child,ge=c.child.memoizedState,Te.memoizedState=ge===null?{baseLanes:M}:{baseLanes:ge.baseLanes|M},Te.childLanes=c.childLanes&~M,b.memoizedState=Mo,ue):(M=rs(c,b,ue.children,M),b.memoizedState=null,M))}function fl(c,b,M,ee){var ue=c.mode,ge=c.child;return b={mode:"hidden",children:b},!(2&ue)&&ge!==null?(ge.childLanes=0,ge.pendingProps=b):ge=ta(b,ue,0,null),M=Ta(M,ue,ee,null),ge.return=c,M.return=c,ge.sibling=M,c.child=ge,M}function rs(c,b,M,ee){var ue=c.child;return c=ue.sibling,M=ui(ue,{mode:"visible",children:M}),!(2&b.mode)&&(M.lanes=ee),M.return=b,M.sibling=null,c!==null&&(c.nextEffect=null,c.flags=8,b.firstEffect=b.lastEffect=c),b.child=M}function pl(c,b,M,ee,ue){var ge=b.mode,Te=c.child;c=Te.sibling;var Le={mode:"hidden",children:M};return!(2&ge)&&b.child!==Te?(M=b.child,M.childLanes=0,M.pendingProps=Le,Te=M.lastEffect,Te!==null?(b.firstEffect=M.firstEffect,b.lastEffect=Te,Te.nextEffect=null):b.firstEffect=b.lastEffect=null):M=ui(Te,Le),c!==null?ee=ui(c,ee):(ee=Ta(ee,ge,ue,null),ee.flags|=2),ee.return=b,M.return=b,M.sibling=ee,b.child=M,ee}function ml(c,b){c.lanes|=b;var M=c.alternate;M!==null&&(M.lanes|=b),Ha(c.return,b)}function os(c,b,M,ee,ue,ge){var Te=c.memoizedState;Te===null?c.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:ee,tail:M,tailMode:ue,lastEffect:ge}:(Te.isBackwards=b,Te.rendering=null,Te.renderingStartTime=0,Te.last=ee,Te.tail=M,Te.tailMode=ue,Te.lastEffect=ge)}function $s(c,b,M){var ee=b.pendingProps,ue=ee.revealOrder,ge=ee.tail;if(io(c,b,ee.children,M),(2&(ee=jr.current))!=0)ee=1&ee|2,b.flags|=64;else{if(c!==null&&64&c.flags)e:for(c=b.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&ml(c,M);else if(c.tag===19)ml(c,M);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===b)break e;for(;c.sibling===null;){if(c.return===null||c.return===b)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}ee&=1}if(nr(jr,ee),(2&b.mode)==0)b.memoizedState=null;else switch(ue){case"forwards":for(M=b.child,ue=null;M!==null;)c=M.alternate,c!==null&&Ls(c)===null&&(ue=M),M=M.sibling;M=ue,M===null?(ue=b.child,b.child=null):(ue=M.sibling,M.sibling=null),os(b,!1,ue,M,ge,b.lastEffect);break;case"backwards":for(M=null,ue=b.child,b.child=null;ue!==null;){if((c=ue.alternate)!==null&&Ls(c)===null){b.child=ue;break}c=ue.sibling,ue.sibling=M,M=ue,ue=c}os(b,!0,M,null,ge,b.lastEffect);break;case"together":os(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}function si(c,b,M){if(c!==null&&(b.dependencies=c.dependencies),Yo|=b.lanes,(M&b.childLanes)!=0){if(c!==null&&b.child!==c.child)throw Error(a(153));if(b.child!==null){for(c=b.child,M=ui(c,c.pendingProps),b.child=M,M.return=b;c.sibling!==null;)c=c.sibling,M=M.sibling=ui(c,c.pendingProps),M.return=b;M.sibling=null}return b.child}return null}function Qi(c,b){if(!fr)switch(c.tailMode){case"hidden":b=c.tail;for(var M=null;b!==null;)b.alternate!==null&&(M=b),b=b.sibling;M===null?c.tail=null:M.sibling=null;break;case"collapsed":M=c.tail;for(var ee=null;M!==null;)M.alternate!==null&&(ee=M),M=M.sibling;ee===null?b||c.tail===null?c.tail=null:c.tail.sibling=null:ee.sibling=null}}function jo(c,b,M){var ee=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ur(b.type)&&As(),null;case 3:return Co(),Vn(mo),Vn(Zr),Qa(),ee=b.stateNode,ee.pendingContext&&(ee.context=ee.pendingContext,ee.pendingContext=null),c!==null&&c.child!==null||(ya(b)?b.flags|=4:ee.hydrate||(b.flags|=256)),wc(b),null;case 5:Ps(b);var ue=oo(Ol.current);if(M=b.type,c!==null&&b.stateNode!=null)Lc(c,b,M,ee,ue),c.ref!==b.ref&&(b.flags|=128);else{if(!ee){if(b.stateNode===null)throw Error(a(166));return null}if(c=oo(hi.current),ya(b)){ee=b.stateNode,M=b.type;var ge=b.memoizedProps;switch(ee[ks]=b,ee[Jr]=ge,M){case"dialog":Rn("cancel",ee),Rn("close",ee);break;case"iframe":case"object":case"embed":Rn("load",ee);break;case"video":case"audio":for(c=0;c<la.length;c++)Rn(la[c],ee);break;case"source":Rn("error",ee);break;case"img":case"image":case"link":Rn("error",ee),Rn("load",ee);break;case"details":Rn("toggle",ee);break;case"input":A(ee,ge),Rn("invalid",ee);break;case"select":ee._wrapperState={wasMultiple:!!ge.multiple},Rn("invalid",ee);break;case"textarea":Q(ee,ge),Rn("invalid",ee)}H(M,ge),c=null;for(var Te in ge)ge.hasOwnProperty(Te)&&(ue=ge[Te],Te==="children"?typeof ue=="string"?ee.textContent!==ue&&(c=["children",ue]):typeof ue=="number"&&ee.textContent!==""+ue&&(c=["children",""+ue]):uo.hasOwnProperty(Te)&&ue!=null&&Te==="onScroll"&&Rn("scroll",ee));switch(M){case"input":g(ee),O(ee,ge,!0);break;case"textarea":g(ee),K(ee);break;case"select":case"option":break;default:typeof ge.onClick=="function"&&(ee.onclick=Ts)}ee=c,b.updateQueue=ee,ee!==null&&(b.flags|=4)}else{switch(Te=ue.nodeType===9?ue:ue.ownerDocument,c===ps.html&&(c=U(M)),c===ps.html?M==="script"?(c=Te.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof ee.is=="string"?c=Te.createElement(M,{is:ee.is}):(c=Te.createElement(M),M==="select"&&(Te=c,ee.multiple?Te.multiple=!0:ee.size&&(Te.size=ee.size))):c=Te.createElementNS(c,M),c[ks]=b,c[Jr]=ee,pu(c,b,!1,!1),b.stateNode=c,Te=X(M,ee),M){case"dialog":Rn("cancel",c),Rn("close",c),ue=ee;break;case"iframe":case"object":case"embed":Rn("load",c),ue=ee;break;case"video":case"audio":for(ue=0;ue<la.length;ue++)Rn(la[ue],c);ue=ee;break;case"source":Rn("error",c),ue=ee;break;case"img":case"image":case"link":Rn("error",c),Rn("load",c),ue=ee;break;case"details":Rn("toggle",c),ue=ee;break;case"input":A(c,ee),ue=x(c,ee),Rn("invalid",c);break;case"option":ue=P(c,ee);break;case"select":c._wrapperState={wasMultiple:!!ee.multiple},ue=Wn({},ee,{value:void 0}),Rn("invalid",c);break;case"textarea":Q(c,ee),ue=z(c,ee),Rn("invalid",c);break;default:ue=ee}H(M,ue);var Le=ue;for(ge in Le)if(Le.hasOwnProperty(ge)){var Ye=Le[ge];ge==="style"?ne(c,Ye):ge==="dangerouslySetInnerHTML"?(Ye=Ye?Ye.__html:void 0)!=null&&Yl(c,Ye):ge==="children"?typeof Ye=="string"?(M!=="textarea"||Ye!=="")&&Z(c,Ye):typeof Ye=="number"&&Z(c,""+Ye):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(uo.hasOwnProperty(ge)?Ye!=null&&ge==="onScroll"&&Rn("scroll",c):Ye!=null&&m(c,ge,Ye,Te))}switch(M){case"input":g(c),O(c,ee,!1);break;case"textarea":g(c),K(c);break;case"option":ee.value!=null&&c.setAttribute("value",""+T(ee.value));break;case"select":c.multiple=!!ee.multiple,ge=ee.value,ge!=null?B(c,!!ee.multiple,ge,!1):ee.defaultValue!=null&&B(c,!!ee.multiple,ee.defaultValue,!0);break;default:typeof ue.onClick=="function"&&(c.onclick=Ts)}Hi(M,ee)&&(b.flags|=4)}b.ref!==null&&(b.flags|=128)}return null;case 6:if(c&&b.stateNode!=null)Nc(c,b,c.memoizedProps,ee);else{if(typeof ee!="string"&&b.stateNode===null)throw Error(a(166));M=oo(Ol.current),oo(hi.current),ya(b)?(ee=b.stateNode,M=b.memoizedProps,ee[ks]=b,ee.nodeValue!==M&&(b.flags|=4)):(ee=(M.nodeType===9?M:M.ownerDocument).createTextNode(ee),ee[ks]=b,b.stateNode=ee)}return null;case 13:return Vn(jr),ee=b.memoizedState,(64&b.flags)!=0?(b.lanes=M,b):(ee=ee!==null,M=!1,c===null?b.memoizedProps.fallback!==void 0&&ya(b):M=c.memoizedState!==null,ee&&!M&&2&b.mode&&(c===null&&b.memoizedProps.unstable_avoidThisFallback!==!0||1&jr.current?er===0&&(er=3):(er!==0&&er!==3||(er=4),Mr===null||!(134217727&Yo)&&!(134217727&qa)||fn(Mr,Rr))),(ee||M)&&(b.flags|=4),null);case 4:return Co(),wc(b),c===null&&no(b.stateNode.containerInfo),null;case 10:return Rs(b),null;case 17:return ur(b.type)&&As(),null;case 19:if(Vn(jr),(ee=b.memoizedState)===null)return null;if(ge=(64&b.flags)!=0,(Te=ee.rendering)===null)if(ge)Qi(ee,!1);else{if(er!==0||c!==null&&64&c.flags)for(c=b.child;c!==null;){if((Te=Ls(c))!==null){for(b.flags|=64,Qi(ee,!1),ge=Te.updateQueue,ge!==null&&(b.updateQueue=ge,b.flags|=4),ee.lastEffect===null&&(b.firstEffect=null),b.lastEffect=ee.lastEffect,ee=M,M=b.child;M!==null;)ge=M,c=ee,ge.flags&=2,ge.nextEffect=null,ge.firstEffect=null,ge.lastEffect=null,Te=ge.alternate,Te===null?(ge.childLanes=0,ge.lanes=c,ge.child=null,ge.memoizedProps=null,ge.memoizedState=null,ge.updateQueue=null,ge.dependencies=null,ge.stateNode=null):(ge.childLanes=Te.childLanes,ge.lanes=Te.lanes,ge.child=Te.child,ge.memoizedProps=Te.memoizedProps,ge.memoizedState=Te.memoizedState,ge.updateQueue=Te.updateQueue,ge.type=Te.type,c=Te.dependencies,ge.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),M=M.sibling;return nr(jr,1&jr.current|2),b.child}c=c.sibling}ee.tail!==null&&Zn()>fa&&(b.flags|=64,ge=!0,Qi(ee,!1),b.lanes=33554432)}else{if(!ge)if((c=Ls(Te))!==null){if(b.flags|=64,ge=!0,M=c.updateQueue,M!==null&&(b.updateQueue=M,b.flags|=4),Qi(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!Te.alternate&&!fr)return b=b.lastEffect=ee.lastEffect,b!==null&&(b.nextEffect=null),null}else 2*Zn()-ee.renderingStartTime>fa&&M!==1073741824&&(b.flags|=64,ge=!0,Qi(ee,!1),b.lanes=33554432);ee.isBackwards?(Te.sibling=b.child,b.child=Te):(M=ee.last,M!==null?M.sibling=Te:b.child=Te,ee.last=Te)}return ee.tail!==null?(M=ee.tail,ee.rendering=M,ee.tail=M.sibling,ee.lastEffect=b.lastEffect,ee.renderingStartTime=Zn(),M.sibling=null,b=jr.current,nr(jr,ge?1&b|2:1&b),M):null;case 23:case 24:return bl(),c!==null&&c.memoizedState!==null!=(b.memoizedState!==null)&&ee.mode!=="unstable-defer-without-hiding"&&(b.flags|=4),null}throw Error(a(156,b.tag))}function Ji(c){switch(c.tag){case 1:ur(c.type)&&As();var b=c.flags;return 4096&b?(c.flags=-4097&b|64,c):null;case 3:if(Co(),Vn(mo),Vn(Zr),Qa(),(64&(b=c.flags))!=0)throw Error(a(285));return c.flags=-4097&b|64,c;case 5:return Ps(c),null;case 13:return Vn(jr),b=c.flags,4096&b?(c.flags=-4097&b|64,c):null;case 19:return Vn(jr),null;case 4:return Co(),null;case 10:return Rs(c),null;case 23:case 24:return bl(),null;default:return null}}function ao(c,b){try{var M="",ee=b;do M+=S(ee),ee=ee.return;while(ee);var ue=M}catch(ge){ue=`
Error generating stack: `+ge.message+`
`+ge.stack}return{value:c,source:b,stack:ue}}function so(c,b){try{console.error(b.value)}catch(M){setTimeout(function(){throw M})}}function is(c,b,M){M=So(-1,M),M.tag=3,M.payload={element:null};var ee=b.value;return M.callback=function(){Is||(Is=!0,xu=ee),so(c,b)},M}function as(c,b,M){M=So(-1,M),M.tag=3;var ee=c.type.getDerivedStateFromError;if(typeof ee=="function"){var ue=b.value;M.payload=function(){return so(c,b),ee(ue)}}var ge=c.stateNode;return ge!==null&&typeof ge.componentDidCatch=="function"&&(M.callback=function(){typeof ee!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this),so(c,b));var Te=b.stack;this.componentDidCatch(b.value,{componentStack:Te!==null?Te:""})}),M}function ss(c){var b=c.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(M){li(c,M)}else b.current=null}function Ca(c,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&b.flags&&c!==null){var M=c.memoizedProps,ee=c.memoizedState;c=b.stateNode,b=c.getSnapshotBeforeUpdate(b.elementType===b.type?M:Nr(b.type,M),ee),c.__reactInternalSnapshotBeforeUpdate=b}return;case 3:return void(256&b.flags&&ba(b.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hl(c,b,M){switch(M.tag){case 0:case 11:case 15:case 22:if(b=M.updateQueue,(b=b!==null?b.lastEffect:null)!==null){c=b=b.next;do{if((3&c.tag)==3){var ee=c.create;c.destroy=ee()}c=c.next}while(c!==b)}if(b=M.updateQueue,(b=b!==null?b.lastEffect:null)!==null){c=b=b.next;do{var ue=c;ee=ue.next,ue=ue.tag,4&ue&&1&ue&&(Zs(M,c),Au(M,c)),c=ee}while(c!==b)}return;case 1:return c=M.stateNode,4&M.flags&&(b===null?c.componentDidMount():(ee=M.elementType===M.type?b.memoizedProps:Nr(M.type,b.memoizedProps),c.componentDidUpdate(ee,b.memoizedState,c.__reactInternalSnapshotBeforeUpdate))),void((b=M.updateQueue)!==null&&$i(M,b,c));case 3:if((b=M.updateQueue)!==null){if(c=null,M.child!==null)switch(M.child.tag){case 5:c=M.child.stateNode;break;case 1:c=M.child.stateNode}$i(M,b,c)}return;case 5:return c=M.stateNode,void(b===null&&4&M.flags&&Hi(M.type,M.memoizedProps)&&c.focus());case 6:case 4:case 12:return;case 13:return void(M.memoizedState===null&&(M=M.alternate)!==null&&(M=M.memoizedState)!==null&&(M=M.dehydrated)!==null&&Ce(M));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function qo(c,b){for(var M=c;;){if(M.tag===5){var ee=M.stateNode;if(b)ee=ee.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{ee=M.stateNode;var ue=M.memoizedProps.style;ue=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,ee.style.display=$("display",ue)}}else if(M.tag===6)M.stateNode.nodeValue=b?"":M.memoizedProps;else if((M.tag!==23&&M.tag!==24||M.memoizedState===null||M===c)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===c)break;for(;M.sibling===null;){if(M.return===null||M.return===c)return;M=M.return}M.sibling.return=M.return,M=M.sibling}}function Zi(c,b){if(Es&&typeof Es.onCommitFiberUnmount=="function")try{Es.onCommitFiberUnmount(hu,b)}catch(ge){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:if((c=b.updateQueue)!==null&&(c=c.lastEffect)!==null){var M=c=c.next;do{var ee=M,ue=ee.destroy;if(ee=ee.tag,ue!==void 0)if(4&ee)Zs(b,M);else{ee=b;try{ue()}catch(ge){li(ee,ge)}}M=M.next}while(M!==c)}break;case 1:if(ss(b),c=b.stateNode,typeof c.componentWillUnmount=="function")try{c.props=b.memoizedProps,c.state=b.memoizedState,c.componentWillUnmount()}catch(ge){li(b,ge)}break;case 5:ss(b);break;case 4:Ai(c,b)}}function Xi(c){c.alternate=null,c.child=null,c.dependencies=null,c.firstEffect=null,c.lastEffect=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.return=null,c.updateQueue=null}function lo(c){return c.tag===5||c.tag===3||c.tag===4}function Ks(c){e:{for(var b=c.return;b!==null;){if(lo(b))break e;b=b.return}throw Error(a(160))}var M=b;switch(b=M.stateNode,M.tag){case 5:var ee=!1;break;case 3:case 4:b=b.containerInfo,ee=!0;break;default:throw Error(a(161))}16&M.flags&&(Z(b,""),M.flags&=-17);e:t:for(M=c;;){for(;M.sibling===null;){if(M.return===null||lo(M.return)){M=null;break e}M=M.return}for(M.sibling.return=M.return,M=M.sibling;M.tag!==5&&M.tag!==6&&M.tag!==18;){if(2&M.flags||M.child===null||M.tag===4)continue t;M.child.return=M,M=M.child}if(!(2&M.flags)){M=M.stateNode;break e}}ee?Gr(c,M,b):Uo(c,M,b)}function Gr(c,b,M){var ee=c.tag,ue=ee===5||ee===6;if(ue)c=ue?c.stateNode:c.stateNode.instance,b?M.nodeType===8?M.parentNode.insertBefore(c,b):M.insertBefore(c,b):(M.nodeType===8?(b=M.parentNode,b.insertBefore(c,M)):(b=M,b.appendChild(c)),(M=M._reactRootContainer)!==null&&M!==void 0||b.onclick!==null||(b.onclick=Ts));else if(ee!==4&&(c=c.child)!==null)for(Gr(c,b,M),c=c.sibling;c!==null;)Gr(c,b,M),c=c.sibling}function Uo(c,b,M){var ee=c.tag,ue=ee===5||ee===6;if(ue)c=ue?c.stateNode:c.stateNode.instance,b?M.insertBefore(c,b):M.appendChild(c);else if(ee!==4&&(c=c.child)!==null)for(Uo(c,b,M),c=c.sibling;c!==null;)Uo(c,b,M),c=c.sibling}function Ai(c,b){for(var M,ee,ue=b,ge=!1;;){if(!ge){ge=ue.return;e:for(;;){if(ge===null)throw Error(a(160));switch(M=ge.stateNode,ge.tag){case 5:ee=!1;break e;case 3:case 4:M=M.containerInfo,ee=!0;break e}ge=ge.return}ge=!0}if(ue.tag===5||ue.tag===6){e:for(var Te=c,Le=ue,Ye=Le;;)if(Zi(Te,Ye),Ye.child!==null&&Ye.tag!==4)Ye.child.return=Ye,Ye=Ye.child;else{if(Ye===Le)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===Le)break e;Ye=Ye.return}Ye.sibling.return=Ye.return,Ye=Ye.sibling}ee?(Te=M,Le=ue.stateNode,Te.nodeType===8?Te.parentNode.removeChild(Le):Te.removeChild(Le)):M.removeChild(ue.stateNode)}else if(ue.tag===4){if(ue.child!==null){M=ue.stateNode.containerInfo,ee=!0,ue.child.return=ue,ue=ue.child;continue}}else if(Zi(c,ue),ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===b)break;for(;ue.sibling===null;){if(ue.return===null||ue.return===b)return;ue=ue.return,ue.tag===4&&(ge=!1)}ue.sibling.return=ue.return,ue=ue.sibling}}function ls(c,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var M=b.updateQueue;if((M=M!==null?M.lastEffect:null)!==null){var ee=M=M.next;do(3&ee.tag)==3&&(c=ee.destroy,ee.destroy=void 0,c!==void 0&&c()),ee=ee.next;while(ee!==M)}return;case 1:return;case 5:if((M=b.stateNode)!=null){ee=b.memoizedProps;var ue=c!==null?c.memoizedProps:ee;c=b.type;var ge=b.updateQueue;if(b.updateQueue=null,ge!==null){for(M[Jr]=ee,c==="input"&&ee.type==="radio"&&ee.name!=null&&w(M,ee),X(c,ue),b=X(c,ee),ue=0;ue<ge.length;ue+=2){var Te=ge[ue],Le=ge[ue+1];Te==="style"?ne(M,Le):Te==="dangerouslySetInnerHTML"?Yl(M,Le):Te==="children"?Z(M,Le):m(M,Te,Le,b)}switch(c){case"input":C(M,ee);break;case"textarea":N(M,ee);break;case"select":c=M._wrapperState.wasMultiple,M._wrapperState.wasMultiple=!!ee.multiple,ge=ee.value,ge!=null?B(M,!!ee.multiple,ge,!1):c!==!!ee.multiple&&(ee.defaultValue!=null?B(M,!!ee.multiple,ee.defaultValue,!0):B(M,!!ee.multiple,ee.multiple?[]:"",!1))}}}return;case 6:if(b.stateNode===null)throw Error(a(162));return void(b.stateNode.nodeValue=b.memoizedProps);case 3:return M=b.stateNode,void(M.hydrate&&(M.hydrate=!1,Ce(M.containerInfo)));case 12:return;case 13:return b.memoizedState!==null&&(Vl=Zn(),qo(b.child,!0)),void Di(b);case 19:return void Di(b);case 17:return;case 23:case 24:return void qo(b,b.memoizedState!==null)}throw Error(a(163))}function Di(c){var b=c.updateQueue;if(b!==null){c.updateQueue=null;var M=c.stateNode;M===null&&(M=c.stateNode=new Ir),b.forEach(function(ee){var ue=Hl.bind(null,c,ee);M.has(ee)||(M.add(ee),ee.then(ue,ue))})}}function Ys(c,b){return c!==null&&((c=c.memoizedState)===null||c.dehydrated!==null)&&(b=b.memoizedState)!==null&&b.dehydrated===null}function $r(){fa=Zn()+500}function J(){return 48&on?Zn():ec!==-1?ec:ec=Zn()}function ve(c){if(!(2&(c=c.mode)))return 1;if(!(4&c))return Po()===99?1:2;if(_o===0&&(_o=Vi),td.transition!==0){Su!==0&&(Su=da!==null?da.pendingLanes:0),c=_o;var b=4186112&~Su;return b&=-b,b===0&&(c=4186112&~c,(b=c&-c)===0&&(b=8192)),b}return c=Po(),4&on&&c===98?c=In(12,_o):(c=Vt(c),c=In(c,_o)),c}function Pe(c,b,M){if(50<ll)throw ll=0,Eu=null,Error(a(185));if((c=it(c,b))===null)return null;Yt(c,b,M),c===Mr&&(qa|=b,er===4&&fn(c,Rr));var ee=Po();b===1?8&on&&!(48&on)?cr(c):(mt(c,M),on===0&&($r(),Ar())):(!(4&on)||ee!==98&&ee!==99||(pa===null?pa=new Set([c]):pa.add(c)),mt(c,M)),da=c}function it(c,b){c.lanes|=b;var M=c.alternate;for(M!==null&&(M.lanes|=b),M=c,c=c.return;c!==null;)c.childLanes|=b,M=c.alternate,M!==null&&(M.childLanes|=b),M=c,c=c.return;return M.tag===3?M.stateNode:null}function mt(c,b){for(var M=c.callbackNode,ee=c.suspendedLanes,ue=c.pingedLanes,ge=c.expirationTimes,Te=c.pendingLanes;0<Te;){var Le=31-Na(Te),Ye=1<<Le,ht=ge[Le];if(ht===-1){if(!(Ye&ee)||Ye&ue){ht=b,Gt(Ye);var Bt=Jn;ge[Le]=10<=Bt?ht+250:6<=Bt?ht+5e3:-1}}else ht<=b&&(c.expiredLanes|=Ye);Te&=~Ye}if(ee=Cn(c,c===Mr?Rr:0),b=Jn,ee===0)M!==null&&(M!==Sc&&vu(M),c.callbackNode=null,c.callbackPriority=0);else{if(M!==null){if(c.callbackPriority===b)return;M!==Sc&&vu(M)}b===15?(M=cr.bind(null,c),Li===null?(Li=[M],yu=bu(_u,yo)):Li.push(M),M=Sc):b===14?M=Lo(99,cr.bind(null,c)):(M=dn(b),M=Lo(M,Ut.bind(null,c))),c.callbackPriority=b,c.callbackNode=M}}function Ut(c){if(ec=-1,Su=_o=0,(48&on)!=0)throw Error(a(327));var b=c.callbackNode;if(ea()&&c.callbackNode!==b)return null;var M=Cn(c,c===Mr?Rr:0);if(M===0)return null;var ee=M,ue=on;on|=16;var ge=Qs();for(Mr===c&&Rr===ee||($r(),$n(c,ee));;)try{Fl();break}catch(Le){vl(c,Le)}if(Gi(),bo.current=ge,on=ue,br!==null?ee=0:(Mr=null,Rr=0,ee=er),(Vi&qa)!=0)$n(c,0);else if(ee!==0){if(ee===2&&(on|=64,c.hydrate&&(c.hydrate=!1,ba(c.containerInfo)),(M=Tt(c))!==0&&(ee=Mi(c,M))),ee===1)throw b=Nl,$n(c,0),fn(c,M),mt(c,Zn()),b;switch(c.finishedWork=c.current.alternate,c.finishedLanes=M,ee){case 0:case 1:throw Error(a(345));case 2:Ao(c);break;case 3:if(fn(c,M),(62914560&M)===M&&10<(ee=Vl+500-Zn())){if(Cn(c,0)!==0)break;if(((ue=c.suspendedLanes)&M)!==M){J(),c.pingedLanes|=c.suspendedLanes&ue;break}c.timeoutHandle=kc(Ao.bind(null,c),ee);break}Ao(c);break;case 4:if(fn(c,M),(4186112&M)===M)break;for(ee=c.eventTimes,ue=-1;0<M;){var Te=31-Na(M);ge=1<<Te,Te=ee[Te],Te>ue&&(ue=Te),M&=~ge}if(M=ue,M=Zn()-M,10<(M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*eo(M/1960))-M)){c.timeoutHandle=kc(Ao.bind(null,c),M);break}Ao(c);break;case 5:Ao(c);break;default:throw Error(a(329))}}return mt(c,Zn()),c.callbackNode===b?Ut.bind(null,c):null}function fn(c,b){for(b&=~ku,b&=~qa,c.suspendedLanes|=b,c.pingedLanes&=~b,c=c.expirationTimes;0<b;){var M=31-Na(b),ee=1<<M;c[M]=-1,b&=~ee}}function cr(c){if(48&on)throw Error(a(327));if(ea(),c===Mr&&(c.expiredLanes&Rr)!=0){var b=Rr,M=Mi(c,b);Vi&qa&&(b=Cn(c,b),M=Mi(c,b))}else b=Cn(c,0),M=Mi(c,b);if(c.tag!==0&&M===2&&(on|=64,c.hydrate&&(c.hydrate=!1,ba(c.containerInfo)),(b=Tt(c))!==0&&(M=Mi(c,b))),M===1)throw M=Nl,$n(c,0),fn(c,b),mt(c,Zn()),M;return c.finishedWork=c.current.alternate,c.finishedLanes=b,Ao(c),mt(c,Zn()),null}function Ia(){if(pa!==null){var c=pa;pa=null,c.forEach(function(b){b.expiredLanes|=24&b.pendingLanes,mt(b,Zn())})}Ar()}function Fo(c,b){var M=on;on|=1;try{return c(b)}finally{(on=M)===0&&($r(),Ar())}}function us(c,b){var M=on;on&=-2,on|=8;try{return c(b)}finally{(on=M)===0&&($r(),Ar())}}function Dr(c,b){nr(sl,Ba),Ba|=b,Vi|=b}function bl(){Ba=sl.current,Vn(sl)}function $n(c,b){c.finishedWork=null,c.finishedLanes=0;var M=c.timeoutHandle;if(M!==-1&&(c.timeoutHandle=-1,Vc(M)),br!==null)for(M=br.return;M!==null;){var ee=M;switch(ee.tag){case 1:ee=ee.type.childContextTypes,ee!=null&&As();break;case 3:Co(),Vn(mo),Vn(Zr),Qa();break;case 5:Ps(ee);break;case 4:Co();break;case 13:case 19:Vn(jr);break;case 10:Rs(ee);break;case 23:case 24:bl()}M=M.return}Mr=c,br=ui(c.current,null),Rr=Ba=Vi=b,er=0,Nl=null,ku=qa=Yo=0}function vl(c,b){for(;;){var M=br;try{if(Gi(),bi.current=ju,Zu){for(var ee=Xn.memoizedState;ee!==null;){var ue=ee.queue;ue!==null&&(ue.pending=null),ee=ee.next}Zu=!1}if(Pl=0,pr=Xr=Xn=null,Ll=!1,Cs.current=null,M===null||M.return===null){er=1,Nl=b,br=null;break}e:{var ge=c,Te=M.return,Le=M,Ye=b;if(b=Rr,Le.flags|=2048,Le.firstEffect=Le.lastEffect=null,Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var ht=Ye;if(!(2&Le.mode)){var Bt=Le.alternate;Bt?(Le.updateQueue=Bt.updateQueue,Le.memoizedState=Bt.memoizedState,Le.lanes=Bt.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var kn=(1&jr.current)!=0,Dt=Te;do{var un;if(un=Dt.tag===13){var xn=Dt.memoizedState;if(xn!==null)un=xn.dehydrated!==null;else{var bn=Dt.memoizedProps;un=bn.fallback!==void 0&&(bn.unstable_avoidThisFallback!==!0||!kn)}}if(un){var st=Dt.updateQueue;if(st===null){var Ze=new Set;Ze.add(ht),Dt.updateQueue=Ze}else st.add(ht);if(!(2&Dt.mode)){if(Dt.flags|=64,Le.flags|=16384,Le.flags&=-2981,Le.tag===1)if(Le.alternate===null)Le.tag=17;else{var nt=So(-1,1);nt.tag=2,ro(Le,nt)}Le.lanes|=1;break e}Ye=void 0,Le=b;var kt=ge.pingCache;if(kt===null?(kt=ge.pingCache=new zr,Ye=new Set,kt.set(ht,Ye)):(Ye=kt.get(ht))===void 0&&(Ye=new Set,kt.set(ht,Ye)),!Ye.has(Le)){Ye.add(Le);var Ct=zl.bind(null,ge,ht,Le);ht.then(Ct,Ct)}Dt.flags|=4096,Dt.lanes=b;break e}Dt=Dt.return}while(Dt!==null);Ye=Error((v(Le.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}er!==5&&(er=2),Ye=ao(Ye,Le),Dt=Te;do{switch(Dt.tag){case 3:ge=Ye,Dt.flags|=4096,b&=-b,Dt.lanes|=b,Os(Dt,is(Dt,ge,b));break e;case 1:ge=Ye;var pn=Dt.type,nn=Dt.stateNode;if(!(64&Dt.flags)&&(typeof pn.getDerivedStateFromError=="function"||nn!==null&&typeof nn.componentDidCatch=="function"&&(Qo===null||!Qo.has(nn)))){Dt.flags|=4096,b&=-b,Dt.lanes|=b,Os(Dt,as(Dt,ge,b));break e}}Dt=Dt.return}while(Dt!==null)}Js(M)}catch(wn){b=wn,br===M&&M!==null&&(br=M=M.return);continue}break}}function Qs(){var c=bo.current;return bo.current=ju,c===null?ju:c}function Mi(c,b){var M=on;on|=16;var ee=Qs();for(Mr===c&&Rr===b||$n(c,b);;)try{Iu();break}catch(ue){vl(c,ue)}if(Gi(),on=M,bo.current=ee,br!==null)throw Error(a(261));return Mr=null,Rr=0,er}function Iu(){for(;br!==null;)cs(br)}function Fl(){for(;br!==null&&!qc();)cs(br)}function cs(c){var b=zn(c.alternate,c,Ba);c.memoizedProps=c.pendingProps,b===null?Js(c):br=b,Cs.current=null}function Js(c){var b=c;do{var M=b.alternate;if(c=b.return,(2048&b.flags)==0){if((M=jo(M,b,Ba))!==null)return void(br=M);if(M=b,M.tag!==24&&M.tag!==23||M.memoizedState===null||(1073741824&Ba)!=0||(4&M.mode)==0){for(var ee=0,ue=M.child;ue!==null;)ee|=ue.lanes|ue.childLanes,ue=ue.sibling;M.childLanes=ee}c!==null&&!(2048&c.flags)&&(c.firstEffect===null&&(c.firstEffect=b.firstEffect),b.lastEffect!==null&&(c.lastEffect!==null&&(c.lastEffect.nextEffect=b.firstEffect),c.lastEffect=b.lastEffect),1<b.flags&&(c.lastEffect!==null?c.lastEffect.nextEffect=b:c.firstEffect=b,c.lastEffect=b))}else{if((M=Ji(b))!==null)return M.flags&=2047,void(br=M);c!==null&&(c.firstEffect=c.lastEffect=null,c.flags|=2048)}if((b=b.sibling)!==null)return void(br=b);br=b=c}while(b!==null);er===0&&(er=5)}function Ao(c){var b=Po();return ji(99,Tu.bind(null,c,b)),null}function Tu(c,b){do ea();while(Or!==null);if(48&on)throw Error(a(327));var M=c.finishedWork;if(M===null)return null;if(c.finishedWork=null,c.finishedLanes=0,M===c.current)throw Error(a(177));c.callbackNode=null;var ee=M.lanes|M.childLanes,ue=ee,ge=c.pendingLanes&~ue;c.pendingLanes=ue,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=ue,c.mutableReadLanes&=ue,c.entangledLanes&=ue,ue=c.entanglements;for(var Te=c.eventTimes,Le=c.expirationTimes;0<ge;){var Ye=31-Na(ge),ht=1<<Ye;ue[Ye]=0,Te[Ye]=-1,Le[Ye]=-1,ge&=~ht}if(pa!==null&&!(24&ee)&&pa.has(c)&&pa.delete(c),c===Mr&&(br=Mr=null,Rr=0),1<M.flags?M.lastEffect!==null?(M.lastEffect.nextEffect=M,ee=M.firstEffect):ee=M:ee=M.firstEffect,ee!==null){if(ue=on,on|=32,Cs.current=null,jc=ia,Te=cn(),qn(Te)){if("selectionStart"in Te)Le={start:Te.selectionStart,end:Te.selectionEnd};else e:if(Le=(Le=Te.ownerDocument)&&Le.defaultView||window,(ht=Le.getSelection&&Le.getSelection())&&ht.rangeCount!==0){Le=ht.anchorNode,ge=ht.anchorOffset,Ye=ht.focusNode,ht=ht.focusOffset;try{Le.nodeType,Ye.nodeType}catch(Dn){Le=null;break e}var Bt=0,kn=-1,Dt=-1,un=0,xn=0,bn=Te,st=null;t:for(;;){for(var Ze;bn!==Le||ge!==0&&bn.nodeType!==3||(kn=Bt+ge),bn!==Ye||ht!==0&&bn.nodeType!==3||(Dt=Bt+ht),bn.nodeType===3&&(Bt+=bn.nodeValue.length),(Ze=bn.firstChild)!==null;)st=bn,bn=Ze;for(;;){if(bn===Te)break t;if(st===Le&&++un===ge&&(kn=Bt),st===Ye&&++xn===ht&&(Dt=Bt),(Ze=bn.nextSibling)!==null)break;bn=st,st=bn.parentNode}bn=Ze}Le=kn===-1||Dt===-1?null:{start:kn,end:Dt}}else Le=null;Le=Le||{start:0,end:0}}else Le=null;zu={focusedElem:Te,selectionRange:Le},ia=!1,ul=null,ma=!1,en=ee;do try{tc()}catch(Dn){if(en===null)throw Error(a(330));li(en,Dn),en=en.nextEffect}while(en!==null);ul=null,en=ee;do try{for(Te=c;en!==null;){var nt=en.flags;if(16&nt&&Z(en.stateNode,""),128&nt){var kt=en.alternate;if(kt!==null){var Ct=kt.ref;Ct!==null&&(typeof Ct=="function"?Ct(null):Ct.current=null)}}switch(1038&nt){case 2:Ks(en),en.flags&=-3;break;case 6:Ks(en),en.flags&=-3,ls(en.alternate,en);break;case 1024:en.flags&=-1025;break;case 1028:en.flags&=-1025,ls(en.alternate,en);break;case 4:ls(en.alternate,en);break;case 8:Le=en,Ai(Te,Le);var pn=Le.alternate;Xi(Le),pn!==null&&Xi(pn)}en=en.nextEffect}}catch(Dn){if(en===null)throw Error(a(330));li(en,Dn),en=en.nextEffect}while(en!==null);if(Ct=zu,kt=cn(),nt=Ct.focusedElem,Te=Ct.selectionRange,kt!==nt&&nt&&nt.ownerDocument&&gn(nt.ownerDocument.documentElement,nt)){for(Te!==null&&qn(nt)&&(kt=Te.start,Ct=Te.end,Ct===void 0&&(Ct=kt),"selectionStart"in nt?(nt.selectionStart=kt,nt.selectionEnd=Math.min(Ct,nt.value.length)):(Ct=(kt=nt.ownerDocument||document)&&kt.defaultView||window,Ct.getSelection&&(Ct=Ct.getSelection(),Le=nt.textContent.length,pn=Math.min(Te.start,Le),Te=Te.end===void 0?pn:Math.min(Te.end,Le),!Ct.extend&&pn>Te&&(Le=Te,Te=pn,pn=Le),Le=Mn(nt,pn),ge=Mn(nt,Te),Le&&ge&&(Ct.rangeCount!==1||Ct.anchorNode!==Le.node||Ct.anchorOffset!==Le.offset||Ct.focusNode!==ge.node||Ct.focusOffset!==ge.offset)&&(kt=kt.createRange(),kt.setStart(Le.node,Le.offset),Ct.removeAllRanges(),pn>Te?(Ct.addRange(kt),Ct.extend(ge.node,ge.offset)):(kt.setEnd(ge.node,ge.offset),Ct.addRange(kt)))))),kt=[],Ct=nt;Ct=Ct.parentNode;)Ct.nodeType===1&&kt.push({element:Ct,left:Ct.scrollLeft,top:Ct.scrollTop});for(typeof nt.focus=="function"&&nt.focus(),nt=0;nt<kt.length;nt++)Ct=kt[nt],Ct.element.scrollLeft=Ct.left,Ct.element.scrollTop=Ct.top}ia=!!jc,zu=jc=null,c.current=M,en=ee;do try{for(nt=c;en!==null;){var nn=en.flags;if(36&nn&&hl(nt,en.alternate,en),128&nn){kt=void 0;var wn=en.ref;if(wn!==null){var Nn=en.stateNode;switch(en.tag){case 5:kt=Nn;break;default:kt=Nn}typeof wn=="function"?wn(kt):wn.current=kt}}en=en.nextEffect}}catch(Dn){if(en===null)throw Error(a(330));li(en,Dn),en=en.nextEffect}while(en!==null);en=null,Uc(),on=ue}else c.current=M;if(Bi)Bi=!1,Or=c,vi=b;else for(en=ee;en!==null;)b=en.nextEffect,en.nextEffect=null,8&en.flags&&(nn=en,nn.sibling=null,nn.stateNode=null),en=b;if(ee=c.pendingLanes,ee===0&&(Qo=null),ee===1?c===Eu?ll++:(ll=0,Eu=c):ll=0,M=M.stateNode,Es&&typeof Es.onCommitFiberRoot=="function")try{Es.onCommitFiberRoot(hu,M,void 0,(64&M.current.flags)==64)}catch(Dn){}if(mt(c,Zn()),Is)throw Is=!1,c=xu,xu=null,c;return 8&on||Ar(),null}function tc(){for(;en!==null;){var c=en.alternate;ma||ul===null||(8&en.flags?Be(en,ul)&&(ma=!0):en.tag===13&&Ys(c,en)&&Be(en,ul)&&(ma=!0));var b=en.flags;256&b&&Ca(c,en),!(512&b)||Bi||(Bi=!0,Lo(97,function(){return ea(),null})),en=en.nextEffect}}function ea(){if(vi!==90){var c=97<vi?97:vi;return vi=90,ji(c,_l)}return!1}function Au(c,b){Jo.push(b,c),Bi||(Bi=!0,Lo(97,function(){return ea(),null}))}function Zs(c,b){vo.push(b,c),Bi||(Bi=!0,Lo(97,function(){return ea(),null}))}function _l(){if(Or===null)return!1;var c=Or;if(Or=null,(48&on)!=0)throw Error(a(331));var b=on;on|=32;var M=vo;vo=[];for(var ee=0;ee<M.length;ee+=2){var ue=M[ee],ge=M[ee+1],Te=ue.destroy;if(ue.destroy=void 0,typeof Te=="function")try{Te()}catch(Ye){if(ge===null)throw Error(a(330));li(ge,Ye)}}for(M=Jo,Jo=[],ee=0;ee<M.length;ee+=2){ue=M[ee],ge=M[ee+1];try{var Le=ue.create;ue.destroy=Le()}catch(Ye){if(ge===null)throw Error(a(330));li(ge,Ye)}}for(Le=c.current.firstEffect;Le!==null;)c=Le.nextEffect,Le.nextEffect=null,8&Le.flags&&(Le.sibling=null,Le.stateNode=null),Le=c;return on=b,Ar(),!0}function gl(c,b,M){b=ao(M,b),b=is(c,b,1),ro(c,b),b=J(),(c=it(c,1))!==null&&(Yt(c,1,b),mt(c,b))}function li(c,b){if(c.tag===3)gl(c,c,b);else for(var M=c.return;M!==null;){if(M.tag===3){gl(M,c,b);break}if(M.tag===1){var ee=M.stateNode;if(typeof M.type.getDerivedStateFromError=="function"||typeof ee.componentDidCatch=="function"&&(Qo===null||!Qo.has(ee))){c=ao(b,c);var ue=as(M,c,1);if(ro(M,ue),ue=J(),(M=it(M,1))!==null)Yt(M,1,ue),mt(M,ue);else if(typeof ee.componentDidCatch=="function"&&(Qo===null||!Qo.has(ee)))try{ee.componentDidCatch(b,c)}catch(ge){}break}}M=M.return}}function zl(c,b,M){var ee=c.pingCache;ee!==null&&ee.delete(b),b=J(),c.pingedLanes|=c.suspendedLanes&M,Mr===c&&(Rr&M)===M&&(er===4||er===3&&(62914560&Rr)===Rr&&500>Zn()-Vl?$n(c,0):ku|=M),mt(c,b)}function Hl(c,b){var M=c.stateNode;M!==null&&M.delete(b),b=0,b===0&&(b=c.mode,2&b?4&b?(_o===0&&(_o=Vi),(b=$e(62914560&~_o))===0&&(b=4194304)):b=Po()===99?1:2:b=1),M=J(),(c=it(c,b))!==null&&(Yt(c,b,M),mt(c,M))}function nc(c,b,M,ee){this.tag=c,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ee,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(c,b,M,ee){return new nc(c,b,M,ee)}function Wl(c){return!(!(c=c.prototype)||!c.isReactComponent)}function rc(c){if(typeof c=="function")return Wl(c)?1:0;if(c!=null){if((c=c.$$typeof)===ut)return 11;if(c===Jt)return 14}return 2}function ui(c,b){var M=c.alternate;return M===null?(M=ko(c.tag,b,c.key,c.mode),M.elementType=c.elementType,M.type=c.type,M.stateNode=c.stateNode,M.alternate=c,c.alternate=M):(M.pendingProps=b,M.type=c.type,M.flags=0,M.nextEffect=null,M.firstEffect=null,M.lastEffect=null),M.childLanes=c.childLanes,M.lanes=c.lanes,M.child=c.child,M.memoizedProps=c.memoizedProps,M.memoizedState=c.memoizedState,M.updateQueue=c.updateQueue,b=c.dependencies,M.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},M.sibling=c.sibling,M.index=c.index,M.ref=c.ref,M}function zo(c,b,M,ee,ue,ge){var Te=2;if(ee=c,typeof c=="function")Wl(c)&&(Te=1);else if(typeof c=="string")Te=5;else e:switch(c){case Re:return Ta(M.children,ue,ge,b);case Qn:Te=8,ue|=16;break;case Fe:Te=8,ue|=1;break;case Ge:return c=ko(12,M,b,8|ue),c.elementType=Ge,c.type=Ge,c.lanes=ge,c;case yt:return c=ko(13,M,b,ue),c.type=yt,c.elementType=yt,c.lanes=ge,c;case Lt:return c=ko(19,M,b,ue),c.elementType=Lt,c.lanes=ge,c;case _r:return ta(M,ue,ge,b);case sn:return c=ko(24,M,b,ue),c.elementType=sn,c.lanes=ge,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case ot:Te=10;break e;case tt:Te=9;break e;case ut:Te=11;break e;case Jt:Te=14;break e;case Xt:Te=16,ee=null;break e;case Ft:Te=22;break e}throw Error(a(130,c==null?c:typeof c,""))}return b=ko(Te,M,b,ue),b.elementType=c,b.type=ee,b.lanes=ge,b}function Ta(c,b,M,ee){return c=ko(7,c,ee,b),c.lanes=M,c}function ta(c,b,M,ee){return c=ko(23,c,ee,b),c.elementType=_r,c.lanes=M,c}function Kr(c,b,M){return c=ko(6,c,null,b),c.lanes=M,c}function Aa(c,b,M){return b=ko(4,c.children!==null?c.children:[],c.key,b),b.lanes=M,b.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},b}function Ri(c,b,M){this.tag=b,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=M,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=St(0),this.expirationTimes=St(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.mutableSourceEagerHydrationData=null}function Gl(c,b,M){var ee=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:ee==null?null:""+ee,children:c,containerInfo:b,implementation:M}}function yl(c,b,M,ee){var ue=b.current,ge=J(),Te=ve(ue);e:if(M){M=M._reactInternals;t:{if(je(M)!==M||M.tag!==1)throw Error(a(170));var Le=M;do{switch(Le.tag){case 3:Le=Le.stateNode.context;break t;case 1:if(ur(Le.type)){Le=Le.stateNode.__reactInternalMemoizedMergedChildContext;break t}}Le=Le.return}while(Le!==null);throw Error(a(171))}if(M.tag===1){var Ye=M.type;if(ur(Ye)){M=yi(M,Ye,Le);break e}}M=Le}else M=Va;return b.context===null?b.context=M:b.pendingContext=M,b=So(ge,Te),b.payload={element:c},ee=ee===void 0?null:ee,ee!==null&&(b.callback=ee),ro(ue,b),Pe(ue,Te,ge),Te}function Du(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:default:return c.child.stateNode}}function ci(c,b){if((c=c.memoizedState)!==null&&c.dehydrated!==null){var M=c.retryLane;c.retryLane=M!==0&&M<b?M:b}}function Da(c,b){ci(c,b),(c=c.alternate)&&ci(c,b)}function Xs(){return null}function ds(c,b,M){var ee=M!=null&&M.hydrationOptions!=null&&M.hydrationOptions.mutableSources||null;if(M=new Ri(c,b,M!=null&&M.hydrate===!0),b=ko(3,null,null,b===2?7:b===1?3:0),M.current=b,b.stateNode=M,Wa(b),c[Cr]=M.current,no(c.nodeType===8?c.parentNode:c),ee)for(c=0;c<ee.length;c++){b=ee[c];var ue=b._getVersion;ue=ue(b._source),M.mutableSourceEagerHydrationData==null?M.mutableSourceEagerHydrationData=[b,ue]:M.mutableSourceEagerHydrationData.push(b,ue)}this._internalRoot=M}function Ma(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function fs(c,b){if(b||(b=c?c.nodeType===9?c.documentElement:c.firstChild:null,b=!(!b||b.nodeType!==1||!b.hasAttribute("data-reactroot"))),!b)for(var M;M=c.lastChild;)c.removeChild(M);return new ds(c,0,b?{hydrate:!0}:void 0)}function di(c,b,M,ee,ue){var ge=M._reactRootContainer;if(ge){var Te=ge._internalRoot;if(typeof ue=="function"){var Le=ue;ue=function(){var ht=Du(Te);Le.call(ht)}}yl(b,Te,c,ue)}else{if(ge=M._reactRootContainer=fs(M,ee),Te=ge._internalRoot,typeof ue=="function"){var Ye=ue;ue=function(){var ht=Du(Te);Ye.call(ht)}}us(function(){yl(b,Te,c,ue)})}return Du(Te)}function ir(c,b){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ma(b))throw Error(a(200));return Gl(c,b,null,M)}var Yn=e("react"),Wn=e("object-assign"),Fn=e("scheduler");if(!Yn)throw Error(a(227));var Yr=new Set,uo={},co=!(typeof window=="undefined"||window.document===void 0||window.document.createElement===void 0),fo=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,el=Object.prototype.hasOwnProperty,$l={},Kl={},wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){wr[c]=new f(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var b=c[0];wr[b]=new f(b,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){wr[c]=new f(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){wr[c]=new f(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){wr[c]=new f(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){wr[c]=new f(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){wr[c]=new f(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){wr[c]=new f(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){wr[c]=new f(c,5,!1,c.toLowerCase(),null,!1,!1)});var wl=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var b=c.replace(wl,d);wr[b]=new f(b,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var b=c.replace(wl,d);wr[b]=new f(b,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var b=c.replace(wl,d);wr[b]=new f(b,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){wr[c]=new f(c,1,!1,c.toLowerCase(),null,!1,!1)}),wr.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){wr[c]=new f(c,1,!1,c.toLowerCase(),null,!0,!0)});var me=Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xe=60103,Ie=60106,Re=60107,Fe=60108,Ge=60114,ot=60109,tt=60110,ut=60112,yt=60113,Lt=60120,Jt=60115,Xt=60116,Ft=60121,yn=60128,Qn=60129,_r=60130,sn=60131;if(typeof Symbol=="function"&&Symbol.for){var Bn=Symbol.for;xe=Bn("react.element"),Ie=Bn("react.portal"),Re=Bn("react.fragment"),Fe=Bn("react.strict_mode"),Ge=Bn("react.profiler"),ot=Bn("react.provider"),tt=Bn("react.context"),ut=Bn("react.forward_ref"),yt=Bn("react.suspense"),Lt=Bn("react.suspense_list"),Jt=Bn("react.memo"),Xt=Bn("react.lazy"),Ft=Bn("react.block"),Bn("react.scope"),yn=Bn("react.opaque.id"),Qn=Bn("react.debug_trace_mode"),_r=Bn("react.offscreen"),sn=Bn("react.legacy_hidden")}var Gn,dr,Kn=typeof Symbol=="function"&&Symbol.iterator,Br=!1,ps={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Yl=function(c){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(b,M,ee,ue){MSApp.execUnsafeLocalFunction(function(){return c(b,M)})}:c}(function(c,b){if(c.namespaceURI!==ps.svg||"innerHTML"in c)c.innerHTML=b;else{for(dr=dr||document.createElement("div"),dr.innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=dr.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;b.firstChild;)c.appendChild(b.firstChild)}}),Oi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ql=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(c){Ql.forEach(function(b){b=b+c.charAt(0).toUpperCase()+c.substring(1),Oi[b]=Oi[c]})});var jl=Wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ms=null,Pi=null,Sr=null,hs=L,na=!1,po=!1,bs=!1;if(co)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){bs=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch(c){bs=!1}var Ra,Oa,An,rr,ar=!1,Do=null,qr=!1,Ho=null,vs={onError:function(c){ar=!0,Do=c}},_s=!1,Ur=[],xo=null,ra=null,Pa=null,Wo=new Map,pi=new Map,gs=[],oc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),La={animationend:Oe("Animation","AnimationEnd"),animationiteration:Oe("Animation","AnimationIteration"),animationstart:Oe("Animation","AnimationStart"),transitionend:Oe("Transition","TransitionEnd")},Mu={},ic={};co&&(ic=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);var Ru=at("animationend"),Jl=at("animationiteration"),ac=at("animationstart"),sc=at("transitionend"),lc=new Map,Zl=new Map,Xl=["abort","abort",Ru,"animationEnd",Jl,"animationIteration",ac,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",sc,"transitionEnd","waiting","waiting"];(0,Fn.unstable_now)();var kl,Ou,xl,Jn=8,Na=Math.clz32?Math.clz32:Ht,eu=Math.log,oa=Math.LN2,tu=Fn.unstable_UserBlockingPriority,nu=Fn.unstable_runWithPriority,ia=!0,aa=null,ys=null,ru=null,ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=Ae(ws),js=Wn({},ws,{view:0,detail:0}),uc=Ae(js),El=Wn({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:et,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==xl&&(xl&&c.type==="mousemove"?(kl=c.screenX-xl.screenX,Ou=c.screenY-xl.screenY):Ou=kl=0,xl=c),kl)},movementY:function(c){return"movementY"in c?c.movementY:Ou}}),ou=Ae(El),cc=Wn({},El,{dataTransfer:0}),tl=Ae(cc),gr=Wn({},js,{relatedTarget:0}),kr=Ae(gr),Fr=Wn({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Ae(Fr),iu=Wn({},ws,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),au=Ae(iu),Zc=Wn({},ws,{data:0}),Qr=Ae(Zc),dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},sa=Wn({},js,{key:function(c){if(c.key){var b=dc[c.key]||c.key;if(b!=="Unidentified")return b}return c.type==="keypress"?(c=Un(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?fc[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:et,charCode:function(c){return c.type==="keypress"?Un(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Un(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),mi=Ae(sa),su=Wn({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lu=Ae(su),mc=Wn({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:et}),Tc=Ae(mc),Ac=Wn({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dc=Ae(Ac),Mc=Wn({},El,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Rc=Ae(Mc),Oc=[9,13,27,32],Nu=co&&"CompositionEvent"in window,Sl=null;co&&"documentMode"in document&&(Sl=document.documentMode);var lu=co&&"TextEvent"in window&&!Sl,hc=co&&(!Nu||Sl&&8<Sl&&11>=Sl),uu=String.fromCharCode(32),cu=!1,nl=!1,bc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Cl=null,Il=null,vc=!1;if(co){var Vu;if(co){var du="oninput"in document;if(!du){var _c=document.createElement("div");_c.setAttribute("oninput","return;"),du=typeof _c.oninput=="function"}Vu=du}else Vu=!1;vc=Vu&&(!document.documentMode||9<document.documentMode)}var Go=typeof Object.is=="function"?Object.is:mn,Pc=Object.prototype.hasOwnProperty,Xc=co&&"documentMode"in document&&11>=document.documentMode,rl=null,gc=null,fu=null,Bu=!1;bt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),bt(Xl,2);for(var yc="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qu=0;qu<yc.length;qu++)Zl.set(yc[qu],0);o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),t("onBeforeInput",["compositionend","keypress","textInput","paste"]),t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu,wc,Lc,Nc,la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uu=new Set("cancel close invalid load scroll toggle".split(" ").concat(la)),Fu="_reactListening"+Math.random().toString(36).slice(2),jc=null,zu=null,kc=typeof setTimeout=="function"?setTimeout:void 0,Vc=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=0,mu=Math.random().toString(36).slice(2),ks="__reactFiber$"+mu,Jr="__reactProps$"+mu,Cr="__reactContainer$"+mu,xc="__reactEvents$"+mu,Wu=[],ol=-1,Va={},Zr=Lr(Va),mo=Lr(!1),xs=Va,hu=null,Es=null,Bc=Fn.unstable_runWithPriority,bu=Fn.unstable_scheduleCallback,vu=Fn.unstable_cancelCallback,qc=Fn.unstable_shouldYield,Gu=Fn.unstable_requestPaint,Tl=Fn.unstable_now,ed=Fn.unstable_getCurrentPriorityLevel,_u=Fn.unstable_ImmediatePriority,$u=Fn.unstable_UserBlockingPriority,Ec=Fn.unstable_NormalPriority,gu=Fn.unstable_LowPriority,ua=Fn.unstable_IdlePriority,Sc={},Uc=Gu!==void 0?Gu:function(){},Li=null,yu=null,Ku=!1,Al=Tl(),Zn=1e4>Al?Tl:function(){return Tl()-Al},td=me.ReactCurrentBatchConfig,Yu=Lr(null),il=null,xr=null,Qu=null,Kt=!1,al=new Yn.Component().refs,Dl={isMounted:function(c){return!!(c=c._reactInternals)&&je(c)===c},enqueueSetState:function(c,b,M){c=c._reactInternals;var ee=J(),ue=ve(c),ge=So(ee,ue);ge.payload=b,M!=null&&(ge.callback=M),ro(c,ge),Pe(c,ue,ee)},enqueueReplaceState:function(c,b,M){c=c._reactInternals;var ee=J(),ue=ve(c),ge=So(ee,ue);ge.tag=1,ge.payload=b,M!=null&&(ge.callback=M),ro(c,ge),Pe(c,ue,ee)},enqueueForceUpdate:function(c,b){c=c._reactInternals;var M=J(),ee=ve(c),ue=So(M,ee);ue.tag=2,b!=null&&(ue.callback=b),ro(c,ue),Pe(c,ee,M)}},wu=Array.isArray,Ju=xi(!0),Ml=xi(!1),Ss={},hi=Lr(Ss),Rl=Lr(Ss),Ol=Lr(Ss),jr=Lr(0),Ni=null,ca=null,fr=!1,ho=[],bi=me.ReactCurrentDispatcher,$o=me.ReactCurrentBatchConfig,Pl=0,Xn=null,Xr=null,pr=null,Zu=!1,Ll=!1,ju={readContext:Er,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useOpaqueIdentifier:vr,unstable_isNewReconciler:!1},Fc={readContext:Er,useCallback:function(c,b){return Ei().memoizedState=[c,b===void 0?null:b],c},useContext:Er,useEffect:xa,useImperativeHandle:function(c,b,M){return M=M!=null?M.concat([c]):null,Ja(4,2,Za.bind(null,b,c),M)},useLayoutEffect:function(c,b){return Ja(4,2,c,b)},useMemo:function(c,b){var M=Ei();return b=b===void 0?null:b,c=c(),M.memoizedState=[c,b],c},useReducer:function(c,b,M){var ee=Ei();return b=M!==void 0?M(b):b,ee.memoizedState=ee.baseState=b,c=ee.queue={pending:null,dispatch:null,lastRenderedReducer:c,lastRenderedState:b},c=c.dispatch=Hs.bind(null,Xn,c),[ee.memoizedState,c]},useRef:Ci,useState:ja,useDebugValue:Xa,useDeferredValue:function(c){var b=ja(c),M=b[0],ee=b[1];return xa(function(){var ue=$o.transition;$o.transition=1;try{ee(c)}finally{$o.transition=ue}},[c]),M},useTransition:function(){var c=ja(!1),b=c[0];return c=zs.bind(null,c[1]),Ci(c),[c,b]},useMutableSource:function(c,b,M){var ee=Ei();return ee.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:c,subscribe:M},Ul(ee,c,b,M)},useOpaqueIdentifier:function(){if(fr){var c=!1,b=ql(function(){throw c||(c=!0,M("r:"+(Hu++).toString(36))),Error(a(355))}),M=ja(b)[1];return!(2&Xn.mode)&&(Xn.flags|=516,qs(5,function(){M("r:"+(Hu++).toString(36))},void 0,null)),b}return b="r:"+(Hu++).toString(36),ja(b),b},unstable_isNewReconciler:!1},zc={readContext:Er,useCallback:Ea,useContext:Er,useEffect:oi,useImperativeHandle:Fs,useLayoutEffect:Us,useMemo:ii,useReducer:wa,useRef:ka,useState:function(){return wa(To)},useDebugValue:Xa,useDeferredValue:function(c){var b=wa(To),M=b[0],ee=b[1];return oi(function(){var ue=$o.transition;$o.transition=1;try{ee(c)}finally{$o.transition=ue}},[c]),M},useTransition:function(){var c=wa(To)[0];return[ka().current,c]},useMutableSource:ri,useOpaqueIdentifier:function(){return wa(To)[0]},unstable_isNewReconciler:!1},nd={readContext:Er,useCallback:Ea,useContext:Er,useEffect:oi,useImperativeHandle:Fs,useLayoutEffect:Us,useMemo:ii,useReducer:Si,useRef:ka,useState:function(){return Si(To)},useDebugValue:Xa,useDeferredValue:function(c){var b=Si(To),M=b[0],ee=b[1];return oi(function(){var ue=$o.transition;$o.transition=1;try{ee(c)}finally{$o.transition=ue}},[c]),M},useTransition:function(){var c=Si(To)[0];return[ka().current,c]},useMutableSource:ri,useOpaqueIdentifier:function(){return Si(To)[0]},unstable_isNewReconciler:!1},Xu=me.ReactCurrentOwner,Ko=!1,Mo={dehydrated:null,retryLane:0};pu=function(c,b){for(var M=b.child;M!==null;){if(M.tag===5||M.tag===6)c.appendChild(M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===b)break;for(;M.sibling===null;){if(M.return===null||M.return===b)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},wc=function(){},Lc=function(c,b,M,ee){var ue=c.memoizedProps;if(ue!==ee){c=b.stateNode,oo(hi.current);var ge=null;switch(M){case"input":ue=x(c,ue),ee=x(c,ee),ge=[];break;case"option":ue=P(c,ue),ee=P(c,ee),ge=[];break;case"select":ue=Wn({},ue,{value:void 0}),ee=Wn({},ee,{value:void 0}),ge=[];break;case"textarea":ue=z(c,ue),ee=z(c,ee),ge=[];break;default:typeof ue.onClick!="function"&&typeof ee.onClick=="function"&&(c.onclick=Ts)}H(M,ee);var Te;M=null;for(ht in ue)if(!ee.hasOwnProperty(ht)&&ue.hasOwnProperty(ht)&&ue[ht]!=null)if(ht==="style"){var Le=ue[ht];for(Te in Le)Le.hasOwnProperty(Te)&&(M||(M={}),M[Te]="")}else ht!=="dangerouslySetInnerHTML"&&ht!=="children"&&ht!=="suppressContentEditableWarning"&&ht!=="suppressHydrationWarning"&&ht!=="autoFocus"&&(uo.hasOwnProperty(ht)?ge||(ge=[]):(ge=ge||[]).push(ht,null));for(ht in ee){var Ye=ee[ht];if(Le=ue!=null?ue[ht]:void 0,ee.hasOwnProperty(ht)&&Ye!==Le&&(Ye!=null||Le!=null))if(ht==="style")if(Le){for(Te in Le)!Le.hasOwnProperty(Te)||Ye&&Ye.hasOwnProperty(Te)||(M||(M={}),M[Te]="");for(Te in Ye)Ye.hasOwnProperty(Te)&&Le[Te]!==Ye[Te]&&(M||(M={}),M[Te]=Ye[Te])}else M||(ge||(ge=[]),ge.push(ht,M)),M=Ye;else ht==="dangerouslySetInnerHTML"?(Ye=Ye?Ye.__html:void 0,Le=Le?Le.__html:void 0,Ye!=null&&Le!==Ye&&(ge=ge||[]).push(ht,Ye)):ht==="children"?typeof Ye!="string"&&typeof Ye!="number"||(ge=ge||[]).push(ht,""+Ye):ht!=="suppressContentEditableWarning"&&ht!=="suppressHydrationWarning"&&(uo.hasOwnProperty(ht)?(Ye!=null&&ht==="onScroll"&&Rn("scroll",c),ge||Le===Ye||(ge=[])):typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===yn?Ye.toString():(ge=ge||[]).push(ht,Ye))}M&&(ge=ge||[]).push("style",M);var ht=ge;(b.updateQueue=ht)&&(b.flags|=4)}},Nc=function(c,b,M,ee){M!==ee&&(b.flags|=4)};var zn,zr=typeof WeakMap=="function"?WeakMap:Map,Ir=typeof WeakSet=="function"?WeakSet:Set,eo=Math.ceil,bo=me.ReactCurrentDispatcher,Cs=me.ReactCurrentOwner,on=0,Mr=null,br=null,Rr=0,Ba=0,sl=Lr(0),er=0,Nl=null,Vi=0,Yo=0,qa=0,ku=0,da=null,Vl=0,fa=1/0,en=null,Is=!1,xu=null,Qo=null,Bi=!1,Or=null,vi=90,Jo=[],vo=[],pa=null,ll=0,Eu=null,ec=-1,_o=0,Su=0,ul=null,ma=!1;zn=function(c,b,M){var ee=b.lanes;if(c!==null)if(c.memoizedProps!==b.pendingProps||mo.current)Ko=!0;else{if(!(M&ee)){switch(Ko=!1,b.tag){case 3:ts(b),Ya();break;case 5:$a(b);break;case 1:ur(b.type)&&wi(b);break;case 4:Ki(b,b.stateNode.containerInfo);break;case 10:ee=b.memoizedProps.value;var ue=b.type._context;nr(Yu,ue._currentValue),ue._currentValue=ee;break;case 13:if(b.memoizedState!==null)return M&b.child.childLanes?ns(c,b,M):(nr(jr,1&jr.current),b=si(c,b,M),b!==null?b.sibling:null);nr(jr,1&jr.current);break;case 19:if(ee=(M&b.childLanes)!=0,(64&c.flags)!=0){if(ee)return $s(c,b,M);b.flags|=64}if(ue=b.memoizedState,ue!==null&&(ue.rendering=null,ue.tail=null,ue.lastEffect=null),nr(jr,jr.current),ee)break;return null;case 23:case 24:return b.lanes=0,Sa(c,b,M)}return si(c,b,M)}Ko=(16384&c.flags)!=0}else Ko=!1;switch(b.lanes=0,b.tag){case 2:if(ee=b.type,c!==null&&(c.alternate=null,b.alternate=null,b.flags|=2),c=b.pendingProps,ue=Eo(b,Zr.current),No(b,M),ue=Vs(null,b,ee,c,ue,M),b.flags|=1,typeof ue=="object"&&ue!==null&&typeof ue.render=="function"&&ue.$$typeof===void 0){if(b.tag=1,b.memoizedState=null,b.updateQueue=null,ur(ee)){var ge=!0;wi(b)}else ge=!1;b.memoizedState=ue.state!==null&&ue.state!==void 0?ue.state:null,Wa(b);var Te=ee.getDerivedStateFromProps;typeof Te=="function"&&_a(b,ee,Te,c),ue.updater=Dl,b.stateNode=ue,ue._reactInternals=b,ni(b,ee,c,M),b=Ti(null,b,ee,!0,ge,M)}else b.tag=0,io(null,b,ue,M),b=b.child;return b;case 16:ue=b.elementType;e:{switch(c!==null&&(c.alternate=null,b.alternate=null,b.flags|=2),c=b.pendingProps,ge=ue._init,ue=ge(ue._payload),b.type=ue,ge=b.tag=rc(ue),c=Nr(ue,c),ge){case 0:b=Bo(null,b,ue,c,M);break e;case 1:b=Gs(null,b,ue,c,M);break e;case 11:b=es(null,b,ue,c,M);break e;case 14:b=Ws(null,b,ue,Nr(ue.type,c),ee,M);break e}throw Error(a(306,ue,""))}return b;case 0:return ee=b.type,ue=b.pendingProps,ue=b.elementType===ee?ue:Nr(ee,ue),Bo(c,b,ee,ue,M);case 1:return ee=b.type,ue=b.pendingProps,ue=b.elementType===ee?ue:Nr(ee,ue),Gs(c,b,ee,ue,M);case 3:if(ts(b),ee=b.updateQueue,c===null||ee===null)throw Error(a(282));if(ee=b.pendingProps,ue=b.memoizedState,ue=ue!==null?ue.element:null,Vo(c,b),ei(b,ee,null,M),(ee=b.memoizedState.element)===ue)Ya(),b=si(c,b,M);else{if(ue=b.stateNode,(ge=ue.hydrate)&&(ca=Ro(b.stateNode.containerInfo.firstChild),Ni=b,ge=fr=!0),ge){if((c=ue.mutableSourceEagerHydrationData)!=null)for(ue=0;ue<c.length;ue+=2)ge=c[ue],ge._workInProgressVersionPrimary=c[ue+1],ho.push(ge);for(M=Ml(b,null,ee,M),b.child=M;M;)M.flags=-3&M.flags|1024,M=M.sibling}else io(c,b,ee,M),Ya();b=b.child}return b;case 5:return $a(b),c===null&&Ka(b),ee=b.type,ue=b.pendingProps,ge=c!==null?c.memoizedProps:null,Te=ue.children,Ln(ee,ue)?Te=null:ge!==null&&Ln(ee,ge)&&(b.flags|=16),ai(c,b),io(c,b,Te,M),b.child;case 6:return c===null&&Ka(b),null;case 13:return ns(c,b,M);case 4:return Ki(b,b.stateNode.containerInfo),ee=b.pendingProps,c===null?b.child=Ju(b,null,ee,M):io(c,b,ee,M),b.child;case 11:return ee=b.type,ue=b.pendingProps,ue=b.elementType===ee?ue:Nr(ee,ue),es(c,b,ee,ue,M);case 7:return io(c,b,b.pendingProps,M),b.child;case 8:case 12:return io(c,b,b.pendingProps.children,M),b.child;case 10:e:{ee=b.type._context,ue=b.pendingProps,Te=b.memoizedProps,ge=ue.value;var Le=b.type._context;if(nr(Yu,Le._currentValue),Le._currentValue=ge,Te!==null)if(Le=Te.value,(ge=Go(Le,ge)?0:0|(typeof ee._calculateChangedBits=="function"?ee._calculateChangedBits(Le,ge):1073741823))===0){if(Te.children===ue.children&&!mo.current){b=si(c,b,M);break e}}else for((Le=b.child)!==null&&(Le.return=b);Le!==null;){var Ye=Le.dependencies;if(Ye!==null){Te=Le.child;for(var ht=Ye.firstContext;ht!==null;){if(ht.context===ee&&ht.observedBits&ge){Le.tag===1&&(ht=So(-1,M&-M),ht.tag=2,ro(Le,ht)),Le.lanes|=M,ht=Le.alternate,ht!==null&&(ht.lanes|=M),Ha(Le.return,M),Ye.lanes|=M;break}ht=ht.next}}else Te=Le.tag===10&&Le.type===b.type?null:Le.child;if(Te!==null)Te.return=Le;else for(Te=Le;Te!==null;){if(Te===b){Te=null;break}if((Le=Te.sibling)!==null){Le.return=Te.return,Te=Le;break}Te=Te.return}Le=Te}io(c,b,ue.children,M),b=b.child}return b;case 9:return ue=b.type,ge=b.pendingProps,ee=ge.children,No(b,M),ue=Er(ue,ge.unstable_observedBits),ee=ee(ue),b.flags|=1,io(c,b,ee,M),b.child;case 14:return ue=b.type,ge=Nr(ue,b.pendingProps),ge=Nr(ue.type,ge),Ws(c,b,ue,ge,ee,M);case 15:return Ii(c,b,b.type,b.pendingProps,ee,M);case 17:return ee=b.type,ue=b.pendingProps,ue=b.elementType===ee?ue:Nr(ee,ue),c!==null&&(c.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,ur(ee)?(c=!0,wi(b)):c=!1,No(b,M),ti(b,ee,ue),ni(b,ee,ue,M),Ti(null,b,ee,!0,c,M);case 19:return $s(c,b,M);case 23:case 24:return Sa(c,b,M)}throw Error(a(156,b.tag))},ds.prototype.render=function(c){yl(c,this._internalRoot,null,null)},ds.prototype.unmount=function(){var c=this._internalRoot,b=c.containerInfo;yl(null,c,null,function(){b[Cr]=null})},Ra=function(c){c.tag===13&&(Pe(c,4,J()),Da(c,4))},Oa=function(c){c.tag===13&&(Pe(c,67108864,J()),Da(c,67108864))},An=function(c){if(c.tag===13){var b=J(),M=ve(c);Pe(c,M,b),Da(c,M)}},rr=function(c,b){return b()},ms=function(c,b,M){switch(b){case"input":if(C(c,M),b=M.name,M.type==="radio"&&b!=null){for(M=c;M.parentNode;)M=M.parentNode;for(M=M.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<M.length;b++){var ee=M[b];if(ee!==c&&ee.form===c.form){var ue=Wi(ee);if(!ue)throw Error(a(90));k(ee),C(ee,ue)}}}break;case"textarea":N(c,M);break;case"select":(b=M.value)!=null&&B(c,!!M.multiple,b,!1)}},L=Fo,G=function(c,b,M,ee,ue){var ge=on;on|=4;try{return ji(98,c.bind(null,b,M,ee,ue))}finally{(on=ge)===0&&($r(),Ar())}},le=function(){!(49&on)&&(Ia(),ea())},hs=function(c,b){var M=on;on|=2;try{return c(b)}finally{(on=M)===0&&($r(),Ar())}};var Cc={Events:[va,Xo,Wi,se,ie,ea,{current:!1}]},qi={findFiberByHostInstance:gi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Hc={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Qe(c),c===null?null:c.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||Xs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{hu=Cu.inject(Hc),Es=Cu}catch(c){}}i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cc,i.createPortal=ir,i.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var b=c._reactInternals;if(b===void 0)throw typeof c.render=="function"?Error(a(188)):Error(a(268,Object.keys(c)));return c=Qe(b),c=c===null?null:c.stateNode},i.flushSync=function(c,b){var M=on;if(48&M)return c(b);on|=1;try{if(c)return ji(99,c.bind(null,b))}finally{on=M,Ar()}},i.hydrate=function(c,b,M){if(!Ma(b))throw Error(a(200));return di(null,c,b,!0,M)},i.render=function(c,b,M){if(!Ma(b))throw Error(a(200));return di(null,c,b,!1,M)},i.unmountComponentAtNode=function(c){if(!Ma(c))throw Error(a(40));return!!c._reactRootContainer&&(us(function(){di(null,null,c,!1,function(){c._reactRootContainer=null,c[Cr]=null})}),!0)},i.unstable_batchedUpdates=Fo,i.unstable_createPortal=function(c,b){return ir(c,b,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},i.unstable_renderSubtreeIntoContainer=function(c,b,M,ee){if(!Ma(M))throw Error(a(200));if(c==null||c._reactInternals===void 0)throw Error(a(38));return di(c,b,M,!1,ee)},i.version="17.0.2"},{"object-assign":535,react:606,scheduler:613}],584:[function(e,l,i){"use strict";function a(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}a(),l.exports=e("./cjs/react-dom.production.min.js")},{"./cjs/react-dom.development.js":582,"./cjs/react-dom.production.min.js":583}],585:[function(e,l,i){"use strict";var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),u=a(e("@babel/runtime/helpers/possibleConstructorReturn")),n=a(e("@babel/runtime/helpers/getPrototypeOf")),s=a(e("@babel/runtime/helpers/assertThisInitialized")),f=a(e("@babel/runtime/helpers/inherits")),d=a(e("@babel/runtime/helpers/defineProperty")),m=a(e("react")),h=a(e("./TemplateContainer")),_=function(y){function S(){var v,T;(0,t.default)(this,S);for(var E=arguments.length,I=new Array(E),g=0;g<E;g++)I[g]=arguments[g];return T=(0,u.default)(this,(v=(0,n.default)(S)).call.apply(v,[this].concat(I))),(0,d.default)((0,s.default)(T),"_templateContainer",void 0),(0,d.default)((0,s.default)(T),"_templateContainerSetter",function(k){k&&(T._templateContainer=k)}),(0,d.default)((0,s.default)(T),"_el",void 0),(0,d.default)((0,s.default)(T),"_elSetter",function(k){k&&(T._el=k)}),(0,d.default)((0,s.default)(T),"_dragHandleProps",T.props.makeDragHandleProps(function(){return T.props.y})),T}return(0,f.default)(S,y),(0,o.default)(S,[{key:"getDOMNode",value:function(){return this._el}},{key:"getTemplate",value:function(){return this._templateContainer.getTemplate()}},{key:"shouldComponentUpdate",value:function(v){return this.props.anySelected!==v.anySelected||this.props.itemSelected!==v.itemSelected||this.props.item!==v.item||this.props.template!==v.template||this.props.y!==v.y||this.props.height!==v.height||this.props.zIndex!==v.zIndex||this.props.commonProps!==v.commonProps}},{key:"render",value:function(){var v=this.props,T=v.item,E=v.y,I=v.padding,g=v.itemSelected,k=v.anySelected,j=v.height,x=v.zIndex,A=v.template,w=v.commonProps;return m.default.createElement("div",{ref:this._elSetter,style:{position:E==null?"relative":"absolute",boxSizing:"border-box",left:"0px",right:"0px",top:E==null?"0px":"".concat(E,"px"),marginBottom:"".concat(I,"px"),height:E==null?"auto":"".concat(k*(j.drag-j.natural)+j.natural,"px"),zIndex:x}},m.default.createElement(h.default,{ref:this._templateContainerSetter,item:T,template:A,itemSelected:g,anySelected:k,dragHandleProps:this._dragHandleProps,commonProps:w}))}}]),S}(m.default.Component);i.default=_,l.exports=i.default,l.exports.default=i.default},{"./TemplateContainer":587,"@babel/runtime/helpers/assertThisInitialized":62,"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,react:606}],586:[function(e,l,i){"use strict";var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),u=a(e("@babel/runtime/helpers/possibleConstructorReturn")),n=a(e("@babel/runtime/helpers/getPrototypeOf")),s=a(e("@babel/runtime/helpers/inherits")),f=a(e("react")),d=function(m){function h(){return(0,t.default)(this,h),(0,u.default)(this,(0,n.default)(h).apply(this,arguments))}return(0,s.default)(h,m),(0,o.default)(h,[{key:"componentDidUpdate",value:function(){this.props.cb()}},{key:"render",value:function(){return null}}]),h}(f.default.Component);i.default=d,l.exports=i.default,l.exports.default=i.default},{"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,react:606}],587:[function(e,l,i){"use strict";var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),u=a(e("@babel/runtime/helpers/possibleConstructorReturn")),n=a(e("@babel/runtime/helpers/getPrototypeOf")),s=a(e("@babel/runtime/helpers/assertThisInitialized")),f=a(e("@babel/runtime/helpers/inherits")),d=a(e("@babel/runtime/helpers/defineProperty")),m=a(e("react")),h=function(_){function y(){var S,v;(0,t.default)(this,y);for(var T=arguments.length,E=new Array(T),I=0;I<T;I++)E[I]=arguments[I];return v=(0,u.default)(this,(S=(0,n.default)(y)).call.apply(S,[this].concat(E))),(0,d.default)((0,s.default)(v),"_template",void 0),(0,d.default)((0,s.default)(v),"_templateSetter",function(g){g&&(v._template=g)}),v}return(0,f.default)(y,_),(0,o.default)(y,[{key:"shouldComponentUpdate",value:function(S){return this.props.anySelected!==S.anySelected||this.props.itemSelected!==S.itemSelected||this.props.item!==S.item||this.props.template!==S.template||this.props.commonProps!==S.commonProps}},{key:"getTemplate",value:function(){return this._template}},{key:"render",value:function(){var S=this.props,v=S.item,T=S.itemSelected,E=S.anySelected,I=S.dragHandleProps,g=S.commonProps,k=this.props.template;return m.default.createElement(k,{ref:this._templateSetter,item:v,itemSelected:T,anySelected:E,dragHandleProps:I,commonProps:g})}}]),y}(m.default.Component);i.default=h,l.exports=i.default,l.exports.default=i.default},{"@babel/runtime/helpers/assertThisInitialized":62,"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,react:606}],588:[function(e,l,i){"use strict";function a(x,A,w){return Math.round(A-A/w*x)}var t=e("@babel/runtime/helpers/interopRequireWildcard"),o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime/helpers/objectSpread")),n=o(e("@babel/runtime/helpers/classCallCheck")),s=o(e("@babel/runtime/helpers/createClass")),f=o(e("@babel/runtime/helpers/possibleConstructorReturn")),d=o(e("@babel/runtime/helpers/getPrototypeOf")),m=o(e("@babel/runtime/helpers/assertThisInitialized")),h=o(e("@babel/runtime/helpers/inherits")),_=o(e("@babel/runtime/helpers/defineProperty")),y=t(e("react")),S=o(e("prop-types")),v=e("react-motion"),T=o(e("immutability-helper")),E=o(e("react-multi-ref")),I=o(e("./OnUpdate")),g=o(e("./MoveContainer")),k={natural:200,drag:30},j=function(x){function A(w){var C;return(0,n.default)(this,A),C=(0,f.default)(this,(0,d.default)(A).call(this,w)),(0,_.default)((0,m.default)(C),"_itemRefs",new E.default),(0,_.default)((0,m.default)(C),"_autoScrollerTimer",void 0),(0,_.default)((0,m.default)(C),"_listRef",y.createRef()),(0,_.default)((0,m.default)(C),"_handleTouchMove",function(O){O.preventDefault(),C._handleMouseMove(O.touches[0])}),(0,_.default)((0,m.default)(C),"_handleMouseMove",function(O){var V=O.pageY,R=O.clientY,P=C.props,B=P.list,z=P.autoScrollMaxSpeed,Q=P.autoScrollRegionSize,N=C.state,K=N.dragging,U=N.lastDrag;if(K&&U){var F=C._getContainer(),Z=C._getDragVisualIndex(),$=C._getKeyFn();if(clearInterval(C._autoScrollerTimer),Z!==0&&Z!==B.length-1){var ne=0,H=F&&F!==document.body&&F.getBoundingClientRect?F.getBoundingClientRect():{top:0,bottom:1/0},X=Math.max(0,H.top),oe=R-X;if(oe>0&&oe<Q)ne=-1*a(oe,z,Q);else{var Y=Math.min(window.innerHeight,H.bottom),se=Y-R;se>0&&se<Q&&(ne=a(se,z,Q))}ne!==0&&(C._scrollContainer(ne),C._autoScrollerTimer=setTimeout(function(){C._handleMouseMove({pageY:V+(F===document.body?ne:0),clientY:R})},16))}var ie=F&&F!==document.body?F.scrollTop:0,L=V-U.mouseOffset+ie;if(C.props.constrainDrag){var G=C._getVisualListDuringDrag();L=Math.max(L,C._getDistanceFromTopDuringDrag(U,$(G[0]),G)),L=Math.min(L,C._getDistanceFromTopDuringDrag(U,$(G[G.length-1]),G))}C.setState({lastDrag:(0,u.default)({},U,{mouseY:L})})}}),(0,_.default)((0,m.default)(C),"_handleMouseUp",function(){clearInterval(C._autoScrollerTimer),window.removeEventListener("mouseup",C._handleMouseUp),window.removeEventListener("touchend",C._handleMouseUp),window.removeEventListener("touchmove",C._handleTouchMove),window.removeEventListener("mousemove",C._handleMouseMove),document.documentElement&&(document.documentElement.style.cursor=""),C._lastScrollDelta=0;var O=C.props,V=O.list,R=O.onMoveEnd,P=C.state,B=P.dragging,z=P.lastDrag;if(B&&z&&R){var Q=C._getDragListIndex(),N=C._getDragVisualIndex();Q!==N&&R(C._getVisualListDuringDrag(),V[Q],Q,N),C.setState({dragging:!1})}}),(0,_.default)((0,m.default)(C),"_lastScrollDelta",0),C.state={useAbsolutePositioning:!1,dragging:!1,lastDrag:null,heights:null},C}return(0,h.default)(A,x),(0,s.default)(A,[{key:"getItemInstance",value:function(w){var C=this._itemRefs.map.get(w);if(!C)throw new Error("key not found");return C.getTemplate()}},{key:"componentWillUnmount",value:function(){this._handleMouseUp()}},{key:"_handleTouchStart",value:function(w,C,O){O.stopPropagation(),this._handleStartDrag(w,C,O.touches[0].pageY)}},{key:"_handleMouseDown",value:function(w,C,O){O.preventDefault(),this._handleStartDrag(w,C,O.pageY)}},{key:"_handleStartDrag",value:function(w,C,O){var V=this;document.documentElement&&(document.documentElement.style.cursor="move"),window.addEventListener("mouseup",this._handleMouseUp),window.addEventListener("touchend",this._handleMouseUp),window.addEventListener("touchmove",this._handleTouchMove),window.addEventListener("mousemove",this._handleMouseMove);var R=this._listRef.current;if(!R)throw new Error("Should not happen");R.contains&&document.activeElement&&R.contains(document.activeElement)&&document.activeElement.blur();var P=this._getKeyFn(),B=null;if(this.state.heights==null){var z=Object.create(null);this.props.list.forEach(function(N){var K=P(N),U=V._itemRefs.map.get(K),F=U?U.getDOMNode().firstElementChild:null,Z=U?U.getTemplate():null,$=F instanceof HTMLElement?F.offsetHeight:k.natural,ne=Z&&typeof Z.getDragHeight=="function"&&Z.getDragHeight()||$;z[K]={natural:$,drag:ne}}),B=z}var Q=function(){var N=V.props.list.map(P).indexOf(w),K=C==null?V._getDistance(0,N,!1):C,U=V._getContainer(),F=U&&U!==document.body?U.scrollTop:0;V.setState({useAbsolutePositioning:!0,dragging:!0,lastDrag:{itemKey:w,startY:K,mouseY:K,mouseOffset:O-K+F}})};B?this.setState({heights:B},Q):Q()}},{key:"_scrollContainer",value:function(w){var C=this._getContainer();C&&(window.scrollBy&&C===document.body?window.scrollBy(0,w):C.scrollTop+=w)}},{key:"_adjustScrollAtEnd",value:function(w){var C=Math.round(w-this._lastScrollDelta);this._scrollContainer(C),this._lastScrollDelta+=C}},{key:"_getDragListIndex",value:function(){var w=this.props.list,C=this.state.lastDrag;if(!C)throw new Error("No drag happened");var O=this._getKeyFn();return A._getIndexOfItemWithKey(O,w,C.itemKey)}},{key:"_getDragVisualIndex",value:function(){var w=this.props,C=w.list,O=w.padding,V=this.state,R=V.dragging,P=V.lastDrag;if(!R||!P)throw new Error("Should not happen");var B=this._getDragListIndex(),z=P.mouseY,Q=P.startY,N=z-Q,K=N>0?1:N<0?-1:0,U=B;if(K!==0)for(var F=this._getKeyFn(),Z=Math.abs(N),$=B+K;$<C.length&&$>=0;$+=K){var ne=this._getItemHeight(F(C[$])).drag;if(Z<ne/2+O)break;Z-=ne+O,U=$}return U}},{key:"_getVisualListDuringDrag",value:function(){var w=this.props.list,C=this.state,O=C.dragging,V=C.lastDrag;if(!O||!V)throw new Error("Should not happen: _getVisualListDuringDrag called outside of drag");var R=this._getDragListIndex(),P=this._getDragVisualIndex();return(0,T.default)(w,{$splice:[[R,1],[P,0,w[R]]]})}},{key:"_getItemHeight",value:function(w){return this.state.heights!=null&&w in this.state.heights?this.state.heights[w]:k}},{key:"_getDistance",value:function(w,C,O){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.props.list;if(C<w)return-this._getDistance(C,w,O,V);for(var R=this.props.padding,P=this._getKeyFn(),B=0,z=w;z<C;z++){var Q=this._getItemHeight(P(V[z]));B+=(O?Q.drag:Q.natural)+R}return B}},{key:"_getDistanceFromTopDuringDrag",value:function(w,C,O){var V=this._getKeyFn(),R=A._getIndexOfItemWithKey(V,O,C),P=this._getDragListIndex(),B=A._getIndexOfItemWithKey(V,O,w.itemKey),z=0;if(B<P){var Q=this._getItemHeight(w.itemKey),N=this._getItemHeight(V(O[P]));z=Q.drag-N.drag}return w.startY+z+this._getDistance(P,R,!0,O)}},{key:"_getContainer",value:function(){var w=this.props.container;return w?w():null}},{key:"_getKeyFn",value:function(){return A._getKeyFn(this.props.itemKey)}},{key:"render",value:function(){var w=this,C=this.props,O=C.list,V=C.springConfig,R=C.container,P=C.padding,B=C.template,z=C.unsetZIndex,Q=C.commonProps,N=this.state,K=N.dragging,U=N.lastDrag,F=N.useAbsolutePositioning,Z=this._getKeyFn(),$=(0,v.spring)(K?1:0,V),ne=K?this._getVisualListDuringDrag():O,H=O.map(function(ie,L){var G=Z(ie),le=K&&U&&U.itemKey===G?{itemSelected:(0,v.spring)(1,V),y:U.mouseY}:{itemSelected:(0,v.spring)(0,V),y:(F?v.spring:function(W,te){return W})(K&&U?w._getDistanceFromTopDuringDrag(U,G,ne):w._getDistance(0,L,!1),V)},pe=(0,u.default)({anySelected:$},le),we=function(W){return{onMouseDown:function(te){return w._handleMouseDown(G,W(),te)},onTouchStart:function(te){return w._handleTouchStart(G,W(),te)}}},ye=w._getItemHeight(G);return y.createElement(v.Motion,{style:pe,key:G,children:function(W){var te=W.itemSelected,ce=W.anySelected,je=W.y;return y.createElement(g.default,{ref:w._itemRefs.ref(G),y:F?je:null,template:B,padding:P,item:ie,itemSelected:te,anySelected:ce,height:ye,zIndex:z&&!F?"auto":U&&U.itemKey===G?O.length:L,makeDragHandleProps:we,commonProps:Q})}})}),X=0;if(!K&&U&&F){var oe=this._getDragListIndex();X=(0,v.spring)(this._getDistance(0,oe,!1)-U.mouseY,V)}var Y=0,se=0;return O.length&&(se=P,F&&(Y=this._getDistance(0,O.length,!1)-P)),y.createElement("div",{style:{position:"relative"},ref:this._listRef},y.createElement(v.Motion,{style:{adjustScroll:X,anySelected:$},onRest:function(){K||w.setState({heights:null,useAbsolutePositioning:!1})},children:function(ie){var L=ie.adjustScroll;return y.createElement("div",{style:{display:F?"block":"none",height:"".concat(Y,"px"),marginBottom:"".concat(se,"px")}},R&&y.createElement(I.default,{cb:function(){!K&&U&&F&&w._adjustScrollAtEnd(L)}}))}}),H)}}],[{key:"getDerivedStateFromProps",value:function(w,C){var O=w.list,V=C.lastDrag;if(V){var R=A._getKeyFn(w.itemKey);try{A._getIndexOfItemWithKey(R,O,V.itemKey)}catch(P){return{dragging:!1,lastDrag:null}}}return null}},{key:"_getIndexOfItemWithKey",value:function(w,C,O){for(var V=0,R=C.length;V<R;V++)if(w(C[V])===O)return V;throw new Error("Failed to find drag index")}},{key:"_getKeyFn",value:function(w){return typeof w=="function"?w:function(C){return C[w]}}}]),A}(y.Component);i.default=j,(0,_.default)(j,"propTypes",{itemKey:S.default.oneOfType([S.default.string,S.default.func]).isRequired,template:S.default.func,list:S.default.array.isRequired,onMoveEnd:S.default.func,container:S.default.func,springConfig:S.default.object,constrainDrag:S.default.bool,padding:S.default.number,unsetZIndex:S.default.bool,autoScrollMaxSpeed:S.default.number.isRequired,autoScrollRegionSize:S.default.number.isRequired,commonProps:S.default.object}),(0,_.default)(j,"defaultProps",{springConfig:{stiffness:300,damping:50},padding:10,unsetZIndex:!1,constrainDrag:!1,autoScrollMaxSpeed:15,autoScrollRegionSize:30}),l.exports=i.default,l.exports.default=i.default},{"./MoveContainer":585,"./OnUpdate":586,"@babel/runtime/helpers/assertThisInitialized":62,"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/interopRequireWildcard":70,"@babel/runtime/helpers/objectSpread":73,"@babel/runtime/helpers/possibleConstructorReturn":76,"immutability-helper":317,"prop-types":572,react:606,"react-motion":595,"react-multi-ref":601}],589:[function(e,l,i){"use strict";function a(C){return C&&C.__esModule?C:{default:C}}function t(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function o(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}i.__esModule=!0;var u=Object.assign||function(C){for(var O=1;O<arguments.length;O++){var V=arguments[O];for(var R in V)Object.prototype.hasOwnProperty.call(V,R)&&(C[R]=V[R])}return C},n=function(){function C(O,V){for(var R=0;R<V.length;R++){var P=V[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,V,R){return V&&C(O.prototype,V),R&&C(O,R),O}}(),s=e("./mapToZero"),f=a(s),d=e("./stripStyle"),m=a(d),h=e("./stepper"),_=a(h),y=e("performance-now"),S=a(y),v=e("raf"),T=a(v),E=e("./shouldStopAnimation"),I=a(E),g=e("react"),k=a(g),j=e("prop-types"),x=a(j),A=1e3/60,w=function(C){function O(V){var R=this;t(this,O),C.call(this,V),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(P){var B=!1,z=R.state,Q=z.currentStyle,N=z.currentVelocity,K=z.lastIdealStyle,U=z.lastIdealVelocity;for(var F in P)if(Object.prototype.hasOwnProperty.call(P,F)){var Z=P[F];typeof Z=="number"&&(B||(B=!0,Q=u({},Q),N=u({},N),K=u({},K),U=u({},U)),Q[F]=Z,N[F]=0,K[F]=Z,U[F]=0)}B&&R.setState({currentStyle:Q,currentVelocity:N,lastIdealStyle:K,lastIdealVelocity:U})},this.startAnimationIfNecessary=function(){R.animationID=T.default(function(P){var B=R.props.style;if(I.default(R.state.currentStyle,B,R.state.currentVelocity))return R.wasAnimating&&R.props.onRest&&R.props.onRest(),R.animationID=null,R.wasAnimating=!1,void(R.accumulatedTime=0);R.wasAnimating=!0;var z=P||S.default(),Q=z-R.prevTime;if(R.prevTime=z,R.accumulatedTime=R.accumulatedTime+Q,R.accumulatedTime>10*A&&(R.accumulatedTime=0),R.accumulatedTime===0)return R.animationID=null,void R.startAnimationIfNecessary();var N=(R.accumulatedTime-Math.floor(R.accumulatedTime/A)*A)/A,K=Math.floor(R.accumulatedTime/A),U={},F={},Z={},$={};for(var ne in B)if(Object.prototype.hasOwnProperty.call(B,ne)){var H=B[ne];if(typeof H=="number")Z[ne]=H,$[ne]=0,U[ne]=H,F[ne]=0;else{for(var X=R.state.lastIdealStyle[ne],oe=R.state.lastIdealVelocity[ne],Y=0;Y<K;Y++){var se=_.default(A/1e3,X,oe,H.val,H.stiffness,H.damping,H.precision);X=se[0],oe=se[1]}var ie=_.default(A/1e3,X,oe,H.val,H.stiffness,H.damping,H.precision),L=ie[0],G=ie[1];Z[ne]=X+(L-X)*N,$[ne]=oe+(G-oe)*N,U[ne]=X,F[ne]=oe}}R.animationID=null,R.accumulatedTime-=K*A,R.setState({currentStyle:Z,currentVelocity:$,lastIdealStyle:U,lastIdealVelocity:F}),R.unreadPropStyle=null,R.startAnimationIfNecessary()})},this.state=this.defaultState()}return o(O,C),n(O,null,[{key:"propTypes",value:{defaultStyle:x.default.objectOf(x.default.number),style:x.default.objectOf(x.default.oneOfType([x.default.number,x.default.object])).isRequired,children:x.default.func.isRequired,onRest:x.default.func},enumerable:!0}]),O.prototype.defaultState=function(){var V=this.props,R=V.defaultStyle,P=V.style,B=R||m.default(P),z=f.default(B);return{currentStyle:B,currentVelocity:z,lastIdealStyle:B,lastIdealVelocity:z}},O.prototype.componentDidMount=function(){this.prevTime=S.default(),this.startAnimationIfNecessary()},O.prototype.componentWillReceiveProps=function(V){this.unreadPropStyle!=null&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=V.style,this.animationID==null&&(this.prevTime=S.default(),this.startAnimationIfNecessary())},O.prototype.componentWillUnmount=function(){this.animationID!=null&&(T.default.cancel(this.animationID),this.animationID=null)},O.prototype.render=function(){var V=this.props.children(this.state.currentStyle);return V&&k.default.Children.only(V)},O}(k.default.Component);i.default=w,l.exports=i.default},{"./mapToZero":592,"./shouldStopAnimation":597,"./stepper":599,"./stripStyle":600,"performance-now":546,"prop-types":572,raf:580,react:606}],590:[function(e,l,i){"use strict";function a(O){return O&&O.__esModule?O:{default:O}}function t(O,V){if(!(O instanceof V))throw new TypeError("Cannot call a class as a function")}function o(O,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);O.prototype=Object.create(V&&V.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(O,V):O.__proto__=V)}function u(O,V,R){for(var P=0;P<O.length;P++)if(!g.default(O[P],V[P],R[P]))return!1;return!0}i.__esModule=!0;var n=Object.assign||function(O){for(var V=1;V<arguments.length;V++){var R=arguments[V];for(var P in R)Object.prototype.hasOwnProperty.call(R,P)&&(O[P]=R[P])}return O},s=function(){function O(V,R){for(var P=0;P<R.length;P++){var B=R[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(V,B.key,B)}}return function(V,R,P){return R&&O(V.prototype,R),P&&O(V,P),V}}(),f=e("./mapToZero"),d=a(f),m=e("./stripStyle"),h=a(m),_=e("./stepper"),y=a(_),S=e("performance-now"),v=a(S),T=e("raf"),E=a(T),I=e("./shouldStopAnimation"),g=a(I),k=e("react"),j=a(k),x=e("prop-types"),A=a(x),w=1e3/60,C=function(O){function V(R){var P=this;t(this,V),O.call(this,R),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(B){for(var z=P.state,Q=z.currentStyles,N=z.currentVelocities,K=z.lastIdealStyles,U=z.lastIdealVelocities,F=!1,Z=0;Z<B.length;Z++){var $=B[Z],ne=!1;for(var H in $)if(Object.prototype.hasOwnProperty.call($,H)){var X=$[H];typeof X=="number"&&(ne||(ne=!0,F=!0,Q[Z]=n({},Q[Z]),N[Z]=n({},N[Z]),K[Z]=n({},K[Z]),U[Z]=n({},U[Z])),Q[Z][H]=X,N[Z][H]=0,K[Z][H]=X,U[Z][H]=0)}}F&&P.setState({currentStyles:Q,currentVelocities:N,lastIdealStyles:K,lastIdealVelocities:U})},this.startAnimationIfNecessary=function(){P.animationID=E.default(function(B){var z=P.props.styles(P.state.lastIdealStyles);if(u(P.state.currentStyles,z,P.state.currentVelocities))return P.animationID=null,void(P.accumulatedTime=0);var Q=B||v.default(),N=Q-P.prevTime;if(P.prevTime=Q,P.accumulatedTime=P.accumulatedTime+N,P.accumulatedTime>10*w&&(P.accumulatedTime=0),P.accumulatedTime===0)return P.animationID=null,void P.startAnimationIfNecessary();for(var K=(P.accumulatedTime-Math.floor(P.accumulatedTime/w)*w)/w,U=Math.floor(P.accumulatedTime/w),F=[],Z=[],$=[],ne=[],H=0;H<z.length;H++){var X=z[H],oe={},Y={},se={},ie={};for(var L in X)if(Object.prototype.hasOwnProperty.call(X,L)){var G=X[L];if(typeof G=="number")oe[L]=G,Y[L]=0,se[L]=G,ie[L]=0;else{for(var le=P.state.lastIdealStyles[H][L],pe=P.state.lastIdealVelocities[H][L],we=0;we<U;we++){var ye=y.default(w/1e3,le,pe,G.val,G.stiffness,G.damping,G.precision);le=ye[0],pe=ye[1]}var W=y.default(w/1e3,le,pe,G.val,G.stiffness,G.damping,G.precision),te=W[0],ce=W[1];oe[L]=le+(te-le)*K,Y[L]=pe+(ce-pe)*K,se[L]=le,ie[L]=pe}}$[H]=oe,ne[H]=Y,F[H]=se,Z[H]=ie}P.animationID=null,P.accumulatedTime-=U*w,P.setState({currentStyles:$,currentVelocities:ne,lastIdealStyles:F,lastIdealVelocities:Z}),P.unreadPropStyles=null,P.startAnimationIfNecessary()})},this.state=this.defaultState()}return o(V,O),s(V,null,[{key:"propTypes",value:{defaultStyles:A.default.arrayOf(A.default.objectOf(A.default.number)),styles:A.default.func.isRequired,children:A.default.func.isRequired},enumerable:!0}]),V.prototype.defaultState=function(){var R=this.props,P=R.defaultStyles,B=R.styles,z=P||B().map(h.default),Q=z.map(function(N){return d.default(N)});return{currentStyles:z,currentVelocities:Q,lastIdealStyles:z,lastIdealVelocities:Q}},V.prototype.componentDidMount=function(){this.prevTime=v.default(),this.startAnimationIfNecessary()},V.prototype.componentWillReceiveProps=function(R){this.unreadPropStyles!=null&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=R.styles(this.state.lastIdealStyles),this.animationID==null&&(this.prevTime=v.default(),this.startAnimationIfNecessary())},V.prototype.componentWillUnmount=function(){this.animationID!=null&&(E.default.cancel(this.animationID),this.animationID=null)},V.prototype.render=function(){var R=this.props.children(this.state.currentStyles);return R&&j.default.Children.only(R)},V}(j.default.Component);i.default=C,l.exports=i.default},{"./mapToZero":592,"./shouldStopAnimation":597,"./stepper":599,"./stripStyle":600,"performance-now":546,"prop-types":572,raf:580,react:606}],591:[function(e,l,i){"use strict";function a(B){return B&&B.__esModule?B:{default:B}}function t(B,z){if(!(B instanceof z))throw new TypeError("Cannot call a class as a function")}function o(B,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);B.prototype=Object.create(z&&z.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(B,z):B.__proto__=z)}function u(B,z,Q){var N=z;return N==null?B.map(function(K,U){return{key:K.key,data:K.data,style:Q[U]}}):B.map(function(K,U){for(var F=0;F<N.length;F++)if(N[F].key===K.key)return{key:N[F].key,data:N[F].data,style:Q[U]};return{key:K.key,data:K.data,style:Q[U]}})}function n(B,z,Q,N){if(N.length!==z.length)return!1;for(var K=0;K<N.length;K++)if(N[K].key!==z[K].key)return!1;for(var K=0;K<N.length;K++)if(!A.default(B[K],z[K].style,Q[K]))return!1;return!0}function s(B,z,Q,N,K,U,F,Z,$){for(var ne=E.default(N,K,function(we,ye){var W=z(ye);return W==null?(Q({key:ye.key,data:ye.data}),null):A.default(U[we],W,F[we])?(Q({key:ye.key,data:ye.data}),null):{key:ye.key,data:ye.data,style:W}}),H=[],X=[],oe=[],Y=[],se=0;se<ne.length;se++){for(var ie=ne[se],L=null,G=0;G<N.length;G++)if(N[G].key===ie.key){L=G;break}if(L==null){var le=B(ie);H[se]=le,oe[se]=le;var pe=h.default(ie.style);X[se]=pe,Y[se]=pe}else H[se]=U[L],oe[se]=Z[L],X[se]=F[L],Y[se]=$[L]}return[ne,H,X,oe,Y]}i.__esModule=!0;var f=Object.assign||function(B){for(var z=1;z<arguments.length;z++){var Q=arguments[z];for(var N in Q)Object.prototype.hasOwnProperty.call(Q,N)&&(B[N]=Q[N])}return B},d=function(){function B(z,Q){for(var N=0;N<Q.length;N++){var K=Q[N];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(z,K.key,K)}}return function(z,Q,N){return Q&&B(z.prototype,Q),N&&B(z,N),z}}(),m=e("./mapToZero"),h=a(m),_=e("./stripStyle"),y=a(_),S=e("./stepper"),v=a(S),T=e("./mergeDiff"),E=a(T),I=e("performance-now"),g=a(I),k=e("raf"),j=a(k),x=e("./shouldStopAnimation"),A=a(x),w=e("react"),C=a(w),O=e("prop-types"),V=a(O),R=1e3/60,P=function(B){function z(Q){var N=this;t(this,z),B.call(this,Q),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(K){for(var U=s(N.props.willEnter,N.props.willLeave,N.props.didLeave,N.state.mergedPropsStyles,K,N.state.currentStyles,N.state.currentVelocities,N.state.lastIdealStyles,N.state.lastIdealVelocities),F=U[0],Z=U[1],$=U[2],ne=U[3],H=U[4],X=0;X<K.length;X++){var oe=K[X].style,Y=!1;for(var se in oe)if(Object.prototype.hasOwnProperty.call(oe,se)){var ie=oe[se];typeof ie=="number"&&(Y||(Y=!0,Z[X]=f({},Z[X]),$[X]=f({},$[X]),ne[X]=f({},ne[X]),H[X]=f({},H[X]),F[X]={key:F[X].key,data:F[X].data,style:f({},F[X].style)}),Z[X][se]=ie,$[X][se]=0,ne[X][se]=ie,H[X][se]=0,F[X].style[se]=ie)}}N.setState({currentStyles:Z,currentVelocities:$,mergedPropsStyles:F,lastIdealStyles:ne,lastIdealVelocities:H})},this.startAnimationIfNecessary=function(){N.unmounting||(N.animationID=j.default(function(K){if(!N.unmounting){var U=N.props.styles,F=typeof U=="function"?U(u(N.state.mergedPropsStyles,N.unreadPropStyles,N.state.lastIdealStyles)):U;if(n(N.state.currentStyles,F,N.state.currentVelocities,N.state.mergedPropsStyles))return N.animationID=null,void(N.accumulatedTime=0);var Z=K||g.default(),$=Z-N.prevTime;if(N.prevTime=Z,N.accumulatedTime=N.accumulatedTime+$,N.accumulatedTime>10*R&&(N.accumulatedTime=0),N.accumulatedTime===0)return N.animationID=null,void N.startAnimationIfNecessary();for(var ne=(N.accumulatedTime-Math.floor(N.accumulatedTime/R)*R)/R,H=Math.floor(N.accumulatedTime/R),X=s(N.props.willEnter,N.props.willLeave,N.props.didLeave,N.state.mergedPropsStyles,F,N.state.currentStyles,N.state.currentVelocities,N.state.lastIdealStyles,N.state.lastIdealVelocities),oe=X[0],Y=X[1],se=X[2],ie=X[3],L=X[4],G=0;G<oe.length;G++){var le=oe[G].style,pe={},we={},ye={},W={};for(var te in le)if(Object.prototype.hasOwnProperty.call(le,te)){var ce=le[te];if(typeof ce=="number")pe[te]=ce,we[te]=0,ye[te]=ce,W[te]=0;else{for(var je=ie[G][te],be=L[G][te],Ne=0;Ne<H;Ne++){var He=v.default(R/1e3,je,be,ce.val,ce.stiffness,ce.damping,ce.precision);je=He[0],be=He[1]}var Qe=v.default(R/1e3,je,be,ce.val,ce.stiffness,ce.damping,ce.precision),Be=Qe[0],Je=Qe[1];pe[te]=je+(Be-je)*ne,we[te]=be+(Je-be)*ne,ye[te]=je,W[te]=be}}ie[G]=ye,L[G]=W,Y[G]=pe,se[G]=we}N.animationID=null,N.accumulatedTime-=H*R,N.setState({currentStyles:Y,currentVelocities:se,lastIdealStyles:ie,lastIdealVelocities:L,mergedPropsStyles:oe}),N.unreadPropStyles=null,N.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return o(z,B),d(z,null,[{key:"propTypes",value:{defaultStyles:V.default.arrayOf(V.default.shape({key:V.default.string.isRequired,data:V.default.any,style:V.default.objectOf(V.default.number).isRequired})),styles:V.default.oneOfType([V.default.func,V.default.arrayOf(V.default.shape({key:V.default.string.isRequired,data:V.default.any,style:V.default.objectOf(V.default.oneOfType([V.default.number,V.default.object])).isRequired}))]).isRequired,children:V.default.func.isRequired,willEnter:V.default.func,willLeave:V.default.func,didLeave:V.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(Q){return y.default(Q.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),z.prototype.defaultState=function(){var Q=this.props,N=Q.defaultStyles,K=Q.styles,U=Q.willEnter,F=Q.willLeave,Z=Q.didLeave,$=typeof K=="function"?K(N):K,ne=void 0;ne=N==null?$:N.map(function(se){for(var ie=0;ie<$.length;ie++)if($[ie].key===se.key)return $[ie];return se});var H=N==null?$.map(function(se){return y.default(se.style)}):N.map(function(se){return y.default(se.style)}),X=N==null?$.map(function(se){return h.default(se.style)}):N.map(function(se){return h.default(se.style)}),oe=s(U,F,Z,ne,$,H,X,H,X),Y=oe[0];return{currentStyles:oe[1],currentVelocities:oe[2],lastIdealStyles:oe[3],lastIdealVelocities:oe[4],mergedPropsStyles:Y}},z.prototype.componentDidMount=function(){this.prevTime=g.default(),this.startAnimationIfNecessary()},z.prototype.componentWillReceiveProps=function(Q){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var N=Q.styles;this.unreadPropStyles=typeof N=="function"?N(u(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):N,this.animationID==null&&(this.prevTime=g.default(),this.startAnimationIfNecessary())},z.prototype.componentWillUnmount=function(){this.unmounting=!0,this.animationID!=null&&(j.default.cancel(this.animationID),this.animationID=null)},z.prototype.render=function(){var Q=u(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),N=this.props.children(Q);return N&&C.default.Children.only(N)},z}(C.default.Component);i.default=P,l.exports=i.default},{"./mapToZero":592,"./mergeDiff":593,"./shouldStopAnimation":597,"./stepper":599,"./stripStyle":600,"performance-now":546,"prop-types":572,raf:580,react:606}],592:[function(e,l,i){"use strict";function a(t){var o={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(o[u]=0);return o}i.__esModule=!0,i.default=a,l.exports=i.default},{}],593:[function(e,l,i){"use strict";function a(t,o,u){for(var n={},s=0;s<t.length;s++)n[t[s].key]=s;for(var f={},s=0;s<o.length;s++)f[o[s].key]=s;for(var d=[],s=0;s<o.length;s++)d[s]=o[s];for(var s=0;s<t.length;s++)if(!Object.prototype.hasOwnProperty.call(f,t[s].key)){var m=u(s,t[s]);m!=null&&d.push(m)}return d.sort(function(h,_){var y=f[h.key],S=f[_.key],v=n[h.key],T=n[_.key];if(y!=null&&S!=null)return f[h.key]-f[_.key];if(v!=null&&T!=null)return n[h.key]-n[_.key];if(y!=null){for(var E=0;E<o.length;E++){var I=o[E].key;if(Object.prototype.hasOwnProperty.call(n,I)){if(y<f[I]&&T>n[I])return-1;if(y>f[I]&&T<n[I])return 1}}return 1}for(var E=0;E<o.length;E++){var I=o[E].key;if(Object.prototype.hasOwnProperty.call(n,I)){if(S<f[I]&&v>n[I])return 1;if(S>f[I]&&v<n[I])return-1}}return-1})}i.__esModule=!0,i.default=a,l.exports=i.default},{}],594:[function(e,l,i){"use strict";i.__esModule=!0,i.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},l.exports=i.default},{}],595:[function(e,l,i){"use strict";function a(m){return m&&m.__esModule?m.default:m}i.__esModule=!0;var t=e("./Motion");i.Motion=a(t);var o=e("./StaggeredMotion");i.StaggeredMotion=a(o);var u=e("./TransitionMotion");i.TransitionMotion=a(u);var n=e("./spring");i.spring=a(n);var s=e("./presets");i.presets=a(s);var f=e("./stripStyle");i.stripStyle=a(f);var d=e("./reorderKeys");i.reorderKeys=a(d)},{"./Motion":589,"./StaggeredMotion":590,"./TransitionMotion":591,"./presets":594,"./reorderKeys":596,"./spring":598,"./stripStyle":600}],596:[function(e,l,i){(function(a){(function(){"use strict";function t(){a.env.NODE_ENV==="development"&&(o||(o=!0,console.error("`reorderKeys` has been removed, since it is no longer needed for TransitionMotion's new styles array API.")))}i.__esModule=!0,i.default=t;var o=!1;l.exports=i.default}).call(this)}).call(this,e("_process"))},{_process:568}],597:[function(e,l,i){"use strict";function a(t,o,u){for(var n in o)if(Object.prototype.hasOwnProperty.call(o,n)){if(u[n]!==0)return!1;var s=typeof o[n]=="number"?o[n]:o[n].val;if(t[n]!==s)return!1}return!0}i.__esModule=!0,i.default=a,l.exports=i.default},{}],598:[function(e,l,i){"use strict";function a(s,f){return t({},n,f,{val:s})}i.__esModule=!0;var t=Object.assign||function(s){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(s[m]=d[m])}return s};i.default=a;var o=e("./presets"),u=function(s){return s&&s.__esModule?s:{default:s}}(o),n=t({},u.default.noWobble,{precision:.01});l.exports=i.default},{"./presets":594}],599:[function(e,l,i){"use strict";function a(o,u,n,s,f,d,m){var h=-f*(u-s),_=-d*n,y=h+_,S=n+y*o,v=u+S*o;return Math.abs(S)<m&&Math.abs(v-s)<m?(t[0]=s,t[1]=0,t):(t[0]=v,t[1]=S,t)}i.__esModule=!0,i.default=a;var t=[0,0];l.exports=i.default},{}],600:[function(e,l,i){"use strict";function a(t){var o={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(o[u]=typeof t[u]=="number"?t[u]:t[u].val);return o}i.__esModule=!0,i.default=a,l.exports=i.default},{}],601:[function(e,l,i){"use strict";var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),u=a(e("@babel/runtime/helpers/defineProperty")),n=function(){function s(){(0,t.default)(this,s),(0,u.default)(this,"map",new Map),(0,u.default)(this,"_refFns",new Map)}return(0,o.default)(s,[{key:"ref",value:function(f){var d=this,m=this._refFns.get(f);return m||(m=function(h){h==null?(d._refFns.delete(f),d.map.delete(f)):d.map.set(f,h)},this._refFns.set(f,m)),m}}]),s}();i.default=n},{"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/interopRequireDefault":69}],602:[function(e,l,i){"use strict";function a(t){var o=/(\d+(?:\.\d+)?|\.\d+)(m?s)\b/i.exec(t);if(!o)throw new Error("Could not parse time from transition value");return Number(o[1])*(o[2].length===1?1e3:1)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a},{}],603:[function(e,l,i){"use strict";var a=e("@babel/runtime/helpers/interopRequireWildcard"),t=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime/helpers/extends")),u=t(e("@babel/runtime/helpers/objectWithoutProperties")),n=t(e("@babel/runtime/helpers/classCallCheck")),s=t(e("@babel/runtime/helpers/createClass")),f=t(e("@babel/runtime/helpers/possibleConstructorReturn")),d=t(e("@babel/runtime/helpers/getPrototypeOf")),m=t(e("@babel/runtime/helpers/assertThisInitialized")),h=t(e("@babel/runtime/helpers/inherits")),_=t(e("@babel/runtime/helpers/defineProperty")),y=a(e("react")),S=t(e("prop-types")),v=t(e("./getTransitionTimeMs")),T=function(E){function I(g){var k;return(0,n.default)(this,I),k=(0,f.default)(this,(0,d.default)(I).call(this,g)),(0,_.default)((0,m.default)(k),"_removeTransitionEndListener",function(){}),(0,_.default)((0,m.default)(k),"_main",y.createRef()),(0,_.default)((0,m.default)(k),"_inner",y.createRef()),(0,_.default)((0,m.default)(k),"_onNextTransitionEnd",function(j,x){k._removeTransitionEndListener();var A,w=function(){k._removeTransitionEndListener(),x()};k._removeTransitionEndListener=function(){k._removeTransitionEndListener=function(){},clearTimeout(A),j.removeEventListener("transitionend",w)},j.addEventListener("transitionend",w);var C=1.1*(0,v.default)(k.props.heightTransition)+500;A=setTimeout(w,C)}),k.state={renderInner:g.expanded||I._visibleWhenClosed(g),closing:!1,fullyClosed:!g.expanded,height:g.expanded?"auto":g.collapsedHeight},k}return(0,h.default)(I,E),(0,s.default)(I,[{key:"componentWillUnmount",value:function(){this._removeTransitionEndListener()}},{key:"componentDidUpdate",value:function(g,k){var j=this;if(!g.expanded&&this.props.expanded){this._removeTransitionEndListener();var x=this._main.current,A=this._inner.current;if(!x||!A)throw new Error("Should not happen");var w="".concat(A.clientHeight,"px");this.setState({height:w}),this._onNextTransitionEnd(x,function(){j.setState({height:"auto"},function(){j.props.onChangeEnd&&j.props.onChangeEnd()})})}else if(g.expanded&&!this.props.expanded){if(this._removeTransitionEndListener(),!this._inner.current)throw new Error("Should not happen");this.setState({height:"".concat(this._inner.current.clientHeight,"px")},function(){var C=j._main.current;if(!C)throw new Error("Should not happen");C.clientHeight,j.setState({height:j.props.collapsedHeight,closing:!0}),j._onNextTransitionEnd(C,function(){j.setState({closing:!1,fullyClosed:!0}),j.props.onChangeEnd&&j.props.onChangeEnd()})})}}},{key:"render",value:function(){var g=I._visibleWhenClosed(this.props),k=this.props,j=k.allowOverflowWhenOpen,x=k.children,A=(k.collapsedHeight,k.eagerRender,k.expanded,k.heightTransition),w=(k.onChangeEnd,(0,u.default)(k,["allowOverflowWhenOpen","children","collapsedHeight","eagerRender","expanded","heightTransition","onChangeEnd"])),C=this.state,O=C.height,V=C.fullyClosed,R=C.renderInner,P=R?y.createElement("div",{ref:this._inner,style:{overflow:j&&O==="auto"?"visible":"hidden"}},x):null;return y.createElement("div",(0,o.default)({},w,{ref:this._main,style:{height:O,overflow:j&&O==="auto"?"visible":"hidden",display:V&&!g?"none":null,transition:"height ".concat(A)}}),P)}}],[{key:"_visibleWhenClosed",value:function(g){return g.eagerRender||parseFloat(g.collapsedHeight)!==0}},{key:"getDerivedStateFromProps",value:function(g,k){return g.expanded&&(k.closing||k.fullyClosed)?{closing:!1,fullyClosed:!1,renderInner:!0}:g.expanded||!k.closing&&!k.fullyClosed||k.height===g.collapsedHeight?null:{height:g.collapsedHeight,renderInner:k.renderInner||I._visibleWhenClosed(g)}}}]),I}(y.Component);i.default=T,(0,_.default)(T,"propTypes",{expanded:S.default.bool.isRequired,onChangeEnd:S.default.func,collapsedHeight:S.default.string,heightTransition:S.default.string,className:S.default.string,allowOverflowWhenOpen:S.default.bool,eagerRender:S.default.bool}),(0,_.default)(T,"defaultProps",{collapsedHeight:"0",heightTransition:".25s ease",className:"",allowOverflowWhenOpen:!1,eagerRender:!1})},{"./getTransitionTimeMs":602,"@babel/runtime/helpers/assertThisInitialized":62,"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/extends":66,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/interopRequireWildcard":70,"@babel/runtime/helpers/objectWithoutProperties":74,"@babel/runtime/helpers/possibleConstructorReturn":76,"prop-types":572,react:606}],604:[function(e,l,i){"use strict"},{"object-assign":535}],605:[function(e,l,i){"use strict";function a(U){return U===null||typeof U!="object"?null:(U=C&&U[C]||U["@@iterator"],typeof U=="function"?U:null)}function t(U){for(var F="https://reactjs.org/docs/error-decoder.html?invariant="+U,Z=1;Z<arguments.length;Z++)F+="&args[]="+encodeURIComponent(arguments[Z]);return"Minified React error #"+U+"; visit "+F+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(U,F,Z){this.props=U,this.context=F,this.refs=V,this.updater=Z||O}function u(){}function n(U,F,Z){this.props=U,this.context=F,this.refs=V,this.updater=Z||O}function s(U,F,Z){var $,ne={},H=null,X=null;if(F!=null)for($ in F.ref!==void 0&&(X=F.ref),F.key!==void 0&&(H=""+F.key),F)B.call(F,$)&&!z.hasOwnProperty($)&&(ne[$]=F[$]);var oe=arguments.length-2;if(oe===1)ne.children=Z;else if(1<oe){for(var Y=Array(oe),se=0;se<oe;se++)Y[se]=arguments[se+2];ne.children=Y}if(U&&U.defaultProps)for($ in oe=U.defaultProps)ne[$]===void 0&&(ne[$]=oe[$]);return{$$typeof:E,type:U,key:H,ref:X,props:ne,_owner:P.current}}function f(U,F){return{$$typeof:E,type:U.type,key:F,ref:U.ref,props:U.props,_owner:U._owner}}function d(U){return typeof U=="object"&&U!==null&&U.$$typeof===E}function m(U){var F={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Z){return F[Z]})}function h(U,F){return typeof U=="object"&&U!==null&&U.key!=null?m(""+U.key):F.toString(36)}function _(U,F,Z,$,ne){var H=typeof U;H!=="undefined"&&H!=="boolean"||(U=null);var X=!1;if(U===null)X=!0;else switch(H){case"string":case"number":X=!0;break;case"object":switch(U.$$typeof){case E:case I:X=!0}}if(X)return X=U,ne=ne(X),U=$===""?"."+h(X,0):$,Array.isArray(ne)?(Z="",U!=null&&(Z=U.replace(Q,"$&/")+"/"),_(ne,F,Z,"",function(se){return se})):ne!=null&&(d(ne)&&(ne=f(ne,Z+(!ne.key||X&&X.key===ne.key?"":(""+ne.key).replace(Q,"$&/")+"/")+U)),F.push(ne)),1;if(X=0,$=$===""?".":$+":",Array.isArray(U))for(var oe=0;oe<U.length;oe++){H=U[oe];var Y=$+h(H,oe);X+=_(H,F,Z,Y,ne)}else if(typeof(Y=a(U))=="function")for(U=Y.call(U),oe=0;!(H=U.next()).done;)H=H.value,Y=$+h(H,oe++),X+=_(H,F,Z,Y,ne);else if(H==="object")throw F=""+U,Error(t(31,F==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":F));return X}function y(U,F,Z){if(U==null)return U;var $=[],ne=0;return _(U,$,"","",function(H){return F.call(Z,H,ne++)}),$}function S(U){if(U._status===-1){var F=U._result;F=F(),U._status=0,U._result=F,F.then(function(Z){U._status===0&&(Z=Z.default,U._status=1,U._result=Z)},function(Z){U._status===0&&(U._status=2,U._result=Z)})}if(U._status===1)return U._result;throw U._result}function v(){var U=N.current;if(U===null)throw Error(t(321));return U}var T=e("object-assign"),E=60103,I=60106;i.Fragment=60107,i.StrictMode=60108,i.Profiler=60114;var g=60109,k=60110,j=60112;i.Suspense=60113;var x=60115,A=60116;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;E=w("react.element"),I=w("react.portal"),i.Fragment=w("react.fragment"),i.StrictMode=w("react.strict_mode"),i.Profiler=w("react.profiler"),g=w("react.provider"),k=w("react.context"),j=w("react.forward_ref"),i.Suspense=w("react.suspense"),x=w("react.memo"),A=w("react.lazy")}var C=typeof Symbol=="function"&&Symbol.iterator,O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V={};o.prototype.isReactComponent={},o.prototype.setState=function(U,F){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error(t(85));this.updater.enqueueSetState(this,U,F,"setState")},o.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")},u.prototype=o.prototype;var R=n.prototype=new u;R.constructor=n,T(R,o.prototype),R.isPureReactComponent=!0;var P={current:null},B=Object.prototype.hasOwnProperty,z={key:!0,ref:!0,__self:!0,__source:!0},Q=/\/+/g,N={current:null},K={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:T};i.Children={map:y,forEach:function(U,F,Z){y(U,function(){F.apply(this,arguments)},Z)},count:function(U){var F=0;return y(U,function(){F++}),F},toArray:function(U){return y(U,function(F){return F})||[]},only:function(U){if(!d(U))throw Error(t(143));return U}},i.Component=o,i.PureComponent=n,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,i.cloneElement=function(U,F,Z){if(U==null)throw Error(t(267,U));var $=T({},U.props),ne=U.key,H=U.ref,X=U._owner;if(F!=null){if(F.ref!==void 0&&(H=F.ref,X=P.current),F.key!==void 0&&(ne=""+F.key),U.type&&U.type.defaultProps)var oe=U.type.defaultProps;for(Y in F)B.call(F,Y)&&!z.hasOwnProperty(Y)&&($[Y]=F[Y]===void 0&&oe!==void 0?oe[Y]:F[Y])}var Y=arguments.length-2;if(Y===1)$.children=Z;else if(1<Y){oe=Array(Y);for(var se=0;se<Y;se++)oe[se]=arguments[se+2];$.children=oe}return{$$typeof:E,type:U.type,key:ne,ref:H,props:$,_owner:X}},i.createContext=function(U,F){return F===void 0&&(F=null),U={$$typeof:k,_calculateChangedBits:F,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider={$$typeof:g,_context:U},U.Consumer=U},i.createElement=s,i.createFactory=function(U){var F=s.bind(null,U);return F.type=U,F},i.createRef=function(){return{current:null}},i.forwardRef=function(U){return{$$typeof:j,render:U}},i.isValidElement=d,i.lazy=function(U){return{$$typeof:A,_payload:{_status:-1,_result:U},_init:S}},i.memo=function(U,F){return{$$typeof:x,type:U,compare:F===void 0?null:F}},i.useCallback=function(U,F){return v().useCallback(U,F)},i.useContext=function(U,F){return v().useContext(U,F)},i.useDebugValue=function(){},i.useEffect=function(U,F){return v().useEffect(U,F)},i.useImperativeHandle=function(U,F,Z){return v().useImperativeHandle(U,F,Z)},i.useLayoutEffect=function(U,F){return v().useLayoutEffect(U,F)},i.useMemo=function(U,F){return v().useMemo(U,F)},i.useReducer=function(U,F,Z){return v().useReducer(U,F,Z)},i.useRef=function(U){return v().useRef(U)},i.useState=function(U){return v().useState(U)},i.version="17.0.2"},{"object-assign":535}],606:[function(e,l,i){"use strict";l.exports=e("./cjs/react.production.min.js")},{"./cjs/react.development.js":604,"./cjs/react.production.min.js":605}],607:[function(e,l,i){(function(a){"use strict";function t(N,K,U,F){var Z=K&&K.prototype instanceof u?K:u,$=Object.create(Z.prototype),ne=new S(F||[]);return $._invoke=m(N,U,ne),$}function o(N,K,U){try{return{type:"normal",arg:N.call(K,U)}}catch(F){return{type:"throw",arg:F}}}function u(){}function n(){}function s(){}function f(N){["next","throw","return"].forEach(function(K){N[K]=function(U){return this._invoke(K,U)}})}function d(N){function K(Z,$,ne,H){var X=o(N[Z],N,$);if(X.type!=="throw"){var oe=X.arg,Y=oe.value;return Y&&typeof Y=="object"&&g.call(Y,"__await")?Promise.resolve(Y.__await).then(function(se){K("next",se,ne,H)},function(se){K("throw",se,ne,H)}):Promise.resolve(Y).then(function(se){oe.value=se,ne(oe)},function(se){return K("throw",se,ne,H)})}H(X.arg)}function U(Z,$){function ne(){return new Promise(function(H,X){K(Z,$,H,X)})}return F=F?F.then(ne,ne):ne()}var F;this._invoke=U}function m(N,K,U){var F=w;return function(Z,$){if(F===O)throw new Error("Generator is already running");if(F===V){if(Z==="throw")throw $;return T()}for(U.method=Z,U.arg=$;;){var ne=U.delegate;if(ne){var H=h(ne,U);if(H){if(H===R)continue;return H}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(F===w)throw F=V,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);F=O;var X=o(N,K,U);if(X.type==="normal"){if(F=U.done?V:C,X.arg===R)continue;return{value:X.arg,done:U.done}}X.type==="throw"&&(F=V,U.method="throw",U.arg=X.arg)}}}function h(N,K){var U=N.iterator[K.method];if(U===E){if(K.delegate=null,K.method==="throw"){if(N.iterator.return&&(K.method="return",K.arg=E,h(N,K),K.method==="throw"))return R;K.method="throw",K.arg=new TypeError("The iterator does not provide a 'throw' method")}return R}var F=o(U,N.iterator,K.arg);if(F.type==="throw")return K.method="throw",K.arg=F.arg,K.delegate=null,R;var Z=F.arg;return Z?Z.done?(K[N.resultName]=Z.value,K.next=N.nextLoc,K.method!=="return"&&(K.method="next",K.arg=E),K.delegate=null,R):Z:(K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,R)}function _(N){var K={tryLoc:N[0]};1 in N&&(K.catchLoc=N[1]),2 in N&&(K.finallyLoc=N[2],K.afterLoc=N[3]),this.tryEntries.push(K)}function y(N){var K=N.completion||{};K.type="normal",delete K.arg,N.completion=K}function S(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(_,this),this.reset(!0)}function v(N){if(N){var K=N[j];if(K)return K.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var U=-1,F=function Z(){for(;++U<N.length;)if(g.call(N,U))return Z.value=N[U],Z.done=!1,Z;return Z.value=E,Z.done=!0,Z};return F.next=F}}return{next:T}}function T(){return{value:E,done:!0}}var E,I=Object.prototype,g=I.hasOwnProperty,k=typeof Symbol=="function"?Symbol:{},j=k.iterator||"@@iterator",x=k.asyncIterator||"@@asyncIterator",A=k.toStringTag||"@@toStringTag";a.wrap=t;var w="suspendedStart",C="suspendedYield",O="executing",V="completed",R={},P={};P[j]=function(){return this};var B=Object.getPrototypeOf,z=B&&B(B(v([])));z&&z!==I&&g.call(z,j)&&(P=z);var Q=s.prototype=u.prototype=Object.create(P);n.prototype=Q.constructor=s,s.constructor=n,s[A]=n.displayName="GeneratorFunction",a.isGeneratorFunction=function(N){var K=typeof N=="function"&&N.constructor;return!!K&&(K===n||(K.displayName||K.name)==="GeneratorFunction")},a.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,s):(N.__proto__=s,A in N||(N[A]="GeneratorFunction")),N.prototype=Object.create(Q),N},a.awrap=function(N){return{__await:N}},f(d.prototype),d.prototype[x]=function(){return this},a.AsyncIterator=d,a.async=function(N,K,U,F){var Z=new d(t(N,K,U,F));return a.isGeneratorFunction(K)?Z:Z.next().then(function($){return $.done?$.value:Z.next()})},f(Q),Q[A]="Generator",Q[j]=function(){return this},Q.toString=function(){return"[object Generator]"},a.keys=function(N){var K=[];for(var U in N)K.push(U);return K.reverse(),function F(){for(;K.length;){var Z=K.pop();if(Z in N)return F.value=Z,F.done=!1,F}return F.done=!0,F}},a.values=v,S.prototype={constructor:S,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=E,this.done=!1,this.delegate=null,this.method="next",this.arg=E,this.tryEntries.forEach(y),!N)for(var K in this)K.charAt(0)==="t"&&g.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=E)},stop:function(){this.done=!0;var N=this.tryEntries[0],K=N.completion;if(K.type==="throw")throw K.arg;return this.rval},dispatchException:function(N){function K(X,oe){return $.type="throw",$.arg=N,U.next=X,oe&&(U.method="next",U.arg=E),!!oe}if(this.done)throw N;for(var U=this,F=this.tryEntries.length-1;F>=0;--F){var Z=this.tryEntries[F],$=Z.completion;if(Z.tryLoc==="root")return K("end");if(Z.tryLoc<=this.prev){var ne=g.call(Z,"catchLoc"),H=g.call(Z,"finallyLoc");if(ne&&H){if(this.prev<Z.catchLoc)return K(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return K(Z.finallyLoc)}else if(ne){if(this.prev<Z.catchLoc)return K(Z.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<Z.finallyLoc)return K(Z.finallyLoc)}}}},abrupt:function(N,K){for(var U=this.tryEntries.length-1;U>=0;--U){var F=this.tryEntries[U];if(F.tryLoc<=this.prev&&g.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var Z=F;break}}Z&&(N==="break"||N==="continue")&&Z.tryLoc<=K&&K<=Z.finallyLoc&&(Z=null);var $=Z?Z.completion:{};return $.type=N,$.arg=K,Z?(this.method="next",this.next=Z.finallyLoc,R):this.complete($)},complete:function(N,K){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&K&&(this.next=K),R},finish:function(N){for(var K=this.tryEntries.length-1;K>=0;--K){var U=this.tryEntries[K];if(U.finallyLoc===N)return this.complete(U.completion,U.afterLoc),y(U),R}},catch:function(N){for(var K=this.tryEntries.length-1;K>=0;--K){var U=this.tryEntries[K];if(U.tryLoc===N){var F=U.completion;if(F.type==="throw"){var Z=F.arg;y(U)}return Z}}throw new Error("illegal catch attempt")},delegateYield:function(N,K,U){return this.delegate={iterator:v(N),resultName:K,nextLoc:U},this.method==="next"&&(this.arg=E),R}}})(typeof l=="object"?l.exports:{})},{}],608:[function(e,l,i){function a(n,s){for(var f in n)s[f]=n[f]}function t(n,s,f){return u(n,s,f)}var o=e("buffer"),u=o.Buffer;u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?l.exports=o:(a(o,i),i.Buffer=t),t.prototype=Object.create(u.prototype),a(u,t),t.from=function(n,s,f){if(typeof n=="number")throw new TypeError("Argument must not be a number");return u(n,s,f)},t.alloc=function(n,s,f){if(typeof n!="number")throw new TypeError("Argument must be a number");var d=u(n);return s!==void 0?typeof f=="string"?d.fill(s,f):d.fill(s):d.fill(0),d},t.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return u(n)},t.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(n)}},{buffer:101}],609:[function(e,l,i){"use strict"},{}],610:[function(e,l,i){"use strict";var a=0;i.__interactionsRef=null,i.__subscriberRef=null,i.unstable_clear=function(t){return t()},i.unstable_getCurrent=function(){return null},i.unstable_getThreadID=function(){return++a},i.unstable_subscribe=function(){},i.unstable_trace=function(t,o,u){return u()},i.unstable_unsubscribe=function(){},i.unstable_wrap=function(t){return t}},{}],611:[function(e,l,i){"use strict"},{}],612:[function(e,l,i){"use strict";function a($,ne){var H=$.length;$.push(ne);e:for(;;){var X=H-1>>>1,oe=$[X];if(!(oe!==void 0&&0<u(oe,ne)))break e;$[X]=ne,$[H]=oe,H=X}}function t($){return $=$[0],$===void 0?null:$}function o($){var ne=$[0];if(ne!==void 0){var H=$.pop();if(H!==ne){$[0]=H;e:for(var X=0,oe=$.length;X<oe;){var Y=2*(X+1)-1,se=$[Y],ie=Y+1,L=$[ie];if(se!==void 0&&0>u(se,H))L!==void 0&&0>u(L,se)?($[X]=L,$[ie]=H,X=ie):($[X]=se,$[Y]=H,X=Y);else{if(!(L!==void 0&&0>u(L,H)))break e;$[X]=L,$[ie]=H,X=ie}}}return ne}return null}function u($,ne){var H=$.sortIndex-ne.sortIndex;return H!==0?H:$.id-ne.id}function n($){for(var ne=t(B);ne!==null;){if(ne.callback===null)o(B);else{if(!(ne.startTime<=$))break;o(B),ne.sortIndex=ne.expirationTime,a(P,ne)}ne=t(B)}}function s($){if(F=!1,n($),!U)if(t(P)!==null)U=!0,d(f);else{var ne=t(B);ne!==null&&m(s,ne.startTime-$)}}function f($,ne){U=!1,F&&(F=!1,h()),K=!0;var H=N;try{for(n(ne),Q=t(P);Q!==null&&(!(Q.expirationTime>ne)||$&&!i.unstable_shouldYield());){var X=Q.callback;if(typeof X=="function"){Q.callback=null,N=Q.priorityLevel;var oe=X(Q.expirationTime<=ne);ne=i.unstable_now(),typeof oe=="function"?Q.callback=oe:Q===t(P)&&o(P),n(ne)}else o(P);Q=t(P)}if(Q!==null)var Y=!0;else{var se=t(B);se!==null&&m(s,se.startTime-ne),Y=!1}return Y}finally{Q=null,N=H,K=!1}}var d,m,h,_;if(typeof performance=="object"&&typeof performance.now=="function"){var y=performance;i.unstable_now=function(){return y.now()}}else{var S=Date,v=S.now();i.unstable_now=function(){return S.now()-v}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var T=null,E=null,I=function(){if(T!==null)try{var $=i.unstable_now();T(!0,$),T=null}catch(ne){throw setTimeout(I,0),ne}};d=function($){T!==null?setTimeout(d,0,$):(T=$,setTimeout(I,0))},m=function($,ne){E=setTimeout($,ne)},h=function(){clearTimeout(E)},i.unstable_shouldYield=function(){return!1},_=i.unstable_forceFrameRate=function(){}}else{var g=window.setTimeout,k=window.clearTimeout;if(typeof console!="undefined"){var j=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof j!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var x=!1,A=null,w=-1,C=5,O=0;i.unstable_shouldYield=function(){return i.unstable_now()>=O},_=function(){},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5};var V=new MessageChannel,R=V.port2;V.port1.onmessage=function(){if(A!==null){var $=i.unstable_now();O=$+C;try{A(!0,$)?R.postMessage(null):(x=!1,A=null)}catch(ne){throw R.postMessage(null),ne}}else x=!1},d=function($){A=$,x||(x=!0,R.postMessage(null))},m=function($,ne){w=g(function(){$(i.unstable_now())},ne)},h=function(){k(w),w=-1}}var P=[],B=[],z=1,Q=null,N=3,K=!1,U=!1,F=!1,Z=_;i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_continueExecution=function(){U||K||(U=!0,d(f))},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_getFirstCallbackNode=function(){return t(P)},i.unstable_next=function($){switch(N){case 1:case 2:case 3:var ne=3;break;default:ne=N}var H=N;N=ne;try{return $()}finally{N=H}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=Z,i.unstable_runWithPriority=function($,ne){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=N;N=$;try{return ne()}finally{N=H}},i.unstable_scheduleCallback=function($,ne,H){var X=i.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?X+H:X):H=X,$){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=H+oe,$={id:z++,callback:ne,priorityLevel:$,startTime:H,expirationTime:oe,sortIndex:-1},H>X?($.sortIndex=H,a(B,$),t(P)===null&&$===t(B)&&(F?h():F=!0,m(s,H-X))):($.sortIndex=oe,a(P,$),U||K||(U=!0,d(f))),$},i.unstable_wrapCallback=function($){var ne=N;return function(){var H=N;N=ne;try{return $.apply(this,arguments)}finally{N=H}}}},{}],613:[function(e,l,i){"use strict";l.exports=e("./cjs/scheduler.production.min.js")},{"./cjs/scheduler.development.js":611,"./cjs/scheduler.production.min.js":612}],614:[function(e,l,i){"use strict";l.exports=e("./cjs/scheduler-tracing.production.min.js")},{"./cjs/scheduler-tracing.development.js":609,"./cjs/scheduler-tracing.production.min.js":610}],615:[function(e,l,i){function a(o,u){this._block=t.alloc(o),this._finalSize=u,this._blockSize=o,this._len=0}var t=e("safe-buffer").Buffer;a.prototype.update=function(o,u){typeof o=="string"&&(u=u||"utf8",o=t.from(o,u));for(var n=this._block,s=this._blockSize,f=o.length,d=this._len,m=0;m<f;){for(var h=d%s,_=Math.min(f-m,s-h),y=0;y<_;y++)n[h+y]=o[m+y];d+=_,m+=_,d%s==0&&this._update(n)}return this._len+=f,this},a.prototype.digest=function(o){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var s=(4294967295&n)>>>0,f=(n-s)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(s,this._blockSize-4)}this._update(this._block);var d=this._hash();return o?d.toString(o):d},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},l.exports=a},{"safe-buffer":608}],616:[function(e,l,i){function a(){this.init(),this._w=h,f.call(this,64,56)}function t(_){return _<<1|_>>>31}function o(_){return _<<5|_>>>27}function u(_){return _<<30|_>>>2}function n(_,y,S,v){return _===0?y&S|~y&v:_===2?y&S|y&v|S&v:y^S^v}var s=e("inherits"),f=e("./hash"),d=e("safe-buffer").Buffer,m=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);s(a,f),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(_){for(var y=this._w,S=0|this._a,v=0|this._b,T=0|this._c,E=0|this._d,I=0|this._e,g=0;g<16;++g)y[g]=_.readInt32BE(4*g);for(;g<80;++g)y[g]=t(y[g-3]^y[g-8]^y[g-14]^y[g-16]);for(var k=0;k<80;++k){var j=~~(k/20),x=o(S)+n(j,v,T,E)+I+y[k]+m[j]|0;I=E,E=T,T=u(v),v=S,S=x}this._a=S+this._a|0,this._b=v+this._b|0,this._c=T+this._c|0,this._d=E+this._d|0,this._e=I+this._e|0},a.prototype._hash=function(){var _=d.allocUnsafe(20);return _.writeInt32BE(0|this._a,0),_.writeInt32BE(0|this._b,4),_.writeInt32BE(0|this._c,8),_.writeInt32BE(0|this._d,12),_.writeInt32BE(0|this._e,16),_},l.exports=a},{"./hash":615,inherits:319,"safe-buffer":608}],617:[function(e,l,i){function a(){this.init(),this._w=y,m.call(this,64,56)}function t(S,v,T){return T^S&(v^T)}function o(S,v,T){return S&v|T&(S|v)}function u(S){return(S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10)}function n(S){return(S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7)}function s(S){return(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3}function f(S){return(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10}var d=e("inherits"),m=e("./hash"),h=e("safe-buffer").Buffer,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],y=new Array(64);d(a,m),a.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},a.prototype._update=function(S){for(var v=this._w,T=0|this._a,E=0|this._b,I=0|this._c,g=0|this._d,k=0|this._e,j=0|this._f,x=0|this._g,A=0|this._h,w=0;w<16;++w)v[w]=S.readInt32BE(4*w);for(;w<64;++w)v[w]=f(v[w-2])+v[w-7]+s(v[w-15])+v[w-16]|0;for(var C=0;C<64;++C){var O=A+n(k)+t(k,j,x)+_[C]+v[C]|0,V=u(T)+o(T,E,I)|0;A=x,x=j,j=k,k=g+O|0,g=I,I=E,E=T,T=O+V|0}this._a=T+this._a|0,this._b=E+this._b|0,this._c=I+this._c|0,this._d=g+this._d|0,this._e=k+this._e|0,this._f=j+this._f|0,this._g=x+this._g|0,this._h=A+this._h|0},a.prototype._hash=function(){var S=h.allocUnsafe(32);return S.writeInt32BE(this._a,0),S.writeInt32BE(this._b,4),S.writeInt32BE(this._c,8),S.writeInt32BE(this._d,12),S.writeInt32BE(this._e,16),S.writeInt32BE(this._f,20),S.writeInt32BE(this._g,24),S.writeInt32BE(this._h,28),S},l.exports=a},{"./hash":615,inherits:319,"safe-buffer":608}],618:[function(e,l,i){(function(a){(function(){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t,o=e("./ponyfill.js"),u=function(s){return s&&s.__esModule?s:{default:s}}(o);t=typeof self!="undefined"?self:typeof window!="undefined"?window:a!==void 0?a:l!==void 0?l:Function("return this")();var n=(0,u.default)(t);i.default=n}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./ponyfill.js":619}],619:[function(e,l,i){"use strict";function a(t){var o,u=t.Symbol;return typeof u=="function"?u.observable?o=u.observable:(o=u("observable"),u.observable=o):o="@@observable",o}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a},{}],620:[function(e,l,i){"use strict";var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),u=a(e("@babel/runtime/helpers/possibleConstructorReturn")),n=a(e("@babel/runtime/helpers/getPrototypeOf")),s=a(e("@babel/runtime/helpers/inherits")),f=a(e("@babel/runtime/helpers/assertThisInitialized")),d=a(e("@babel/runtime/helpers/defineProperty")),m=a(e("live-set")),h=a(e("./TagTreeNode")),_=Object.freeze([]),y=function(S){function v(T){var E;(0,t.default)(this,v);var I;if(E=(0,u.default)(this,(0,n.default)(v).call(this,{value:T.root,parent:null,ownedTags:new Set(T.tags.map(function(k){return k.tag})),executor:function(k){I=k}})),(0,d.default)((0,f.default)((0,f.default)(E)),"_nodeControllers",new Map),(0,d.default)((0,f.default)((0,f.default)(E)),"_lookupTable",void 0),(0,d.default)((0,f.default)((0,f.default)(E)),"_allByTag",void 0),!I)throw new Error;E._nodeControllers.set((0,f.default)((0,f.default)(E)),I),E._lookupTable=new Map([[T.root,[(0,f.default)((0,f.default)(E))]]]),E._allByTag=new Map,T.tags.forEach(function(k){var j=k.tag,x=m.default.active(),A=x.liveSet,w=x.controller;if(E._allByTag.has(j))throw new Error("Tag specified twice: "+j);E._allByTag.set(j,{ownedTags:new Set,liveSet:A,controller:w})}),T.tags.forEach(function(k){var j=k.tag,x=k.ownedBy;x&&x.forEach(function(A){var w=E._allByTag.get(A);if(!w)throw new Error("unknown ownedBy value for ".concat(j,": ").concat(A));w.ownedTags.add(j)})});var g={tree:(0,f.default)((0,f.default)(E)),addTaggedValue:function(k,j,x){var A=E._allByTag.get(j);if(!A)throw new Error("unknown tag: ".concat(j));var w,C=new h.default({value:x,parent:k,ownedTags:A.ownedTags,executor:function(R){w=R}});if(!w)throw new Error;E._nodeControllers.set(C,w),A.controller.add(C);var O=E._lookupTable.get(x);O?O.push(C):E._lookupTable.set(x,[C]);var V=E._nodeControllers.get(k);if(!V)throw new Error("parent is not part of TagTree");return V.addOwnedNode(j,C),C},removeTaggedNode:function(k,j,x){var A=E._allByTag.get(j);if(!A)throw new Error("unknown tag: ".concat(j));var w=E._nodeControllers.get(k);if(!w)throw new Error("parent is not part of TagTree");var C=x.getValue(),O=E._lookupTable.get(C);if(!O)throw new Error("node was missing from lookup table before removal");if(O.length>1){var V=O.indexOf(x);if(V<0)throw new Error("node was missing from list in lookup table before removal");O.splice(V,1)}else E._lookupTable.delete(C);x.getOwned().forEach(function(R,P){R.values().forEach(function(B){g.removeTaggedNode(x,P,B)})}),A.controller.remove(x),w.removeOwnedNode(j,x),E._nodeControllers.delete(x)},end:function(){E._nodeControllers.forEach(function(k){k.end()}),E._allByTag.forEach(function(k){k.controller.end()})}};return T.executor(g),T.executor=function(){},E}return(0,s.default)(v,S),(0,o.default)(v,[{key:"getNodesForValue",value:function(T){var E=this._lookupTable.get(T);return E?Object.freeze(E.slice()):_}},{key:"getAllByTag",value:function(T){var E=this._allByTag.get(T);if(!E)throw new Error("tag does not exist in TagTree: ".concat(T));return E.liveSet}},{key:"getAll",value:function(){var T=new Map;return this._allByTag.forEach(function(E,I){var g=E.liveSet;T.set(I,g)}),T}}]),v}(h.default);i.default=y,l.exports=i.default,l.exports.default=i.default},{"./TagTreeNode":621,"@babel/runtime/helpers/assertThisInitialized":62,"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,"live-set":332}],621:[function(e,l,i){"use strict";var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=a(e("@babel/runtime/helpers/classCallCheck")),o=a(e("@babel/runtime/helpers/createClass")),u=a(e("@babel/runtime/helpers/defineProperty")),n=a(e("live-set")),s=function(){function f(d){var m=this;(0,t.default)(this,f),(0,u.default)(this,"_init",void 0),(0,u.default)(this,"_ownedNodes",new Map),(0,u.default)(this,"_ownedByTag",new Map),this._init=d,this._init.executor({node:this,addOwnedNode:function(h,_){m._ownedNodes.set(_,h);var y=m._ownedByTag.get(h);y||(y=m._createTagEntry(),m._ownedByTag.set(h,y)),y.controller.add(_)},removeOwnedNode:function(h,_){m._ownedNodes.delete(_);var y=m._ownedByTag.get(h);if(!y)throw new Error("tag not owned");y.controller.remove(_)},end:function(){m._ownedByTag.forEach(function(h){h.controller.end()})}}),this._init.executor=function(){}}return(0,o.default)(f,[{key:"_createTagEntry",value:function(){return n.default.active()}},{key:"getValue",value:function(){return this._init.value}},{key:"getParent",value:function(){return this._init.parent||null}},{key:"getOwnedByTag",value:function(d){var m=this._ownedByTag.get(d);if(!m){if(!this._init.ownedTags.has(d))throw new Error("tag not owned: ".concat(d));m=this._createTagEntry(),this._ownedByTag.set(d,m)}return m.liveSet}},{key:"getOwned",value:function(){var d=new Map;return this._ownedByTag.forEach(function(m,h){var _=m.liveSet;d.set(h,_)}),d}},{key:"getTag",value:function(){var d=this._init.parent;return d?d.getTagOfOwnedNode(this):null}},{key:"ownsNode",value:function(d){return this._ownedNodes.has(d)}},{key:"getTagOfOwnedNode",value:function(d){var m=this._ownedNodes.get(d);if(m==null)throw new Error("node not owned");return m}}]),f}();i.default=s,l.exports=i.default,l.exports.default=i.default},{"@babel/runtime/helpers/classCallCheck":63,"@babel/runtime/helpers/createClass":64,"@babel/runtime/helpers/defineProperty":65,"@babel/runtime/helpers/interopRequireDefault":69,"live-set":332}],622:[function(e,l,i){"use strict";var a=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"TagTree",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(i,"TagTreeNode",{enumerable:!0,get:function(){return o.default}});var t=a(e("./TagTree")),o=a(e("./TagTreeNode"))},{"./TagTree":620,"./TagTreeNode":621,"@babel/runtime/helpers/interopRequireDefault":69}],623:[function(e,l,i){function a(Ce,Oe){throw new Error("don't know how to "+Ce+" collection: "+Oe)}function t(Ce,Oe){return Oe==="iterator"?Ce[pt.iterator]||Ce.next:Ce[pt[Oe]]}function o(Ce,Oe){return Ce[pt[Oe]]}function u(Ce){var Oe=o(Ce,"iterator");return Oe?Oe.call(Ce):Ce.next?Ce:It(Ce)?new n(Ce):d(Ce)?new s(Ce):void 0}function n(Ce){this.arr=Ce,this.index=0}function s(Ce){this.obj=Ce,this.keys=Object.keys(Ce),this.index=0}function f(Ce){return typeof Ce=="function"}function d(Ce){return Ce instanceof Object&&Object.getPrototypeOf(Ce)===Object.getPrototypeOf({})}function m(Ce){return typeof Ce=="number"}function h(Ce){this["@@transducer/reduced"]=!0,this["@@transducer/value"]=Ce}function _(Ce){return Ce instanceof h||Ce&&Ce["@@transducer/reduced"]}function y(Ce){return Ce["@@transducer/value"]}function S(Ce){return _(Ce)?Ce:new h(Ce)}function v(Ce){return _(Ce)?y(Ce):Ce}function T(Ce,Oe,at){if(It(Ce)){for(var bt=at,Gt=-1,Vt=Ce.length;++Gt<Vt;)if(bt=Oe["@@transducer/step"](bt,Ce[Gt]),_(bt)){bt=y(bt);break}return Oe["@@transducer/result"](bt)}if(d(Ce)||t(Ce,"iterator")){for(var bt=at,dn=u(Ce),Cn=dn.next();!Cn.done;){if(bt=Oe["@@transducer/step"](bt,Cn.value),_(bt)){bt=y(bt);break}Cn=dn.next()}return Oe["@@transducer/result"](bt)}a("iterate",Ce)}function E(Ce,Oe,at,bt){return Oe=Oe(at),bt===void 0&&(bt=Oe["@@transducer/init"]()),T(Ce,Oe,bt)}function I(){var Ce=Array.prototype.slice.call(arguments);return function(Oe){for(var at=Oe,bt=Ce.length-1;bt>=0;bt--)at=Ce[bt](at);return at}}function g(Ce){var Oe={};return Oe["@@transducer/init"]=function(){throw new Error("init value unavailable")},Oe["@@transducer/result"]=function(at){return at},Oe["@@transducer/step"]=Ce,Oe}function k(Ce,Oe,at){if(at=at!=null?at:1,!Oe)return Ce;switch(at){case 1:return function(bt){return Ce.call(Oe,bt)};case 2:return function(bt,Gt){return Ce.call(Oe,bt,Gt)};default:return Ce.bind(Oe)}}function j(Ce,Oe,at){var bt=-1,Gt=Ce.length,Vt=Array(Gt);for(Oe=k(Oe,at,2);++bt<Gt;)Vt[bt]=Oe(Ce[bt],bt);return Vt}function x(Ce,Oe,at){var bt=Ce.length,Gt=[];Oe=k(Oe,at,2);for(var Vt=0;Vt<bt;Vt++)Oe(Ce[Vt],Vt)&&Gt.push(Ce[Vt]);return Gt}function A(Ce,Oe){this.xform=Oe,this.f=Ce}function w(Ce,Oe,at){return f(Ce)&&(at=Oe,Oe=Ce,Ce=null),Oe=k(Oe,at),Ce?It(Ce)?j(Ce,Oe,at):Ne(Ce,w(Oe)):function(bt){return new A(Oe,bt)}}function C(Ce,Oe){this.xform=Oe,this.f=Ce}function O(Ce,Oe,at){return f(Ce)&&(at=Oe,Oe=Ce,Ce=null),Oe=k(Oe,at),Ce?It(Ce)?x(Ce,Oe,at):Ne(Ce,O(Oe)):function(bt){return new C(Oe,bt)}}function V(Ce,Oe,at){return f(Ce)&&(at=Oe,Oe=Ce,Ce=null),Oe=k(Oe,at),O(Ce,function(bt){return!Oe(bt)})}function R(Ce){return O(Ce,function(Oe){return Oe!=null})}function P(Ce){this.xform=Ce,this.last=void 0}function B(Ce){return Ce?Ne(Ce,B()):function(Oe){return new P(Oe)}}function z(Ce,Oe){this.xform=Oe,this.f=Ce}function Q(Ce,Oe,at){return f(Ce)&&(at=Oe,Oe=Ce,Ce=null),Oe=k(Oe,at),Ce?Ne(Ce,Q(Oe)):function(bt){return new z(Oe,bt)}}function N(Ce,Oe){this.n=Ce,this.i=0,this.xform=Oe}function K(Ce,Oe){return m(Ce)&&(Oe=Ce,Ce=null),Ce?Ne(Ce,K(Oe)):function(at){return new N(Oe,at)}}function U(Ce,Oe){this.n=Ce,this.i=0,this.xform=Oe}function F(Ce,Oe){return m(Ce)&&(Oe=Ce,Ce=null),Ce?Ne(Ce,F(Oe)):function(at){return new U(Oe,at)}}function Z(Ce,Oe){this.xform=Oe,this.f=Ce,this.dropping=!0}function $(Ce,Oe,at){return f(Ce)&&(at=Oe,Oe=Ce,Ce=null),Oe=k(Oe,at),Ce?Ne(Ce,$(Oe)):function(bt){return new Z(Oe,bt)}}function ne(Ce,Oe){this.n=Ce,this.i=0,this.xform=Oe,this.part=new Array(Ce)}function H(Ce,Oe){return m(Ce)&&(Oe=Ce,Ce=null),Ce?Ne(Ce,H(Oe)):function(at){return new ne(Oe,at)}}function X(Ce,Oe){this.f=Ce,this.xform=Oe,this.part=[],this.last=Qt}function oe(Ce,Oe,at){return f(Ce)&&(at=Oe,Oe=Ce,Ce=null),Oe=k(Oe,at),Ce?Ne(Ce,oe(Oe)):function(bt){return new X(Oe,bt)}}function Y(Ce,Oe){this.sep=Ce,this.xform=Oe,this.started=!1}function se(Ce,Oe){return arguments.length===1?(Oe=Ce,function(at){return new Y(Oe,at)}):Ne(Ce,se(Oe))}function ie(Ce,Oe){this.xform=Oe,this.n=Ce}function L(Ce,Oe){return arguments.length===1?(Oe=Ce,function(at){return new ie(Oe,at)}):Ne(Ce,L(Oe))}function G(Ce,Oe){this.xform=Oe,this.n=Ce,this.i=-1}function le(Ce,Oe){return arguments.length===1?(Oe=Ce,function(at){return new G(Oe,at)}):Ne(Ce,le(Oe))}function pe(Ce){this.xform=Ce}function we(Ce){return new pe(Ce)}function ye(Ce,Oe){return Ce=k(Ce,Oe),I(w(Ce),we)}function W(Ce,Oe){return Ce.push(Oe),Ce}function te(Ce,Oe){if(It(Oe)&&Oe.length===2)Ce[Oe[0]]=Oe[1];else for(var at=Object.keys(Oe),bt=at.length,Gt=0;Gt<bt;Gt++)Ce[at[Gt]]=Oe[at[Gt]];return Ce}function ce(Ce,Oe){return Oe?E(Ce,Oe,jt,[]):T(Ce,jt,[])}function je(Ce,Oe){return Oe?E(Ce,Oe,Pt,{}):T(Ce,Pt,{})}function be(Ce,Oe){return Oe?new Be(Oe,Ce):u(Ce)}function Ne(Ce,Oe){if(It(Ce))return E(Ce,Oe,jt,[]);if(d(Ce))return E(Ce,Oe,Pt,{});if(Ce["@@transducer/step"]){var at;return at=Ce["@@transducer/init"]?Ce["@@transducer/init"]():new Ce.constructor,E(Ce,Oe,Ce,at)}if(t(Ce,"iterator"))return new Be(Oe,Ce);a("sequence",Ce)}function He(Ce,Oe,at){return It(Ce)?E(at,Oe,jt,Ce):d(Ce)?E(at,Oe,Pt,Ce):Ce["@@transducer/step"]?E(at,Oe,Ce,Ce):void a("into",Ce)}function Qe(Ce,Oe){this.xform=Ce(At),this.iter=Oe}function Be(Ce,Oe){this.iter=u(Oe),this.items=[],this.stepper=new Qe(Ce,u(Oe))}function Je(Ce){for(var Oe=new Array(Ce),at=0;at<Oe.length;at++)Oe[at]=at;return Oe}var _t=typeof Symbol!="undefined",pt={iterator:_t?Symbol.iterator:"@@iterator"};n.prototype.next=function(){return this.index<this.arr.length?{value:this.arr[this.index++],done:!1}:{done:!0}},s.prototype.next=function(){if(this.index<this.keys.length){var Ce=this.keys[this.index++];return{value:[Ce,this.obj[Ce]],done:!1}}return{done:!0}};var Et=Object.prototype.toString,It=typeof Array.isArray=="function"?Array.isArray:function(Ce){return Et.call(Ce)=="[object Array]"};A.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},A.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},A.prototype["@@transducer/step"]=function(Ce,Oe){return this.xform["@@transducer/step"](Ce,this.f(Oe))},C.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},C.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},C.prototype["@@transducer/step"]=function(Ce,Oe){return this.f(Oe)?this.xform["@@transducer/step"](Ce,Oe):Ce},P.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},P.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},P.prototype["@@transducer/step"]=function(Ce,Oe){return Oe!==this.last?(this.last=Oe,this.xform["@@transducer/step"](Ce,Oe)):Ce},z.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},z.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},z.prototype["@@transducer/step"]=function(Ce,Oe){return this.f(Oe)?this.xform["@@transducer/step"](Ce,Oe):new h(Ce)},N.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},N.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},N.prototype["@@transducer/step"]=function(Ce,Oe){return this.i<this.n&&(Ce=this.xform["@@transducer/step"](Ce,Oe),this.i+1>=this.n&&(Ce=S(Ce))),this.i++,Ce},U.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},U.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},U.prototype["@@transducer/step"]=function(Ce,Oe){return this.i++<this.n?Ce:this.xform["@@transducer/step"](Ce,Oe)},Z.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},Z.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},Z.prototype["@@transducer/step"]=function(Ce,Oe){if(this.dropping){if(this.f(Oe))return Ce;this.dropping=!1}return this.xform["@@transducer/step"](Ce,Oe)},ne.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},ne.prototype["@@transducer/result"]=function(Ce){return this.i>0?v(this.xform["@@transducer/step"](Ce,this.part.slice(0,this.i))):this.xform["@@transducer/result"](Ce)},ne.prototype["@@transducer/step"]=function(Ce,Oe){if(this.part[this.i]=Oe,this.i+=1,this.i===this.n){var at=this.part.slice(0,this.n);return this.part=new Array(this.n),this.i=0,this.xform["@@transducer/step"](Ce,at)}return Ce};var Qt={};X.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},X.prototype["@@transducer/result"]=function(Ce){var Oe=this.part.length;return Oe>0?v(this.xform["@@transducer/step"](Ce,this.part.slice(0,Oe))):this.xform["@@transducer/result"](Ce)},X.prototype["@@transducer/step"]=function(Ce,Oe){var at=this.f(Oe);return at===this.last||this.last===Qt?this.part.push(Oe):(Ce=this.xform["@@transducer/step"](Ce,this.part),this.part=[Oe]),this.last=at,Ce},Y.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},Y.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},Y.prototype["@@transducer/step"]=function(Ce,Oe){if(this.started){var at=this.xform["@@transducer/step"](Ce,this.sep);return _(at)?at:this.xform["@@transducer/step"](at,Oe)}return this.started=!0,this.xform["@@transducer/step"](Ce,Oe)},ie.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},ie.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},ie.prototype["@@transducer/step"]=function(Ce,Oe){for(var at=this.n,bt=Ce,Gt=0;Gt<at&&(bt=this.xform["@@transducer/step"](bt,Oe),!_(bt));Gt++);return bt},G.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},G.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},G.prototype["@@transducer/step"]=function(Ce,Oe){return this.i+=1,this.i%this.n==0?this.xform["@@transducer/step"](Ce,Oe):Ce},pe.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},pe.prototype["@@transducer/result"]=function(Ce){return this.xform["@@transducer/result"](Ce)},pe.prototype["@@transducer/step"]=function(Ce,Oe){var at=this.xform,bt={};return bt["@@transducer/init"]=function(){return at["@@transducer/init"]()},bt["@@transducer/result"]=function(Gt){return Gt},bt["@@transducer/step"]=function(Gt,Vt){var dn=at["@@transducer/step"](Gt,Vt);return _(dn)?y(dn):dn},T(Oe,bt,Ce)};var jt={};jt["@@transducer/init"]=function(){return[]},jt["@@transducer/result"]=function(Ce){return Ce},jt["@@transducer/step"]=W;var Pt={};Pt["@@transducer/init"]=function(){return{}},Pt["@@transducer/result"]=function(Ce){return Ce},Pt["@@transducer/step"]=te;var At={};At["@@transducer/result"]=function(Ce){return _(Ce)?y(Ce):Ce},At["@@transducer/step"]=function(Ce,Oe){return Ce.items.push(Oe),Ce.rest},Qe.prototype["@@transducer/step"]=function(Ce){for(var Oe=Ce.items.length;Ce.items.length===Oe;){var at=this.iter.next();if(at.done||_(at.value)){this.xform["@@transducer/result"](this);break}this.xform["@@transducer/step"](Ce,at.value)}},Be.prototype[pt.iterator]=function(){return this},Be.prototype.next=function(){return this["@@transducer/step"](),this.items.length?{value:this.items.pop(),done:!1}:{done:!0}},Be.prototype["@@transducer/step"]=function(){this.items.length||this.stepper["@@transducer/step"](this)},l.exports={reduce:T,transformer:g,Reduced:h,isReduced:_,iterator:u,push:W,merge:te,transduce:E,seq:Ne,toArray:ce,toObj:je,toIter:be,into:He,compose:I,map:w,filter:O,remove:V,cat:we,mapcat:ye,keep:R,dedupe:B,take:K,takeWhile:Q,takeNth:le,drop:F,dropWhile:$,partition:H,partitionBy:oe,interpose:se,repeat:L,range:Je,LazyTransformer:Be}},{}],624:[function(e,l,i){"use strict";function a(u,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",f=(0,t.defonce)(u,function(){var d,m=o.stream(function(y){d=y}),h=m.toProperty();if(h.onValue(function(){}),!d)throw new Error("Should not happen, emitter was not set");var _=d;return{property:h,emit:function(y){_.emit(y)}}},"--udkefir-"+s);return f.emit(n),f.property}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a;var t=e("ud"),o=e("kefir");l.exports=i.default,l.exports.default=i.default},{kefir:327,ud:625}],625:[function(e,l,i){"use strict";function a(I){I.hot&&I.hot.accept()}function t(I,g){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";a(I);var j=E.get(I);if(j||(j=new y.default,E.set(I,j)),j.has(k))throw new Error("ud functions can only be used once per module with a given key");j.add(k);var x=!1,A=void 0;return I.hot&&(I.hot.data&&I.hot.data.__ud__&&Object.prototype.hasOwnProperty.call(I.hot.data.__ud__,k)&&(A=I.hot.data.__ud__[k],x=!0),I.hot.dispose(function(w){w.__ud__||(w.__ud__={}),w.__ud__[k]=A})),x||(A=g()),A}function o(I,g){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",j=t(I,function(){return g},"--defobj-"+k);return j!==g&&u(j,g),j}function u(I,g){(0,_.default)(I).filter(function(j){return!Object.prototype.hasOwnProperty.call(g,j)}).forEach(function(j){delete I[j]});var k=(0,_.default)(g);return(0,h.default)(I,T(k,k.map(function(j){return(0,m.default)(g,j)}).filter(Boolean).map(function(j){return{value:j.value,enumerable:j.enumerable,writable:!0,configurable:!0}}))),I}function n(I,g){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",j=t(I,function(){if(!I.hot)return{fn:null,wrapper:g};var x={fn:null,wrapper:null},A=v(g.length).map(function(w){return"a"+w}).join(",");return x.wrapper=new Function("shared",`
      'use strict';
      return function `.concat(g.name,"__ud_wrapper(").concat(A,`) {
        if (new.target) {
          return Reflect.construct(shared.fn, arguments, new.target);
        } else {
          return shared.fn.apply(this, arguments);
        }
      };
      `))(x),g.prototype?(x.wrapper.prototype=(0,d.default)(g.prototype),x.wrapper.prototype.constructor=x.wrapper):x.wrapper.prototype=g.prototype,x},"--defn-shared-"+k);return j.fn=g,I.hot&&(g.prototype&&j.wrapper.prototype&&(0,f.default)(j.wrapper.prototype)!==g.prototype&&Object.setPrototypeOf(j.wrapper.prototype,g.prototype),Object.setPrototypeOf(j.wrapper,g)),j.wrapper}var s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");Object.defineProperty(i,"__esModule",{value:!0}),i.markReloadable=a,i.defonce=t,i.defobj=o,i.defn=n;var f=s(e("@babel/runtime-corejs2/core-js/object/get-prototype-of")),d=s(e("@babel/runtime-corejs2/core-js/object/create")),m=s(e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),h=s(e("@babel/runtime-corejs2/core-js/object/define-properties")),_=s(e("@babel/runtime-corejs2/core-js/object/get-own-property-names")),y=s(e("@babel/runtime-corejs2/core-js/set")),S=s(e("@babel/runtime-corejs2/core-js/weak-map")),v=e("array-range"),T=e("zip-object"),E=new S.default},{"@babel/runtime-corejs2/core-js/object/create":9,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-names":16,"@babel/runtime-corejs2/core-js/object/get-prototype-of":18,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"array-range":82,"zip-object":633}],626:[function(e,l,i){"use strict";function a(u,n){for(var s=1,f=u.length,d=u[0],m=u[0],h=1;h<f;++h)if(m=d,d=u[h],n(d,m)){if(h===s){s++;continue}u[s++]=d}return u.length=s,u}function t(u){for(var n=1,s=u.length,f=u[0],d=u[0],m=1;m<s;++m,d=f)if(d=f,(f=u[m])!==d){if(m===n){n++;continue}u[n++]=f}return u.length=n,u}function o(u,n,s){return u.length===0?u:n?(s||u.sort(n),a(u,n)):(s||u.sort(),t(u))}l.exports=o},{}],627:[function(e,l,i){arguments[4][87][0].apply(i,arguments)},{dup:87}],628:[function(e,l,i){"use strict";function a(be){return be.call.bind(be)}function t(be,Ne){if(typeof be!="object")return!1;try{return Ne(be),!0}catch(He){return!1}}function o(be){return typeof Promise!="undefined"&&be instanceof Promise||be!==null&&typeof be=="object"&&typeof be.then=="function"&&typeof be.catch=="function"}function u(be){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(be):L(be)||R(be)}function n(be){return ie(be)==="Uint8Array"}function s(be){return ie(be)==="Uint8ClampedArray"}function f(be){return ie(be)==="Uint16Array"}function d(be){return ie(be)==="Uint32Array"}function m(be){return ie(be)==="Int8Array"}function h(be){return ie(be)==="Int16Array"}function _(be){return ie(be)==="Int32Array"}function y(be){return ie(be)==="Float32Array"}function S(be){return ie(be)==="Float64Array"}function v(be){return ie(be)==="BigInt64Array"}function T(be){return ie(be)==="BigUint64Array"}function E(be){return pe(be)==="[object Map]"}function I(be){return typeof Map!="undefined"&&(E.working?E(be):be instanceof Map)}function g(be){return pe(be)==="[object Set]"}function k(be){return typeof Set!="undefined"&&(g.working?g(be):be instanceof Set)}function j(be){return pe(be)==="[object WeakMap]"}function x(be){return typeof WeakMap!="undefined"&&(j.working?j(be):be instanceof WeakMap)}function A(be){return pe(be)==="[object WeakSet]"}function w(be){return A(be)}function C(be){return pe(be)==="[object ArrayBuffer]"}function O(be){return typeof ArrayBuffer!="undefined"&&(C.working?C(be):be instanceof ArrayBuffer)}function V(be){return pe(be)==="[object DataView]"}function R(be){return typeof DataView!="undefined"&&(V.working?V(be):be instanceof DataView)}function P(be){return pe(be)==="[object SharedArrayBuffer]"}function B(be){return je!==void 0&&(P.working===void 0&&(P.working=P(new je)),P.working?P(be):be instanceof je)}function z(be){return pe(be)==="[object AsyncFunction]"}function Q(be){return pe(be)==="[object Map Iterator]"}function N(be){return pe(be)==="[object Set Iterator]"}function K(be){return pe(be)==="[object Generator]"}function U(be){return pe(be)==="[object WebAssembly.Module]"}function F(be){return t(be,we)}function Z(be){return t(be,ye)}function $(be){return t(be,W)}function ne(be){return G&&t(be,te)}function H(be){return le&&t(be,ce)}function X(be){return F(be)||Z(be)||$(be)||ne(be)||H(be)}function oe(be){return typeof Uint8Array!="undefined"&&(O(be)||B(be))}var Y=e("is-arguments"),se=e("is-generator-function"),ie=e("which-typed-array"),L=e("is-typed-array"),G=typeof BigInt!="undefined",le=typeof Symbol!="undefined",pe=a(Object.prototype.toString),we=a(Number.prototype.valueOf),ye=a(String.prototype.valueOf),W=a(Boolean.prototype.valueOf);if(G)var te=a(BigInt.prototype.valueOf);if(le)var ce=a(Symbol.prototype.valueOf);i.isArgumentsObject=Y,i.isGeneratorFunction=se,i.isTypedArray=L,i.isPromise=o,i.isArrayBufferView=u,i.isUint8Array=n,i.isUint8ClampedArray=s,i.isUint16Array=f,i.isUint32Array=d,i.isInt8Array=m,i.isInt16Array=h,i.isInt32Array=_,i.isFloat32Array=y,i.isFloat64Array=S,i.isBigInt64Array=v,i.isBigUint64Array=T,E.working=typeof Map!="undefined"&&E(new Map),i.isMap=I,g.working=typeof Set!="undefined"&&g(new Set),i.isSet=k,j.working=typeof WeakMap!="undefined"&&j(new WeakMap),i.isWeakMap=x,A.working=typeof WeakSet!="undefined"&&A(new WeakSet),i.isWeakSet=w,C.working=typeof ArrayBuffer!="undefined"&&C(new ArrayBuffer),i.isArrayBuffer=O,V.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&V(new DataView(new ArrayBuffer(1),0,1)),i.isDataView=R;var je=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;i.isSharedArrayBuffer=B,i.isAsyncFunction=z,i.isMapIterator=Q,i.isSetIterator=N,i.isGeneratorObject=K,i.isWebAssemblyCompiledModule=U,i.isNumberObject=F,i.isStringObject=Z,i.isBooleanObject=$,i.isBigIntObject=ne,i.isSymbolObject=H,i.isBoxedPrimitive=X,i.isAnyArrayBuffer=oe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(be){Object.defineProperty(i,be,{enumerable:!1,value:function(){throw new Error(be+" is not supported in userland")}})})},{"is-arguments":321,"is-generator-function":322,"is-typed-array":323,"which-typed-array":630}],629:[function(e,l,i){(function(a){(function(){function t(H,X){var oe={seen:[],stylize:u};return arguments.length>=3&&(oe.depth=arguments[2]),arguments.length>=4&&(oe.colors=arguments[3]),S(X)?oe.showHidden=X:X&&i._extend(oe,X),k(oe.showHidden)&&(oe.showHidden=!1),k(oe.depth)&&(oe.depth=2),k(oe.colors)&&(oe.colors=!1),k(oe.customInspect)&&(oe.customInspect=!0),oe.colors&&(oe.stylize=o),s(oe,H,oe.depth)}function o(H,X){var oe=t.styles[X];return oe?"\x1B["+t.colors[oe][0]+"m"+H+"\x1B["+t.colors[oe][1]+"m":H}function u(H,X){return H}function n(H){var X={};return H.forEach(function(oe,Y){X[oe]=!0}),X}function s(H,X,oe){if(H.customInspect&&X&&C(X.inspect)&&X.inspect!==i.inspect&&(!X.constructor||X.constructor.prototype!==X)){var Y=X.inspect(oe,H);return I(Y)||(Y=s(H,Y,oe)),Y}var se=f(H,X);if(se)return se;var ie=Object.keys(X),L=n(ie);if(H.showHidden&&(ie=Object.getOwnPropertyNames(X)),w(X)&&(ie.indexOf("message")>=0||ie.indexOf("description")>=0))return d(X);if(ie.length===0){if(C(X)){var G=X.name?": "+X.name:"";return H.stylize("[Function"+G+"]","special")}if(j(X))return H.stylize(RegExp.prototype.toString.call(X),"regexp");if(A(X))return H.stylize(Date.prototype.toString.call(X),"date");if(w(X))return d(X)}var le="",pe=!1,we=["{","}"];if(y(X)&&(pe=!0,we=["[","]"]),C(X)&&(le=" [Function"+(X.name?": "+X.name:"")+"]"),j(X)&&(le=" "+RegExp.prototype.toString.call(X)),A(X)&&(le=" "+Date.prototype.toUTCString.call(X)),w(X)&&(le=" "+d(X)),ie.length===0&&(!pe||X.length==0))return we[0]+le+we[1];if(oe<0)return j(X)?H.stylize(RegExp.prototype.toString.call(X),"regexp"):H.stylize("[Object]","special");H.seen.push(X);var ye;return ye=pe?m(H,X,oe,L,ie):ie.map(function(W){return h(H,X,oe,L,W,pe)}),H.seen.pop(),_(ye,le,we)}function f(H,X){if(k(X))return H.stylize("undefined","undefined");if(I(X)){var oe="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize(oe,"string")}return E(X)?H.stylize(""+X,"number"):S(X)?H.stylize(""+X,"boolean"):v(X)?H.stylize("null","null"):void 0}function d(H){return"["+Error.prototype.toString.call(H)+"]"}function m(H,X,oe,Y,se){for(var ie=[],L=0,G=X.length;L<G;++L)B(X,String(L))?ie.push(h(H,X,oe,Y,String(L),!0)):ie.push("");return se.forEach(function(le){le.match(/^\d+$/)||ie.push(h(H,X,oe,Y,le,!0))}),ie}function h(H,X,oe,Y,se,ie){var L,G,le;if(le=Object.getOwnPropertyDescriptor(X,se)||{value:X[se]},le.get?G=le.set?H.stylize("[Getter/Setter]","special"):H.stylize("[Getter]","special"):le.set&&(G=H.stylize("[Setter]","special")),B(Y,se)||(L="["+se+"]"),G||(H.seen.indexOf(le.value)<0?(G=v(oe)?s(H,le.value,null):s(H,le.value,oe-1),G.indexOf(`
`)>-1&&(G=ie?G.split(`
`).map(function(pe){return"  "+pe}).join(`
`).substr(2):`
`+G.split(`
`).map(function(pe){return"   "+pe}).join(`
`))):G=H.stylize("[Circular]","special")),k(L)){if(ie&&se.match(/^\d+$/))return G;L=JSON.stringify(""+se),L.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.substr(1,L.length-2),L=H.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=H.stylize(L,"string"))}return L+": "+G}function _(H,X,oe){var Y=0;return H.reduce(function(se,ie){return Y++,ie.indexOf(`
`)>=0&&Y++,se+ie.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?oe[0]+(X===""?"":X+`
 `)+" "+H.join(`,
  `)+" "+oe[1]:oe[0]+X+" "+H.join(", ")+" "+oe[1]}function y(H){return Array.isArray(H)}function S(H){return typeof H=="boolean"}function v(H){return H===null}function T(H){return H==null}function E(H){return typeof H=="number"}function I(H){return typeof H=="string"}function g(H){return typeof H=="symbol"}function k(H){return H===void 0}function j(H){return x(H)&&V(H)==="[object RegExp]"}function x(H){return typeof H=="object"&&H!==null}function A(H){return x(H)&&V(H)==="[object Date]"}function w(H){return x(H)&&(V(H)==="[object Error]"||H instanceof Error)}function C(H){return typeof H=="function"}function O(H){return H===null||typeof H=="boolean"||typeof H=="number"||typeof H=="string"||typeof H=="symbol"||H===void 0}function V(H){return Object.prototype.toString.call(H)}function R(H){return H<10?"0"+H.toString(10):H.toString(10)}function P(){var H=new Date,X=[R(H.getHours()),R(H.getMinutes()),R(H.getSeconds())].join(":");return[H.getDate(),$[H.getMonth()],X].join(" ")}function B(H,X){return Object.prototype.hasOwnProperty.call(H,X)}function z(H,X){if(!H){var oe=new Error("Promise was rejected with a falsy value");oe.reason=H,H=oe}return X(H)}function Q(H){function X(){for(var oe=[],Y=0;Y<arguments.length;Y++)oe.push(arguments[Y]);var se=oe.pop();if(typeof se!="function")throw new TypeError("The last argument must be of type Function");var ie=this,L=function(){return se.apply(ie,arguments)};H.apply(this,oe).then(function(G){a.nextTick(L.bind(null,null,G))},function(G){a.nextTick(z.bind(null,G,L))})}if(typeof H!="function")throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(X,Object.getPrototypeOf(H)),Object.defineProperties(X,N(H)),X}var N=Object.getOwnPropertyDescriptors||function(H){for(var X=Object.keys(H),oe={},Y=0;Y<X.length;Y++)oe[X[Y]]=Object.getOwnPropertyDescriptor(H,X[Y]);return oe},K=/%[sdj%]/g;i.format=function(H){if(!I(H)){for(var X=[],oe=0;oe<arguments.length;oe++)X.push(t(arguments[oe]));return X.join(" ")}for(var oe=1,Y=arguments,se=Y.length,ie=String(H).replace(K,function(le){if(le==="%%")return"%";if(oe>=se)return le;switch(le){case"%s":return String(Y[oe++]);case"%d":return Number(Y[oe++]);case"%j":try{return JSON.stringify(Y[oe++])}catch(pe){return"[Circular]"}default:return le}}),L=Y[oe];oe<se;L=Y[++oe])v(L)||!x(L)?ie+=" "+L:ie+=" "+t(L);return ie},i.deprecate=function(H,X){function oe(){if(!Y){if(a.throwDeprecation)throw new Error(X);a.traceDeprecation?console.trace(X):console.error(X),Y=!0}return H.apply(this,arguments)}if(a!==void 0&&a.noDeprecation===!0)return H;if(a===void 0)return function(){return i.deprecate(H,X).apply(this,arguments)};var Y=!1;return oe};var U={},F=/^$/;if(a.env.NODE_DEBUG){var Z=a.env.NODE_DEBUG;Z=Z.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),F=new RegExp("^"+Z+"$","i")}i.debuglog=function(H){if(H=H.toUpperCase(),!U[H])if(F.test(H)){var X=a.pid;U[H]=function(){var oe=i.format.apply(i,arguments);console.error("%s %d: %s",H,X,oe)}}else U[H]=function(){};return U[H]},i.inspect=t,t.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},t.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.types=e("./support/types"),i.isArray=y,i.isBoolean=S,i.isNull=v,i.isNullOrUndefined=T,i.isNumber=E,i.isString=I,i.isSymbol=g,i.isUndefined=k,i.isRegExp=j,i.types.isRegExp=j,i.isObject=x,i.isDate=A,i.types.isDate=A,i.isError=w,i.types.isNativeError=w,i.isFunction=C,i.isPrimitive=O,i.isBuffer=e("./support/isBuffer");var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){console.log("%s - %s",P(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(H,X){if(!X||!x(X))return H;for(var oe=Object.keys(X),Y=oe.length;Y--;)H[oe[Y]]=X[oe[Y]];return H};var ne=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;i.promisify=function(H){function X(){for(var oe,Y,se=new Promise(function(G,le){oe=G,Y=le}),ie=[],L=0;L<arguments.length;L++)ie.push(arguments[L]);ie.push(function(G,le){G?Y(G):oe(le)});try{H.apply(this,ie)}catch(G){Y(G)}return se}if(typeof H!="function")throw new TypeError('The "original" argument must be of type Function');if(ne&&H[ne]){var X=H[ne];if(typeof X!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(X,ne,{value:X,enumerable:!1,writable:!1,configurable:!0}),X}return Object.setPrototypeOf(X,Object.getPrototypeOf(H)),ne&&Object.defineProperty(X,ne,{value:X,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(X,N(H))},i.promisify.custom=ne,i.callbackify=Q}).call(this)}).call(this,e("_process"))},{"./support/isBuffer":627,"./support/types":628,_process:568,inherits:319}],630:[function(e,l,i){(function(a){(function(){"use strict";var t=e("foreach"),o=e("available-typed-arrays"),u=e("call-bind/callBound"),n=u("Object.prototype.toString"),s=e("has-symbols")(),f=s&&typeof Symbol.toStringTag=="symbol",d=o(),m=u("String.prototype.slice"),h={},_=e("es-abstract/helpers/getOwnPropertyDescriptor"),y=Object.getPrototypeOf;f&&_&&y&&t(d,function(T){if(typeof a[T]=="function"){var E=new a[T];if(!(Symbol.toStringTag in E))throw new EvalError("this engine has support for Symbol.toStringTag, but "+T+" does not have the property! Please report this.");var I=y(E),g=_(I,Symbol.toStringTag);if(!g){var k=y(I);g=_(k,Symbol.toStringTag)}h[T]=g.get}});var S=function(T){var E=!1;return t(h,function(I,g){if(!E)try{var k=I.call(T);k===g&&(E=k)}catch(j){}}),E},v=e("is-typed-array");l.exports=function(T){return!!v(T)&&(f?S(T):m(n(T),8,-1))}}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"available-typed-arrays":90,"call-bind/callBound":102,"es-abstract/helpers/getOwnPropertyDescriptor":301,foreach:309,"has-symbols":313,"is-typed-array":323}],631:[function(e,l,i){l.exports=e("./lib/Observable.js").Observable},{"./lib/Observable.js":632}],632:[function(e,l,i){"use strict";function a(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function t(w,C){for(var O=0;O<C.length;O++){var V=C[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(w,V.key,V)}}function o(w,C,O){return C&&t(w.prototype,C),O&&t(w,O),w}function u(w,C){var O=w[C];if(O!=null){if(typeof O!="function")throw new TypeError(O+" is not a function");return O}}function n(w){var C=w.constructor;return C!==void 0&&(C=C[k])===null&&(C=void 0),C!==void 0?C:A}function s(w){return w instanceof A}function f(w){f.log?f.log(w):setTimeout(function(){throw w})}function d(w){Promise.resolve().then(function(){try{w()}catch(C){f(C)}})}function m(w){var C=w._cleanup;if(C!==void 0&&(w._cleanup=void 0,C))try{if(typeof C=="function")C();else{var O=u(C,"unsubscribe");O&&O.call(C)}}catch(V){f(V)}}function h(w){w._observer=void 0,w._queue=void 0,w._state="closed"}function _(w){var C=w._queue;if(C){w._queue=void 0,w._state="ready";for(var O=0;O<C.length&&(y(w,C[O].type,C[O].value),w._state!=="closed");++O);}}function y(w,C,O){w._state="running";var V=w._observer;try{var R=u(V,C);switch(C){case"next":R&&R.call(V,O);break;case"error":if(h(w),!R)throw O;R.call(V,O);break;case"complete":h(w),R&&R.call(V)}}catch(P){f(P)}w._state==="closed"?m(w):w._state==="running"&&(w._state="ready")}function S(w,C,O){if(w._state!=="closed")return w._state==="buffering"?void w._queue.push({type:C,value:O}):w._state!=="ready"?(w._state="buffering",w._queue=[{type:C,value:O}],void d(function(){return _(w)})):void y(w,C,O)}Object.defineProperty(i,"__esModule",{value:!0}),i.Observable=void 0;var v=function(){return typeof Symbol=="function"},T=function(w){return v()&&Boolean(Symbol[w])},E=function(w){return T(w)?Symbol[w]:"@@"+w};v()&&!T("observable")&&(Symbol.observable=Symbol("observable"));var I=E("iterator"),g=E("observable"),k=E("species"),j=function(){function w(C,O){a(this,w),this._cleanup=void 0,this._observer=C,this._queue=void 0,this._state="initializing";var V=new x(this);try{this._cleanup=O.call(void 0,V)}catch(R){V.error(R)}this._state==="initializing"&&(this._state="ready")}return o(w,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(h(this),m(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),w}(),x=function(){function w(C){a(this,w),this._subscription=C}return o(w,[{key:"next",value:function(C){S(this._subscription,"next",C)}},{key:"error",value:function(C){S(this._subscription,"error",C)}},{key:"complete",value:function(){S(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),w}(),A=function(){function w(C){if(a(this,w),!(this instanceof w))throw new TypeError("Observable cannot be called as a function");if(typeof C!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=C}return o(w,[{key:"subscribe",value:function(C){return typeof C=="object"&&C!==null||(C={next:C,error:arguments[1],complete:arguments[2]}),new j(C,this._subscriber)}},{key:"forEach",value:function(C){var O=this;return new Promise(function(V,R){function P(){B.unsubscribe(),V()}if(typeof C!="function")return void R(new TypeError(C+" is not a function"));var B=O.subscribe({next:function(z){try{C(z,P)}catch(Q){R(Q),B.unsubscribe()}},error:R,complete:V})})}},{key:"map",value:function(C){var O=this;if(typeof C!="function")throw new TypeError(C+" is not a function");return new(n(this))(function(V){return O.subscribe({next:function(R){try{R=C(R)}catch(P){return V.error(P)}V.next(R)},error:function(R){V.error(R)},complete:function(){V.complete()}})})}},{key:"filter",value:function(C){var O=this;if(typeof C!="function")throw new TypeError(C+" is not a function");return new(n(this))(function(V){return O.subscribe({next:function(R){try{if(!C(R))return}catch(P){return V.error(P)}V.next(R)},error:function(R){V.error(R)},complete:function(){V.complete()}})})}},{key:"reduce",value:function(C){var O=this;if(typeof C!="function")throw new TypeError(C+" is not a function");var V=n(this),R=arguments.length>1,P=!1,B=arguments[1],z=B;return new V(function(Q){return O.subscribe({next:function(N){var K=!P;if(P=!0,!K||R)try{z=C(z,N)}catch(U){return Q.error(U)}else z=N},error:function(N){Q.error(N)},complete:function(){if(!P&&!R)return Q.error(new TypeError("Cannot reduce an empty sequence"));Q.next(z),Q.complete()}})})}},{key:"concat",value:function(){for(var C=this,O=arguments.length,V=new Array(O),R=0;R<O;R++)V[R]=arguments[R];var P=n(this);return new P(function(B){function z(K){Q=K.subscribe({next:function(U){B.next(U)},error:function(U){B.error(U)},complete:function(){N===V.length?(Q=void 0,B.complete()):z(P.from(V[N++]))}})}var Q,N=0;return z(C),function(){Q&&(Q.unsubscribe(),Q=void 0)}})}},{key:"flatMap",value:function(C){var O=this;if(typeof C!="function")throw new TypeError(C+" is not a function");var V=n(this);return new V(function(R){function P(){z.closed&&B.length===0&&R.complete()}var B=[],z=O.subscribe({next:function(Q){if(C)try{Q=C(Q)}catch(K){return R.error(K)}var N=V.from(Q).subscribe({next:function(K){R.next(K)},error:function(K){R.error(K)},complete:function(){var K=B.indexOf(N);K>=0&&B.splice(K,1),P()}});B.push(N)},error:function(Q){R.error(Q)},complete:function(){P()}});return function(){B.forEach(function(Q){return Q.unsubscribe()}),z.unsubscribe()}})}},{key:g,value:function(){return this}}],[{key:"from",value:function(C){var O=typeof this=="function"?this:w;if(C==null)throw new TypeError(C+" is not an object");var V=u(C,g);if(V){var R=V.call(C);if(Object(R)!==R)throw new TypeError(R+" is not an object");return s(R)&&R.constructor===O?R:new O(function(P){return R.subscribe(P)})}if(T("iterator")&&(V=u(C,I)))return new O(function(P){d(function(){if(!P.closed){var B=!0,z=!1,Q=void 0;try{for(var N,K=V.call(C)[Symbol.iterator]();!(B=(N=K.next()).done);B=!0){var U=N.value;if(P.next(U),P.closed)return}}catch(F){z=!0,Q=F}finally{try{B||K.return==null||K.return()}finally{if(z)throw Q}}P.complete()}})});if(Array.isArray(C))return new O(function(P){d(function(){if(!P.closed){for(var B=0;B<C.length;++B)if(P.next(C[B]),P.closed)return;P.complete()}})});throw new TypeError(C+" is not observable")}},{key:"of",value:function(){for(var C=arguments.length,O=new Array(C),V=0;V<C;V++)O[V]=arguments[V];return new(typeof this=="function"?this:w)(function(R){d(function(){if(!R.closed){for(var P=0;P<O.length;++P)if(R.next(O[P]),R.closed)return;R.complete()}})})}},{key:k,get:function(){return this}}]),w}();i.Observable=A,v()&&Object.defineProperty(A,Symbol("extensions"),{value:{symbol:g,hostReportError:f},configurable:!0})},{}],633:[function(e,l,i){var a=function(t,o){arguments.length==1&&(o=t[1],t=t[0]);var u={},n=0;for(n;n<t.length;n+=1)u[t[n]]=o[n];return u};l.exports=a},{}],634:[function(e,l,i){"use strict";function a(v){if(!v||typeof v.url!="string")throw new Error("URL must be given");return new n.default(function(T,E){var I=v.method?v.method:"GET",g=v.url,k=null;v.data&&(k=typeof v.data=="string"?v.data:d.default.stringify(v.data),I!=="GET"&&I!=="HEAD"||(g+=(/\?/.test(g)?"&":"?")+k,k=null));var j=v.canRetry!=null?v.canRetry:I==="GET"||I==="HEAD",x=g.match(/(?:(?:[a-z]+:)?\/\/)?([^/]*)\//);if(!x)throw new Error("Failed to match url");var A=x[1];if(Object.prototype.hasOwnProperty.call(S,A))return void E(new Error("Server at ".concat(g," has told us to stop connecting")));v.cachebust&&(g=(0,h.default)(g));var w=v.XMLHttpRequest||window.XMLHttpRequest,C=new w;if((0,s.default)(C,v.xhrFields),C.onerror=function(V){if((v.retryNum||0)<y&&(C.status===502||(C.status===0||C.status>=500)&&j))return void T(t(v));var R=(0,s.default)(new Error("Failed to load ".concat(g)),{event:V,xhr:C,status:C.status});C.status==490&&(S[A]=!0),E(R)},C.onload=function(V){C.status===200?T({xhr:C,text:C.responseText}):C.onerror(V)},C.open(I,g,!0),v.headers){var O=v.headers;(0,f.default)(O).forEach(function(V){var R=O[V];C.setRequestHeader(V,R)})}C.send(k)})}function t(v){var T=(v.retryNum||0)+1,E=Math.min(1e3*Math.pow(2,T),_);return(0,m.default)(E).then(function(){return a((0,s.default)({},v,{retryNum:T}))})}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=u(e("@babel/runtime-corejs2/core-js/promise")),s=u(e("@babel/runtime-corejs2/core-js/object/assign")),f=u(e("@babel/runtime-corejs2/core-js/object/keys")),d=u(e("querystring")),m=u(e("pdelay")),h=u(e("./cachebust-url")),_=64e3,y=5,S={}},{"./cachebust-url":635,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,pdelay:545,querystring:579}],635:[function(e,l,i){"use strict";function a(f){return n.test(f)?f.replace(n,"$1_="+s++):f+(/\?/.test(f)?"&":"?")+"_="+s++}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/date/now")),n=/([?&])_=[^&]*/,s=(0,u.default)()+Math.floor(Math.random()*Math.pow(2,32))},{"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],636:[function(e,l,i){"use strict";function a(s){return s.replace(/(^|>)([^<]+)/g,function(f,d,m){return d+(m.trim().length?"...":"")}).replace(/\s([^\s=]+)\s*=\s*"[^"]+"/g,function(f,d){return n.has(d)?f:" ".concat(d,'="..."')})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a,i.ATTRIBUTE_WHITELIST=void 0;var u=o(e("@babel/runtime-corejs2/core-js/set")),n=new u.default(["class","rel","target","type","tabindex","id","style","role","contenteditable","aria-expanded","aria-hidden","aria-disabled","aria-haspopup","aria-labelledby","aria-busy","aria-multiselectable","name","data-action-data","data-item-id","data-msg-id","data-map-id","g_editable","jsnamespace","jsaction"]);i.ATTRIBUTE_WHITELIST=n},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],637:[function(e,l,i){"use strict";function a(T){if(typeof u!="function")return null;var E=new u,I=new u;return(a=function(g){return g?I:E})(T)}function t(T){for(var E=[],I=[],g=T,k=0;g;){var j=(0,y.default)(g.attributes).map(function(O){var V=O.name,R=O.value;return(0,S.default)(d||(d=(0,_.default)([" ",'="','"'])),V,v.ATTRIBUTE_WHITELIST.has(V)?R:"...")}).join(""),x=k,A=g.children.length-1-k,w=T!==g&&x?"[".concat(x,"]"):"",C=T!==g&&A?"[".concat(A,"]"):"";E.push((0,S.default)(m||(m=(0,_.default)(["<","",">",""])),g.nodeName.toLowerCase(),{__html:j},w)),I.push((0,S.default)(h||(h=(0,_.default)(["","</",">"])),C,g.nodeName.toLowerCase())),g.parentElement&&(k=(0,y.default)(g.parentElement.children).indexOf(g)),g=g.parentElement}return E.reverse().join("")+(0,v.default)(T.innerHTML)+I.join("")}var o=e("@babel/runtime-corejs2/helpers/typeof"),u=e("@babel/runtime-corejs2/core-js/weak-map"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=t;var d,m,h,_=f(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),y=f(e("@babel/runtime-corejs2/core-js/array/from")),S=f(e("auto-html")),v=function(T,E){if(!E&&T&&T.__esModule)return T;if(T===null||o(T)!=="object"&&typeof T!="function")return{default:T};var I=a(E);if(I&&I.has(T))return I.get(T);var g={},k=n&&s;for(var j in T)if(j!=="default"&&Object.prototype.hasOwnProperty.call(T,j)){var x=k?s(T,j):null;x&&(x.get||x.set)?n(g,j,x):g[j]=T[j]}return g.default=T,I&&I.set(T,g),g}(e("./censorHTMLstring"))},{"./censorHTMLstring":636,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"@babel/runtime-corejs2/helpers/typeof":57,"auto-html":89}],638:[function(e,l,i){"use strict";function a(m){return new n.default(function(h){var _=document.createElement("img");_.onload=function(){h(!0)},_.addEventListener("loadend",function(){h(!1)}),_.onerror=function(){h(!1)},_.src=(0,s.default)(m)})}function t(){return n.default.all(d.map(function(m){return a(m).then(function(h){return[m,h]})})).then(function(m){return(0,f.default)(m)})}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=t;var n=u(e("@babel/runtime-corejs2/core-js/promise")),s=u(e("./cachebust-url")),f=u(e("lodash/fromPairs")),d=["https://www.inboxsdk.com/images/logo-red.png"]},{"./cachebust-url":635,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/fromPairs":489}],639:[function(e,l,i){"use strict";function a(){var n=void 0,s=void 0,f=new u.default(function(d,m){n=d,s=m});return{resolve:n,reject:s,promise:f}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/promise"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],640:[function(e,l,i){"use strict";function a(t,o){for(var u=t.parentElement;u;){if(o(u))return u;u=u.parentElement}return null}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],641:[function(e,l,i){(function(a){(function(){"use strict";function t(){var o=a.chrome;return o&&o.extension&&o.extension.getURL?o.extension.getURL(""):null}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=t}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"@babel/runtime-corejs2/core-js/object/define-property":11}],642:[function(e,l,i){"use strict";e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=void 0;var a=function(o,u){var n=o.get(u);if(n===void 0)throw new Error("Key not found in map");return n},t=a;i.default=t},{"@babel/runtime-corejs2/core-js/object/define-property":11}],643:[function(e,l,i){"use strict";function a(){var n=typeof document!="undefined"&&document.documentElement.getAttribute("data-inboxsdk-session-id");if(typeof n=="string")return n;var s=(0,u.default)()+"-"+Math.random();return typeof document!="undefined"&&document.documentElement.setAttribute("data-inboxsdk-session-id",s),s}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/date/now"))},{"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],644:[function(e,l,i){"use strict";function a(){return(""+new Error("Stack saver").stack).replace(/^([^\n]*\n){2}/,"")}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],645:[function(e,l,i){"use strict";function a(t){var o=document.createElement("div");return o.innerHTML=t.replace(/<[^>]*>?/g,""),o.textContent}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],646:[function(e,l,i){"use strict";function a(t){return t.offsetWidth>0||t.offsetHeight>0}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],647:[function(e,l,i){(function(a){(function(){"use strict";function t(S,v){var T=document.createElement("script");T.type="text/javascript",v&&(T.crossOrigin="anonymous");var E=new s.default(function(I,g){T.addEventListener("error",function(k){g(k.error||new Error(k.message||"Load failure: "+S,k.filename,k.lineno,k.column))},!1),T.addEventListener("load",function(){setTimeout(I,1)},!1)});if(T.src=S,!document.head)throw new Error("missing head");return document.head.appendChild(T),E}function o(S,v){var T;return y()?T=function E(I,g){if(I>3)throw g||new Error("Ran out of loadScript attempts for unknown reason");return(0,h.default)({url:S,cachebust:I>0,XMLHttpRequest:v?v.XMLHttpRequest:void 0}).then(function(k){var j=k.text,x=eval,A=[];v&&v.disableSourceMappingURL?A.push(j.replace(/\/\/# sourceMappingURL=(?!data:)[^\n]*\n?$/,"")):A.push(j),v&&v.nowrap||(A.unshift("(function(){"),A.push(`
});`)),A.push(`
//# sourceURL=`+S+`
`);var w,C=A.join("");try{w=x(C)}catch(O){if(O&&O.name==="SyntaxError")return(0,m.default)(O,{retryNum:I,caughtSyntaxError:!0,url:S,message:"SyntaxError in loading ".concat(S,". Did we not load it fully? Trying again...")},{}),(0,_.default)(5e3).then(function(){return E(I+1,O)});throw O}v&&v.nowrap||w.call(a)})}(0,null):T=t(S,!0).catch(function(){return t(S,!1).then(function(){console.warn("Script "+S+" included without CORS headers. Error logs might be censored by the browser.")})}),T.catch(function(E){return(0,d.default)().then(function(I){(0,m.default)(E,{url:S,connectivityTestResults:I,status:E&&E.status,response:E&&E.xhr?E.xhr.responseText:null,message:"Failed to load script"},{})})}),T}var u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=o;var s=n(e("@babel/runtime-corejs2/core-js/promise")),f=n(e("lodash/once")),d=n(e("./connectivity-test")),m=n(e("./log-error")),h=n(e("./ajax")),_=n(e("pdelay")),y=(0,f.default)(function(){return!(!a.chrome||!a.chrome.extension)||!(!a.safari||!a.safari.extension)})}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./ajax":634,"./connectivity-test":638,"./log-error":648,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/once":516,pdelay:545}],648:[function(e,l,i){(function(a){(function(){"use strict";function t(w,C,O){if(typeof document=="undefined")throw w;try{var V;if(o(w))return;u(w),w instanceof Error||(console.warn("First parameter to Logger.error was not an error object:",w),w=new Error("Logger.error called with non-error: "+w),u(w));var R=O.appIds,P=O.implVersion,B=O.isUsingSyncAPI,z=O.userEmailHash,Q=O.loaderVersion||g.BUILD_VERSION,N=!!O.sentByApp,K={};for(var U in w)if(Object.prototype.hasOwnProperty.call(w,U))try{var F=w[U];(0,d.default)(F),K[U]=F}catch(H){}(0,m.default)(K).length>0&&(C={errorProperties:K,details:C});var Z=(0,T.default)(),$=["Error logged:",w];w&&w.stack&&$.push(`

Original error stack:
`+w.stack),$.push(`

Error logged from:
`+Z),C&&$.push(`

Error details:`,C),$.push(`

Extension App Ids:`,(0,d.default)(R,null,2)),$.push(`
Sent by App:`,N),$.push(`
Session Id:`,j),$.push(`
Extension Id:`,(0,E.default)()),$.push(`
InboxSDK Loader Version:`,Q),$.push(`
InboxSDK Implementation Version:`,P),$.push(`
Is Using Sync API:`,B),(V=console).error.apply(V,$);var ne={message:w&&w.message||w,stack:w&&w.stack,loggedFrom:Z,details:C,appIds:R,sentByApp:N,sessionId:j,emailHash:z,extensionId:(0,E.default)(),loaderVersion:Q,implementationVersion:P,isUsingSyncAPI:B,origin:document.location.origin,timestamp:1e3*(0,h.default)()};A(ne),document.documentElement.getAttribute("inboxsdk-emit-error-event")==="true"&&document.documentElement.dispatchEvent(new CustomEvent("inboxSDKerror",{bubbles:!1,cancelable:!1,detail:{message:w&&w.message||w,stack:w&&w.stack,loggedFrom:Z,details:C,sentByApp:N}}))}catch(H){n(H,[w,C,O])}}function o(w){return!!(0,k.default)(w)&&x.has(w)}function u(w){(0,k.default)(w)&&x.add(w)}function n(w,C){console.error("ERROR REPORTING ERROR",w),console.error("ORIGINAL ERROR",C)}var s=e("@babel/runtime-corejs2/core-js/object/define-property"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");s(i,"__esModule",{value:!0}),i.default=t;var d=f(e("@babel/runtime-corejs2/core-js/json/stringify")),m=f(e("@babel/runtime-corejs2/core-js/object/keys")),h=f(e("@babel/runtime-corejs2/core-js/date/now")),_=f(e("@babel/runtime-corejs2/core-js/weak-map")),y=f(e("@babel/runtime-corejs2/core-js/object/define-property")),S=f(e("./ajax")),v=f(e("./rate-limit")),T=f(e("./get-stack-trace")),E=f(e("./get-extension-id")),I=f(e("./get-session-id")),g=e("./version"),k=f(e("lodash/isObject")),j=(0,I.default)(),x=function(){return!a.__inboxsdk_extensionSeenErrors&&_.default&&(0,y.default)(a,"__inboxsdk_extensionSeenErrors",{value:new _.default}),{has:function(w){if(a.__inboxsdk_extensionSeenErrors)return a.__inboxsdk_extensionSeenErrors.has(w);try{return!!w.__inboxsdk_extensionHasSeenError}catch(C){return console.error(C),!1}},add:function(w){if(a.__inboxsdk_extensionSeenErrors&&a.__inboxsdk_extensionSeenErrors.set)a.__inboxsdk_extensionSeenErrors.set(w,!0);else if(a.__inboxsdk_extensionSeenErrors&&a.__inboxsdk_extensionSeenErrors.add)a.__inboxsdk_extensionSeenErrors.add(w);else try{(0,y.default)(w,"__inboxsdk_extensionHasSeenError",{value:!0})}catch(C){console.error(C)}}}}(),A=(0,v.default)(function(w){try{(0,S.default)({url:"https://api.inboxsdk.com/api/v2/errors",method:"POST",headers:{"Content-Type":"application/json"},data:(0,d.default)(w)}).catch(function(C){n(C,[w])})}catch(C){n(C,[w])}},6e4,10)}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./ajax":634,"./get-extension-id":641,"./get-session-id":643,"./get-stack-trace":644,"./rate-limit":650,"./version":651,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/isObject":504}],649:[function(e,l,i){"use strict";function a(s,f,d){function m(){S.shift()(),S.length?h():v=!1}function h(){v=!0;var T=_();T>0?setTimeout(m,T):m()}function _(){var T=(0,u.default)(),E=T-f;return y=y.filter(function(I){return I>E}),y.length>=d?y[0]-E:-1}var y=[],S=[],v=!1;return function(){for(var T=this,E=arguments.length,I=new Array(E),g=0;g<E;g++)I[g]=arguments[g];var k,j=new n.default(function(x,A){k=function(){y.push((0,u.default)());try{x(s.apply(T,I))}catch(w){A(w)}}});if(!k)throw new Error("Should not happen");return S.push(k),v||h(),j}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/date/now")),n=o(e("@babel/runtime-corejs2/core-js/promise"))},{"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],650:[function(e,l,i){"use strict";function a(n,s,f){var d=[];return function(){var m=(0,u.default)();if(d=d.filter(function(S){return S>m-s}),d.length>=f)throw new Error("Function rate limit exceeded");d.push(m);for(var h=arguments.length,_=new Array(h),y=0;y<h;y++)_[y]=arguments[y];return n.apply(this,_)}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/date/now"))},{"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],651:[function(e,l,i){"use strict";e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.BUILD_VERSION=void 0,i.BUILD_VERSION="0.7.25-1674086711786-29f1d1647c4c170f",l.hot&&l.hot.accept()},{"@babel/runtime-corejs2/core-js/object/define-property":11}],652:[function(e,l,i){"use strict";function a(n){if(!n.TEMPORARY_INTERNAL_skipWeakMapRequirement&&!u.default)throw new Error("Browser does not support WeakMap")}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/weak-map"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],653:[function(e,l,i){"use strict";e("./loading/platform-implementation-loader").default._loadScript=e("./loading/load-platform-implementation-DEV")(500),l.exports=e("./inboxsdk")},{"./inboxsdk":654,"./loading/load-platform-implementation-DEV":655,"./loading/platform-implementation-loader":656}],654:[function(e,l,i){(function(a){(function(){"use strict";function t(y,S,v){return v=(0,n.default)({globalErrorLogging:!0},v,{VERSION:h,REQUESTED_API_VERSION:y}),(0,f.default)(v),s.default.load(S,v)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.load=t,i.loadScript=i.LOADER_VERSION=void 0;var n=u(e("@babel/runtime-corejs2/core-js/object/assign")),s=(u(e("../common/log-error")),u(e("./loading/platform-implementation-loader"))),f=u(e("./check-requirements")),d=e("../common/version"),m=u(e("../common/load-script")),h=d.BUILD_VERSION;i.LOADER_VERSION=h;var _=m.default;i.loadScript=_,["https://mail.google.com","https://inbox.google.com"].indexOf(document.location.origin)!=-1&&s.default.preload()}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../common/load-script":647,"../common/log-error":648,"../common/version":651,"./check-requirements":652,"./loading/platform-implementation-loader":656,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],655:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/helpers/interopRequireDefault"),t=a(e("@babel/runtime-corejs2/core-js/promise")),o=a(e("lodash/once"));l.exports=function(u){return(0,o.default)(function(){return new t.default(function(n,s){setTimeout(function(){try{e("../../platform-implementation-js/main"),n()}catch(f){s(f)}},u)})})}},{"../../platform-implementation-js/main":906,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/once":516}],656:[function(e,l,i){(function(a){(function(){"use strict";var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/core-js/promise")),n=o(e("lodash/once")),s=o(e("../../common/load-script")),f={load:function(m,h){return u.default.resolve().then(function(){if(!a.__InboxSDKImpLoader)return f._loadScript().then(function(){if(!a.__InboxSDKImpLoader)throw new Error("Implementation file did not load correctly")})}).then(function(){return a.__InboxSDKImpLoader.load("0.1",m,h)})},_loadScript:(0,n.default)(function(){return(0,s.default)("https://www.inboxsdk.com/build/platform-implementation.js",{nowrap:!0})}),preload:function(){f._loadScript()}},d=f;i.default=d}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../common/load-script":647,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/once":516}],657:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/object/freeze")),u=(0,o.default)({NAVIGATION:"NAVIGATION",LINK:"LINK",GROUPER:"GROUPER",MANAGE:"MANAGE"}),n=u;i.default=n},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/freeze":13,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],658:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.ROUTE_TYPES=i.NATIVE_LIST_ROUTE_IDS=i.NATIVE_ROUTE_IDS=void 0;var o=t(e("@babel/runtime-corejs2/core-js/object/freeze")),u=(0,o.default)({INBOX:"inbox/:page",ALL_MAIL:"all/:page",SENT:"sent/:page",STARRED:"starred/:page",DRAFTS:"drafts/:page",SNOOZED:"snoozed/:page",DONE:"done",REMINDERS:"reminders",LABEL:"label/:labelName/:page",TRASH:"trash/:page",SPAM:"spam/:page",IMPORTANT:"imp/:page",SEARCH:"search/:query/:page",THREAD:"inbox/:threadID",CHATS:"chats/:page",CHAT:"chats/:chatID",CONTACTS:"contacts/:page",CONTACT:"contacts/:contactID",SETTINGS:"settings/:section",ANY_LIST:"*"});i.NATIVE_ROUTE_IDS=u;var n=(0,o.default)({INBOX:u.INBOX,ALL_MAIL:u.ALL_MAIL,SENT:u.SENT,STARRED:u.STARRED,DRAFTS:u.DRAFTS,SNOOZED:u.SNOOZED,DONE:u.DONE,REMINDERS:u.REMINDERS,LABEL:u.LABEL,TRASH:u.TRASH,SPAM:u.SPAM,IMPORTANT:u.IMPORTANT,SEARCH:u.SEARCH,ANY_LIST:u.ANY_LIST});i.NATIVE_LIST_ROUTE_IDS=n;var s=(0,o.default)({LIST:"LIST",THREAD:"THREAD",SETTINGS:"SETTINGS",CHAT:"CHAT",CUSTOM:"CUSTOM",UNKNOWN:"UNKNOWN"});i.ROUTE_TYPES=s},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/freeze":13,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],659:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.SECTION_NAMES=void 0;var o=t(e("@babel/runtime-corejs2/core-js/object/freeze")),u=(0,o.default)({INBOX_STATE:"INBOX_STATE",METADATA_STATE:"METADATA_STATE",OTHER:"OTHER"});i.SECTION_NAMES=u},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/freeze":13,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],660:[function(e,l,i){"use strict";function a(){if(!document.getElementById("inboxsdk__style")){var f=document.createElement("style");if(f.id="inboxsdk__style",s.onValue(function(d){f.textContent=(0,n.default)(d)}),!document.head)throw new Error("missing head");document.head.appendChild(f)}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("ud-kefir")),n=o(e("../../lib/rewriteCssWithIdMap")),s=(0,u.default)(l,`/* suggestions */

.inboxsdk__suggestions_separator_before {
  padding-bottom: 2px !important;
}

.inboxsdk__suggestions_separator_after {
  border-top: 1px solid #e5e5e5;
  padding-top: 2px !important;
}

/* buttons */

div.T-I.inboxsdk__button {
  -webkit-user-select: none;
  min-width: 27px;
}

.inboxsdk__no_bg {
  background: none;
}

.inboxsdk__button.inboxsdk__button_disabled {
  opacity: 0.55;
}

.inboxsdk__button_icon + .inboxsdk__button_text {
  margin-left: 5px;
}

.inboxsdk__button_icon {
  display: inline-block;
}

.inboxsdk__button_iconImg {
  height: 20px;
  width: 20px;
  vertical-align: middle;
  margin-top: -2px;
  user-drag: none;
  -moz-user-select: none;
  -webkit-user-drag: none;
}

.inboxsdk__button_green_inactive {
  -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);
  background-color: #53a93f;
  background-image: -webkit-linear-gradient(top, transparent, transparent);
  background-image: linear-gradient(top, transparent, transparent);
  border: 1px solid transparent;
  color: #fff;
  text-shadow: none;
}

.inboxsdk__button_green_hover {
  -webkit-box-shadow: inset 0 -1px 0 #4c8534;
  box-shadow: inset 0 -1px 0 #4c8534;
  background-color: #65b045;
  background-image: -webkit-linear-gradient(top, transparent, transparent);
  background-image: linear-gradient(top, transparent, transparent);
  border: 1px solid transparent;
  border-bottom: 1px solid #4c8534;
  text-shadow: none;
}

.inboxsdk__button_green_active {
  -webkit-box-shadow: inset 0 1px 0 #2f6124;
  box-shadow: inset 0 1px 0 #2f6124;
  background: #3e802f;
  border: 1px solid transparent;
  border-top: 1px solid #2f6124;
  color: #fff;
  text-shadow: none;
}

.inboxsdk__menu {
  min-width: 1em;
  min-height: 1em;
  padding: 0px;
  overflow: visible;
  max-height: none;

  /* Copied from Gmail's .J-M class */
  z-index: 7;
  cursor: default;
  font-size: 13px;
  margin: 0;
  outline: none;
}

.inboxsdk__menu > .inboxsdk__menuContent {
  padding: 0;
  box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
    0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.2);
  transition: opacity 0.218s;
  border: 1px solid rgba(0, 0, 0, 0.2);
  background: #fff;
  outline: none;
}

.f4.J-N-JX.inboxsdk__message_more_icon {
  height: 16px;
  margin-top: 1px;
  width: 16px;
}

/* end */

/* compose buttons */

/* fix compose mole position when sidebar is open */
/*
steps to repro:
1. open compose mole
2. open non-native sidebar
3. mole overlaps sidebar
*/
.dw .nH > .no .nH.nn:last-child[style='width: 320px;'] {
  width: 376px !important;
}

/* fix native button wrapping */
.inboxsdk__compose .a8X {
  overflow: visible;
}

.inboxsdk__compose .a8X > .bAK {
  flex-wrap: nowrap;
}

/* in material Gmail reduce padding between buttons  */
.inboxsdk__compose_narrow_buttons .gU:not(:first-child) {
  padding-left: 5px;
}

.inboxsdk__compose_narrow_buttons .inboxsdk__compose_actionToolbar {
  padding-left: 10px;
}

.inboxsdk__compose_narrow_buttons .wG:not(:first-child) {
  margin-left: 15px;
}

.inboxsdk__compose_narrow_buttons
  .inboxsdk__compose_actionToolbar
  div.inboxsdk__composeButton:last-child {
  margin-right: 0px;
}

.inboxsdk__compose_narrow_buttons
  .inboxsdk__compose_actionToolbar
  div.inboxsdk__composeButton
  + div.inboxsdk__composeButton {
  margin-left: 3px;
}

/* end narrow */

/* mimic button styling */
.inboxsdk__composeButton,
.inboxsdk__compose_sendButton {
  height: 20px;
  width: 20px;
  padding: 4px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  outline: none;
  position: relative;
}

.inboxsdk__composeButton + .inboxsdk__composeButton {
  margin-left: 4px;
}

.inboxsdk__composeButton .inboxsdk__button_icon {
  opacity: 0.55;
}

.inboxsdk__composeButton:hover .inboxsdk__button_icon,
.inboxsdk__composeButton:focus .inboxsdk__button_icon,
.inboxsdk__composeButton.inboxsdk__composeButton_active .inboxsdk__button_icon {
  opacity: 1;
}

.inboxsdk__composeButton::before {
  content: '';
  display: block;
  opacity: 0;
  position: absolute;
  transition-duration: 0.15s;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  bottom: 0px;
  left: 0px;
  right: 0px;
  top: 0px;
  background: none;
  box-sizing: border-box;
  transform: scale(0);
  transition-property: transform, opacity;
  border-radius: 4px;
}

.inboxsdk__composeButton:hover::before {
  background-color: rgba(32, 33, 36, 0.059);
  border: none;
  box-shadow: none;
  opacity: 1;
  transform: scale(1);
}

.inboxsdk__composeButton:focus::before,
.inboxsdk__composeButton.inboxsdk__composeButton_active::before {
  background-color: rgba(32, 33, 36, 0.122);
  border: none;
  box-shadow: none;
  opacity: 1;
  transform: scale(1);
}

.inboxsdk__compose_actionToolbar
  .inboxsdk__compose_groupedActionToolbar
  div.inboxsdk__composeButton:last-child {
  margin-right: 0px;
}

.inboxsdk__compose_sendButton {
  background-color: #1a73e8;
  color: white;
  height: 24px;
  width: auto;
  padding-left: 3px;
  padding-right: 3px;
  border-radius: 4px;
}

.inboxsdk__compose_sendButton {
  padding: 6px 4px;
  margin-left: 2px;
}

.inboxsdk__compose_inlineReply .inboxsdk__compose_sendButton {
  height: 20px;
}

.inboxsdk__compose_inlineReply .inboxsdk__compose_sendButton {
  height: 24px;
}

.inboxsdk__compose_sendButton:focus,
.inboxsdk__compose_sendButton.inboxsdk__composeButton_active {
  background-color: #5094ed;
  box-shadow: 0 1px 1px 0 rgba(66, 133, 244, 0.3),
    0 1px 3px 1px rgba(66, 133, 244, 0.15);
  border: none;
}

.T-I ~ .inboxsdk__compose_sendButton {
  margin-left: -6px;
}

.inboxsdk__compose_actionToolbar {
  white-space: nowrap;
}

.inboxsdk__compose_actionToolbar {
  padding-left: 6px;
}

.inboxsdk__compose_actionToolbar .inboxsdk__button_icon {
  height: 20px;
  width: 20px;
  display: inline-flex;
  user-select: none;
}

.inboxsdk__compose_actionToolbar .inboxsdk__button_iconImg {
  height: 17px;
  width: 17px;
  display: inline-flex;
  margin: auto;
}

.inboxsdk__compose_actionToolbar + .gU:not(.inboxsdk__compose_separator) {
  padding-left: 8px;
}

/* grouped action toolbar */
.inboxsdk__compose_groupedActionToolbar_visible .aDg .aDh {
  overflow-y: visible;
}

.inboxsdk__compose_groupedActionToolbar {
  position: absolute;
  bottom: 44px;
  margin: 3px;
  z-index: 10;
  left: 0px;
  border-radius: 2px;
  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12),
    0 2px 4px -1px rgba(0, 0, 0, 0.2);
  padding: 5px 15px;
}

.inboxsdk__compose_groupedActionToolbar {
  margin-bottom: 7px;
  padding: 4px 5px;
  background: white;
  left: -3px;
}

.inboxsdk__compose_inlineReply .inboxsdk__compose_groupedActionToolbar {
  left: 14px;
}

.inboxsdk__compose_groupedActionToolbar .inboxsdk__composeButton:first-child {
  margin-left: 0px;
  margin-right: 0px;
}

.inboxsdk__composeButton.inboxsdk__compose_groupedActionButton {
  margin-right: 0px;
}

.inboxsdk__compose_groupedActionToolbar .inboxsdk__composeButton {
  padding: 4px;
}

/*
there's an element that gets a height of 40px when the gmail formatting toolbar
is visible. This rule makes that same element get the 40px height when
the actionToolbar is visible
*/
.inboxsdk__compose_groupedActionToolbar_visible .bA3 {
  height: 40px;
}

.inboxsdk__compose_groupedActionToolbar div.inboxsdk__button {
  z-index: 1;
}

.inboxsdk__compose_groupedActionToolbar div.inboxsdk__button {
  margin-right: 0px;
}

.inboxsdk__compose_groupedActionToolbar_arrow {
  display: none;
}

/* end grouped action toolbar */

.inboxsdk__compose_customSendContainer {
  display: inline-block;
  position: relative;
  outline: 0;
  height: 29px;
  margin: 6px 0;
  padding: 0;
  line-height: 29px;
  vertical-align: middle;
}

.inboxsdk__compose_customSendContainer {
  height: 36px;
  line-height: 36px;
}

.inboxsdk__compose_customTitleBarColor > img.Hl,
.inboxsdk__compose_customTitleBarColor > img.Hq,
.inboxsdk__compose_customTitleBarColor > img.Ha {
  background-color: transparent !important;
}

.inboxsdk__compose_hasCustomTitleBarText,
.inboxsdk__compose_hasCustomTitleBarText > tbody > tr {
  display: -webkit-flex;
  display: flex;
}

.inboxsdk__compose_hasCustomTitleBarText > tbody > tr {
  align-items: center;
}

.inboxsdk__compose_hasCustomTitleBarText > tbody {
  width: 100%;
}

.inboxsdk__compose_nativeTitleBarText {
  display: none !important;
}

.inboxsdk__compose_customTitleBarText {
  width: calc(100% - 80px);
}

.inboxsdk__compose_hasCustomTitleBarText td.Hm {
  margin-right: 10px;
  margin-left: auto;
}

.inboxsdk__compose_statusBarPrependContainer {
  border-top: 1px solid #cfcfcf;
}

.inboxsdk__compose_statusBarPrependContainer + table td.gU {
  border-top: none;
}

/* end */

/* appid warning gmail specific parts */

input.inboxsdk__x_close_button {
  background-color: transparent;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/dpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAzMjIxMUU0REM1MTExRTI5RkE1ODlERTgyOTkyMjMyIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc1QzhERjZDREM1MDExRTI5RkE1ODlERTgyOTkyMjMyIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzliZDBjZTYtYWVjMy00NWZkLThkOTktMzJhOTNhMTkxZGM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmQ4ZGVjMWJhLTk5NGEtNGViMC04NzE4LTdhMGJkN2FlOGY4OCIvPiA8ZGM6dGl0bGU+IDxyZGY6QWx0PiA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPmdseXBoaWNvbnM8L3JkZjpsaT4gPC9yZGY6QWx0PiA8L2RjOnRpdGxlPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pvfrd2cAAANXSURBVHja5JrPaxNBFMe72wj1lFM8pNUcelLaQFLJRYptDgVBBe9F/BdyzV8h6bWQq0iKQQWhl1psL14VPPQUtErbS3owpIhdv6Mvsl1m3rz9FZv1wZeBdHbmfTozb2fejuN53lSS5jhOCcVNSJUFaJr+9BM6gXrQJ/TbS7LfXAKO51E8gB5Cd6FrwueOUexCL6FXADuN5YgakSiClaE2NFDNxNSA2ipH9icCwDy0BZ0nABDUObU9nxoITcMmNEwBIKgh9ZVLFARWhPbHABCU6rOYCAhsCfr2DyBGUn0v2fx0uPCLyLKK4gWUF8aOr9Ab+k9+hD7TNFE2A81Bi9Ad6B6NtMRURHsEX3dCRy0aib5wgXahOuSGWHMuPdMVBo4+NzLcmpBMp3dQJWrI9PVXgfaE06woAqHoZFvYZ1BDzb64EL5+HWrzTBAAchKQpmCIl5MC0PS/LJjSTRaEXnZDC8RCWhA+PxYsMMPgSzPYwJZlOi0za6oFVUM4W4WeGuf8n5HhpllHC0J7Jy56NAwdzkIHvhGrCSBqvv+4enbWUK9hiZZlHUjbEp0cC4QngQlAeBwMBQAumrUvgNALb8CQV4QQLIwBwgZTYWaK8jnvB1lnqLuGNXEgiG41IYQfpqjpr8s8s+4Hec5UrGsabgn3SX0CqAl3CUobmv7qTP1nfpAjQ6VD3baDIk4/BEyYurcN25lDwzNHo/1iiWl4M+SijSNbkNhkni25lCgw2T6z2XyPYo12pnFNtbFGbYb2RTG4NCIm+2A57ycBI4Gw+fJ7RApMhS+C5EUcGCmEzZeCArnCVBgKMzFRYMJA2HyZdullY/RxajLMdSkDaLKrwmSbimDbIY7Eo93ENj0rsRnmbz9cSmOabC4liCgwnC8nLuViTbaYIkRYGM6XXmZeiJdxi1KNskVxaWjeGoZM7XJXNL8/Fk6nUwrL0tCs2nyi+X2FyYHt/M1rZWkbP6kHq+8XDlaCo+7eRBx1M5V8iJkOUjAbukORJR3USjwdlKkEXWZSpplKYmfms8KkfugZ16c3j84212khj+/T26R9DP1/Pk9n6sKA5qXZSfEKRyfVKxyX/VKNE/e+lu+a031oVXrNCXZMh6LXSVxzclK4eHYDxa1xXzz7JcAA2eNXdJTLzjAAAAAASUVORK5CYII=);
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center center;
  height: 20px;
  width: 20px;
  border: none;
  vertical-align: middle;
  cursor: pointer;

  float: right;
  margin: 5px;
}

/* thread rows */

.inboxsdk__gmail_label.inboxsdk__label_has_icon .au {
  display: inline-block;
  margin-left: 14px;
}

.inboxsdk__thread_row_label .inboxsdk__button_icon,
.inboxsdk__thread_row_label .inboxsdk__button_iconImg {
  height: 11px;
  width: 11px;
}

.inboxsdk__thread_row_label .inboxsdk__button_icon {
  display: inline-block;
  margin-top: 3px;
  margin-left: 4px;
  position: absolute;
}

.inboxsdk__thread_row_button {
  outline: 0;
  height: 20px;
  width: 20px;
  padding: 0px;
}

.inboxsdk__thread_row_button .inboxsdk__button_icon {
  max-height: 100%;
}

.inboxsdk__thread_row_custom_date_container {
  max-width: inherit;
}

.inboxsdk__thread_row_button .inboxsdk__button_iconImg {
  height: 20px;
  width: 20px;
  margin-top: 0px;
}

.inboxsdk__gmail_action {
  float: right;
  position: relative;
  background-color: grey;
  border: 1px solid black;
  margin-left: 1em;
  cursor: default;
  padding: 0 6px;
  background-image: -webkit-linear-gradient(top, #e9e9e9, #e6e6e6);
  background-image: linear-gradient(top, #e9e9e9, #e6e6e6);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-color: #ccc;
  color: #444;
  height: 17px;
  line-height: 17px;
  min-width: 56px;
  border-radius: 2px;
  font-size: 11px;
  font-weight: bold;
  text-align: center;
  white-space: nowrap;
  padding-right: 18px;
}

.inboxsdk__gmail_action:focus {
  border: 1px solid #4d90fe;
  outline: none;
}

.inboxsdk__gmail_action:active {
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}

.inboxsdk__gmail_action:hover {
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
  background-color: #ededed;
  background-image: -webkit-linear-gradient(top, #ededed, #eaeaea);
  background-image: linear-gradient(top, #ededed, #eaeaea);
  border-color: #b8b8b8;
}

.inboxsdk__gmail_action::after {
  content: '';
  position: absolute;
  right: 5px;
  top: 5px;
  margin-left: 5px;
  background: no-repeat
    url(https://ssl.gstatic.com/mail/sprites/smartmail-561acb673be75c1d374881a95997fce4.png) -67px -100px;
  width: 7px;
  height: 7px;
  opacity: 0.55;
}

.inboxsdk__thread_row_custom_date {
  margin-left: 2px;
}

span.inboxsdk__thread_row_custom_date
  + span:not(.inboxsdk__thread_row_custom_date) {
  display: none;
}

span.inboxsdk__thread_row_custom_draft_label + div.yW {
  display: none;
}

.inboxsdk__thread_row_attachment_iconWrapper,
.inboxsdk__thread_row_attachment_icon {
  margin-left: 3px;
  width: 16px;
  height: 16px;
}

.inboxsdk__thread_row_attachment_iconWrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  width: max-content;
}

/* .zA td.apU.xy refers to the <td/> element that houses the favorite star in thread row view.
 The <span> element is what inboxSDK will render threadRowButtons as when Gmail hover actions are disabled.
 The following rules fix the issue where threadRowButtons were spilling over into the thread row email text.
 */
.zA td.apU.xY {
  width: initial;
}

.zA td.apU.xY span.inboxsdk__thread_row_button {
  margin: 0 10px;
  opacity: 0.16;
}

.zA.aqw td.apU.xY span.inboxsdk__thread_row_button {
  opacity: 0.54;
}

.zA.aqw td.apU.xY span.inboxsdk__thread_row_button:hover {
  opacity: 1;
}

.zA td.apU.xY span.inboxsdk__thread_row_button::before {
  /* Google adds in a pseduo ::before element to span elems with the T-KT class applied.
  Explicity setting this width and height to zero as remove weird positioning that results */
  width: 0px;
  height: 0px;
}

.inboxsdk__thread_row_attachment_icon {
  vertical-align: middle;
}

.zA > .xY.inboxsdk__thread_row_attachment_icons_present {
  max-width: inherit;
}

/* narrow vertical preview pane */
.Zs .xY.inboxsdk__thread_row_attachment_icons_present {
  flex-grow: 0;
}

.Zs .xY.inboxsdk__thread_row_label {
  order: 1;
}

.Zs .xY.inboxsdk__thread_row_icon_wrapper {
  order: 1;
  margin-left: 3px;
  margin-right: 0px;
}
/* end narrow vertical preview pane */

.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_icon,
.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_iconImg {
  height: 18px;
  width: 18px;
}

.inboxsdk__thread_row_icon_wrapper {
  width: 20px;
  margin-right: 3px;
  align-self: center;
  height: 20px;
  flex: 0 0 auto;
}

.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_iconImg {
  vertical-align: top;
}

.inboxsdk__thread_row_image_added
  .y6
  .inboxsdk__thread_row_icon_wrapper
  ~ span[id] {
  margin-left: 3px;
}

.inboxsdk__thread_row_image_added .a4W,
.inboxsdk__thread_row_image_added .apA,
.inboxsdk__thread_row_image_added .apx {
  position: relative;
}

/* end thread rows */
[inboxsdk__message_added_attachment_icon] td.gH > span:first-child > img,
[inboxsdk__message_added_attachment_icon]
  td.gH
  div.gK
  > span:first-child
  > img {
  margin-right: 3px;
  margin-left: 3px;
  margin-top: 0px;
}

[inboxsdk__message_added_attachment_icon]
  td.gH
  > span:first-child
  > *:last-child,
[inboxsdk__message_added_attachment_icon]
  td.gH
  div.gK
  > span:first-child
  > *:last-child {
  margin-right: 6px;
}

.inboxsdk__message_attachment_iconWrapper,
.inboxsdk__message_attachment_icon {
  width: 21px;
  height: 21px;
  position: relative;
}

.inboxsdk__message_attachment_iconWrapper {
  margin: auto 3px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  vertical-align: top;
}

.inboxsdk__message_attachment_tooltipWrapper {
  position: absolute;
  top: 19px;
  z-index: 10;
}

/* Work around issue where clicking "Remove formatting" in Compose causes this
 * element to become taller and shift the toolbar down. */
.gU .aWQ {
  max-height: 3px;
}

.aQw .inboxsdk__button_icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 28px;
}

.aQw .inboxsdk__button_iconImg {
  height: 18px;
  width: 18px;
}

.aQw .inboxsdk__button_iconImg {
  margin-top: 2px;
}

.aZi .asa .inboxsdk__button_iconImg {
  display: inline-block;
  vertical-align: middle;
  margin-top: -3px;
}

/* Message view attachments toolbar */
.aZi .aZj .asa .inboxsdk__button_iconImg {
  margin: 0;
}

body .dw {
  /* Fixes issue where a tall compose window opened over a custom view could be
   * overlapped by Gmail's top bar. Also fixes issue where mole widgets are
   * only visible while a compose window is open.
   */
  z-index: 6 !important;
}

.inboxsdk__compose_outerSidebar_wrapper {
  position: absolute;
  left: -401px;
  top: 0px;
  background: white;
  width: 400px;
  bottom: 0px;
  border-left: 1px solid silver;
  box-shadow: -2px 0px 1px #e6e6e6;
  display: block;
}

.inboxsdk__outerSidebarActive .aSt .inboxsdk__compose_outerSidebar_wrapper {
  border-left: 0;
  box-shadow: none;
  left: -400px;
}

.inboxsdk__outerSidebarActive .aSs > div {
  width: 50% !important;
  margin-left: 30%;
}

.inboxsdk__compose_outerSidebar_header {
  background: #404040;
  font-size: 80%;
  padding: 10px 10px 11px 10px;
  color: white;
  border-bottom: 1px solid #c4c4c4;
}

.inboxsdk__compose_outerSidebar_body {
  position: absolute;
  width: 100%;
  bottom: 43px;
  top: 36px;
  left: -1px;
  overflow: auto;
}

.inboxsdk__compose_outerSidebar_footer {
  position: absolute;
  bottom: 0px;
  width: 100%;
  border-top: 1px solid rgb(206, 206, 206);
  display: block;
}

.inboxsdk__compose_innerSidebarActive form,
.inboxsdk__compose_innerSidebarActive .GQ {
  padding-right: 200px;
}

div.inboxsdk__compose_statusbar {
  border: 0;
  height: 40px;
  margin: 0;
}

.inboxsdk__compose_statusbar {
  background: none;
  position: relative;
}

/* only include padding when in thread inline view */
.HM .I5 .inboxsdk__compose_statusbar {
  padding: 0 16px 16px 16px;
}

table + .inboxsdk__compose_statusbar {
  margin-top: -8px;
}

/* Necessary in pre-new-recipients-area Gmail to stop the compose body
from resizing and pushing the statusbars off-screen when the recipients
area is focused. */
body.inboxsdk__classic_gmail_recipients_area
  .inboxsdk__compose_statusbarActive
  .aoI {
  height: auto !important;
}

.inboxsdk__compose_statusbarActive .aDl {
  z-index: unset;
}

/* compose size fixing.
TODO Can we restrict this to only composes we've modified? */
.inboxsdk__compose .qz {
  max-height: inherit !important;
}

/* aDi is initially position: fixed, which messes things up, so we make static */
body:not(.inboxsdk_hack_disableComposeSizeFixer)
  .inboxsdk__size_fixer
  .aDj.aDi {
  position: static !important;
}

.inboxsdk__compose_inlineReply.inboxsdk__compose_statusbarActive .HM .I5 {
  padding-bottom: var(--inboxsdk-total-added-statusbar-height, 0px);
}
/* Extend the message foreground outline downwards to contain our added status bars */
.inboxsdk__compose_inlineReply.inboxsdk__compose_statusbarActive .aDj::before {
  height: calc(100% + var(--inboxsdk-total-added-statusbar-height, 0px));
}
/* When we have a status bar added and the reply status is in position absolute or fixed mode (.aDi),
use a background color on the element containing our added status bars so the message background outline
isn't visible behind it. */
.inboxsdk__compose_inlineReply.inboxsdk__compose_statusbarActive
  .aDj.aDi
  > .aDh {
  background-color: white;
}

.inboxsdk__recipient_row {
  display: flex;
}

.inboxsdk__compose_notice {
  background-color: #f5f5f5;
  border-radius: 4px;
  margin: 10px;
  padding: 10px 16px;
}

.inboxsdk__recipient_row td.ok {
  height: 20px;
  padding: 0px !important;
}

.inboxsdk__recipient_row td.az3 {
  padding: 0px 3px 0px 3px;
}

.inboxsdk__compose_forceRecipientsOpen .fX.aXjCH {
  display: block !important;
}

.inboxsdk__compose_hideRecipientArea .fX.aXjCH,
.inboxsdk__compose_hideRecipientArea .aoD.hl,
.inboxsdk__compose_forceRecipientsOpen .aoD.hl,
.inboxsdk__compose_forceRecipientRowHidden {
  display: none !important;
}

/* toolbar visibility */

[data-thread-toolbar='true'] [data-rowlist-toolbar='true'] {
  display: none !important;
}

[data-toolbar-expanded='true'] [data-toolbar-expanded='false'] {
  display: none !important;
}

[data-toolbar-expanded='false'] [data-toolbar-expanded='true'] {
  display: none !important;
}

[data-toolbar-icononly='true'] .inboxsdk__button_text {
  display: none !important;
}

[data-toolbar-icononly='false'] .inboxsdk__button_text {
  color: #5f6368;
}

[data-toolbar-icononly='false'] .asa:before {
  border-radius: 4px;
  border: none !important;
}

[data-toolbar-icononly='false'] .inboxsdk__button {
  align-items: center;
  border: none;
  display: inline-flex;
  justify-content: center;
  outline: none;
  position: relative;
  z-index: 0;
  -webkit-font-smoothing: antialiased;
  font-family: 'Google Sans', Roboto, RobotoDraft, Helvetica, Arial, sans-serif;
  font-size: 14px;
  letter-spacing: 0.15px;
  background: none;
  box-sizing: border-box;
  color: #5f6368;
  cursor: pointer;
  font-weight: 500;
  outline: none;
  padding: 0 8px;
}

.inboxsdk__menuItem img,
.inboxsdk__menuItem .inboxsdk__icon {
  height: 16px;
  width: 16px;
  margin-top: -1px;
}

/* end */

/* modal */

.inboxsdk__modal_overlay {
  right: 0px;
  bottom: 0px;
}

.inboxsdk__modal_fullscreen {
  position: fixed;
  top: 0px;
  left: 0px;
  bottom: 0px;
  right: 0px;
  z-index: 503;
  display: flex;
  display: -webkit-flex;
  justify-content: center;
  -webkit-justify-content: center;
  align-items: center;
  -webkit-align-items: center;
  padding: 110px 50px 50px 50px;
}

.inboxsdk__modal_content {
  margin-top: 30px;
  margin-bottom: 30px;
}

.inboxsdk__modal_fullscreen.inboxsdk__modal_content_no_buttons
  .inboxsdk__modal_content {
  margin-bottom: 0px;
}

.inboxsdk__modal_fullscreen.inboxsdk__modal_content_no_buttons:not(.inboxsdk__modal_hideBottom)
  .inboxsdk__modal_content {
  margin-bottom: 0px;
  padding-bottom: 24px;
}

.inboxsdk__modal_close {
  outline: none;
  cursor: pointer;
}

.inboxsdk__modal_fullscreen .inboxsdk__modal_container {
  position: relative;
  margin-top: -60px;
  width: auto;
  overflow: hidden;
}

.inboxsdk__modal_fullscreen .inboxsdk__modal_container .inboxsdk__modal_toprow {
  margin-right: 16px;
}

.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .inboxsdk__modal_close {
  display: none;
}

.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .inboxsdk__modal_container {
  padding-top: 0px;
}

.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .inboxsdk__modal_content {
  margin-top: 0px;
}

.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .Kj-JD-K7 {
  margin: 0px;
  display: none;
}

.inboxsdk__modal_fullscreen.inboxsdk__modal_hideSides
  .inboxsdk__modal_container,
.inboxsdk__modal_fullscreen.inboxsdk__modal_hideSides .inboxsdk__modal_content {
  padding-left: 0px;
  padding-right: 0px;
}

.inboxsdk__modal_fullscreen.inboxsdk__modal_hideBottom
  .inboxsdk__modal_content {
  margin-bottom: 0px;
}

.inboxsdk__modal_fullscreen.inboxsdk__modal_hideBottom
  .inboxsdk__modal_container {
  padding-bottom: 0px;
}

.inboxsdk__modal_toprow.inboxsdk__modal_toprow--constrain-title-width {
  display: -webkit-flex;
  display: flex;
}

.inboxsdk__modal_toprow--constrain-title-width > span[role='heading'] {
  -webkit-flex: 1;
  flex: 1;
  width: 0;
  word-wrap: break-word;
}

/* end modal */

/* mole */

/* Fix issue where Compose toolbar can become disconnected when moles or
 * drawers are in use */
.inboxsdk__drawers_in_use .aDi,
.inboxsdk__moles_in_use .aDi {
  left: auto !important;
}

.inboxsdk__drawers_in_use .aDi,
.inboxsdk__moles_in_use .aDi {
  position: static;
}

/* Make it so the compose/mole layer doesn't wrap, so we don't have to do a lot
 * of fancy logic to hide moles ourselves when things get too crowded. */
.inboxsdk__moles_in_use .nH > .nH > .no {
  white-space: nowrap;
}
.inboxsdk__moles_in_use .nH > .nH > .no > * {
  white-space: initial;
}
.inboxsdk__moles_in_use .nH > .nH > .no > .nn {
  display: inline-block;
  float: none;
}

.inboxsdk__mole_view {
  position: relative;
  max-width: 564px;
  height: 100vh;
  vertical-align: top;
  display: inline-flex;
  display: -webkit-inline-flex;
  align-items: flex-end;
  -webkit-align-items: flex-end;
}

.inboxsdk__mole_view_inner {
  visibility: visible;
  box-sizing: border-box;
  margin-right: 5px;
  box-shadow: rgba(0, 0, 0, 0.2) 0 2px 6px;
  min-width: 260px;
  min-height: 36px;
}

.inboxsdk__mole_view_inner {
  min-height: 40px;
}

.inboxsdk__mole_view_titlebar:not(.inboxsdk__original_view),
.inboxsdk__mole_view_inner:not(.inboxsdk__original_view) {
  border-radius: 8px 8px 0 0;
}

.inboxsdk__mole_view_titlebar {
  position: absolute;
  left: 0;
  right: 5px;
  font-size: 14px;
  font-weight: 500;
  box-sizing: border-box;
  height: 40px;
  cursor: pointer;
  padding: 10px 12px 10px 16px;
  color: #041e49;
  background: #f2f6fc;
}

.inboxsdk__mole_view_titlebar.inboxsdk__original_view {
  color: white;
  font-size: 12.8px;
  font-weight: 400;
  background: #404040;
  padding: 9px 0 0 11px;
  border-radius: 4px 4px 0 0;
}

.inboxsdk__mole_view_titlebar h2 {
  font-size: inherit;
  font-weight: inherit;
  margin: 4px 0 0 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.inboxsdk__mole_title_buttons {
  white-space: nowrap;
  float: right;
  padding-right: 5px;
  margin-top: 1px;
}

.inboxsdk__mole_title_buttons.inboxsdk__original_view {
  margin-top: -3px;
}

.inboxsdk__mole_title_buttons > img {
  height: 24px;
  width: 24px;
  position: relative;
  top: 2px;
  opacity: 0.6;
}

.inboxsdk__mole_title_buttons:not(.inboxsdk__original_view) > img {
  height: 16px;
  width: 16px;
  margin-left: 4px;
}

.inboxsdk__mole_title_buttons:not(.inboxsdk__original_view) > img:hover {
  background-color: rgba(68, 71, 70, 0.078);
}

.inboxsdk__mole_title_buttons.inboxsdk__original_view > img:hover {
  background-color: #737373;
}

.inboxsdk__mole_title_buttons > img:hover {
  opacity: 1;
}

.inboxsdk__mole_view.inboxsdk__minimized .inboxsdk__mole_view_content,
.inboxsdk__mole_view.inboxsdk__minimized.inboxsdk__mole_use_minimize_title
  h2.inboxsdk__mole_default,
.inboxsdk__mole_view:not(.inboxsdk__minimized) h2.inboxsdk__mole_minimized,
.inboxsdk__mole_view:not(.inboxsdk__mole_use_minimize_title)
  h2.inboxsdk__mole_minimized,
.inboxsdk__mole_view.inboxsdk__minimized .Hl,
.inboxsdk__mole_view:not(.inboxsdk__minimized) .Hk {
  display: none;
}

.inboxsdk__mole_view_content:not(.inboxsdk__original_view) {
  margin-top: 40px;
  border: none;
}

.inboxsdk__mole_view_content {
  margin-top: 36px;
  border: 1px solid #cfcfcf;
  background: white;
  min-width: 260px;
  min-height: 20px;
  max-height: 80vh;
}

.inboxsdk__mole_view_chromeless .inboxsdk__mole_view_inner {
  min-width: 0px;
}

.inboxsdk__mole_view_chromeless .inboxsdk__mole_view_content {
  margin-top: 0px;
  min-width: 0px;
}

/* end mole */

/* tabs */

.inboxsdk__tab {
  width: 30px;
}

.inboxsdk__tab.IDMAP_hideTitleBar:first-child:last-child {
  display: none;
}

.inboxsdk__tab.inboxsdk__tab_selected {
  width: auto;
}

table.aKk .inboxsdk__contentTabContainer .inboxsdk__tab .aAy[role='tab'] {
  height: 28px;
}

.inboxsdk__tab_icon {
  width: 30px;
  height: 25px;
  background-position-x: 5px;
  background-position-y: 3px;
  background-size: 16px;
  background-repeat: no-repeat;
}

.inboxsdk__tab_icon img {
  height: 16px;
  width: 16px;
  margin-left: 5px;
  margin-top: 3px;
}

.inboxsdk__tab .aKx {
  top: 4px;
}

.inboxsdk__sidebar div[role='complementary'] {
  position: static !important;
}

/* Fix issue where sidebar causes threadview to be taller than it should */
.inboxsdk__sidebar > div.y4,
.IDMAP_app_sidebar_in_use > div.y4 {
  display: none;
}

table.aKk
  .inboxsdk__contentTabContainer
  .inboxsdk__tab:first-child
  .aAy[role='tab'] {
  border-left-width: 1px;
}

/* end tabs */

/* old sidebar */

.inboxsdk__sidebar .inboxsdk__contentPanelContainer {
  font: 12px Arial, sans-serif;
  max-width: 220px;
}

.inboxsdk__contentPanelContainer_contentContainer {
  overflow: hidden;
  margin-bottom: 10px;
  border-bottom: 1px solid #d8d8d8;
}

/* end old sidebar */

/* sidebar */

body.inboxsdk__hasTopMessageBar .bq9 {
  top: var(--inboxsdk__topMessageBar-height);
}

.IDMAP_app_sidebar_in_use > div[role='complementary'] {
  position: static !important;
  width: 216px !important;
}

.IDMAP_app_sidebar_in_use {
  /* Necessary to prevent z-indexes on sidebar items from causing them to show
  above stuff outside of the sidebar. */
  will-change: position;
}

.IDMAP_app_sidebar_content_panel {
  background: #ffffff;
}

.IDMAP_app_sidebar_content_area {
  padding: 4px 0 12px;
}

.IDMAP_app_sidebar.IDMAP_hideTitleBar .IDMAP_app_sidebar_content_area {
  padding-top: 0;
}

/* gmail addon support */

.container_app_sidebar_in_use.no,
.IDMAP_container_app_sidebar_no_icons.no {
  display: flex;
  display: -webkit-flex;
  flex-direction: row;
  -webkit-flex-direction: row;
  width: 100%;
}

body[dir='rtl'] .container_app_sidebar_in_use.no[dir='ltr'],
body[dir='rtl'] .idm5_container_app_sidebar_no_icons.no[dir='ltr'] {
  flex-direction: row-reverse;
  -webkit-flex-direction: row-reverse;
}

/* overwrite margin right of the gmail page next/back and settings icon buttons
   to line up properly */

/* when no siebar is visible */
.container_app_sidebar_in_use.no
  .G-atb.inboxsdk__thread_toolbar_parent[gh='tm'] {
  margin-right: -57px !important;
}

/* when addon sidebar visible */
.container_addon_sidebar_visible.container_app_sidebar_in_use.no
  .G-atb.inboxsdk__thread_toolbar_parent[gh='tm'] {
  margin-right: -321px !important;
}

/* when sdk sidebar visible */
.container_app_sidebar_visible.container_app_sidebar_in_use.no
  .G-atb.inboxsdk__thread_toolbar_parent[gh='tm'] {
  margin-right: -321px !important;
}

/* no sdk icons and no native addons */
.IDMAP_container_app_sidebar_no_icons
  .G-atb.inboxsdk__thread_toolbar_parent[gh='tm'] {
  margin-right: 0px !important;
}

/* quickfix, TODO investigate removing ar7 class from our buttons */
.inboxsdk__button.ar7 {
  pointer-events: all !important;
}

.container_app_sidebar_in_use .bkK.nn,
.IDMAP_container_app_sidebar_no_icons .bkK.nn {
  width: auto !important;
  flex: 1;
  -webkit-flex: 1;
  min-width: 0px;
}

/* when removing addon icons */
.IDMAP_container_app_sidebar_no_icons .bnl.nn {
  z-index: -1;
  position: absolute;
}

.container_app_sidebar_in_use .IDMAP_app_sidebar_in_use {
  min-width: 57px !important;
  flex-shrink: 0;
  -webkit-flex-shrink: 0;
}

.container_app_sidebar_in_use .IDMAP_app_sidebar_in_use.app_sidebar_visible {
  min-width: 321px !important;
}

.container_app_sidebar_in_use .IDMAP_app_sidebar_in_use > .J-KU-Jg {
  display: block !important;
}

.container_app_sidebar_in_use
  .IDMAP_app_sidebar_in_use
  .IDMAP_app_sidebar_container {
  display: none;
}

.container_app_sidebar_in_use
  .IDMAP_app_sidebar_in_use.app_sidebar_visible
  .IDMAP_app_sidebar_container {
  display: block;
  float: left;
  height: 100%;
  border-left: 1px solid #e0e0e0;
  padding-left: 16px;
  width: calc(100% - 74px);
  overflow: auto;
}

.container_app_sidebar_in_use
  .IDMAP_app_sidebar_container
  .IDMAP_app_sidebar_content_area {
  width: calc(100% - 16px);
  padding-right: 16px;
}

.container_app_sidebar_in_use
  .IDMAP_app_sidebar_in_use.app_sidebar_visible
  .J-KU-Jz {
  width: auto;
  padding-right: 50px;
}

.IDMAP_sidebar_iconArea .inboxsdk__button_icon {
  margin: 18px 18px 10px 18px;
  border: none;
  background: transparent;
  height: 20px;
  width: 20px;
  overflow: hidden;
  padding: 0;
  cursor: pointer;
  position: relative;
}

.IDMAP_sidebar_iconArea.sidebar_global_iconArea .inboxsdk__button_icon {
  margin-bottom: 18px;
}

body .IDMAP_sidebar_iconArea .inboxsdk__button_icon {
  overflow: visible;
}

.IDMAP_sidebar_iconArea
  .sidebar_button_container_active
  .inboxsdk__button_icon::before,
.IDMAP_sidebar_iconArea .inboxsdk__button_icon:hover:before {
  content: '';
  background: #f1f3f4;
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
  border-radius: 50%;
  z-index: 0;
}

.IDMAP_sidebar_iconArea
  .sidebar_button_container_active
  .inboxsdk__button_icon::before {
  background: #e8eaed;
}

.IDMAP_sidebar_iconArea .inboxsdk__button_iconImg {
  width: 20px;
  height: 20px;
  margin-top: 0px;
}

.IDMAP_sidebar_iconArea .inboxsdk__button_icon .inboxsdk__button_iconImg {
  position: absolute;
  left: 0px;
  top: 0px;
  z-index: 1;
}

.IDMAP_sidebar_iconArea
  .sidebar_button_container_active
  .inboxsdk__button_selectedIndicator {
  height: 40px;
  width: 4px;
  position: absolute;
  right: 0px;
  bottom: 0px;
  background-color: rgb(66, 133, 244);
  border-radius: 3px 0 0 3px;
}

.IDMAP_sidebar_iconArea.sidebar_global_iconArea
  .sidebar_button_container_active
  .inboxsdk__button_selectedIndicator {
  bottom: 8px;
}

/* end sidebar */

/* material sidebar */
.brC-brG.companion_app_sidebar_visible {
  display: block !important;
}

.bq9:not(.brC-brG).companion_app_sidebar_wrapper_visible {
  display: block !important;
}

.companion_global_app_sidebar_visible .thread_app_sidebar {
  display: none;
}

.companion_app_sidebar_visible:not(.companion_global_app_sidebar_visible)
  .global_app_sidebar {
  display: none;
}

.nH.companion_container_app_sidebar_visible {
  width: calc(100% - 300px) !important;
}

.companion_app_sidebar_visible .addon_sidebar ~ div:not(.addon_sidebar) {
  display: none !important;
}

.IDMAP_app_sidebar_in_use .IDMAP_app_sidebar_container.addon_sidebar {
  height: 100%;
  overflow: auto;
}

.IDMAP_app_sidebar_in_use
  .IDMAP_app_sidebar_container.addon_sidebar
  .IDMAP_app_sidebar_content_area {
  width: 100%;
}

.IDMAP_app_sidebar_in_use:not(.companion_app_sidebar_visible) .addon_sidebar {
  display: none;
}

.IDMAP_app_sidebar_content_panel_title_icon_container {
  margin-left: 0px;
}

.IDMAP_app_sidebar_content_panel .IDMAP_app_sidebar_content_panel_top_line {
  padding: 0px 16px;
}

/* hide thread addon icons when in custom view */
body.inboxsdk__custom_view_active
  .brC-aT5-aOt-ato-Kp-Jw
  [role='tablist']
  > div:not(:last-child) {
  display: none;
}

/* make the native addon icon container for thread add-ons (div.bvq) always visible */
.IDMAP_app_sidebar_in_use .bvq,
.IDMAP_app_sidebar_in_use .bvq > div:last-child {
  display: block !important;
}

/* hide the native addon loading div */
.IDMAP_companion_container_app_sidebar_in_use .bvq > div:first-child {
  display: none !important;
}

/* end material sidebar */

/* custom content */

.inboxsdk__custom_view_element {
  overflow: auto;
}

/* end custom content */

/* nav menu */

.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) {
  border-left-color: transparent;
}
.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) .nU:not(.n1) .n0 {
  font-weight: normal;
}

.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) .bsU {
  font-weight: normal;
}
.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) .TO {
  background: none;
}

.inboxsdk__hide_addon_container {
  display: flex !important;
  display: -webkit-flex !important;
  flex-direction: row;
  -webkit-flex-direction: row;
  width: 100% !important;
}

body[dir='rtl'] .inboxsdk__hide_addon_container[dir='ltr'] {
  flex-direction: row-reverse;
  -webkit-flex-direction: row-reverse;
}

.inboxsdk__hide_addon_container > .bkK.nn {
  width: auto !important;
  flex: 1;
  -webkit-flex: 1;
  min-width: 0;
}

.inboxsdk__hide_addon_container > .bnl.nn {
  display: none;
}

.inboxsdk__navItem {
  font-size: 14px;
}

/*
fix issue in pre-Chat Gmail versions where somehow a style="flex-grow: 1" attribute
shows up on our elements preventing them from collapsing.
*/
.inboxsdk__navItem:not(.Xr) > .V3[style] {
  flex-grow: 0 !important;
}

.inboxsdk__navItem > .TO.n4 {
  display: block;
  padding-left: 0;
}

.inboxsdk__navItem > .TO.n4 .qj > .G-asx {
  margin-right: 0;
}

.inboxsdk__navItem > .TO .aio > .bsU:empty {
  display: none;
}

.inboxsdk__navItem > .TO .qj:empty::after {
  background-color: rgb(118, 118, 118);
  border-radius: 50%;
  content: '';
  height: 18px;
  margin-left: 1px;
  width: 18px;
}

.inboxsdk__navItem > .TO .qj[style*='border-color']:empty::after {
  border-color: inherit;
}

.inboxsdk__navItem > .TO:hover .pM {
  display: flex;
  display: -webkit-flex;
  visibility: visible;
}

.inboxsdk__navItem > .TO .afM {
  cursor: pointer;
}

.inboxsdk__navItem > .TO:hover .afM {
  display: block;
  visibility: visible;
}

/* This does slightly break from the native Gmail behavior, but we keep the dropdown button
  visible while it has an active dropdown */
.inboxsdk__navItem > .TO img.afM.afO {
  display: block;
  visibility: visible;
}

/* Keep the subtitle hidden while the dropdown is active */
.inboxsdk__navItem > .TO img.afM.afO ~ .aio > .bsU {
  display: none;
}

.inboxsdk__navItem > .TO:hover .bsU {
  display: none;
}

.inboxsdk__navItem.inboxsdk__navItem_nonClickable > .TO:active {
  background-color: initial;
}

.inboxsdk__navItem_hover .aj0,
.inboxsdk__navItem_hover .p8 {
  visibility: visible;
}

.inboxsdk__navItem_link {
  cursor: pointer;
  margin-left: auto;
}

.inboxsdk__navItem_link > a {
  margin-left: 16px;
}

.inboxsdk__navItem > .TO .inboxsdk__button {
  margin-right: 0;
}

[dir='rtl'] .inboxsdk__navItem_link {
  left: -4px;
  right: initial;
}

.inboxsdk__navItem_container .aio .inboxsdk__button {
  position: absolute;
  top: 0px;
  right: -30px;
}

.inboxsdk__navItem_marker {
  position: absolute;
  left: 0px;
  padding-bottom: 2px;
}

.inboxsdk__expando {
  z-index: 1;
}

.inboxsdk__navItem_link > a,
.aip .CK {
  color: #15c;
}

.inboxsdk__navItem_link > a:hover,
.aip .CK:hover {
  text-decoration: underline;
}

.inboxsdk__navItem_container .aio.aip {
  white-space: nowrap;
}

/* start nav menu open state */

.WR[role="navigation"] /* new left nav */
  .inboxsdk__navItem
  .Yh:not(.inboxsdk__navItem_parent_accessory_button):empty {
  display: none;
}

.WR[role="navigation"] /* new left nav */
  .inboxsdk__navItem
  .Yh:not(.inboxsdk__navItem_parent_accessory_button) {
  background: none;
}

.WR[role="navigation"] /* new left nav */
  .inboxsdk__navItem
  .Yh
  .inboxsdk__button_icon {
  display: none;
}

/* end nav menu open state */

/* start nav menu close state */

.WR[role="navigation"].bhZ:not(.bym) /* .WR is the new left nav */
  .inboxsdk__navItem
  .Yh {
  opacity: 1;
}

.WR[role="navigation"].bhZ:not(.bym) /* .WR is the new left nav */
  .inboxsdk__navItem
  .Yh.inboxsdk__navItem_parent_accessory_button {
  background-image: none !important;
}

.WR[role="navigation"].bhZ:not(.bym) /* .WR is the new left nav */
  .inboxsdk__navItem
  .Yh:empty {
  background-color: rgba(32, 33, 36, 0.71);
  border-radius: 50%;
  display: inherit;
  height: 18px;
  margin-left: 1px;
  width: 18px;
}

.WR[role='navigation'].bhZ:not(.bym)
  .inboxsdk__navItem
  .Yh
  .inboxsdk__button_icon {
  display: inherit;
}

/* end nav menu close state */

/* end nav menu */

/* search results section */

.inboxsdk__custom_sections {
  margin-bottom: 15px;
}

.inboxsdk__custom_sections.Wc {
  padding: 0px;
  margin-bottom: 0px;
}

.inboxsdk__custom_sections {
  margin-bottom: 8px;
}

.inboxsdk__resultsSection.inboxsdk__resultsSection_nonCollapsible
  .inboxsdk__resultsSection_title
  .Wp {
  visibility: hidden;
}

.inboxsdk__custom_sections.Wc .inboxsdk__resultsSection {
  padding-top: 0px;
}

.inboxsdk__custom_sections .Wg {
  padding-top: 0px;
}

.inboxsdk__custom_sections.Wc .Wg {
  border-bottom: 0;
  padding: 0px;
}

/* end lone collapsed SectionView in Gmailv1 */

.inboxsdk__results_collapsedContainer.Wg {
  height: auto;
}

.inboxsdk__results_collapsedContainer > div {
  display: flex;
  display: -webkit-flex;
  flex-wrap: wrap;
  -webkit-flex-wrap: wrap;
  flex: 1 0 100%;
  -webkit-flex: 1 0 100%;
}

/* lone collapsed SectionView in Gmailv2 */
/* If only a single SectionView is collapsed then its dropdown button and titleTextLink are still shown */
.inboxsdk__results_collapsedContainer
  > div
  > .inboxsdk__resultsSection_collapsed:first-child:last-child {
  flex: 1;
  -webkit-flex: 1;
  margin-right: 0;
}

.inboxsdk__results_collapsedContainer
  > div
  > .inboxsdk__resultsSection_collapsed:first-child:last-child
  > .inboxsdk__resultsSection_header {
  display: flex;
  display: -webkit-flex;
  align-items: center;
  -webkit-align-items: center;
  flex: 1;
  -webkit-flex: 1;
}

.inboxsdk__results_collapsedContainer
  > div
  > .inboxsdk__resultsSection_collapsed:first-child:last-child
  > .inboxsdk__resultsSection_header
  > .Cr {
  display: flex;
  display: -webkit-flex;
  align-items: center;
  -webkit-align-items: center;
  margin-left: auto;
}

/* end lone collapsed SectionView in Gmailv2 */

.inboxsdk__resultsSection.inboxsdk__resultsSection_collapsed {
  display: inline-block;
  margin-right: 20px;
}

.inboxsdk__resultsSection.inboxsdk__resultsSection_collapsed {
  display: inline-flex;
}

.Wc .inboxsdk__resultsSection.inboxsdk__resultsSection_collapsed {
  margin-right: 0px;
}

.inboxsdk__resultsSection_collapsed .Cr {
  display: none;
}

.inboxsdk__resultsSection_title {
  white-space: nowrap;
  cursor: pointer;
  display: inline-block;
}
.inboxsdk__resultsSection_title {
  display: flex;
  align-items: center;
  height: 48px;
}

.Wc .inboxsdk__resultsSection_title {
  padding: 3px 0 3px 8px;
}

.inboxsdk__resultsSection_header {
  min-height: 48px;
  line-height: 48px;
}

.inboxsdk__resultsSection_header_summaryText.Wm:last-child .amH {
  padding-right: 0px;
  margin-right: 0px;
}

.inboxsdk__custom_sections.Wc
  .inboxsdk__resultsSection_header_summaryText:last-child {
  margin-right: 11px;
}

.inboxsdk__custom_sections.Wc .J-JN-M-I {
  margin-right: 13px;
}

.inboxsdk__resultsSection .TB.TC {
  text-align: center;
}

.inboxsdk__resultsSection .inboxsdk__resultsSection_loading {
  font-style: italic;
}

.inboxsdk__resultsSection .inboxsdk__resultsSection_result_icon {
  height: 15px;
  width: 15px;
}

.inboxsdk__resultsSection_label_iconHtml,
.inboxsdk__resultsSection_result_iconHtml {
  display: flex;
  justify-content: center;
  align-items: center;
}

.inboxsdk__resultsSection .inboxsdk__resultsSection_tableRow.zA:hover > .xW {
  /* Gmailv2 tries to hide the "xW" element when a "zA" element is hovered. This prevent that. */
  display: flex;
}

.inboxsdk__resultsSection .inboxsdk__resultsSection_tableRow.zA > .xW {
  max-width: none;
  flex-basis: auto;
}

.inboxsdk__resultsSection .inboxsdk__resultsSection_tableRow .xT {
  align-items: center;
  -webkit-align-items: center;
}

.inboxsdk__resultsSection .xX {
  width: 20ex;
}

.inboxsdk__resultsSection_result_title span {
  text-overflow: ellipsis;
  display: block;
  overflow: hidden;
}

.inboxsdk__resultsSection tr .xW > span {
  overflow: hidden;
  display: block;
  text-overflow: ellipsis;
}

.inboxsdk__resultsSection .V3 {
  overflow: hidden;
  white-space: nowrap;
}

.inboxsdk__resultsSection .at {
  position: relative;
}

.inboxsdk__thread_row_label {
  flex-shrink: 0;
  align-self: center;
}

.inboxsdk__thread_row_label {
  align-self: flex-end;
}

/* label in vertical preview pane */
.apv .inboxsdk__thread_row_label {
  align-self: flex-start;
}

.inboxsdk__resultsSection_label_icon {
  height: 11px;
  width: 11px;
  position: absolute;
  top: 2px;
  margin-left: 4px;
}

.inboxsdk__resultsSection_label_icon {
  margin-top: 1px;
}

.inboxsdk__resultsSection .av,
.inboxsdk__thread_row_label .av {
  /* max-width is set inline, default is 90px */
  overflow: hidden;
  text-overflow: ellipsis;
}

.inboxsdk__resultsSection_label_icon + .av,
.inboxsdk__thread_row_label .inboxsdk__button_icon + .av {
  margin-left: 16px;
}

.Wc .inboxsdk__resultsSection_footer {
  padding: 3px 3px 3px 8px;
}

/* end search results section */

/* tooltip */

/* gmail styles */

.inboxsdk__tooltip .T-P {
  -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  background-color: #fff;
  border: 1px solid;
  border-color: #bbb #bbb #a8a8a8;
  padding: 16px;
  position: absolute;
  z-index: 1201 !important;
}

.inboxsdk__tooltip.inboxdk__tooltip_content .T-P {
  padding: 0px;
}

.inboxsdk__tooltip .aRM {
  outline: none;
  padding: 13px 10px 16px;
  text-align: center;
  font: normal normal normal normal 16px / normal arial, sans-serif;
}

.inboxdk__tooltip_content.inboxsdk__tooltip .aRM {
  padding: 0px;
}

.inboxsdk__tooltip .aRR {
  color: #333;
  font-size: 18px;
  margin-top: 13px;
}

.inboxsdk__tooltip .aRQ {
  color: #777;
  font-size: 13px;
  margin: 3px 0 14px 0;
}

/* end gmail styles */

.inboxsdk__tooltip {
  position: fixed;
  z-index: 1300;
  transition: left 200ms ease, top 200ms ease;
}

.inboxsdk__tooltip .T-P {
  position: relative;
  width: auto;
  max-width: 500px;
}

.inboxsdk__tooltip .inboxsdk__tooltip_arrow {
  position: fixed;
  z-index: 1400;
  margin-top: -1px;
  transition: left 200ms ease, top 200ms ease;
}

.inboxsdk__tooltip .inboxsdk__tooltip_close {
  -webkit-user-select: none;
}

.inboxsdk__tooltip .inboxsdk__button {
  margin-right: 0px;
}

.inboxsdk__tooltip .inboxsdk__tooltip_image {
  max-height: 300px;
  max-width: 500px;
  overflow: hidden;
  height: auto;
}

.inboxsdk__tooltip .inboxsdk__tooltip_image > img {
  max-height: 300px;
  max-width: 500px;
}

/* end tooltip */

/* attachment card */

.inboxsdk__attachmentCard img.aQG.aYB {
  max-width: 178px;
  min-width: 178px;
  min-height: 118px;
}

.inboxsdk__attachmentCard img.aZG.aYw {
  background: none;
}

/* add some margins between cards so 4+ cards don't hit each other */

.aQw > .T-I.J-J5-Ji.L3 {
  margin-top: 5px;
}

/* end attachment card */

/* keyboard shortcut help */

table.cf.wd.inboxsdk__shortcutHelp_table {
  margin-bottom: 15px;
}

.inboxsdk__shortcutHelp_table td.Dn {
  display: inline-block;
  width: 50%;
}

.inboxsdk__shortcutHelp_table table.cf {
  display: block;
}

.inboxsdk__shortcutHelp_table tbody tbody {
  display: block;
}

.inboxsdk__shortcutHelp_table tbody tbody tr {
  display: block;
  white-space: nowrap;
}

.inboxsdk__shortcutHelp_table td.wg.Dn {
  display: inline-block;
  width: 45%;
}

.inboxsdk__shortcutHelp_table span.wb {
  margin-left: 3px;
}

.inboxsdk__shortcutHelp_table td.we.Dn {
  width: 60%;
  white-space: normal;
}

.inboxsdk__shortcutHelp_title img.inboxsdk__icon {
  height: 21px;
  width: 21px;
  vertical-align: middle;
  margin-right: 10px;
  border-radius: 4px;
}

/* end keyboard shortcut help */

/* search suggestions */

.asor.inboxsdk__custom_suggestion {
  display: flex;
  display: -webkit-flex;
  justify-content: center;
  -webkit-justify-content: center;
  align-items: center;
  -webkit-align-items: center;
}

.inboxsdk__custom_suggestion img {
  max-width: 32px;
  max-height: 32px;
}

.inboxsdk__custom_suggestion_iconHTML {
  display: flex;
  justify-content: center;
  align-items: center;
  position: absolute;
  left: 8px;
  height: 32px;
  width: 43px;
}

/* Adjust positioning when no description present */
.gstq_d .inboxsdk__custom_suggestion_iconHTML {
  margin-top: -8px;
}

/* end send suggestions */

/* app toolbar */

.inboxsdk__appButton {
  margin-right: 8px;
}

.inboxsdk__appButton + .inboxsdk__appButton {
  margin-left: 16px;
}

.inboxsdk__appButton.inboxsdk__appButton_noGPlus {
  margin-right: 0px;
}

.inboxsdk__appButton .inboxsdk__button_icon {
  margin-right: 5px;
  position: relative;
}

.inboxsdk__appButton a {
  color: #404040;
  text-decoration: none;
  line-height: 24px;
}

.inboxsdk__appButton.inboxsdk__appButton_noGPlus a {
  line-height: 30px;
}

.inboxsdk__appButton a:hover {
  text-decoration: underline;
  color: #000;
}

.inboxsdk__gmail_dark_theme .inboxsdk__appButton a {
  color: #eee;
}
.inboxsdk__gmail_dark_theme .inboxsdk__appButton a:hover {
  color: #fff;
}

.inboxsdk__appButton_tooltip {
  outline: none;
  transition: none;
  -webkit-animation: gb__a 0.2s;
}

.inboxsdk__appButton_tooltip .inboxsdk__tooltip_close {
  display: none;
}

.inboxsdk__tooltip.inboxsdk__appButton_tooltip .T-P {
  padding: 0px;
}

.inboxsdk__tooltip.inboxsdk__appButton_tooltip .aRM {
  padding: 0px;
  white-space: initial;
  text-align: center;
  font: normal normal normal normal 16px / normal arial, sans-serif;
}

.inboxsdk__tooltip.inboxsdk__appButton_tooltip .inboxsdk__tooltip_arrow {
  transform-origin: top;
  transform: rotateZ(180deg);
  margin-top: 9px;
}

/* resize based on width */

.inboxsdk__searchIsNarrow .streak__appToolbarButton_title {
  display: none;
}

/* end resize based on width */

/* end app toolbar */

/* custom message views */

.inboxsdk__custom_message_view {
  display: flex;
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid #efefef;
  border-collapse: collapse;
}

.inboxsdk__custom_message_view_hidden {
  display: none;
}

/* when cusotm message is right after the last message with its reply */
.h7.ie + .inboxsdk__custom_message_view {
  margin-top: 5px;
}

/* when custom message is after the super collapsed message elements */
.kQ + .inboxsdk__custom_message_view,
.kx + .inboxsdk__custom_message_view {
  margin-top: 1px;
}

.inboxsdk__custom_message_view.inboxsdk__custom_message_view_collapsed {
  cursor: pointer;
}

.inboxsdk__custom_message_view .inboxsdk__custom_message_view_icon {
  padding-left: 16px;
  padding-right: 16px;
  flex-shrink: 0;
}

.inboxsdk__custom_message_view .inboxsdk__custom_message_view_icon img {
  height: 32px;
  width: 32px;
  border-radius: 50%;
}

.inboxsdk__custom_message_view .inboxsdk__custom_message_view_content {
  width: 100%;
  min-width: 0px;
}

.inboxsdk__custom_message_view .inboxsdk__custom_message_view_header {
  cursor: pointer;
}

.inboxsdk__custom_message_view_app_notice_content {
  position: relative;
  display: flex;
  justify-content: center;
  z-index: 1;
}

.adx.inboxsdk__custom_message_view_app_notice_container.inboxsdk__custom_message_view_app_notice_container {
  position: relative;
  width: auto !important;
  min-width: 32px;
}

.inboxsdk__custom_message_view_app_notice_content {
  align-items: center;
  display: flex;
  font-size: 0.75rem !important;
  justify-content: flex-start;
  margin-left: 0;
  padding: 0px;
  top: 0;
}

.adx.inboxsdk__custom_message_view_app_notice_container.inboxsdk__custom_message_view_app_notice_container:hover::before {
  content: none !important;
}

.adx.inboxsdk__custom_message_view_app_notice_container.inboxsdk__custom_message_view_app_notice_container
  > span:first-child {
  display: none;
}

.inboxsdk__custom_message_view_app_notice_container::before {
  position: absolute;
}

.inboxsdk__custom_message_view_app_notice_content > * {
  color: #555;
}

table[role='presentation'].inboxsdk__thread_view_with_custom_view {
  table-layout: fixed;
}

table[role='presentation'].inboxsdk__thread_view_with_custom_view > tr {
  display: block;
}

/* end custom message views */

/* butter/snack bar */

.inboxsdk__butterbar.inboxsdk__butterbar_error {
  background-color: #c53929 !important;
}

.inboxsdk__butterbar.inboxsdk__butterbar_error [role='button'] {
  color: #fff;
}

.inboxsdk__butterbar.inboxsdk__butterbar_error [role='button']::before {
  background: rgba(255, 255, 255, 0.08);
}

/* end butter/snack bar */

/* support menu item */
.inboxsdk__support_menuItem:hover {
  background-color: #eeeeee;
  outline: 1px dashed transparent;
}

.inboxsdk__compose_addressList {
  display: flex !important;
}

/* end support menu item */

/* compose popover */
.inboxsdk__linkPopOver_section_container {
  position: absolute;
  width: 100%;
  top: 35px;
  left: 0;
}

.inboxsdk__linkPopOver_section {
  width: 100%;
  background: #fff;
  border: 1px solid;
  border-color: #bbb #bbb #a8a8a8;
  font: 13px arial, sans-serif;
  padding: 5px 8px;
  margin-bottom: 5px;
  box-sizing: border-box;
  box-shadow: 0 1px 3px rgb(0 0 0 / 20%);
}

/* end compose popover */

/*
 Toolbar/Thread button style fix for
 when the gmail setting "Button labels" is set to "text"
*/

.T-I.J-J5-Ji.T-I-ax7.inboxsdk__button .asa::after {
  width: auto;
}
`)},{"../../lib/rewriteCssWithIdMap":897,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"ud-kefir":624}],661:[function(e,l,i){"use strict";function a(j,x,A){x.style.display="",j.style.top="-10000px",j.style.position="relative",j.classList.remove("bAp"),A.style.display="none",A.removeAttribute("data-inboxsdk-id")}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/core-js/json/stringify")),n=o(e("@babel/runtime-corejs2/core-js/date/now")),s=o(e("@babel/runtime-corejs2/helpers/slicedToArray")),f=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=o(e("@babel/runtime-corejs2/helpers/createClass")),m=o(e("kefir")),h=o(e("../../lib/stream-wait-for")),_=o(e("../../lib/dom/querySelectorOrFail")),y=o(e("../../lib/dom/make-mutation-observer-chunked-stream")),S=(0,h.default)(function(){return document.body.querySelector('div.b8[role="alert"]')}).map(function(j){var x=(0,_.default)(j,".vh:not(.inboxsdk__butterbar)"),A=j.querySelector(".vh.inboxsdk__butterbar");if(!A){A=document.createElement("div"),A.classList.add("vh","inboxsdk__butterbar"),A.style.display="none";var w=document.createElement("span");w.classList.add("aT");var C=document.createElement("span");C.classList.add("inboxsdk__butterbar-text","bAq");var O=document.createElement("span");O.classList.add("inboxsdk__butterbar-buttons","bAo"),O.innerHTML="&nbsp;&nbsp;";var V=document.createElement("div");V.classList.add("inboxsdk__butterbar-close","bBe"),V.innerHTML='<div class="bBf"></div>',V.setAttribute("role","button"),V.tabIndex=0,w.appendChild(C),w.appendChild(O),A.appendChild(w),A.appendChild(V);var R=x.parentNode;if(!R)throw new Error("parentNode not found");R.insertBefore(A,x.nextSibling)}return{noticeContainer:j,googleNotice:x,sdkNotice:A}}).toProperty(),v=S.flatMapLatest(function(j){var x=j.googleNotice;return(0,y.default)(x,{childList:!0})}),T=v.filter(function(j){return j.some(function(x){return x.addedNodes.length>0})}),E=v.filter(function(j){return!j.some(function(x){return x.addedNodes.length>0})}),I=S.flatMapLatest(function(j){var x=j.sdkNotice;return(0,y.default)(x,{attributes:!0,attributeFilter:["data-inboxsdk-id"]}).map(function(){return x.getAttribute("data-inboxsdk-id")})}).filter(function(j){return j==null}),g=m.default.merge([E,I]),k=function(){function j(){(0,f.default)(this,j),m.default.combine([S,T]).onValue(function(x){var A=(0,s.default)(x,1),w=A[0],C=w.googleNotice,O=w.sdkNotice;C.style.display="",O.style.display="none",O.setAttribute("data-inboxsdk-id","gmail")}),g.onValue(function(){})}return(0,d.default)(j,[{key:"getNoticeAvailableStream",value:function(){return g}},{key:"getSharedMessageQueue",value:function(){var x=document.head.getAttribute("data-inboxsdk-butterbar-queue");return x?JSON.parse(x):[]}},{key:"setSharedMessageQueue",value:function(x){var A=(0,u.default)(x);document.head.setAttribute("data-inboxsdk-butterbar-queue",A)}},{key:"showMessage",value:function(x){var A=(0,n.default)()+"-"+Math.random(),w=function(){S.take(1).onValue(function(C){var O=C.noticeContainer,V=C.googleNotice,R=C.sdkNotice;R.getAttribute("data-inboxsdk-id")===A&&(x.className&&R.classList.remove(x.className),a(O,V,R))})};return S.take(1).onValue(function(C){var O=C.noticeContainer,V=C.googleNotice,R=C.sdkNotice;O.style.visibility="visible",O.style.top="",O.classList.add("bAp"),V.style.display="none",R.className=V.className,R.classList.add("inboxsdk__butterbar");for(var P=(0,_.default)(R,".inboxsdk__butterbar-text");P.firstChild;)P.removeChild(P.firstChild);for(var B=(0,_.default)(R,".inboxsdk__butterbar-buttons");B.firstChild;)B.removeChild(B.firstChild);x.html?P.innerHTML=x.html:x.el?P.appendChild(x.el):P.textContent=x.text,x.buttons&&x.buttons.forEach(function(Q){var N=document.createElement("span");N.classList.add("ag","a8k"),N.onclick=function(K){return Q.onClick(K)},N.setAttribute("role","button"),N.tabIndex=0,N.textContent=Q.title,B.appendChild(N)});var z=(0,_.default)(R,".inboxsdk__butterbar-close");z&&m.default.fromEvents(z,"click").take(1).onValue(w),x.className&&R.classList.add(x.className),R.style.display="",R.setAttribute("data-inboxsdk-id",A)}),{destroy:w}}},{key:"hideGmailMessage",value:function(){S.take(1).onValue(function(x){var A=x.noticeContainer,w=x.googleNotice,C=x.sdkNotice;C.getAttribute("data-inboxsdk-id")==="gmail"&&a(A,w,C)})}}]),j}();i.default=k},{"../../lib/dom/make-mutation-observer-chunked-stream":863,"../../lib/dom/querySelectorOrFail":869,"../../lib/stream-wait-for":902,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,kefir:327}],662:[function(e,l,i){(function(a){(function(){"use strict";function t(In,$e){var St=u(In);if(n){var Yt=n(In);$e&&(Yt=Yt.filter(function(Ht){return s(In,Ht).enumerable})),St.push.apply(St,Yt)}return St}function o(In){for(var $e=1;$e<arguments.length;$e++){var St=arguments[$e]!=null?arguments[$e]:{};$e%2?t(Object(St),!0).forEach(function(Yt){(0,k.default)(In,Yt,St[Yt])}):f?d(In,f(St)):t(Object(St)).forEach(function(Yt){m(In,Yt,s(St,Yt))})}return In}var u=e("@babel/runtime-corejs2/core-js/object/keys"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),d=e("@babel/runtime-corejs2/core-js/object/define-properties"),m=e("@babel/runtime-corejs2/core-js/object/define-property"),h=e("@babel/runtime-corejs2/helpers/interopRequireDefault");m(i,"__esModule",{value:!0}),i.default=void 0;var _=h(e("@babel/runtime-corejs2/regenerator")),y=h(e("@babel/runtime-corejs2/core-js/set")),S=h(e("@babel/runtime-corejs2/core-js/map")),v=h(e("@babel/runtime-corejs2/core-js/date/now")),T=h(e("@babel/runtime-corejs2/core-js/array/from")),E=h(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),I=h(e("@babel/runtime-corejs2/helpers/classCallCheck")),g=h(e("@babel/runtime-corejs2/helpers/createClass")),k=h(e("@babel/runtime-corejs2/helpers/defineProperty")),j=h(e("live-set/toValueObservable")),x=e("ud"),A=h(e("transducers.js")),w=h(e("kefir")),C=h(e("kefir-stopper")),O=h(e("kefir-bus")),V=(h(e("asap")),h(e("lodash/includes"))),R=h(e("../../../common/get-or-fail")),P=h(e("./gmail-driver/show-app-id-warning")),B=h(e("./makePageParserTree")),z=h(e("./gmail-element-getter")),Q=h(e("./make-xhr-interceptor")),N=h(e("./views/gmail-backdrop")),K=e("./views/gmail-thread-row-view"),U=h(e("./widgets/gmail-top-message-bar-driver")),F=h(e("./widgets/gmail-modal-view-driver")),Z=h(e("./widgets/gmail-mole-view-driver")),$=h(e("../inbox/views/inbox-drawer-view")),ne=h(e("./views/gmail-route-view/gmail-route-processor")),H=h(e("./gmail-driver/keyboard-shortcut-help-modifier")),X=h(e("./gmail-driver/open-draft-by-message-id")),oe=h(e("./gmail-driver/user-info")),Y=h(e("./gmail-butter-bar-driver")),se=h(e("./gmail-driver/track-gmail-styles")),ie=h(e("./gmail-driver/temporary-track-download-url-validity")),L=h(e("../../driver-common/getGmailThreadIdForRfcMessageId")),G=h(e("./gmail-driver/get-rfc-message-id-for-gmail-thread-id")),le=h(e("../../driver-common/getGmailMessageIdForSyncMessageId")),pe=h(e("bimapcache")),we=h(e("./gmail-driver/get-draft-id-for-message-id")),ye=h(e("./gmail-driver/add-nav-item")),W=h(e("./gmail-driver/add-support-item")),te=h(e("./gmail-driver/goto-view")),ce=h(e("./gmail-driver/show-custom-thread-list")),je=h(e("./gmail-driver/show-custom-route-view")),be=h(e("./gmail-driver/show-native-route-view")),Ne=h(e("./gmail-driver/register-search-suggestions-provider")),He=h(e("./gmail-driver/setup-compose-view-driver-stream")),Qe=h(e("./gmail-driver/track-events")),Be=h(e("./gmail-driver/gmail-load-event")),Je=h(e("./gmail-driver/thread-row-identifier")),_t=h(e("./custom-style")),pt=h(e("./gmail-driver/override-gmail-back-button")),Et=h(e("./gmail-driver/add-toolbar-button-for-app")),It=h(e("./gmail-driver/setup-route-view-driver-stream")),Qt=h(e("./gmail-driver/get-native-nav-item")),jt=h(e("./gmail-driver/create-link")),Pt=h(e("./gmail-driver/register-search-query-rewriter")),At=h(e("./gmail-driver/open-compose-window")),Ce=h(e("./views/gmail-app-sidebar-view")),Oe=h(e("./gmail-driver/suppressAddon")),at=h(e("./gmail-driver/getSyncThreadFromSyncThreadId")),bt=h(e("./gmail-driver/getSyncThreadForOldGmailThreadId")),Gt=h(e("../../lib/toItemWithLifetimeStream")),Vt=h(e("../../lib/toLiveSet")),dn=h(e("../../lib/stream-wait-for")),Cn=(h(e("../../lib/wait-for")),h(e("./views/gmail-nav-item-view")),function(){function In($e,St,Yt,Ht,Wt,Pn){var Sn=this;(0,I.default)(this,In),(0,k.default)(this,"_appId",void 0),(0,k.default)(this,"_logger",void 0),(0,k.default)(this,"_opts",void 0),(0,k.default)(this,"_envData",void 0),(0,k.default)(this,"_customRouteIDs",new y.default),(0,k.default)(this,"_customListRouteIDs",new S.default),(0,k.default)(this,"_customListSearchStringsToRouteIds",new S.default),(0,k.default)(this,"_messageIDsToThreadIDs",new S.default),(0,k.default)(this,"_threadRowIdentifier",void 0),(0,k.default)(this,"_gmailRouteProcessor",void 0),(0,k.default)(this,"_keyboardShortcutHelpModifier",void 0),(0,k.default)(this,"onready",void 0),(0,k.default)(this,"_page",void 0),(0,k.default)(this,"_pageCommunicator",void 0),(0,k.default)(this,"_pageCommunicatorPromise",void 0),(0,k.default)(this,"_butterBar",void 0),(0,k.default)(this,"_butterBarDriver",void 0),(0,k.default)(this,"_routeViewDriverStream",void 0),(0,k.default)(this,"_rowListViewDriverStream",void 0),(0,k.default)(this,"_threadRowViewDriverKefirStream",void 0),(0,k.default)(this,"_threadViewDriverLiveSet",void 0),(0,k.default)(this,"_toolbarViewDriverLiveSet",void 0),(0,k.default)(this,"_composeViewDriverStream",void 0),(0,k.default)(this,"_xhrInterceptorStream",void 0),(0,k.default)(this,"_messageViewDriverStream",void 0),(0,k.default)(this,"_stopper",(0,C.default)()),(0,k.default)(this,"_navMarkerHiddenChanged",(0,O.default)()),(0,k.default)(this,"_addonSidebarHiddenChanged",(0,O.default)()),(0,k.default)(this,"_userInfo",void 0),(0,k.default)(this,"_timestampAccountSwitcherReady",void 0),(0,k.default)(this,"_timestampGlobalsFound",void 0),(0,k.default)(this,"_timestampOnready",void 0),(0,k.default)(this,"_lastCustomThreadListActivity",void 0),(0,k.default)(this,"_currentRouteViewDriver",void 0),(0,k.default)(this,"_appSidebarView",null),(0,k.default)(this,"getGmailThreadIdForRfcMessageId",void 0),(0,k.default)(this,"getRfcMessageIdForGmailThreadId",void 0),(0,k.default)(this,"getSyncThreadIdForOldGmailThreadId",void 0),(0,k.default)(this,"getOldGmailThreadIdFromSyncThreadId",void 0),(0,k.default)(this,"removeCachedOldGmailThreadIdFromSyncThreadId",void 0),(0,k.default)(this,"getGmailMessageIdForSyncDraftId",void 0),(0,k.default)(this,"getGmailMessageIdForSyncMessageId",void 0),(0,k.default)(this,"removeCachedGmailMessageIdForSyncMessageId",void 0),(0,k.default)(this,"_recentSyncDraftIds",new S.default),(0,k.default)(this,"_selectedThreadRows",A.default.mapcat(function(xt){return xt.getSelectedThreadRowViewDrivers()})),(0,k.default)(this,"_threadRowViewSelectionChanges",(0,O.default)()),(0,_t.default)(),this._appId=$e,this._logger=Ht,this._opts=Wt,this._envData=Pn,this._page=(0,B.default)(this,document),this._stopper.onValue(function(){return Sn._page.dump()});var sr=new pe.default({key:"inboxsdk__cached_thread_ids",getAfromB:function(xt){return(0,G.default)(Sn,xt)},getBfromA:function(xt){return(0,L.default)(Sn,xt)}});this.getGmailThreadIdForRfcMessageId=function(xt){return sr.getBfromA(xt)},this.getRfcMessageIdForGmailThreadId=function(xt){return sr.getAfromB(xt)};var lr=new pe.default({key:"inboxsdk__cached_sync_thread_id_old_gmail_thread_id",getAfromB:function(xt){return(0,bt.default)(Sn,xt).then(function(Rt){return Rt.syncThreadID})},getBfromA:function(xt){return(0,at.default)(Sn,xt).then(function(Rt){if(Rt)return Rt.oldGmailThreadID;throw new Error("syncThread not found")})}});this.getSyncThreadIdForOldGmailThreadId=function(xt){return lr.getAfromB(xt)},this.getOldGmailThreadIdFromSyncThreadId=function(xt){return lr.getBfromA(xt)},this.removeCachedOldGmailThreadIdFromSyncThreadId=function(xt){return lr.removeAfromCache(xt)};try{localStorage.removeItem("inboxsdk__cached_gmail_and_inbox_message_ids_2")}catch(xt){console.error(xt)}var Un=new pe.default({key:"inboxsdk__cached_gmail_and_inbox_message_ids_3",getAfromB:function(xt){return(0,le.default)(Sn,xt)},getBfromA:function(){throw new Error("should not happen")}});this.getGmailMessageIdForSyncMessageId=function(xt){return Un.getAfromB(xt)},this.removeCachedGmailMessageIdForSyncMessageId=function(xt){return Un.removeBfromCache(xt)},this.getGmailMessageIdForSyncDraftId=function(xt){return(0,le.default)(Sn,xt)},this._gmailRouteProcessor=new ne.default,this._keyboardShortcutHelpModifier=new H.default,this._butterBarDriver=new Y.default,w.default.later(45e3).takeUntilBy((0,Gt.default)(this._page.tree.getAllByTag("supportMenu"))).onValue(function(){Sn._logger.errorSite(new Error("Failed to find gmail supportMenu"))}),this._setupEventStreams(),this.onready.then(function(){(0,Qe.default)(Sn),(0,Be.default)(Sn),(0,pt.default)(Sn,Sn._gmailRouteProcessor),(0,se.default)(),(0,ie.default)(Sn),Wt.suppressAddonTitle!=null&&(0,Oe.default)(Sn,Wt.suppressAddonTitle)}).catch(function(xt){Sn._logger.error(xt)})}return(0,g.default)(In,[{key:"destroy",value:function(){this._threadRowViewSelectionChanges.end(),this._keyboardShortcutHelpModifier.destroy(),this._stopper.destroy(),(0,K.removeAllThreadRowUnclaimedModifications)()}},{key:"getAppId",value:function(){return this._appId}},{key:"getOpts",value:function(){return this._opts}},{key:"getPageCommunicator",value:function(){return this._pageCommunicator}},{key:"getPageCommunicatorPromise",value:function(){return this._pageCommunicatorPromise}},{key:"getLogger",value:function(){return this._logger}},{key:"getTagTree",value:function(){return this._page.tree}},{key:"getCustomListSearchStringsToRouteIds",value:function(){return this._customListSearchStringsToRouteIds}},{key:"getThreadRowIdentifier",value:function(){return this._threadRowIdentifier}},{key:"getButterBarDriver",value:function(){return this._butterBarDriver}},{key:"getButterBar",value:function(){return this._butterBar}},{key:"setButterBar",value:function($e){this._butterBar=$e}},{key:"getCustomRouteIDs",value:function(){return this._customRouteIDs}},{key:"getCustomListRouteIDs",value:function(){return this._customListRouteIDs}},{key:"getKeyboardShortcutHelpModifier",value:function(){return this._keyboardShortcutHelpModifier}},{key:"getRouteViewDriverStream",value:function(){return this._routeViewDriverStream}},{key:"getRowListViewDriverStream",value:function(){return this._rowListViewDriverStream}},{key:"getThreadRowViewDriverStream",value:function(){return this._threadRowViewDriverKefirStream}},{key:"getThreadViewDriverStream",value:function(){return(0,Gt.default)(this._threadViewDriverLiveSet).map(function($e){return $e.el})}},{key:"getAttachmentCardViewDriverStream",value:function(){return this._messageViewDriverStream.flatMap(function($e){return $e.isLoaded()?w.default.constant($e):$e.getEventStream().filter(function(St){return St.eventName==="messageLoad"}).map(function(){return $e}).take(1)}).map(function($e){return $e.getAttachmentCardViewDrivers()}).flatten()}},{key:"getComposeViewDriverStream",value:function(){return this._composeViewDriverStream}},{key:"getXhrInterceptorStream",value:function(){return this._xhrInterceptorStream}},{key:"getMessageViewDriverStream",value:function(){return this._messageViewDriverStream}},{key:"getStopper",value:function(){return this._stopper}},{key:"getEnvData",value:function(){return this._envData}},{key:"getTimestampOnReady",value:function(){return this._timestampOnready==null?(this._logger.error(new Error("getTimestampOnReady called before ready")),(0,v.default)()):this._timestampOnready}},{key:"delayToTimeAfterReady",value:function($e){var St=this.getTimestampOnReady()+$e,Yt=Math.max(0,St-(0,v.default)());return w.default.later(Yt)}},{key:"getTimings",value:function(){return{piMainStarted:this._envData.piMainStarted,piLoadStarted:this._envData.piLoadStarted,globalsFound:this._timestampGlobalsFound,accountSwitcherReady:this._timestampAccountSwitcherReady,onready:this._timestampOnready}}},{key:"registerThreadButton",value:function($e){var St=(0,C.default)(),Yt=function(Sn){St.takeUntilBy(Sn.getStopper()).onValue(function(){Sn.destroy()})},Ht=(0,j.default)(this._toolbarViewDriverLiveSet).subscribe(function(Sn){var sr=Sn.value;sr.isForThread()?$e.positions&&!(0,V.default)($e.positions,"THREAD")||Yt(sr.addButton(o(o({},$e),{},{section:$e.threadSection||"METADATA_STATE",onClick:function(lr){$e.onClick({position:"THREAD",dropdown:lr.dropdown,selectedThreadViewDrivers:[sr.getThreadViewDriver()],selectedThreadRowViewDrivers:[]})}}))):sr.isForRowList()&&($e.positions&&!(0,V.default)($e.positions,"LIST")||Yt(sr.addButton(o(o({},$e),{},{section:$e.listSection||"METADATA_STATE",onClick:function(lr){var Un=(0,T.default)(sr.getThreadRowViewDrivers()).filter(function(xt){return xt.isSelected()});$e.onClick({position:"LIST",dropdown:lr.dropdown,selectedThreadViewDrivers:[],selectedThreadRowViewDrivers:Un})}}))))});if(St.onValue(function(){Ht.unsubscribe()}),!$e.positions||(0,V.default)($e.positions,"ROW")){var Wt=function(Sn){Sn.addButton(w.default.constant({hasDropdown:$e.hasDropdown,iconClass:$e.iconClass,iconUrl:$e.iconUrl,orderHint:$e.orderHint,onClick:function(sr){$e.onClick&&$e.onClick({position:"ROW",dropdown:sr.dropdown,selectedThreadViewDrivers:[],selectedThreadRowViewDrivers:[Sn]})}}).merge(St))};this._currentRouteViewDriver&&this._currentRouteViewDriver.getRowListViews().forEach(function(Sn){Sn.getThreadRowViewDrivers().forEach(Wt)});var Pn=this._threadRowViewDriverKefirStream.observe({value:Wt});St.onValue(function(){Pn.unsubscribe()})}return function(){St.destroy()}}},{key:"hashChangeNoViewChange",value:function($e){if($e[0]!=="#")throw new Error("bad hash");window.history.replaceState(null,null,$e);var St=new window.HashChangeEvent("hashchange",{oldURL:document.location.href.replace(/#.*$/,"")+"#inboxsdk-fake-no-vc",newURL:document.location.href.replace(/#.*$/,"")+$e});window.dispatchEvent(St)}},{key:"addCustomRouteID",value:function($e){var St=this;return this._customRouteIDs.add($e),this._pageCommunicator.registerAllowedHashLinkStartTerm($e.split("/")[0]),function(){St._customRouteIDs.delete($e)}}},{key:"addCustomListRouteID",value:function($e,St){var Yt=this;return this._customListRouteIDs.set($e,St),this._pageCommunicator.registerAllowedHashLinkStartTerm($e.split("/")[0]),function(){Yt._customListRouteIDs.delete($e)}}},{key:"signalCustomThreadListActivity",value:function($e){this._lastCustomThreadListActivity={customRouteID:$e,timestamp:new Date}}},{key:"getLastCustomThreadListActivity",value:function(){return this._lastCustomThreadListActivity}},{key:"showCustomThreadList",value:function($e,St,Yt){(0,ce.default)(this,$e,St,Yt)}},{key:"showCustomRouteView",value:function($e){(0,je.default)(this,$e)}},{key:"showNativeRouteView",value:function(){(0,be.default)(this)}},{key:"createLink",value:function($e,St){return(0,jt.default)(this._gmailRouteProcessor,$e,St)}},{key:"goto",value:function($e,St){return(0,te.default)(this,$e,St)}},{key:"resolveUrlRedirects",value:function($e){return this._pageCommunicatorPromise.then(function(St){return St.resolveUrlRedirects($e)})}},{key:"registerSearchSuggestionsProvider",value:function($e){(0,Ne.default)(this,$e)}},{key:"registerSearchQueryRewriter",value:function($e){(0,Pt.default)(this._pageCommunicator,$e)}},{key:"addToolbarButtonForApp",value:function($e){return(0,Et.default)(this,$e)}},{key:"openNewComposeViewDriver",value:function(){function $e(){return St.apply(this,arguments)}var St=(0,E.default)(_.default.mark(function Yt(){var Ht,Wt;return _.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.prev=0,Ht=this.getNextComposeViewDriver(),Pn.next=4,(0,At.default)(this);case 4:return Pn.next=6,Ht;case 6:return Wt=Pn.sent,Pn.abrupt("return",Wt);case 10:throw Pn.prev=10,Pn.t0=Pn.catch(0),this._logger.error(Pn.t0),Pn.t0;case 14:case"end":return Pn.stop()}},Yt,this,[[0,10]])}));return $e}()},{key:"getNextComposeViewDriver",value:function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1e4;return this._composeViewDriverStream.merge(w.default.later($e,new Error("Reached timeout while waiting for getNextComposeViewDriver"))).beforeEnd(function(){return new Error("Driver was shut down before a new compose was found")}).flatMap(function(St){return St instanceof Error?w.default.constantError(St):w.default.constant(St)}).take(1).takeErrors(1).toPromise()}},{key:"openDraftByMessageID",value:function($e){return(0,X.default)(this,$e)}},{key:"createModalViewDriver",value:function($e){return new F.default($e)}},{key:"createMoleViewDriver",value:function($e){return new Z.default(this,$e)}},{key:"createDrawerViewDriver",value:function($e){return new $.default($e)}},{key:"createBackdrop",value:function($e,St){return new N.default($e,St)}},{key:"addNavItem",value:function($e,St){return(0,ye.default)(this,$e,St)}},{key:"addSupportItem",value:function($e){return(0,W.default)(this,$e)}},{key:"getSentMailNativeNavItem",value:function(){var $e=this,St=(0,Qt.default)(this,"sent");return St.catch(function(Yt){return $e._logger.error(Yt)}),St}},{key:"setShowNativeNavMarker",value:function($e){this._navMarkerHiddenChanged.emit(null);var St=z.default.getLeftNavContainerElement();St&&($e?St.classList.remove("inboxsdk__hide_native_marker"):(St.classList.add("inboxsdk__hide_native_marker"),this._stopper.takeUntilBy(this._navMarkerHiddenChanged).onValue(function(){St.classList.remove("inboxsdk__hide_native_marker")})))}},{key:"setShowNativeAddonSidebar",value:function($e){this._addonSidebarHiddenChanged.emit(null);var St=z.default.getAddonSidebarContainerElement(),Yt=z.default.getMainContentBodyContainerElement();if(St&&Yt){var Ht=Yt.parentElement;if(!Ht)return;$e?Ht.classList.remove("inboxsdk__hide_addon_container"):(Ht.classList.add("inboxsdk__hide_addon_container"),this._stopper.takeUntilBy(this._addonSidebarHiddenChanged).onValue(function(){Ht.classList.remove("inboxsdk__hide_addon_container")}))}}},{key:"getGmailActionToken",value:function(){function $e(){return St.apply(this,arguments)}var St=(0,E.default)(_.default.mark(function Yt(){return _.default.wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ht.abrupt("return",this._pageCommunicator.getActionTokenValue());case 1:case"end":return Ht.stop()}},Yt,this)}));return $e}()},{key:"getUserEmailAddress",value:function(){return this._pageCommunicator.getUserEmailAddress()}},{key:"isConversationViewDisabled",value:function(){return this._pageCommunicator.isConversationViewDisabled()}},{key:"getUserLanguage",value:function(){return this._pageCommunicator.getUserLanguage()}},{key:"getUserContact",value:function(){return{emailAddress:this.getUserEmailAddress(),name:this._userInfo.getUserName()}}},{key:"getAccountSwitcherContactList",value:function(){return this._userInfo.getAccountSwitcherContactList()}},{key:"activateShortcut",value:function($e,St,Yt){var Ht=this;this.getKeyboardShortcutHelpModifier().set($e,this._appId,St,Yt),$e.once("destroy",function(){Ht.getKeyboardShortcutHelpModifier().delete($e)})}},{key:"_setupEventStreams",value:function(){var $e=this,St=(0,Q.default)();this._xhrInterceptorStream=St.xhrInterceptStream.takeUntilBy(this._stopper),this._pageCommunicatorPromise=St.pageCommunicatorPromise,this.onready=this._pageCommunicatorPromise.then(function(Yt){$e._timestampGlobalsFound=(0,v.default)(),$e._pageCommunicator=Yt,$e._logger.setUserEmailAddress($e.getUserEmailAddress()),$e._logger.setIsUsingSyncAPI(Yt.isUsingSyncAPI()),$e._userInfo=new oe.default($e),$e._timestampAccountSwitcherReady=(0,v.default)(),$e._routeViewDriverStream=(0,It.default)($e._gmailRouteProcessor,$e).takeUntilBy($e._stopper).toProperty(),$e._routeViewDriverStream.onValue(function(Ht){$e._currentRouteViewDriver=Ht}),$e._rowListViewDriverStream=$e._setupRouteSubViewDriver("newGmailRowListView").takeUntilBy($e._stopper),$e._setupThreadRowViewDriverKefirStream(),$e._threadViewDriverLiveSet=(0,Vt.default)($e._setupRouteSubViewDriver("newGmailThreadView").takeUntilBy($e._stopper).flatMap(function(Ht){return Ht.getReadyStream().map(function(){return Ht})}).map(function(Ht){return{el:Ht,removalStream:Ht.getStopper()}})),$e._setupToolbarViewDriverStream(),$e._setupMessageViewDriverStream(),$e._setupComposeViewDriverStream(),$e._threadRowIdentifier=new Je.default($e),$e._timestampOnready=(0,v.default)()})}},{key:"_setupComposeViewDriverStream",value:function(){this._composeViewDriverStream=(0,He.default)(this,this._messageViewDriverStream,this._xhrInterceptorStream).takeUntilBy(this._stopper)}},{key:"_setupRouteSubViewDriver",value:function($e){return this._routeViewDriverStream.flatMap(function(St){return St.getEventStream().filter(function(Yt){return Yt.eventName===$e}).map(function(Yt){return Yt.view})})}},{key:"_setupThreadRowViewDriverKefirStream",value:function(){this._threadRowViewDriverKefirStream=this._rowListViewDriverStream.flatMap(function($e){return $e.getRowViewDriverStream()}).takeUntilBy(this._stopper)}},{key:"_setupToolbarViewDriverStream",value:function(){this._toolbarViewDriverLiveSet=(0,Vt.default)(w.default.merge([this._rowListViewDriverStream.map(function($e){return $e.getToolbarView()}),this.getThreadViewDriverStream().map(function($e){return $e.getToolbarView()})]).filter(Boolean).flatMap(function($e){return $e.waitForReady()}).map(function($e){return{el:$e,removalStream:$e.getStopper()}}).takeUntilBy(this._stopper)),this._toolbarViewDriverLiveSet.subscribe({})}},{key:"_setupMessageViewDriverStream",value:function(){this._messageViewDriverStream=this.getThreadViewDriverStream().flatMap(function($e){return $e.getMessageViewDriverStream()}).takeUntilBy(this._stopper)}},{key:"addGlobalSidebarContentPanel",value:function(){function $e(Yt){return St.apply(this,arguments)}var St=(0,E.default)(_.default.mark(function Yt(Ht){var Wt;return _.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.next=2,this.waitForGlobalSidebarReady().merge(this._stopper.flatMap(function(){return w.default.constantError(new Error("Driver instance was destroyed early"))})).take(1).takeErrors(1).toPromise();case 2:return Wt=this.getGlobalSidebar(),Pn.abrupt("return",Wt.addGlobalSidebarContentPanel(Ht));case 4:case"end":return Pn.stop()}},Yt,this)}));return $e}()},{key:"waitForGlobalSidebarReady",value:function(){var $e=function(){return z.default.getCompanionSidebarContentContainerElement()&&(z.default.getCompanionSidebarIconContainerElement()||z.default.getAddonSidebarContainerElement())};return $e()?w.default.constant(void 0):(0,dn.default)($e).map(function(){})}},{key:"getGlobalSidebar",value:function(){var $e=this._appSidebarView;if(!$e){var St=z.default.getCompanionSidebarContentContainerElement();if(!St)throw new Error("did not find companionSidebarContentContainerEl");$e=this._appSidebarView=new Ce.default(this,St)}return $e}},{key:"isRunningInPageContext",value:function(){return!(!a.GLOBALS||!a._GM_main)}},{key:"isUsingSyncAPI",value:function(){return this._pageCommunicator.isUsingSyncAPI()}},{key:"showAppIdWarning",value:function(){(0,P.default)(this)}},{key:"createTopMessageBarDriver",value:function($e){return new U.default($e)}},{key:"associateThreadAndMessageIDs",value:function($e,St){this._messageIDsToThreadIDs.set(St,$e)}},{key:"getThreadIDForMessageID",value:function($e){return(0,R.default)(this._messageIDsToThreadIDs,$e)}},{key:"getDraftIDForMessageID",value:function($e){var St=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return(0,we.default)(this,$e,St)}},{key:"reportRecentSyncDraftId",value:function($e){var St=this._recentSyncDraftIds.get($e),Yt=(St!=null?St:0)+1;this._recentSyncDraftIds.set($e,Yt)}},{key:"reportDraftClosed",value:function($e){var St=this;w.default.later(3e4).takeUntilBy(this._stopper).onValue(function(){var Yt,Ht=St._recentSyncDraftIds.get($e);Ht==null||Ht<1?(Yt=0,St._logger.error(new Error("_recentSyncDraftIds count had unexpected value"),{count:Ht})):Yt=Ht-1,Yt===0?St._recentSyncDraftIds.delete($e):St._recentSyncDraftIds.set($e,Yt)})}},{key:"isRecentSyncDraftId",value:function($e){return this._recentSyncDraftIds.has($e)}},{key:"getSelectedThreadRowViewDrivers",value:function(){return this._currentRouteViewDriver?A.default.toArray(this._currentRouteViewDriver.getRowListViews(),this._selectedThreadRows):[]}},{key:"signalThreadRowViewSelectionChange",value:function(){this._threadRowViewSelectionChanges.value(void 0)}},{key:"registerThreadRowViewSelectionHandler",value:function($e){var St=this;return this._threadRowViewSelectionChanges.onValue($e),function(){St._threadRowViewSelectionChanges.offValue($e)}}}]),In}()),Tt=(0,x.defn)(l,Cn);i.default=Tt}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../common/get-or-fail":642,"../../driver-common/getGmailMessageIdForSyncMessageId":832,"../../driver-common/getGmailThreadIdForRfcMessageId":833,"../../lib/stream-wait-for":902,"../../lib/toItemWithLifetimeStream":903,"../../lib/toLiveSet":904,"../../lib/wait-for":905,"../inbox/views/inbox-drawer-view":818,"./custom-style":660,"./gmail-butter-bar-driver":661,"./gmail-driver/add-nav-item":663,"./gmail-driver/add-support-item":664,"./gmail-driver/add-toolbar-button-for-app":665,"./gmail-driver/create-link":666,"./gmail-driver/get-draft-id-for-message-id":668,"./gmail-driver/get-native-nav-item":669,"./gmail-driver/get-rfc-message-id-for-gmail-thread-id":671,"./gmail-driver/getSyncThreadForOldGmailThreadId":673,"./gmail-driver/getSyncThreadFromSyncThreadId":674,"./gmail-driver/gmail-load-event":675,"./gmail-driver/goto-view":676,"./gmail-driver/keyboard-shortcut-help-modifier":678,"./gmail-driver/open-compose-window":679,"./gmail-driver/open-draft-by-message-id":680,"./gmail-driver/override-gmail-back-button":681,"./gmail-driver/register-search-query-rewriter":682,"./gmail-driver/register-search-suggestions-provider":683,"./gmail-driver/setup-compose-view-driver-stream":684,"./gmail-driver/setup-route-view-driver-stream":685,"./gmail-driver/show-app-id-warning":686,"./gmail-driver/show-custom-route-view":687,"./gmail-driver/show-custom-thread-list":688,"./gmail-driver/show-native-route-view":689,"./gmail-driver/suppressAddon":690,"./gmail-driver/temporary-track-download-url-validity":691,"./gmail-driver/thread-row-identifier":692,"./gmail-driver/track-events":693,"./gmail-driver/track-gmail-styles":694,"./gmail-driver/user-info":695,"./gmail-element-getter":696,"./make-xhr-interceptor":703,"./makePageParserTree":704,"./views/gmail-app-sidebar-view":706,"./views/gmail-backdrop":715,"./views/gmail-nav-item-view":750,"./views/gmail-route-view/gmail-route-processor":751,"./views/gmail-thread-row-view":755,"./widgets/gmail-modal-view-driver":773,"./widgets/gmail-mole-view-driver":774,"./widgets/gmail-top-message-bar-driver":776,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,asap:83,bimapcache:100,kefir:327,"kefir-bus":324,"kefir-stopper":326,"live-set/toValueObservable":335,"lodash/includes":493,"transducers.js":623,ud:625}],663:[function(e,l,i){"use strict";function a(j,x,A){return t.apply(this,arguments)}function t(){return t=(0,h.default)(m.default.mark(function j(x,A,w){var C,O;return m.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,k();case 2:if(C=new y.default(x,A,1),C.setNavItemDescriptor(w),!_.default.isStandalone())try{O=o(C),O(),C.getEventStream().filter(function(R){return R.eventName==="orderChanged"}).onValue(O)}catch(R){S.default.error(R)}return V.abrupt("return",C);case 6:case"end":return V.stop()}},j)})),t.apply(this,arguments)}function o(j){return _.default.shouldAddNavItemsInline()?function(){(0,T.default)(u(),j.getElement())}:function(){var x=_.default.getSeparateSectionNavItemMenuInjectionContainer();if(!x)throw new Error("should not happen");(0,d.default)(document.querySelectorAll(".Xa.wT:not([data-group-order-hint])")).slice(1).forEach(function(A){A.dataset.groupOrderHint="zz_gmail"}),(0,T.default)(x,j.getElement())}}function u(){var j=document.querySelector(".inboxsdk__navMenu");return j?(0,I.default)(j,".TK"):n()}function n(){var j=document.createElement("div");j.setAttribute("class","LrBjie inboxsdk__navMenu"),j.innerHTML='<div class="TK"></div>';var x=_.default.getSameSectionNavItemMenuInjectionContainer();if(!x)throw new Error("should not happen");return x.insertBefore(j,x.children[2]),(0,E.default)(j,{attributes:!0,attributeFilter:["class"]}).onValue(function(){j.classList.contains("TA")&&j.classList.remove("TA")}),(0,I.default)(j,".TK")}var s=e("@babel/runtime-corejs2/core-js/object/define-property"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");s(i,"__esModule",{value:!0}),i.default=a,i.waitForNavMenuReady=void 0;var d=f(e("@babel/runtime-corejs2/core-js/array/from")),m=f(e("@babel/runtime-corejs2/regenerator")),h=f(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),_=f(e("../gmail-element-getter")),y=f(e("../views/gmail-nav-item-view")),S=f(e("../../../lib/logger")),v=f(e("../../../lib/wait-for")),T=f(e("../../../lib/dom/insert-element-in-order")),E=f(e("../../../lib/dom/make-mutation-observer-stream")),I=f(e("../../../lib/dom/querySelectorOrFail")),g=f(e("lodash/once")),k=(0,g.default)((0,h.default)(m.default.mark(function j(){return m.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(_.default.isStandalone()){x.next=7;break}return x.next=3,_.default.waitForGmailModeToSettle();case 3:return x.next=5,(0,v.default)(function(){return document.querySelector(".aeN[role=navigation], .aeN [role=navigation]")});case 5:return x.next=7,(0,v.default)(function(){return document.querySelector(".Ls77Lb.aZ6 > .pp")});case 7:case"end":return x.stop()}},j)})));i.waitForNavMenuReady=k},{"../../../lib/dom/insert-element-in-order":857,"../../../lib/dom/make-mutation-observer-stream":864,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/logger":892,"../../../lib/wait-for":905,"../gmail-element-getter":696,"../views/gmail-nav-item-view":750,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,"lodash/once":516}],664:[function(e,l,i){"use strict";function a(n,s){return new u.default(n,s)}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("../views/gmail-support-item-view"))},{"../views/gmail-support-item-view":754,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],665:[function(e,l,i){"use strict";function a(f,d){return n.default.waitForGmailModeToSettle().then(function(){return n.default.isStandalone()?new u.default(function(m,h){}):new s.default(f,d)})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/promise")),n=o(e("../gmail-element-getter")),s=o(e("../views/gmail-app-toolbar-button-view"))},{"../gmail-element-getter":696,"../views/gmail-app-toolbar-button-view":711,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],666:[function(e,l,i){"use strict";function a(d,m,h){if(h=typeof h=="string"?h:h?(0,u.default)({},h):{},m=d.getCompatibleRouteID(m),typeof h=="string"){var _=m.match(/:/g);if(_&&_.length===1){var y=h;h={},h[m.match(/:(\w+)($|\/)?/)[1]]=y}else h={}}m.match(/:page(?:\/|$)/)&&!h.page&&(h.page=0);var S,v=m.split("/");try{S=(0,s.default)(m,h)}catch(T){f.default.error(T,{routeID:m,paramsKey:(0,n.default)(h)}),S=v.map(function(E){if(E.indexOf(":")===-1)return E;var I=E.split(":");return h&&h[I[1]]!==void 0?I[0]+h[I[1]]:I[0]}).map(encodeURIComponent).join("/")}return d.isListRouteName(v[0])&&S.indexOf("p0")===S.length-2&&(S=S.substring(0,S.length-3)),"#"+S}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/object/assign")),n=o(e("@babel/runtime-corejs2/core-js/object/keys")),s=o(e("../../../lib/populateRouteID")),f=o(e("../../../lib/logger"))},{"../../../lib/logger":892,"../../../lib/populateRouteID":895,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],667:[function(e,l,i){(function(a){(function(){"use strict";function t(s,f){var d="".concat(s.replace(/^thread-/,""),"+").concat(f),m=a.from(d).toString("base64").replace(/=/g,"");return(0,o.convertBase)(m,u,n)}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=t;var o=e("@macil/simple-base-converter"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="BCDFGHJKLMNPQRSTVWXZbcdfghjklmnpqrstvwxz"}).call(this)}).call(this,e("buffer").Buffer)},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@macil/simple-base-converter":81,buffer:101}],668:[function(e,l,i){"use strict";function a(T,E){return t.apply(this,arguments)}function t(){return t=(0,f.default)(s.default.mark(function T(E,I){var g,k,j;return s.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,h.default)({method:"GET",url:document.location.origin+document.location.pathname,data:{ui:"2",ik:E.getPageCommunicator().getIkValue(),view:"cv",th:I,prf:"1",nsc:"1",mb:"0",rt:"j",search:"drafts"}});case 2:return g=x.sent,x.prev=3,k=(0,_.readDraftId)(g.text,I),j={responseText:g.text},x.abrupt("return",{draftID:k,debugData:j});case 9:throw x.prev=9,x.t0=x.catch(3),(0,y.default)(E.getAppId())&&E.getLogger().error(x.t0,{message:"failed to read draft ID",messageID:I,text:g.text}),x.t0;case 13:case"end":return x.stop()}},T,null,[[3,9]])})),t.apply(this,arguments)}function o(T,E){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?a(T,E):S(T,E)}var u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/regenerator")),f=n(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),d=n(e("lodash/memoize")),m=e("ud"),h=n(e("../../../driver-common/gmailAjax")),_=e("../gmail-response-processor"),y=n(e("../../../lib/isStreakAppId")),S=(0,d.default)(a,function(T,E){return E}),v=(0,m.defn)(l,o);i.default=v},{"../../../driver-common/gmailAjax":837,"../../../lib/isStreakAppId":891,"../gmail-response-processor":700,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,"lodash/memoize":513,ud:625}],669:[function(e,l,i){"use strict";function a(m,h){return(0,d.default)(function(){var _=s.default.getLeftNavContainerElement();return _?_.querySelector('.aim a[href*="#'.concat(h,'"]')):null},3e5).then(function(_){var y=(0,f.default)(_,function(S){return S.classList.contains("aim")});if(!y)throw new Error("native nav item structured weird");return y.__nativeGmailNavItemView||(y.__nativeGmailNavItemView=new n.default(m,y,h)),y.__nativeGmailNavItemView}).catch(function(_){if(s.default.isStandalone())return new u.default(function(y,S){});throw _})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/promise")),n=o(e("../views/native-gmail-nav-item-view")),s=o(e("../gmail-element-getter")),f=o(e("../../../../common/find-parent")),d=o(e("../../../lib/wait-for"))},{"../../../../common/find-parent":640,"../../../lib/wait-for":905,"../gmail-element-getter":696,"../views/native-gmail-nav-item-view":761,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],670:[function(e,l,i){"use strict";function a(m,h){return t.apply(this,arguments)}function t(){return t=(0,s.default)(n.default.mark(function m(h,_){var y,S;return n.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,f.default)(h,{oldGmailMessageID:_});case 2:if(y=v.sent,S=y.match(/^Message-ID:\s+(\S+)\s*$/im)){v.next=6;break}throw new Error("Failed to find rfc id for gmail thread id. Message may not exist in user's account.");case 6:return v.abrupt("return",(0,d.default)(S[1]));case 7:case"end":return v.stop()}},m)})),t.apply(this,arguments)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),f=u(e("../../../driver-common/getOriginalMessagePage")),d=u(e("../../../../common/html-to-text"))},{"../../../../common/html-to-text":645,"../../../driver-common/getOriginalMessagePage":834,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59}],671:[function(e,l,i){"use strict";function a(E){if(typeof n!="function")return null;var I=new n,g=new n;return(a=function(k){return k?g:I})(E)}function t(E,I){return o.apply(this,arguments)}function o(){return o=(0,_.default)(m.default.mark(function E(I,g){var k,j,x,A;return m.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return k={ui:2,ik:I.getPageCommunicator().getIkValue(),view:"cv",th:g,nsc:1,mb:0,rt:"j",search:"all"},w.next=3,(0,y.default)({method:"POST",url:document.location.origin+document.location.pathname+"?"+S.default.stringify(k),canRetry:!0});case 3:if(j=w.sent,x=v.extractMessageIdsFromThreadBatchRequest(j.text),(0,h.default)(x).length===1){w.next=7;break}throw new Error("Expected to find 1 thread/message ID pair, but got ".concat((0,h.default)(x).length));case 7:if(A=x[g]){w.next=10;break}throw new Error("Could not find a message ID for given thread ID");case 10:return w.abrupt("return",(0,T.default)(I,A));case 11:case"end":return w.stop()}},E)})),o.apply(this,arguments)}var u=e("@babel/runtime-corejs2/helpers/typeof"),n=e("@babel/runtime-corejs2/core-js/weak-map"),s=e("@babel/runtime-corejs2/core-js/object/define-property"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),d=e("@babel/runtime-corejs2/helpers/interopRequireDefault");s(i,"__esModule",{value:!0}),i.default=t;var m=d(e("@babel/runtime-corejs2/regenerator")),h=d(e("@babel/runtime-corejs2/core-js/object/keys")),_=d(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),y=d(e("../../../driver-common/gmailAjax")),S=d(e("querystring")),v=function(E,I){if(!I&&E&&E.__esModule)return E;if(E===null||u(E)!=="object"&&typeof E!="function")return{default:E};var g=a(I);if(g&&g.has(E))return g.get(E);var k={},j=s&&f;for(var x in E)if(x!=="default"&&Object.prototype.hasOwnProperty.call(E,x)){var A=j?f(E,x):null;A&&(A.get||A.set)?s(k,x,A):k[x]=E[x]}return k.default=E,g&&g.set(E,k),k}(e("../gmail-response-processor")),T=d(e("./get-rfc-message-id-for-gmail-message-id"))},{"../../../driver-common/gmailAjax":837,"../gmail-response-processor":700,"./get-rfc-message-id-for-gmail-message-id":670,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,"@babel/runtime-corejs2/regenerator":59,querystring:579}],672:[function(e,l,i){"use strict";function a(t){var o=t.match(/#([^?]*)(?:\?(.*))?/);if(!o)return{name:"inbox",params:[],hash:"",query:void 0};var u=o[1],n=u.split("/");return{name:decodeURIComponent(n[0]),params:n.slice(1).map(function(s){return s.replace(/\+/g," ")}).map(decodeURIComponent),query:o[2],hash:u}}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],673:[function(e,l,i){"use strict";function a(h,_){return t.apply(this,arguments)}function t(){return t=(0,s.default)(n.default.mark(function h(_,y){var S,v,T,E,I,g;return n.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,(0,d.default)(_,"threadid:"+new f.default(y,16).toString(10));case 2:if(S=k.sent,v=S.threads,T=S._text,(E=v[0])!=null){k.next=12;break}throw console.error("Thread with ID ".concat(y," not found by Gmail")),I=(0,m.default)(_.getAppId()),g=new Error("Thread not found by getSyncThreadForOldGmailThreadId"),_.getLogger().error(g,{oldGmailThreadId:I?y:null,responseText:I?T:null}),g;case 12:return k.abrupt("return",E);case 13:case"end":return k.stop()}},h)})),t.apply(this,arguments)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),f=(e("ud"),u(e("bignumber.js"))),d=u(e("../../../driver-common/getSyncThreadsForSearch")),m=(u(e("../../../driver-common/gmailAjax")),u(e("../../../lib/isStreakAppId")));e("../gmail-sync-response-processor")},{"../../../driver-common/getSyncThreadsForSearch":835,"../../../driver-common/gmailAjax":837,"../../../lib/isStreakAppId":891,"../gmail-sync-response-processor":701,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,"bignumber.js":99,ud:625}],674:[function(e,l,i){"use strict";function a(T,E){return t.apply(this,arguments)}function t(){return t=(0,_.default)(f.default.mark(function T(E,I){var g,k,j,x;return f.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,d.default.all([E.getPageCommunicator().getBtaiHeader(),E.getPageCommunicator().getXsrfToken()]);case 2:return g=A.sent,k=(0,h.default)(g,2),j=k[0],x=k[1],A.abrupt("return",o(I,j,x));case 7:case"end":return A.stop()}},T)})),t.apply(this,arguments)}function o(T,E,I){return u.apply(this,arguments)}function u(){return u=(0,_.default)(f.default.mark(function T(E,I,g){var k,j,x,A,w,C,O;return f.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return k=null,V.prev=1,V.next=4,(0,y.default)({method:"POST",url:"https://mail.google.com/sync".concat((0,v.default)(),"/i/fd"),headers:{"Content-Type":"application/json","X-Framework-Xsrf-Token":g,"X-Gmail-BTAI":I,"X-Google-BTD":"1"},data:(0,m.default)({1:[{1:E,2:1}]})});case 4:j=V.sent,x=j.text,k=x,V.next=16;break;case 9:return V.prev=9,V.t0=V.catch(1),V.next=13,(0,y.default)({method:"POST",url:"https://mail.google.com/sync".concat((0,v.default)(),"/i/fd?rt=r&pt=ji"),headers:{"Content-Type":"application/json","X-Framework-Xsrf-Token":g,"X-Gmail-BTAI":I,"X-Google-BTD":"1"},data:(0,m.default)([[[E,1]],2])});case 13:A=V.sent,w=A.text,k=w;case 16:if(C=(0,S.extractThreadsFromThreadResponse)(k),!(C.length>0)){V.next=21;break}if(O=C[0],!O.oldGmailThreadID){V.next=21;break}return V.abrupt("return",O);case 21:return V.abrupt("return",null);case 22:case"end":return V.stop()}},T,null,[[1,9]])})),u.apply(this,arguments)}var n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=a,i.getThreadFromSyncThreadIdUsingHeaders=o;var f=s(e("@babel/runtime-corejs2/regenerator")),d=s(e("@babel/runtime-corejs2/core-js/promise")),m=s(e("@babel/runtime-corejs2/core-js/json/stringify")),h=s(e("@babel/runtime-corejs2/helpers/slicedToArray")),_=s(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),y=(e("ud"),s(e("../../../driver-common/gmailAjax"))),S=e("../gmail-sync-response-processor"),v=s(e("../../../driver-common/getAccountUrlPart"))},{"../../../driver-common/getAccountUrlPart":831,"../../../driver-common/gmailAjax":837,"../gmail-sync-response-processor":701,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,"@babel/runtime-corejs2/regenerator":59,ud:625}],675:[function(e,l,i){(function(a){(function(){"use strict";function t(_){return o.apply(this,arguments)}function o(){return o=(0,d.default)(s.default.mark(function _(y){var S,v;return s.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return S=y.getPageCommunicator(),T.next=3,S.isConversationViewDisabled();case 3:return v=T.sent,T.next=6,(0,h.waitForNavMenuReady)();case 6:y.getLogger().eventSite("gmailSettings",{isGmailIntegratedView:(0,m.default)(),screenWidth:window.screen&&window.screen.width,screenHeight:window.screen&&window.screen.height,windowWidth:window.innerWidth,windowHeight:window.innerHeight,language:S.getUserLanguage(),isUsingSyncAPI:S.isUsingSyncAPI(),previewPane:S.getUserOriginalPreviewPaneMode(),isConversationViewDisabled:v,wasAccountSwitcherReadyAtStart:y.getEnvData().wasAccountSwitcherReadyAtStart,timings:(0,f.default)({responseStart:a.performance&&a.performance.timing.responseStart,responseEnd:a.performance&&a.performance.timing.responseEnd,domLoading:a.performance&&a.performance.timing.domLoading,domInteractive:a.performance&&a.performance.timing.domInteractive,domComplete:a.performance&&a.performance.timing.domComplete,domContentLoadedEventStart:a.performance&&a.performance.timing.domContentLoadedEventStart,domContentLoadedEventEnd:a.performance&&a.performance.timing.domContentLoadedEventEnd,domainLookupEnd:a.performance&&a.performance.timing.domainLookupEnd,domainLookupStart:a.performance&&a.performance.timing.domainLookupStart,fetchStart:a.performance&&a.performance.timing.fetchStart,loadEventStart:a.performance&&a.performance.timing.loadEventStart,loadEventEnd:a.performance&&a.performance.timing.loadEventEnd,navigationStart:a.performance&&a.performance.timing.navigationStart,requestStart:a.performance&&a.performance.timing.requestStart},y.getTimings())});case 7:case"end":return T.stop()}},_)})),o.apply(this,arguments)}var u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=t;var s=n(e("@babel/runtime-corejs2/regenerator")),f=n(e("@babel/runtime-corejs2/core-js/object/assign")),d=n(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),m=(n(e("../gmail-element-getter")),n(e("./isIntegratedViewGmail"))),h=e("./add-nav-item")}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../gmail-element-getter":696,"./add-nav-item":663,"./isIntegratedViewGmail":677,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59}],676:[function(e,l,i){"use strict";function a(w){if(typeof _!="function")return null;var C=new _,O=new _;return(a=function(V){return V?O:C})(w)}function t(w,C){var O=n(w);if(s){var V=s(w);C&&(V=V.filter(function(R){return f(w,R).enumerable})),O.push.apply(O,V)}return O}function o(w){for(var C=1;C<arguments.length;C++){var O=arguments[C]!=null?arguments[C]:{};C%2?t(Object(O),!0).forEach(function(V){(0,T.default)(w,V,O[V])}):d?m(w,d(O)):t(Object(O)).forEach(function(V){h(w,V,f(O,V))})}return w}var u=e("@babel/runtime-corejs2/helpers/typeof"),n=e("@babel/runtime-corejs2/core-js/object/keys"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),m=e("@babel/runtime-corejs2/core-js/object/define-properties"),h=e("@babel/runtime-corejs2/core-js/object/define-property"),_=e("@babel/runtime-corejs2/core-js/weak-map"),y=e("@babel/runtime-corejs2/helpers/interopRequireDefault");h(i,"__esModule",{value:!0}),i.default=void 0;var S=y(e("@babel/runtime-corejs2/regenerator")),v=y(e("@babel/runtime-corejs2/core-js/parse-int")),T=y(e("@babel/runtime-corejs2/helpers/defineProperty")),E=y(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),I=y(e("lodash/includes")),g=function(w,C){if(!C&&w&&w.__esModule)return w;if(w===null||u(w)!=="object"&&typeof w!="function")return{default:w};var O=a(C);if(O&&O.has(w))return O.get(w);var V={},R=h&&f;for(var P in w)if(P!=="default"&&Object.prototype.hasOwnProperty.call(w,P)){var B=R?f(w,P):null;B&&(B.get||B.set)?h(V,P,B):V[P]=w[P]}return V.default=w,O&&O.set(w,V),V}(e("ud")),k=e("../../../constants/router"),j=e("../../../lib/dom/simulate-mouse-event"),x=(y(e("./get-url-object")),g.defn(l,function(){function w(O,V,R){return C.apply(this,arguments)}var C=(0,E.default)(S.default.mark(function O(V,R,P){var B,z,Q,N,K,U;return S.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(R[0]!=="#"){F.next=4;break}if(!P){F.next=3;break}throw new Error("params parameter can't be passed with resolved URL");case 3:R=R.slice(1);case 4:if(!(0,I.default)(k.NATIVE_ROUTE_IDS,R)){F.next=24;break}if(!V.isUsingSyncAPI()){F.next=15;break}if(!P||typeof P=="string"){F.next=15;break}if(!(B=P.threadID)||typeof B!="string"){F.next=15;break}if(z=(0,v.default)(B,16),isNaN(z)){F.next=15;break}return F.next=13,V.getSyncThreadIdForOldGmailThreadId(B);case 13:Q=F.sent,P=o(o({},P),{},{threadID:"#"+Q});case 15:N=V.createLink(R,P),K=document.createElement("a"),K.style.display="none",K.href=N,document.body.appendChild(K),(0,j.simulateClick)(K),K.remove(),F.next=26;break;case 24:U=V.createLink(R,P),window.location.hash=U;case 26:case"end":return F.stop()}},O)}));return w}())),A=x;i.default=A},{"../../../constants/router":658,"../../../lib/dom/simulate-mouse-event":875,"./get-url-object":672,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,"@babel/runtime-corejs2/regenerator":59,"lodash/includes":493,ud:625}],677:[function(e,l,i){"use strict";function a(){var t,o=document.querySelector("div[role=navigation]");return Boolean(o==null||(t=o.firstElementChild)===null||t===void 0?void 0:t.classList.contains("Xa"))}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],678:[function(e,l,i){"use strict";function a(j){if(typeof s!="function")return null;var x=new s,A=new s;return(a=function(w){return w?A:x})(j)}function t(j){for(var x=[],A=j.split(/[\s+]/g),w=j.match(/[\s+]/g),C=0;C<A.length;C++)x.push('<span class="wh">'+(0,v.default)(o(A[C]))+"</span>"),w&&w[C]&&x.push(u(w[C]));return x.push(" :"),x.join("")}function o(j){switch(j.toLowerCase()){case"shift":return"<Shift>";case"ctrl":return"<Ctrl>";case"alt":return"<Alt>";case"meta":case"command":return"<\u2318>";case"mod":return/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"<\u2318>":"<Ctrl>";default:return j}}function u(j){switch(j){case" ":return'<span class="wb">then</span> ';case"+":return' <span class="wb">+</span> ';default:return""}}var n=e("@babel/runtime-corejs2/helpers/typeof"),s=e("@babel/runtime-corejs2/core-js/weak-map"),f=e("@babel/runtime-corejs2/core-js/object/define-property"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");f(i,"__esModule",{value:!0}),i.default=void 0;var h=m(e("@babel/runtime-corejs2/core-js/set")),_=m(e("@babel/runtime-corejs2/helpers/classCallCheck")),y=m(e("@babel/runtime-corejs2/helpers/createClass")),S=m(e("@babel/runtime-corejs2/helpers/defineProperty")),v=m(e("lodash/escape")),T=(function(j,x){if(!x&&j&&j.__esModule)return j;if(j===null||n(j)!=="object"&&typeof j!="function")return{default:j};var A=a(x);if(A&&A.has(j))return A.get(j);var w={},C=f&&d;for(var O in j)if(O!=="default"&&Object.prototype.hasOwnProperty.call(j,O)){var V=C?d(j,O):null;V&&(V.get||V.set)?f(w,O,V):w[O]=j[O]}w.default=j,A&&A.set(j,w)}(e("kefir")),m(e("kefir-stopper"))),E=m(e("../../../lib/dom/make-element-child-stream")),I=m(e("../../../lib/dom/querySelectorOrFail")),g=m(e("../../../lib/dom/make-mutation-observer-chunked-stream")),k=function(){function j(){(0,_.default)(this,j),(0,S.default)(this,"_appId",void 0),(0,S.default)(this,"_appName",void 0),(0,S.default)(this,"_appIconUrl",void 0),(0,S.default)(this,"_stopper",void 0),(0,S.default)(this,"_shortcuts",void 0),this._appId=null,this._appName=null,this._appIconUrl=null,this._stopper=(0,T.default)(),this._shortcuts=new h.default,this._monitorKeyboardHelp()}return(0,y.default)(j,[{key:"destroy",value:function(){this._stopper.destroy(),this._shortcuts.clear()}},{key:"set",value:function(x,A,w,C){this._initializeAppValues(A,w,C),this._shortcuts.add(x)}},{key:"delete",value:function(x){this._shortcuts.delete(x)}},{key:"_initializeAppValues",value:function(x,A,w){this._appId||(this._appId=x),this._appName||(this._appName=A),this._appIconUrl||(this._appIconUrl=w)}},{key:"_monitorKeyboardHelp",value:function(){var x=this;(0,E.default)(document.body).map(function(A){return A.el}).filter(function(A){return A&&A.classList&&A.classList.contains("wa")}).flatMap(function(A){return(0,g.default)(A,{attributes:!0,attributeFilter:["class"]}).filter(function(){return!A.classList.contains("aou")}).toProperty(function(){return null}).map(function(){return A})}).takeUntilBy(this._stopper).onValue(function(A){return x._renderHelp(A)})}},{key:"_renderHelp",value:function(x){var A=this;if(this._shortcuts.size!==0){var w=(this._shortcuts.keys(),this._renderHeader()),C=this._renderTable(),O=C.querySelectorAll("tbody tbody"),V=0;this._shortcuts.forEach(function(B){A._renderShortcut(O[V%2],B),V++});var R=(0,I.default)(x,".aov"),P=R.parentElement;if(!P)throw new Error("Could not find parent");P.insertBefore(w,R),P.insertBefore(C,R)}}},{key:"_renderHeader",value:function(){var x=document.createElement("div");if(x.setAttribute("class","aov  aox"),x.innerHTML=['<div class="aow">','<span class="inboxsdk__shortcutHelp_title">',(0,v.default)(this._appName||this._appId)+" keyboard shortcuts","</span>","</div>"].join(""),this._appIconUrl){var A=document.createElement("img");this._appIconUrl&&(A.src=this._appIconUrl),A.setAttribute("class","inboxsdk__icon");var w=(0,I.default)(x,".inboxsdk__shortcutHelp_title");w.insertBefore(A,w.firstChild)}return x}},{key:"_renderTable",value:function(){var x=document.createElement("table");return x.setAttribute("cellpadding","0"),x.setAttribute("class","cf wd inboxsdk__shortcutHelp_table"),x.innerHTML=["<tbody>","<tr>",'<td class="Dn">','<table cellpadding="0" class="cf">',"<tbody>","<tr><th>&nbsp;</th><th>&nbsp;</th></tr>","</tbody>","</table>","</td>",'<td class="Dn">','<table cellpadding="0" class="cf">',"<tbody>","<tr><th>&nbsp;</th><th>&nbsp;</th></tr>","</tbody>","</table>","</td>","</tr","</tbody>"].join(""),x}},{key:"_renderShortcut",value:function(x,A){var w=document.createElement("tr");w.innerHTML=['<td class="wg Dn"> ',t(A.chord),"</td>",'<td class="we Dn"> ',(0,v.default)(A.description||""),"</td>"].join(""),x.appendChild(w)}}]),j}();i.default=k},{"../../../lib/dom/make-element-child-stream":860,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/querySelectorOrFail":869,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,"kefir-stopper":326,"lodash/escape":482}],679:[function(e,l,i){"use strict";function a(h){return t.apply(this,arguments)}function t(){return t=(0,s.default)(n.default.mark(function h(_){var y;return n.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,d.default.waitForGmailModeToSettle();case 2:if(!d.default.isStandaloneComposeWindow()&&!d.default.isStandaloneThreadWindow()){S.next=4;break}throw new Error("Can not open new compose while in standalone window");case 4:if(d.default.getComposeButton()){S.next=7;break}return S.next=7,(0,m.default)(function(){return!!d.default.getComposeButton()});case 7:if(y=d.default.getComposeButton()){S.next=10;break}throw new Error("Could not find compose button");case 10:(0,f.simulateClick)(y);case 11:case"end":return S.stop()}},h)})),t.apply(this,arguments)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),f=e("../../../lib/dom/simulate-mouse-event"),d=u(e("../gmail-element-getter")),m=u(e("../../../lib/wait-for"))},{"../../../lib/dom/simulate-mouse-event":875,"../../../lib/wait-for":905,"../gmail-element-getter":696,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59}],680:[function(e,l,i){"use strict";function a(v,T){return t.apply(this,arguments)}function t(){return t=(0,m.default)(f.default.mark(function v(T,E){var I,g,k,j,x,A,w;return f.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!T.isUsingSyncAPI()){C.next=18;break}return C.next=3,(0,S.default)(T,E);case 3:return g=C.sent,C.next=6,(0,_.default)(T,"rfc822msgid:"+g);case 6:if(k=C.sent,j=k.threads,j.length!==0){C.next=10;break}throw new Error("Failed to get sync message id");case 10:if(x=j[0],A=x.extraMetaData.syncMessageData.find(function(O){return O.oldMessageID===E})){C.next=14;break}throw new Error("Failed to find syncMessageData");case 14:w=A.syncMessageID,I=u(window.location.hash,x.syncThreadID,w),C.next=19;break;case 18:I=o(window.location.hash,E);case 19:window.location.hash=I;case 20:case"end":return C.stop()}},v)})),t.apply(this,arguments)}function o(v,T){v="#"+v.replace(/^#/,"");var E=v.split("?"),I=(0,d.default)(E,2),g=I[0],k=I[1],j=h.default.parse(k);return j.compose?j.compose+=","+T:j.compose=T,g+"?"+h.default.stringify(j)}function u(v,T,E){v="#"+v.replace(/^#/,"");var I=v.split("?"),g=(0,d.default)(I,2),k=g[0],j=g[1],x=h.default.parse(j);return x.compose=(0,y.default)(T,E),k+"?"+h.default.stringify(x)}var n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=a,i.makeNewHash=o,i.makeNewSyncHash=u;var f=s(e("@babel/runtime-corejs2/regenerator")),d=s(e("@babel/runtime-corejs2/helpers/slicedToArray")),m=s(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),h=s(e("querystring")),_=s(e("../../../driver-common/getSyncThreadsForSearch")),y=s(e("./encodeDraftUrlId")),S=s(e("./get-rfc-message-id-for-gmail-message-id"))},{"../../../driver-common/getSyncThreadsForSearch":835,"./encodeDraftUrlId":667,"./get-rfc-message-id-for-gmail-message-id":670,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,"@babel/runtime-corejs2/regenerator":59,querystring:579}],681:[function(e,l,i){"use strict";function a(h,_){f.default.waitForGmailModeToSettle().then(function(){f.default.isStandalone()||t(h,_)})}function t(h,_){h.getRouteViewDriverStream().scan(function(y,S){var v,T;return y&&y.gmailRouteView&&y.gmailRouteView.isCustomRouteBelongingToApp()&&(v=y.gmailRouteView.getRouteID(),T=y.gmailRouteView.getParams()),{gmailRouteView:S,lastCustomRouteID:v,lastCustomRouteParams:T}},void 0).changes().onValue(function(y){var S=y.gmailRouteView,v=y.lastCustomRouteID,T=y.lastCustomRouteParams;m(S,v,T,h,_)})}function o(h,_){var y=f.default.getThreadBackButton();y&&(0,d.default)(y).takeUntilBy(_.getStopper()).filter(function(S){return!S.defaultPrevented}).onValue(function(S){window.history.back(),S.preventDefault(),S.stopImmediatePropagation()})}var u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=a;var s=(n(e("kefir")),e("ud")),f=n(e("../gmail-element-getter")),d=n(e("../../../lib/dom/on-mouse-down-and-up")),m=(0,s.defn)(l,function(h,_,y,S,v){_&&h.getRouteType()===v.RouteTypes.THREAD&&o(S,h)})},{"../../../lib/dom/on-mouse-down-and-up":865,"../gmail-element-getter":696,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,ud:625}],682:[function(e,l,i){"use strict";function a(n,s){n.createCustomSearchTerm(s.term),n.ajaxInterceptStream.filter(function(f){return f.type==="searchQueryForReplacement"&&f.term===s.term}).onValue(function(f){u.default.resolve(s.termReplacer({})).then(function(d){if(typeof d!="string")throw new Error("termReplacer response must be a string");var m="("+d+")",h=f.query.replace(s.term,function(){return m});n.setSearchQueryReplacement(f.query,h)})})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/promise"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],683:[function(e,l,i){"use strict";function a(C,O){var V=u(C);if(n){var R=n(C);O&&(R=R.filter(function(P){return s(C,P).enumerable})),V.push.apply(V,R)}return V}function t(C){for(var O=1;O<arguments.length;O++){var V=arguments[O]!=null?arguments[O]:{};O%2?a(Object(V),!0).forEach(function(R){(0,y.default)(C,R,V[R])}):f?d(C,f(V)):a(Object(V)).forEach(function(R){m(C,R,s(V,R))})}return C}function o(C,O){var V="inboxsdk__suggestions_"+(""+(0,S.default)()+Math.random()).replace(/\D+/g,""),R=C.getPageCommunicator();R.registerSuggestionsModifier(V);var P=R.ajaxInterceptStream.filter(function(Z){return Z.type==="suggestionsRequest"}).flatMapLatest(function(Z){var $=Z.query;return g.default.fromPromise(v.default.resolve(O($))).flatMap(function(ne){try{var H=(0,w.default)(C,ne),X=H.map(function(oe){return t(t({},oe),{},{providerId:V,id:"".concat((0,S.default)(),"-").concat(Math.random())})});return g.default.constant(X)}catch(oe){return g.default.constantError(oe)}}).mapErrors(function(ne){return C.getLogger().error(ne),[]}).map(function(ne){return{query:$,suggestions:ne}})}).onValue(function(Z){R.provideAutocompleteSuggestions(V,Z.query,Z.suggestions)}).map(function(Z){return Z.suggestions}),B=C.getRouteViewDriverStream().toProperty(function(){return null}).map(function(){return A.default.getSearchInput()}).filter(Boolean).take(1),z=B.flatMapLatest(function(Z){return g.default.fromEvents(Z,"focus")}).map(function(){return A.default.getSearchSuggestionsBoxParent()}).filter(Boolean).flatMapLatest(j.default).map(function(Z){return Z.el.firstElementChild}).take(1).toProperty(),Q=z.flatMap(function(Z){return(0,x.default)(Z,{childList:!0}).toProperty(function(){return null})}).map(function(){return null}),N=B.flatMap(function(Z){return(0,k.default)(document,"keydown").filter(function($){return $.keyCode==13&&$.target===Z})}),K=z.sampledBy(Q).map(function(Z){return(0,T.default)(Z.children).filter(function($){return $.getElementsByClassName(V).length>0})});K.onValue(function(Z){if(Z[0]&&Z[0].previousElementSibling){var $=Z[0].previousElementSibling.firstElementChild;$&&$.classList.add("inboxsdk__suggestions_separator_before");var ne=Z[0].firstElementChild;ne&&ne.classList.add("inboxsdk__suggestions_separator_after")}});var U=K.flatMapLatest(function(Z){return g.default.merge(Z.map(function($){return g.default.merge([(0,k.default)($,"click"),N.filter(function(){return $.classList.contains("gssb_i")})]).map(function(ne){return{event:ne,row:$}})}))}),F=g.default.merge([P,B.flatMapLatest(function(Z){return g.default.fromEvents(Z,"blur")}).map(function(){return[]})]).toProperty();g.default.combine([U,B],[F]).onValue(function(Z){var $=Z,ne=(0,_.default)($,3),H=ne[0],X=H.event,oe=H.row,Y=ne[1],se=ne[2],ie=oe.querySelector("span[data-inboxsdk-suggestion]"),L=ie?JSON.parse(ie.getAttribute("data-inboxsdk-suggestion")||"null"):null,G=(0,E.default)(function(){X.stopImmediatePropagation(),X.preventDefault(),Y.blur(),Y.value=""});if(L){var le=L.id,pe=(0,I.default)(se,function(we){return we.id===le});pe||C.getLogger().error(new Error("Failed to find suggestion by id")),pe&&pe.onClick&&(G(),pe.onClick.call(null))}L&&L.routeName?(G(),C.goto(L.routeName,L.routeParams)):L&&L.externalURL&&(G(),window.open(L.externalURL))})}var u=e("@babel/runtime-corejs2/core-js/object/keys"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),d=e("@babel/runtime-corejs2/core-js/object/define-properties"),m=e("@babel/runtime-corejs2/core-js/object/define-property"),h=e("@babel/runtime-corejs2/helpers/interopRequireDefault");m(i,"__esModule",{value:!0}),i.default=o;var _=h(e("@babel/runtime-corejs2/helpers/slicedToArray")),y=h(e("@babel/runtime-corejs2/helpers/defineProperty")),S=h(e("@babel/runtime-corejs2/core-js/date/now")),v=h(e("@babel/runtime-corejs2/core-js/promise")),T=h(e("@babel/runtime-corejs2/core-js/array/from")),E=h(e("lodash/once")),I=h(e("lodash/find")),g=h(e("kefir")),k=h(e("../../../lib/from-event-target-capture")),j=(e("../../../lib/dom/simulate-mouse-event"),h(e("../../../lib/dom/make-element-child-stream"))),x=h(e("../../../lib/dom/make-mutation-observer-chunked-stream")),A=h(e("../gmail-element-getter")),w=h(e("../../../lib/copyAndValidateAutocompleteResults"))},{"../../../lib/copyAndValidateAutocompleteResults":849,"../../../lib/dom/make-element-child-stream":860,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/simulate-mouse-event":875,"../../../lib/from-event-target-capture":879,"../gmail-element-getter":696,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,kefir:327,"lodash/find":484,"lodash/once":516}],684:[function(e,l,i){"use strict";function a(g,k,j){return I.flatMapLatest(function(x){return x(g,k,j)})}function t(g,k,j){return m.default.fromPromise(T.default.waitForGmailModeToSettle()).flatMap(function(){var x,A=!1;return T.default.isStandaloneComposeWindow()?(x=u(),A=!0):x=T.default.isStandaloneThreadWindow()?m.default.never():o(),x.map((0,S.default)(function(w){return new E.default(w,j,g,{isStandalone:A,isInlineReplyForm:!1})}))}).merge(k.flatMap(function(x){return x.getReplyElementStream().map((0,S.default)(function(A){return new E.default(A,j,g,{isStandalone:!1,isInlineReplyForm:!0})}))})).flatMap(function(x){return x.ready()})}function o(){return n(function(){return T.default.getComposeWindowContainer()}).flatMap(function(g){var k=g.el.querySelector("div.AD");return k?(0,y.default)(k).takeUntilBy(g.removalStream).map(s("composeFullscreenStateChanged")):m.default.never()}).merge(T.default.getFullscreenComposeWindowContainerStream().flatMap(function(g){var k=g.el,j=g.removalStream;return(0,y.default)(k).takeUntilBy(j)}).map(s("composeFullscreenStateChanged")).map(function(g){var k=g.el,j=g.removalStream,x=k.querySelector("[role=dialog] div.aaZ");if(!x)return null;var A=(0,_.default)(x,{childList:!0}).filter(function(){return x.childElementCount===0}).map(function(){return null});return{el:k,removalStream:j.merge(A).take(1)}}).filter(Boolean)).flatMap(function(g){if(!g)throw new Error("Should not happen");var k=g.el.querySelector("[role=dialog]");return k&&k.querySelector("form")?m.default.constant({el:k,removalStream:g.removalStream}):m.default.never()}).flatMap((0,v.default)())}function u(){return n(function(){return T.default.StandaloneCompose.getComposeWindowContainer()})}function n(g){return m.default.interval(2e3).map(g).filter().take(1).flatMap(function(k){return(0,y.default)(k)})}function s(g){return function(k){var j=k&&k.el&&k.el.querySelector&&k.el.querySelector("[role=dialog]");return j&&j.dispatchEvent(new CustomEvent(g,{bubbles:!1,cancelable:!1,detail:null})),k}}var f=e("@babel/runtime-corejs2/core-js/object/define-property"),d=e("@babel/runtime-corejs2/helpers/interopRequireDefault");f(i,"__esModule",{value:!0}),i.default=a;var m=d(e("kefir")),h=d(e("ud-kefir")),_=(d(e("../../../lib/stream-wait-for")),d(e("../../../lib/dom/make-mutation-observer-chunked-stream"))),y=d(e("../../../lib/dom/make-element-child-stream")),S=d(e("../../../lib/dom/element-view-mapper")),v=d(e("../../../lib/dom/make-element-stream-merger")),T=d(e("../gmail-element-getter")),E=d(e("../views/gmail-compose-view")),I=(d(e("../../../lib/logger")),(0,h.default)(l,t))},{"../../../lib/dom/element-view-mapper":853,"../../../lib/dom/make-element-child-stream":860,"../../../lib/dom/make-element-stream-merger":861,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/logger":892,"../../../lib/stream-wait-for":902,"../gmail-element-getter":696,"../views/gmail-compose-view":717,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"ud-kefir":624}],685:[function(e,l,i){"use strict";function a(P,B){var z=_(P);if(y){var Q=y(P);B&&(Q=Q.filter(function(N){return S(P,N).enumerable})),z.push.apply(z,Q)}return z}function t(P){for(var B=1;B<arguments.length;B++){var z=arguments[B]!=null?arguments[B]:{};B%2?a(Object(z),!0).forEach(function(Q){(0,j.default)(P,Q,z[Q])}):v?T(P,v(z)):a(Object(z)).forEach(function(Q){E(P,Q,S(z,Q))})}return P}function o(P,B){var z=d!==void 0&&P[m]||P["@@iterator"];if(!z){if(h(P)||(z=u(P))||B&&P&&typeof P.length=="number"){z&&(P=z);var Q=0,N=function(){};return{s:N,n:function(){return Q>=P.length?{done:!0}:{done:!1,value:P[Q++]}},e:function(Z){throw Z},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var K,U=!0,F=!1;return{s:function(){z=z.call(P)},n:function(){var Z=z.next();return U=Z.done,Z},e:function(Z){F=!0,K=Z},f:function(){try{U||z.return==null||z.return()}finally{if(F)throw K}}}}function u(P,B){if(P){if(typeof P=="string")return n(P,B);var z=Object.prototype.toString.call(P).slice(8,-1);return z==="Object"&&P.constructor&&(z=P.constructor.name),z==="Map"||z==="Set"?f(P):z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z)?n(P,B):void 0}}function n(P,B){(B==null||B>P.length)&&(B=P.length);for(var z=0,Q=new Array(B);z<B;z++)Q[z]=P[z];return Q}function s(P,B){var z=B.getCustomRouteIDs(),Q=B.getCustomListRouteIDs(),N=B.getCustomListSearchStringsToRouteIds(),K=(0,V.default)(document.location.href).hash,U=null;B.getStopper().onValue(function(){U&&U.destroy()});var F=K,Z={},$=A.default.fromEvents(window,"hashchange").filter(function(X){return!X.oldURL.match(/#inboxsdk-fake-no-vc$/)}).map(function(X){return{new:(0,V.default)(X.newURL),old:(0,V.default)(X.oldURL)}}).filter(function(X){return X.new.hash!==X.old.hash}).map(function(X){return X.new}).map(function(X){var oe,Y=X.hash,se=X.name,ie=o(z);try{for(ie.s();!(oe=ie.n()).done;){var L=oe.value,G=(0,R.default)(L,Y);if(G)return{urlObject:X,type:"CUSTOM",routeID:G}}}catch(te){ie.e(te)}finally{ie.f()}var le,pe=o(Q);try{for(pe.s();!(le=pe.n()).done;){var we=(0,x.default)(le.value,1),ye=we[0],W=(0,R.default)(ye,se);if(W)return{urlObject:X,type:"CUSTOM_LIST_TRIGGER",routeID:W}}}catch(te){pe.e(te)}finally{pe.f()}return P.isNativeRoute(X.name)?{urlObject:X,type:"NATIVE"}:{urlObject:X,type:"OTHER_APP_CUSTOM"}}),ne=$.filter(function(X){return X.type!=="NATIVE"}),H=$.filter(function(X){return X.type==="NATIVE"}).filter(function(X){var oe=X.urlObject,Y=K;return K=oe.hash,Y===oe.hash}).filter(function(X){return X.urlObject.hash!==F});return A.default.merge([ne,H,C.default.getMainContentElementChangedStream().map(function(X){return{urlObject:(0,V.default)(document.location.href),type:"NATIVE"}}).filter(function(X){return P.isNativeRoute(X.urlObject.name)})]).map(function(X){var oe=X.type,Y=X.urlObject;if(oe==="NATIVE"&&Y.name==="search"){var se=N.get(Y.params[0]);if(se){var ie=C.default.getSearchInput();if(!ie)throw new Error("Should not happen");if(ie.value="",Y.params.length===1||Y.params.length===2&&Y.params[1][0]==="p")return B.hashChangeNoViewChange("#"+se+(Y.params[1]?"/"+Y.params[1]:"")),{type:"CUSTOM_LIST",urlObject:Y,routeID:se}}}return X}).map(function(X){var oe=X.urlObject;return Z[oe.hash]||(Z[oe.hash]={data:{}}),Z[oe.hash].lastUsedTimestamp=(0,g.default)(),(0,k.default)(Z).length>50&&(Z=(0,k.default)(Z).sort(function(Y,se){return Z[se].lastUsedTimestamp-Z[Y].lastUsedTimestamp}).slice(0,25).reduce(function(Y,se){return t(t({},Y),{},(0,j.default)({},se,Z[se]))},{})),t(t({},X),{},{cachedRouteData:Z[oe.hash].data})}).map(function(X){if(X.type==="NATIVE"||X.type==="CUSTOM_LIST")B.showNativeRouteView();else if(X.type==="CUSTOM_LIST_TRIGGER")return void B.showCustomThreadList(X.routeID,(0,w.default)(Q,X.routeID),X.urlObject.params);return new O.default(X,P,B)}).filter(Boolean).map(function(X){return U&&U.destroy(),U=X,F=(0,V.default)(document.location.href).hash,X})}var f=e("@babel/runtime-corejs2/core-js/array/from"),d=e("@babel/runtime-corejs2/core-js/symbol"),m=e("@babel/runtime-corejs2/core-js/symbol/iterator"),h=e("@babel/runtime-corejs2/core-js/array/is-array"),_=e("@babel/runtime-corejs2/core-js/object/keys"),y=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),S=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),v=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),T=e("@babel/runtime-corejs2/core-js/object/define-properties"),E=e("@babel/runtime-corejs2/core-js/object/define-property"),I=e("@babel/runtime-corejs2/helpers/interopRequireDefault");E(i,"__esModule",{value:!0}),i.default=s;var g=I(e("@babel/runtime-corejs2/core-js/date/now")),k=I(e("@babel/runtime-corejs2/core-js/object/keys")),j=I(e("@babel/runtime-corejs2/helpers/defineProperty")),x=I(e("@babel/runtime-corejs2/helpers/slicedToArray")),A=I(e("kefir")),w=I(e("../../../../common/get-or-fail")),C=I(e("../gmail-element-getter")),O=I(e("../views/gmail-route-view/gmail-route-view")),V=I(e("./get-url-object")),R=I(e("../../../lib/routeIDmatchesHash"))},{"../../../../common/get-or-fail":642,"../../../lib/routeIDmatchesHash":898,"../gmail-element-getter":696,"../views/gmail-route-view/gmail-route-view":752,"./get-url-object":672,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,kefir:327}],686:[function(e,l,i){"use strict";function a(s){var f=document.createElement("div");f.className="inboxsdk__appid_warning",f.innerHTML=`
<div class="inboxsdk__appid_warning_main">
  <div class="topline">InboxSDK Developer Warning: Invalid AppId</div>
  <div>You've loaded the InboxSDK with an unregistered appId. Registration is free but necessary to load the SDK.</div>
</div>
<a class="inboxsdk__appid_register" target="_blank" href="https://www.inboxsdk.com/register">Register Your App</a>
<input type="button" value="" title="Close" class="inboxsdk__x_close_button" />
`;var d=s.createTopMessageBarDriver((0,n.default)(u.default,{el:f})),m=f.querySelector(".inboxsdk__x_close_button");if(!m)throw new Error("Should not happen");m.addEventListener("click",function(h){d.remove()})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("kefir")),n=o(e("kefir-cast"));o(e("../../../lib/fake-window-resize"))},{"../../../lib/fake-window-resize":878,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-cast":325}],687:[function(e,l,i){"use strict";function a(m){var h=m.querySelector(".inboxsdk__custom_view");return h||(h=document.createElement("div"),h.classList.add("inboxsdk__custom_view"),m.appendChild(h),h)}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=e("ud"),n=o(e("../gmail-element-getter")),s=e("../../../lib/dom/simulate-mouse-event"),f=(0,u.defn)(l,function(m,h){var _=n.default.getContentSectionElement();if(_){for(var y=document.getSelection(),S=0;S<y.rangeCount;S++){var v=y.getRangeAt(S);if(typeof v.intersectsNode=="function"&&v.intersectsNode(_)){y.removeAllRanges();break}}a(_).appendChild(h);var T=_.children;Array.prototype.forEach.call(T,function(g){g.classList.contains("inboxsdk__custom_view")||(g.style.display="none")});var E=n.default.getCompanionSidebarIconContainerElement();if(E){var I=E.querySelector(".J-KU-KO");I&&(0,s.simulateClick)(I)}document.body.classList.add("inboxsdk__custom_view_active")}}),d=f;i.default=d},{"../../../lib/dom/simulate-mouse-event":875,"../gmail-element-getter":696,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,ud:625}],688:[function(e,l,i){"use strict";function a(H){if(typeof k!="function")return null;var X=new k,oe=new k;return(a=function(Y){return Y?oe:X})(H)}function t(H,X){if(!X&&H&&H.__esModule)return H;if(H===null||y(H)!=="object"&&typeof H!="function")return{default:H};var oe=a(X);if(oe&&oe.has(H))return oe.get(H);var Y={},se=g&&T;for(var ie in H)if(ie!=="default"&&Object.prototype.hasOwnProperty.call(H,ie)){var L=se?T(H,ie):null;L&&(L.get||L.set)?g(Y,ie,L):Y[ie]=H[ie]}return Y.default=H,oe&&oe.set(H,Y),Y}function o(H,X){var oe=S(H);if(v){var Y=v(H);X&&(Y=Y.filter(function(se){return T(H,se).enumerable})),oe.push.apply(oe,Y)}return oe}function u(H){for(var X=1;X<arguments.length;X++){var oe=arguments[X]!=null?arguments[X]:{};X%2?o(Object(oe),!0).forEach(function(Y){(0,w.default)(H,Y,oe[Y])}):E?I(H,E(oe)):o(Object(oe)).forEach(function(Y){g(H,Y,T(oe,Y))})}return H}function n(H,X){return H.length>$&&X.error(new Error("Received more than the maximum number of threads specified by handler, ignoring additional threads (https://www.inboxsdk.com/docs/#Router).")),H.slice(0,$)}function s(H,X){return console.log("Failed to find id for thread",H,X),null}function f(H,X,oe){if((0,R.default)(oe)){H.deprecationWarning("Returning an array from a handleCustomListRoute handler","a CustomListDescriptor object");var Y=n(oe,H);return{total:Y.length,threads:Y}}if((0,O.default)(oe)==="object"){var se=oe.total,ie=oe.hasMore,L=oe.threads;if(!(0,R.default)(L))throw new Error('handleCustomListRoute result must contain a "threads" array (https://www.inboxsdk.com/docs/#Router).');if(se!=null&&ie!=null)throw new Error('handleCustomListRoute result must only contain either a "total" or a "hasMore" property, but not both. (https://www.inboxsdk.com/docs/#Router).');if(typeof se=="number")return{total:se,threads:n(L,H)};if(typeof ie=="boolean"){var G=n(L,H);return{total:ie?"MANY":X+L.length,threads:G}}throw new Error('handleCustomListRoute result must contain either a "total" number or a "hasMore" boolean (https://www.inboxsdk.com/docs/#Router).')}throw new Error("handleCustomListRoute result must be an array or an object (https://www.inboxsdk.com/docs/#Router).")}function d(H){if(typeof H=="string")return H[0]=="<"?{rfcId:H}:{gtid:H};if(H){var X={gtid:typeof H.gmailThreadId=="string"&&H.gmailThreadId,rfcId:typeof H.rfcMessageId=="string"&&H.rfcMessageId};if(X.gtid||X.rfcId)return X}}function m(H,X,oe){if(typeof X.rfcId=="string")return P.default.resolve(X);if(typeof X.gtid=="string"){var Y=X.gtid;return H.getRfcMessageIdForGmailThreadId(Y).then(function(se){return{gtid:Y,rfcId:se}},function(se){return oe(Y,se)})}throw new Error("Should not happen")}function h(H,X,oe){return typeof X.gtid=="string"?P.default.resolve(X):H.getGmailThreadIdForRfcMessageId(X.rfcId).then(function(Y){return{gtid:Y,rfcId:X.rfcId}},function(Y){return oe(X.rfcId,Y)})}function _(H,X,oe,Y){var se=arguments.length>4&&arguments[4]!==void 0?arguments[4]:s,ie=ne(H,X,oe,se),L=document.location.hash,G=Q.default.getMainContentElementChangedStream().changes().take(1),le=Q.default.getSearchInput();if(!le)throw new Error("could not find search input");le.value="",le.style.visibility="hidden",G.onValue(function(){le.style.visibility="visible"});var pe="#search/"+[ie].concat((0,A.default)(Y)).map(encodeURIComponent).join("/");window.history.replaceState(null,null,pe);var we=new window.HashChangeEvent("hashchange",{oldURL:document.location.href.replace(/#.*$/,"")+L,newURL:document.location.href.replace(/#.*$/,"")+pe});window.dispatchEvent(we)}var y=e("@babel/runtime-corejs2/helpers/typeof"),S=e("@babel/runtime-corejs2/core-js/object/keys"),v=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),T=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),E=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),I=e("@babel/runtime-corejs2/core-js/object/define-properties"),g=e("@babel/runtime-corejs2/core-js/object/define-property"),k=e("@babel/runtime-corejs2/core-js/weak-map"),j=e("@babel/runtime-corejs2/helpers/interopRequireDefault");g(i,"__esModule",{value:!0}),i.default=_;var x=j(e("@babel/runtime-corejs2/regenerator")),A=j(e("@babel/runtime-corejs2/helpers/toConsumableArray")),w=j(e("@babel/runtime-corejs2/helpers/defineProperty")),C=j(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),O=j(e("@babel/runtime-corejs2/helpers/typeof")),V=j(e("@babel/runtime-corejs2/core-js/map")),R=j(e("@babel/runtime-corejs2/core-js/array/is-array")),P=j(e("@babel/runtime-corejs2/core-js/promise")),B=j(e("@babel/runtime-corejs2/core-js/date/now")),z=j(e("lodash/find")),Q=(j(e("kefir")),j(e("../gmail-element-getter"))),N=t(e("../gmail-response-processor")),K=t(e("../gmail-sync-response-processor")),U=j(e("../../../lib/isStreakAppId")),F=j(e("immutability-helper")),Z=new V.default,$=50,ne=function(H,X,oe,Y){var se=Z.get(oe);if(se)return se;var ie=(0,B.default)()+"-"+Math.random();return H.getPageCommunicator().setupCustomListResultsQuery(ie),H.getPageCommunicator().ajaxInterceptStream.filter(function(L){return L.type==="searchForReplacement"&&L.query===ie}).onValue(function(L){var G=L.start;(0,C.default)(x.default.mark(function le(){var pe,we,ye,W,te,ce,je,be,Ne,He,Qe,Be,Je,_t,pt,Et,It,Qt,jt;return x.default.wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return H.signalCustomThreadListActivity(X),Pt.prev=1,Pt.next=4,P.default.resolve(oe(G,$));case 4:ye=Pt.sent,W=f(H.getLogger(),G,ye),pe=W.total,we=W.threads,Pt.next=15;break;case 10:Pt.prev=10,Pt.t0=Pt.catch(1),H.getLogger().error(Pt.t0),pe=0,we=[];case 15:return te=we.map(d).filter(Boolean),Pt.next=18,P.default.all(te.map(function(At){return m(H,At,Y)}));case 18:return ce=Pt.sent.filter(Boolean),je=ce.length>0?ce.map(function(At){return"rfc822msgid:"+At.rfcId}).join(" OR "):""+Math.random()+(0,B.default)(),H.getPageCommunicator().setCustomListNewQuery({newQuery:je,newStart:0,query:ie,start:G}),be=H.getPageCommunicator().ajaxInterceptStream.filter(function(At){return At.type==="searchResultsResponse"&&At.query===ie&&At.start===G}).map(function(At){return At.response}).take(1).toPromise(),Pt.next=24,P.default.all(ce.map(function(At){return h(H,At,Y)}));case 24:return Ne=Pt.sent.filter(Boolean),Pt.next=27,be;case 27:He=Pt.sent,H.signalCustomThreadListActivity(X),Pt.prev=29,H.isUsingSyncAPI()?(Be=K.extractThreadsFromSearchResponse(He),Je=Ne.map(function(At){var Ce=At.gtid;return(0,z.default)(Be,function(Oe){return Oe.oldGmailThreadID===Ce})}).filter(Boolean),_t=Be.length!==Je.length||Be.some(function(At,Ce){return At!==Je[Ce]}),_t?(Et=(0,B.default)(),pt=Je.map(function(At,Ce){var Oe=(0,R.default)(At.rawResponse),at=String(Et-Ce),bt=(0,F.default)(At,{rawResponse:Oe?{0:{2:{$set:at},7:{$set:at}}}:{1:{3:{$set:at},8:{$set:at}}}});return(Oe?At.rawResponse[0][4]:At.rawResponse[1][5])&&(bt=(0,F.default)(bt,{rawResponse:Oe?{0:{4:function(Gt){return Gt.map(function(Vt){return u(u({},Vt),{},{6:at,17:at,30:at})})}}}:{1:{5:function(Gt){return Gt.map(function(Vt){return u(u({},Vt),{},{7:at,18:at,31:at})})}}}})),bt})):pt=Be,Qe=K.replaceThreadsInSearchResponse(He,pt,{start:G,total:pe})):(It=N.extractThreads(He),Qt=Ne.map(function(At){var Ce=At.gtid;return(0,z.default)(It,function(Oe){return Oe.gmailThreadId===Ce})}).filter(Boolean),Qe=N.replaceThreadsInResponse(He,Qt,{start:G,total:pe})),H.getPageCommunicator().setCustomListResults(ie,Qe),Pt.next=41;break;case 34:Pt.prev=34,Pt.t1=Pt.catch(29),H.getLogger().error(Pt.t1,{responseReplacementFailure:!0,idPairsLength:Ne.length}),jt=H.getButterBar(),jt&&jt.showError({text:"Failed to load custom thread list"});try{H.isUsingSyncAPI()?H.getPageCommunicator().setCustomListResults(ie,K.replaceThreadsInSearchResponse(He,[],{start:G,total:pe})):H.getPageCommunicator().setCustomListResults(ie,N.replaceThreadsInResponse(He,[],{start:G,total:pe}))}catch(At){H.getLogger().error(At),H.getPageCommunicator().setCustomListResults(ie,null)}return Pt.abrupt("return");case 41:setTimeout(function(){var At=document.querySelector(".vY .vX.UC");if(At&&At.style.display!=="none"&&/#\d+/.test(At.textContent)){var Ce=(0,U.default)(H.getAppId());H.getLogger().error(new Error("Gmail error with custom thread list"),{message:At.textContent,completedIDPairsLength:Ne.length,response:Ce?He:null,newResponse:Ce?Qe:null})}},1e3);case 42:case"end":return Pt.stop()}},le,null,[[1,10],[29,34]])}))().catch(function(le){return H.getLogger().error(le)})}),H.getCustomListSearchStringsToRouteIds().set(ie,X),Z.set(oe,ie),ie}},{"../../../lib/isStreakAppId":891,"../gmail-element-getter":696,"../gmail-response-processor":700,"../gmail-sync-response-processor":701,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/toConsumableArray":56,"@babel/runtime-corejs2/helpers/typeof":57,"@babel/runtime-corejs2/regenerator":59,"immutability-helper":317,kefir:327,"lodash/find":484}],689:[function(e,l,i){"use strict";function a(s){var f=u.default.getContentSectionElement();f&&(Array.prototype.forEach.call(f.children,function(d){d.style.display=""}),document.body.classList.contains("inboxsdk__custom_view_active")&&(document.body.classList.remove("inboxsdk__custom_view_active"),(0,n.default)()))}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("../gmail-element-getter")),n=o(e("../../../lib/fake-window-resize"))},{"../../../lib/fake-window-resize":878,"../gmail-element-getter":696,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],690:[function(e,l,i){"use strict";function a(d,m){(0,s.default)(function(){return f.default.getCompanionSidebarIconContainerElement()}).map(function(h){var _=h.querySelector(".J-KU-Jg, [role=tablist], .brC-bsf-aT5-aOt");return _||(d.getLogger().error(new Error("_waitForAddonTitleAndSuppress: elementToWatch not found")),null)}).filter().flatMap(n.default).filter(function(h){var _=h.el;return _.getAttribute("role")==="tab"&&(_.getAttribute("data-tooltip")||_.getAttribute("aria-label"))===m}).takeUntilBy(d.getStopper()).onValue(function(h){var _=h.el;(_.classList.contains("J-KU-KO")||_.classList.contains("bse-bvF-I-KO")||_.classList.contains("aT5-aOt-I-KO"))&&(0,u.simulateClick)(_),_.style.display="none"}).onError(function(h){d.getLogger().error(h,"error in suppressAddon")})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=e("../../../lib/dom/simulate-mouse-event"),n=o(e("../../../lib/dom/make-element-child-stream")),s=o(e("../../../lib/stream-wait-for")),f=o(e("../gmail-element-getter"))},{"../../../lib/dom/make-element-child-stream":860,"../../../lib/dom/simulate-mouse-event":875,"../../../lib/stream-wait-for":902,"../gmail-element-getter":696,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],691:[function(e,l,i){(function(a){(function(){"use strict";function t(d){d.getAppId()==="sdk_streak_21e9788951"&&a.fetch&&!f&&(f=!0,d.getAttachmentCardViewDriverStream().filter(function(m){return m.getAttachmentType()==="FILE"}).filter(function(){return Math.random()<.01}).onValue(function(){var m=(0,s.default)(n.default.mark(function h(_){var y,S;return n.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return y=_._getDownloadLink(),v.prev=1,v.next=4,_.getDownloadURL();case 4:S=v.sent,v.next=11;break;case 7:return v.prev=7,v.t0=v.catch(1),d.getLogger().error(v.t0,{reason:"problem getting download url",downloadLinkBefore:y,downloadLinkAfter:_._getDownloadLink()}),v.abrupt("return");case 11:if(S){v.next=14;break}return d.getLogger().error(new Error("no download url found"),{downloadLinkBefore:y,downloadLinkAfter:_._getDownloadLink()}),v.abrupt("return");case 14:d.getLogger().eventSdkPassive("testing.getDownloadURL success");case 15:case"end":return v.stop()}},h,null,[[1,7]])}));return function(h){return m.apply(this,arguments)}}()))}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=t;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),f=!1}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59}],692:[function(e,l,i){"use strict";function a(j,x){var A=n!==void 0&&j[s]||j["@@iterator"];if(!A){if(f(j)||(A=t(j))||x&&j&&typeof j.length=="number"){A&&(j=A);var w=0,C=function(){};return{s:C,n:function(){return w>=j.length?{done:!0}:{done:!1,value:j[w++]}},e:function(P){throw P},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,V=!0,R=!1;return{s:function(){A=A.call(j)},n:function(){var P=A.next();return V=P.done,P},e:function(P){R=!0,O=P},f:function(){try{V||A.return==null||A.return()}finally{if(R)throw O}}}}function t(j,x){if(j){if(typeof j=="string")return o(j,x);var A=Object.prototype.toString.call(j).slice(8,-1);return A==="Object"&&j.constructor&&(A=j.constructor.name),A==="Map"||A==="Set"?u(j):A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?o(j,x):void 0}}function o(j,x){(x==null||x>j.length)&&(x=j.length);for(var A=0,w=new Array(x);A<x;A++)w[A]=j[A];return w}var u=e("@babel/runtime-corejs2/core-js/array/from"),n=e("@babel/runtime-corejs2/core-js/symbol"),s=e("@babel/runtime-corejs2/core-js/symbol/iterator"),f=e("@babel/runtime-corejs2/core-js/array/is-array"),d=e("@babel/runtime-corejs2/core-js/object/define-property"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");d(i,"__esModule",{value:!0}),i.default=void 0;var h=m(e("@babel/runtime-corejs2/regenerator")),_=m(e("@babel/runtime-corejs2/core-js/set")),y=m(e("@babel/runtime-corejs2/core-js/promise")),S=m(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),v=m(e("@babel/runtime-corejs2/helpers/classCallCheck")),T=m(e("@babel/runtime-corejs2/helpers/createClass")),E=m(e("@babel/runtime-corejs2/helpers/defineProperty")),I=e("ud"),g=(m(e("kefir")),m(e("./getSyncThreadFromSyncThreadId")),function(){function j(x){var A=this;(0,v.default)(this,j),(0,E.default)(this,"_driver",void 0),(0,E.default)(this,"_composeViews",void 0),this._driver=x,this._composeViews=new _.default,this._driver.getComposeViewDriverStream().onValue(function(w){A._composeViews.add(w),w.getStopper().onValue(function(){A._composeViews.delete(w)})})}return(0,T.default)(j,[{key:"getThreadIdForThreadRow",value:function(x,A){var w=this._driver.getPageCommunicator().getThreadIdForThreadRowByDatabase(A[0]);if(w)return w;if(x.getVisibleMessageCount()==0&&x.getVisibleDraftCount()>0){var C=this._findComposeForThreadRow(x);if(C)return C.getMessageID()}return null}},{key:"getDraftIdForThreadRow",value:function(){function x(w){return A.apply(this,arguments)}var A=(0,S.default)(h.default.mark(function w(C){var O,V,R;return h.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!(C.getVisibleMessageCount()>0||C.getVisibleDraftCount()==0)){P.next=2;break}return P.abrupt("return",y.default.resolve(null));case 2:if(!(O=this._findComposeForThreadRow(C))){P.next=5;break}return P.abrupt("return",O.getDraftID());case 5:return P.next=7,this._driver.getDraftIDForMessageID(C.getThreadID());case 7:return V=P.sent,R=V.draftID,P.abrupt("return",R);case 10:case"end":return P.stop()}},w,this)}));return x}()},{key:"_findComposeForThreadRow",value:function(x){var A,w=[],C=x.getSubject(),O=a(this._composeViews);try{for(O.s();!(A=O.n()).done;){var V=A.value;C===V.getSubject()&&w.push(V)}}catch(R){O.e(R)}finally{O.f()}return w.length==1?w[0]:null}}]),j}()),k=(0,I.defn)(l,g);i.default=k},{"./getSyncThreadFromSyncThreadId":674,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,kefir:327,ud:625}],693:[function(e,l,i){"use strict";function a(w,C){var O=S(w);if(v){var V=v(w);C&&(V=V.filter(function(R){return T(w,R).enumerable})),O.push.apply(O,V)}return O}function t(w){for(var C=1;C<arguments.length;C++){var O=arguments[C]!=null?arguments[C]:{};C%2?a(Object(O),!0).forEach(function(V){(0,j.default)(w,V,O[V])}):E?I(w,E(O)):a(Object(O)).forEach(function(V){g(w,V,T(O,V))})}return w}function o(w){u(w),_(w),y(w)}function u(w){w.getComposeViewDriverStream().onValue(function(C){var O=n(w,C);O("compose open"),s(C,O)})}function n(w,C){var O=w.getLogger(),V={isInlineReply:C.isInlineReplyForm(),isReply:C.isReply()};return function(R,P){O.eventSite(R,t(t({},V),P))}}function s(w,C){f(w,C),m(w,C)}function f(w,C){var O=w.getElement().querySelector(".a1");O&&x.default.fromEvents(O,"mousedown").takeUntilBy(w.getStopper()).onValue(function(){C("attachment button clicked"),d(w,C)})}function d(w,C){(0,A.default)(document.body).map(function(O){return O.el}).filter(function(O){return O&&O.type==="file"}).take(1).flatMap(function(O){return x.default.fromEvents(O,"change").map(function(){return!0}).merge(x.default.fromEvents(w.getBodyElement(),"focus").map(function(){return!1}).delay(1e3))}).take(1).filter(Boolean).takeUntilBy(w.getStopper()).onValue(function(){return C("attachment uploaded")})}function m(w,C){var O=w.getElement().querySelector(".aA7");O&&x.default.fromEvents(O,"mousedown").takeUntilBy(w.getStopper()).onValue(function(){C("drive button clicked"),h(w,C)})}function h(w,C){var O=w.getBodyElement().querySelectorAll(".gmail_drive_chip").length;(0,A.default)(document.body).map(function(V){return V.el}).filter(function(V){return V&&V.classList.contains("picker-dialog")}).take(1).flatMap(function(V){return x.default.fromEvents(w.getBodyElement(),"focus").delay(1e3).map(function(){return w.getBodyElement()?w.getBodyElement().querySelectorAll(".gmail_drive_chip").length:0}).map(function(R){return O<R}).take(1)}).take(1).filter(Boolean).takeUntilBy(w.getStopper()).onValue(function(){return C("drive file added")})}function _(w){(0,A.default)(document.body).map(function(C){return C.el}).filter(function(C){return C.getAttribute&&C.getAttribute("role")==="alertdialog"}).takeUntilBy(w.getStopper()).onValue(function(C){var O=C.querySelector("[role=heading]");if(O&&O.textContent.indexOf("exceeds the 25MB")>-1)return void w.getLogger().eventSite("large attachment suggest drive");var V=C.querySelector(".Kj-JD-Jz");return V&&V.textContent.indexOf("exceeds the maximum")>-1?void w.getLogger().eventSite("large attachment from drag and drop"):void 0})}function y(w){w.getComposeViewDriverStream().flatMapLatest(function(){return x.default.fromEvents(document.body,"dragenter").filter(function(C){return C.toElement}).filter(function(C){return C.toElement.classList.contains("aC7")||C.toElement.classList.contains("aC9")}).take(1)}).takeUntilBy(w.getStopper()).onValue(function(){return w.getLogger().eventSite("compose drag file")}),w.getComposeViewDriverStream().flatMapLatest(function(){return x.default.fromEvents(document.body,"drop").filter(function(C){return C.toElement}).filter(function(C){return C.toElement.classList.contains("aC7")||C.toElement.classList.contains("aC9")}).take(1)}).takeUntilBy(w.getStopper()).onValue(function(){return w.getLogger().eventSite("compose drop file")})}var S=e("@babel/runtime-corejs2/core-js/object/keys"),v=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),T=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),E=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),I=e("@babel/runtime-corejs2/core-js/object/define-properties"),g=e("@babel/runtime-corejs2/core-js/object/define-property"),k=e("@babel/runtime-corejs2/helpers/interopRequireDefault");g(i,"__esModule",{value:!0}),i.default=o;var j=k(e("@babel/runtime-corejs2/helpers/defineProperty")),x=k(e("kefir")),A=k(e("../../../lib/dom/make-element-child-stream"))},{"../../../lib/dom/make-element-child-stream":860,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],694:[function(e,l,i){"use strict";function a(){var y=document.querySelector(".TO .TN");if(!y)return d.default.error(new Error("Failed to find nav item outer element")),"compact";var S=(0,s.default)(getComputedStyle(y).getPropertyValue("padding-top"),10);return S>=6?"comfortable":S>=3?"cozy":"compact"}function t(){var y=document.querySelector(".aio");if(!y)return d.default.error(new Error("Failed to find nav item")),!1;var S=getComputedStyle(y).getPropertyValue("color"),v=_.exec(S);if(!v)return d.default.error(new Error("Failed to read color string"),{colorString:S}),!1;var T=+v[1],E=+v[2],I=+v[3];return I!==36&&(T===E&&T===I||d.default.error(new Error("Nav item color not grayscale"),{r:T,g:E,b:I}),T>128)}function o(){function y(){var T=a();S!==T&&(S&&document.body.classList.remove("inboxsdk__gmail_density_"+S),S=T,document.body.classList.add("inboxsdk__gmail_density_"+S));var E=t();v!==E&&(v=E,v?document.body.classList.add("inboxsdk__gmail_dark_theme"):document.body.classList.remove("inboxsdk__gmail_dark_theme"))}if(!document.head.hasAttribute("data-inboxsdk-gmail-style-tracker")&&!h.default.isStandalone()){document.head.setAttribute("data-inboxsdk-gmail-style-tracker","true");var S=null,v=null;(0,m.default)(function(){return document.querySelector(".TO .TN")&&document.querySelector(".aio")}).then(function(){var T=new MutationObserver(y),E={characterData:!0,childList:!0};(0,f.default)(document.styleSheets).forEach(function(I){I.ownerNode.tagName=="STYLE"&&T.observe(I.ownerNode,E)}),y()}).catch(function(T){d.default.error(T)})}}var u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=o;var s=n(e("@babel/runtime-corejs2/core-js/parse-int")),f=n(e("@babel/runtime-corejs2/core-js/array/from")),d=n(e("../../../lib/logger")),m=n(e("../../../lib/wait-for")),h=n(e("../gmail-element-getter")),_=/^rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)/},{"../../../lib/logger":892,"../../../lib/wait-for":905,"../gmail-element-getter":696,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],695:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/array/from")),u=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(e("@babel/runtime-corejs2/helpers/createClass")),s=t(e("@babel/runtime-corejs2/helpers/defineProperty")),f=t(e("lodash/find")),d=t(e("lodash/uniqBy")),m=(t(e("../../../../common/censorHTMLstring")),t(e("../../../lib/logger")),t(e("../../../lib/wait-for")),function(){function h(_){(0,u.default)(this,h),(0,s.default)(this,"_failedWaitFor",void 0),(0,s.default)(this,"_userEmail",void 0),this._failedWaitFor=!1,this._userEmail=_.getUserEmailAddress()}return(0,n.default)(h,[{key:"getUserName",value:function(){var _=this,y=document.querySelector("div.gb_w div.gb_B .gb_D");if(y)return y.textContent;var S=(0,f.default)(this.getAccountSwitcherContactList(),function(v){return v.emailAddress===_._userEmail});return S&&S.name!=null?S.name:this._userEmail}},{key:"getAccountSwitcherContactList",value:function(){var _=(0,o.default)(document.querySelectorAll('[role=banner] div[aria-label] div div a[href^="https://myaccount.google."]')).slice(0,1).map(function(S){var v=S.parentElement,T=v.children[0],E=v.children[1];return T&&E?{name:T.textContent,emailAddress:E.textContent}:null}).filter(Boolean),y=(0,o.default)(document.querySelectorAll('[role=banner] div[aria-label] div > a[target="_blank"] > img + div')).map(function(S){var v=S.children[1].textContent.match(/\S+/);if(!v)throw new Error("Failed to match");return{name:S.children[0].textContent,emailAddress:v[0]}});return(0,d.default)(_.concat(y),function(S){return S.emailAddress.toLowerCase()})}}]),h}());i.default=m},{"../../../../common/censorHTMLstring":636,"../../../lib/logger":892,"../../../lib/wait-for":905,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/find":484,"lodash/uniqBy":529}],696:[function(e,l,i){"use strict";function a(g){if(typeof o!="function")return null;var k=new o,j=new o;return(a=function(x){return x?j:k})(g)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/core-js/array/from")),d=s(e("lodash/once")),m=function(g,k){if(!k&&g&&g.__esModule)return g;if(g===null||t(g)!=="object"&&typeof g!="function")return{default:g};var j=a(k);if(j&&j.has(g))return j.get(g);var x={},A=u&&n;for(var w in g)if(w!=="default"&&Object.prototype.hasOwnProperty.call(g,w)){var C=A?n(g,w):null;C&&(C.get||C.set)?u(x,w,C):x[w]=g[w]}return x.default=g,j&&j.set(g,x),x}(e("kefir")),h=s(e("../../lib/dom/make-element-child-stream")),_=s(e("../../lib/dom/querySelectorOrFail")),y=s(e("./gmail-element-getter/wait-for-gmail-mode-to-settle")),S=s(e("./gmail-element-getter/get-main-content-element-changed-stream")),v=s(e("./gmail-driver/isIntegratedViewGmail")),T=s(e("../../lib/logger")),E={getActiveMoreMenu:function(){for(var g=document.querySelectorAll(".J-M.aX0.aYO.jQjAxd"),k=0;k<g.length;k++)if(g[k].style.display!=="none")return g[k];return null},getAddonSidebarContainerElement:function(){return document.querySelector(".no > .nn.bnl")},getCompanionSidebarContentContainerElement:function(){return document.querySelector(".brC-brG")},getCompanionSidebarIconContainerElement:function(){return document.querySelector(".brC-aT5-aOt-Jw")},getComposeButton:function(){return(0,v.default)()?document.querySelector(".aqn .aic div[role=button].L3"):document.querySelector("[gh=cm]")},getComposeWindowContainer:function(){return document.querySelector(".dw .nH > .nH > .no")},getContentSectionElement:function(){var g=document.querySelector("div.nH.bkK > .nH");if((0,v.default)())return g;var k=E.getLeftNavContainerElement(),j=k?k.nextElementSibling.children[0]:null;return g!==j&&T.default.error(new Error("getContentSectionElement old and new method inconsistency"),{elClassName:g==null?void 0:g.className,oldMethodClassName:j==null?void 0:j.className}),j},getFullscreenComposeWindowContainer:function(){return document.querySelector(".aSs .aSt")},getFullscreenComposeWindowContainerStream:function(){if(!document.body)throw new Error;return(0,h.default)(document.body).filter(function(g){return g.el.classList.contains("aSs")}).flatMap(function(g){var k=g.el,j=g.removalStream;return(0,h.default)(k).takeUntilBy(j)}).filter(function(g){return g.el.classList.contains("aSt")}).take(1).map(function(g){return{el:g.el,removalStream:m.never()}}).toProperty()},getGtalkButtons:function(){return document.querySelector(".aeN .aj5.J-KU-Jg")},getLeftNavContainerElement:function(){return(0,v.default)()?document.querySelector("div[role=navigation] + div.aqn"):document.querySelector(".aeN")},getLeftNavHeightElement:function(){return document.querySelector(".aeN")},getMainContentBodyContainerElement:function(){return document.querySelector(".no > .nn.bkK")},getMainContentContainer:function(){return document.querySelector("div.aeF > div.nH")},getMainContentElementChangedStream:(0,d.default)(function(){return(0,S.default)(this)}),getMoleParent:function(){return document.body.querySelector(".dw .nH > .nH > .no")},shouldAddNavItemsInline:function(){if((0,v.default)())return!0;var g=document.querySelector(".aeN[role=navigation], .aeN [role=navigation]");if(!g)throw new Error("shouldAddNavItemsInline failed to find leftNavElement");return!!g.classList.contains("aZ6")},getSeparateSectionNavItemMenuInjectionContainer:function(){return document.querySelector(".aeN")},getSameSectionNavItemMenuInjectionContainer:function(){return(0,v.default)()?document.querySelector(".yJ .wT > .n3"):document.querySelector(".aeN .n3")},getRowListElements:function(){return(0,f.default)(document.querySelectorAll("[gh=tl]"))},getScrollContainer:function(){return document.querySelector("div.Tm.aeJ")},getSearchInput:function(){return document.querySelector("form[role=search] input")},getSearchSuggestionsBoxParent:function(){return document.querySelector("table.gstl_50 > tbody > tr > td.gssb_e")},getSidebarContainerElement:function(){return document.querySelector("[role=main] table.Bs > tr .y3")},getThreadBackButton:function(){var g;try{g=E.getToolbarElement()}catch(k){return null}return g.querySelector(".lS")},getThreadContainerElement:function(){return document.querySelector("[role=main] .g.id table.Bs > tr")},getToolbarElement:function(){return(0,_.default)(document,"[gh=tm]")},getTopAccountContainer:function(){return document.querySelector('header[role="banner"] > div:nth-child(2) > div:nth-child(2)')},isGplusEnabled:function(){var g=E.getTopAccountContainer();return!!g&&g.querySelectorAll('a[href*="https://plus"][href*="upgrade"]').length===0},isPreviewPane:function(){return!!document.querySelector(".aia")},isStandalone:function(){return this.isStandaloneComposeWindow()||this.isStandaloneThreadWindow()},isStandaloneComposeWindow:function(){return document.body.classList.contains("xE")&&document.body.classList.contains("xp")},isStandaloneThreadWindow:function(){return document.body.classList.contains("aAU")&&document.body.classList.contains("xE")&&document.body.classList.contains("Su")},StandaloneCompose:{getComposeWindowContainer:function(){return document.querySelector("[role=main]")}},waitForGmailModeToSettle:function(){return(0,y.default)().toPromise()}},I=E;i.default=I},{"../../lib/dom/make-element-child-stream":860,"../../lib/dom/querySelectorOrFail":869,"../../lib/logger":892,"./gmail-driver/isIntegratedViewGmail":677,"./gmail-element-getter/get-main-content-element-changed-stream":697,"./gmail-element-getter/wait-for-gmail-mode-to-settle":698,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,"lodash/once":516}],697:[function(e,l,i){"use strict";function a(T){if(typeof s!="function")return null;var E=new s,I=new s;return(a=function(g){return g?I:E})(T)}function t(T){var E=o(T).flatMap(function(I){return(0,v.default)(I).filter(function(g){return g.el.classList.contains("nH")}).flatMap(function(g){var k=g.el,j=g.removalStream;return(0,S.default)(k,{attributes:!0,attributeFilter:["style"]}).map(function(x){return(0,h.default)(x)}).toProperty(function(){return{target:k}}).filter(u).map(function(x){return x.target}).takeUntilBy(j)})}).toProperty();return E.onValue(function(){}),E}function o(T){return T.isStandaloneComposeWindow()?_.never():(0,y.default)(function(){return T.getMainContentContainer()})}function u(T){return T.target.style.display!=="none"}var n=e("@babel/runtime-corejs2/helpers/typeof"),s=e("@babel/runtime-corejs2/core-js/weak-map"),f=e("@babel/runtime-corejs2/core-js/object/define-property"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");f(i,"__esModule",{value:!0}),i.default=t;var h=m(e("lodash/last")),_=function(T,E){if(!E&&T&&T.__esModule)return T;if(T===null||n(T)!=="object"&&typeof T!="function")return{default:T};var I=a(E);if(I&&I.has(T))return I.get(T);var g={},k=f&&d;for(var j in T)if(j!=="default"&&Object.prototype.hasOwnProperty.call(T,j)){var x=k?d(T,j):null;x&&(x.get||x.set)?f(g,j,x):g[j]=T[j]}return g.default=T,I&&I.set(T,g),g}(e("kefir")),y=m(e("../../../lib/stream-wait-for")),S=m(e("../../../lib/dom/make-mutation-observer-chunked-stream")),v=m(e("../../../lib/dom/make-element-child-stream"))},{"../../../lib/dom/make-element-child-stream":860,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/stream-wait-for":902,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,"lodash/last":511}],698:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("lodash/once")),u=t(e("../../../lib/dom/make-mutation-observer-chunked-stream")),n=(0,o.default)(function(){return(0,u.default)(document.body,{attributes:!0,attributeFilter:["class"]}).toProperty(function(){}).filter(function(){return document.body.classList.length>0}).map(function(){}).take(1).toProperty()}),s=n;i.default=s},{"../../../lib/dom/make-mutation-observer-chunked-stream":863,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/once":516}],699:[function(e,l,i){"use strict";function a(j){var x=t();return function(){var A,w=(0,T.default)(j);if(x){var C=(0,T.default)(this).constructor;A=o(w,arguments,C)}else A=w.apply(this,arguments);return(0,v.default)(this,A)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(j){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/core-js/promise")),f=n(e("@babel/runtime-corejs2/core-js/json/stringify")),d=n(e("@babel/runtime-corejs2/regenerator")),m=n(e("@babel/runtime-corejs2/helpers/slicedToArray")),h=n(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),_=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),y=n(e("@babel/runtime-corejs2/helpers/createClass")),S=n(e("@babel/runtime-corejs2/helpers/inherits")),v=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),T=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),E=n(e("../../lib/common-page-communicator")),I=n(e("../../lib/dom/make-mutation-observer-chunked-stream")),g=n(e("kefir")),k=function(j){function x(){return(0,_.default)(this,x),A.apply(this,arguments)}(0,S.default)(x,j);var A=a(x);return(0,y.default)(x,[{key:"getMessageDate",value:function(){function w(O,V){return C.apply(this,arguments)}var C=(0,h.default)(d.default.mark(function O(V,R){return d.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",this._getMessageData(V,R,"data-inboxsdk-sortdate","inboxSDKtellMeThisMessageDate"));case 1:case"end":return P.stop()}},O,this)}));return w}()},{key:"getMessageRecipients",value:function(){function w(O,V){return C.apply(this,arguments)}var C=(0,h.default)(d.default.mark(function O(V,R){return d.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",this._getMessageData(V,R,"data-inboxsdk-recipients","inboxSDKtellMeThisMessageRecipients"));case 1:case"end":return P.stop()}},O,this)}));return w}()},{key:"_getMessageData",value:function(){function w(O,V,R,P){return C.apply(this,arguments)}var C=(0,h.default)(d.default.mark(function O(V,R,P,B){var z,Q,N,K,U;return d.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(z=R.getAttribute(P)){F.next=19;break}if(!this.isUsingSyncAPI()){F.next=8;break}return F.next=5,s.default.all([this.getBtaiHeader(),this.getXsrfToken()]);case 5:F.t0=F.sent,F.next=9;break;case 8:F.t0=[null,null];case 9:if(Q=F.t0,N=(0,m.default)(Q,2),K=N[0],U=N[1],R.dispatchEvent(new CustomEvent(B,{bubbles:!0,cancelable:!1,detail:{threadId:V,ikValue:this.getIkValue(),btaiHeader:K,xsrfToken:U}})),z=R.getAttribute(P)){F.next=19;break}return F.next=18,(0,I.default)(R,{attributes:!0,attributeFilter:[P]}).take(1).toPromise();case 18:z=R.getAttribute(P);case 19:if(!z||z==="error"){F.next=23;break}return F.abrupt("return",JSON.parse(z));case 23:return F.abrupt("return",null);case 24:case"end":return F.stop()}},O,this)}));return w}()},{key:"getThreadIdForThreadRowByDatabase",value:function(w){var C=w.getAttribute("data-inboxsdk-threadid");return C||(w.dispatchEvent(new CustomEvent("inboxSDKtellMeThisThreadIdByDatabase",{bubbles:!0,cancelable:!1,detail:null})),C=w.getAttribute("data-inboxsdk-threadid")),C}},{key:"getThreadIdForThreadRowByClick",value:function(w){var C=w.getAttribute("data-inboxsdk-threadid");return C||(w.dispatchEvent(new CustomEvent("inboxSDKtellMeThisThreadIdByClick",{bubbles:!0,cancelable:!1,detail:null})),C=w.getAttribute("data-inboxsdk-threadid")),C}},{key:"getCurrentThreadID",value:function(w){var C=arguments.length>1&&arguments[1]!==void 0&&arguments[1];w.dispatchEvent(new CustomEvent("inboxSDKtellMeCurrentThreadId",{bubbles:!0,cancelable:!1,detail:{isPreviewedThread:C}}));var O=w.getAttribute("data-inboxsdk-currentthreadid");if(O==null)throw new Error("Failed to read value");return O}},{key:"getUserOriginalPreviewPaneMode",value:function(){return document.head.getAttribute("data-inboxsdk-user-preview-pane-mode")}},{key:"getActionTokenValue",value:function(){var w=document.head.getAttribute("data-inboxsdk-action-token-value");if(w==null)throw new Error("Failed to read value");return w}},{key:"isUsingSyncAPI",value:function(){var w=document.head.getAttribute("data-inboxsdk-using-sync-api");if(w==null)throw new Error("Failed to read value");return w==="true"}},{key:"isConversationViewDisabled",value:function(){return new s.default(function(w){g.default.fromEvents(document,"inboxSDKgmonkeyResponse").take(1).onValue(function(C){w(C.detail)}),document.dispatchEvent(new CustomEvent("inboxSDKtellMeIsConversationViewDisabled",{bubbles:!1,cancelable:!1,detail:null}))})}},{key:"registerSuggestionsModifier",value:function(w){document.dispatchEvent(new CustomEvent("inboxSDKregisterSuggestionsModifier",{bubbles:!1,cancelable:!1,detail:{providerID:w}}))}},{key:"provideAutocompleteSuggestions",value:function(w,C,O){document.dispatchEvent(new CustomEvent("inboxSDKprovideSuggestions",{bubbles:!1,cancelable:!1,detail:{providerID:w,query:C,suggestions:JSON.parse((0,f.default)(O))}}))}},{key:"setupCustomListResultsQuery",value:function(w){document.dispatchEvent(new CustomEvent("inboxSDKcustomListRegisterQuery",{bubbles:!1,cancelable:!1,detail:{query:w}}))}},{key:"setCustomListNewQuery",value:function(w){document.dispatchEvent(new CustomEvent("inboxSDKcustomListNewQuery",{bubbles:!1,cancelable:!1,detail:w}))}},{key:"setCustomListResults",value:function(w,C){document.dispatchEvent(new CustomEvent("inboxSDKcustomListResults",{bubbles:!1,cancelable:!1,detail:{query:w,newResults:C}}))}},{key:"createCustomSearchTerm",value:function(w){document.dispatchEvent(new CustomEvent("inboxSDKcreateCustomSearchTerm",{bubbles:!1,cancelable:!1,detail:{term:w}}))}},{key:"setSearchQueryReplacement",value:function(w,C){document.dispatchEvent(new CustomEvent("inboxSDKsearchReplacementReady",{bubbles:!1,cancelable:!1,detail:{query:w,newQuery:C}}))}},{key:"registerComposeRequestModifier",value:function(w,C){var O=new Date().getTime()+"_"+C+"_"+Math.random(),V={modifierId:O};return this.isUsingSyncAPI()?V.draftID=w:V.composeid=w,document.dispatchEvent(new CustomEvent("inboxSDKregisterComposeRequestModifier",{detail:V,bubbles:!1,cancelable:!1})),O}},{key:"unregisterComposeRequestModifier",value:function(w,C){document.dispatchEvent(new CustomEvent("inboxSDKunregisterComposeRequestModifier",{detail:{keyId:w,modifierId:C},bubbles:!1,cancelable:!1}))}},{key:"modifyComposeRequest",value:function(w,C,O){var V={modifierId:C,composeParams:O};this.isUsingSyncAPI()?V.draftID=w:V.composeid=w,document.dispatchEvent(new CustomEvent("inboxSDKcomposeRequestModified",{detail:V,bubbles:!1,cancelable:!1}))}}]),x}(E.default);i.default=k},{"../../lib/common-page-communicator":848,"../../lib/dom/make-mutation-observer-chunked-stream":863,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,"@babel/runtime-corejs2/helpers/slicedToArray":53,"@babel/runtime-corejs2/regenerator":59,kefir:327}],700:[function(e,l,i){"use strict";function a(L){var G=d(L).value,le=t(G),pe=o(G)||le;if(!le||!pe)throw new Error("Failed to read email response");return{threadID:pe,messageID:le}}function t(L){var G=C(L,"a",function(le){return le.length>3&&(0,z.default)(le[3])&&le[3].length>0});return G?G[3][0]:null}function o(L){var G=C(L,"csd",function(le){return le.length==3&&(0,z.default)(le[2])&&le[2].length>5});return G?G[1]:null}function u(L){var G=d(L).value,le=C(G,"cs",function(pe){return pe[0]==="cs"&&pe.length>20});return le?le[1]:null}function n(L){for(var G=0,le=[];;){var pe=s(L,G);if(pe<0){le.push(L.substr(G));break}if(le.push(L.substr(G,pe-G)),le.push('"'),G=pe+1,L[pe]==='"'){var we=f(L,G,'"');if(we<0)throw new Error("Unclosed double quote");le.push(L.slice(G,we+1)),G=we+1}else{var ye=f(L,G,"'");if(ye<0)throw new Error("Unclosed single quote");var W=L.slice(G,ye).replace(/"/g,'\\"').replace(/\\'/g,"'");le.push(W),le.push('"'),G=ye+1}}return le.join("")}function s(L,G){for(var le=G,pe=L.length;le<pe;le++)if(L[le]==='"'||L[le]==="'")return le;return-1}function f(L,G,le){for(var pe=G,we=L.length;pe<we;pe++)if(L[pe]==="\\")pe++;else if(L[pe]===le)return pe;return-1}function d(L){var G,le={includeLengths:!1,suggestionMode:/^5\n/.test(L),noArrayNewLines:!/^[,\]]/m.test(L),includeExplicitNulls:!0},pe=[];if(le.suggestionMode){if((G=L.indexOf(`'
`))===-1)throw new Error("Message was missing beginning header");G+=2}else{if((G=L.indexOf(`

`))===-1)throw new Error("Message was missing beginning newlines");G+=2}for(;G<L.length;){var we=L.indexOf(`
`,G+1);we===-1?we=L.length:L[we-1]==="\r"&&(we+=1);var ye=L.slice(G,we),W=void 0;if(/^\d+\s*$/.test(ye)){le.includeLengths=!0;var te=+ye;W=L.slice(we,we+te),G=we+te}else W=L.slice(G),G=L.length;pe.push(h(W))}return{value:pe,options:le}}function m(L,G){for(var le,pe=[],we=0,ye=!1;(le=f(L,we,'"'))!==-1;)ye?pe.push(L.slice(we,le+1)):pe.push(G(L.slice(we,le+1))),we=le+1,ye=!ye;if(ye)throw new Error("string ended inside quoted section");return pe.push(G(L.slice(we))),pe.join("")}function h(L){L=L.replace(/[\r\n\t]/g,""),L=n(L),L=m(L,function(G){return G.replace(/,\s*(?=,|\])/g,",null").replace(/\[\s*(?=,)/g,"[null")});try{return JSON.parse(L,function(G,le){return le==null?void 0:le})}catch(G){throw new Error("deserialization error")}}function _(L,G){return G.suggestionMode?((0,H.default)(G.includeLengths),S(L,G.includeExplicitNulls)):y(L,G)}function y(L,G){for(var le=G.includeLengths,pe=G.noArrayNewLines,we=G.includeExplicitNulls,ye=`)]}'
`+(pe&&le?"":`
`),W=0;W<L.length;W++){var te=L[W],ce=v(te,pe,we);if(le){var je=ce.length+(pe?2:1);ye+=(pe?`
`:"")+je+`
`+ce}else ye+=ce}if(!le)if(pe)ye=ye.replace(/"([0-9a-f]{8,16})"\]$/,"'$1']");else{var be=ye.split(/\r|\n/),Ne=be.slice(0,-3),He=be.slice(-3);ye=Ne.join(`
`),ye+=`
`+He[0]+He[1].replace(/"/g,"'")}return ye+(pe&&le?`
`:"")}function S(L,G){for(var le=`5
)]}'
`,pe=0;pe<L.length;pe++){var we=L[pe],ye=v(we,!1,G);le+=ye.length+`\r
`+ye}return le}function v(L,G,le){for(var pe="[",we=0;we<L.length;we++){var ye=L[we],W=void 0;W=(0,z.default)(ye)?v(ye,G,le):ye==null?le?"null":"":(0,Q.default)(ye).replace(/</gim,"\\u003c").replace(/=/gim,"\\u003d").replace(/>/gim,"\\u003e").replace(/&/gim,"\\u0026"),we>0&&(pe+=","),pe+=W}return pe+="]"+(G?"":`
`)}function T(L,G){var le=d(L).value,pe=$.default.toArray(le,$.default.compose($.default.cat,$.default.filter(z.default),$.default.cat,$.default.filter(function(ye){return ye[0]==="ms"&&ye[1]===G}),$.default.take(1),$.default.map(function(ye){return ye[60]})))[0];if(pe){var we=pe.match(/^msg-[^:]:(\S+)$/i);return we&&we[1]}return null}function E(L,G,le){var pe=le.start,we=le.total,ye=d(L),W=ye.value,te=ye.options,ce=W.length===1&&W[0].length===2&&typeof W[0][1]=="string",je=ce?W[0][0].map(function(It){return[It]}):W,be=[],Ne=[],He=[],Qe=[],Be=!1;je.forEach(function(It){var Qt=!1,jt=[],Pt=[];It.forEach(function(At){if(we&&At[0]==="ti"){if(typeof we=="number")At[2]=At[10]=we;else if(we==="MANY"){At[2]=At[10]=1e5,At[3]=1;var Ce=At[5];At[6]?At[6][0]=[Ce,1]:console.error("replaceThreadsInResponse(): Missing item[6]")}}At[0]==="tb"?(Be=Qt=!0,jt.length&&(He=jt),Qe=Pt):Be?Pt.push(At):jt.push(At)}),Qt||(Be?Ne.push(Pt):be.push(jt))});var Je=w(G,pe);He.length&&(Je[0]=He.concat(Je[0]||[])),Qe.length&&(Je.length?Je[Je.length-1]=Je[Je.length-1].concat(Qe):Je.push(Qe));var _t=(0,F.default)([be,Je,Ne]),pt=(0,F.default)(_t),Et=(0,Z.default)(pt);if(Et[0]!=="e")throw new Error("Failed to find end section");return Et[1]=pt.length,_(ce?[[(0,F.default)(_t),W[0][1]]]:_t,te)}function I(L){return g(d(L).value)}function g(L){return L.length===1&&L[0].length===2&&typeof L[0][1]=="string"&&(L=[L[0][0]]),x(L).map(function(G){return(0,N.default)((0,K.default)({subject:(0,X.default)(G[9]),shortDate:(0,X.default)(G[14]),timeString:(0,X.default)(G[15]),peopleHtml:j(G[7]),timestamp:G[16]/1e3,isUnread:G[9].indexOf("<b>")>-1,lastEmailAddress:G[28],bodyPreviewHtml:G[10],someGmailMessageIds:[G[1],G[2]],gmailThreadId:G[0]},"_originalGmailFormat",{value:G}))})}function k(L){var G=d(L),le=G.value;return $.default.toObj(le,oe)}function j(L){return L.replace(/^[^<]*/,"").replace(/(<span[^>]*) class="[^"]*"/g,"$1")}function x(L){return $.default.toArray(L,Y)}function A(L){var G=d(L),le=G.value;le.length===1&&(le=le[0]);var pe=$.default.toArray(le,se),we=$.default.toArray(le,ie),ye={};return we.forEach(function(W){ye[W.messageID]=W}),pe.map(function(W){return{threadID:W.threadID,messages:W.messageIDs.map(function(te){return ye[te]})}})}function w(L,G){var le=$.default.compose($.default.map(function(pe){return pe._originalGmailFormat}),$.default.partition(10),(0,ne.default)(function(pe,we){return[["tb",G+10*we,pe]]}));return $.default.toArray(L,le)}function C(L,G,le){for(var pe=O(L,G,100),we=0;we<pe.length;we++){var ye=pe[we].path.slice(0,-1),W=V(L,ye);if(le(W))return W}}function O(L,G,le){for(var pe=[],we={el:L,path:[]},ye=[we];ye.length>0;){var W=ye.pop();if(W.path.length<=le)if(W.el!==null&&(0,B.default)(W.el)==="object")for(var te=(0,U.default)(W.el),ce=0;ce<te.length;ce++){var je=te[ce],be={el:W.el[je],path:W.path.concat([je])};ye.push(be)}else W.el===G&&pe.push(W)}return pe}function V(L,G){for(var le=L,pe=0;pe<G.length;pe++)le=le[G[pe]];return le}var R=e("@babel/runtime-corejs2/core-js/object/define-property"),P=e("@babel/runtime-corejs2/helpers/interopRequireDefault");R(i,"__esModule",{value:!0}),i.interpretSentEmailResponse=a,i.extractGmailMessageIdFromSentEmail=t,i.extractGmailThreadIdFromSentEmail=o,i.extractGmailThreadIdFromMessageIdSearch=u,i.rewriteSingleQuotes=n,i.deserialize=d,i.deserializeArray=h,i.serialize=_,i.readDraftId=T,i.replaceThreadsInResponse=E,i.extractThreads=I,i.extractThreadsFromDeserialized=g,i.extractMessageIdsFromThreadBatchRequest=k,i.cleanupPeopleLine=j,i.extractMessages=A;var B=P(e("@babel/runtime-corejs2/helpers/typeof")),z=P(e("@babel/runtime-corejs2/core-js/array/is-array")),Q=P(e("@babel/runtime-corejs2/core-js/json/stringify")),N=P(e("@babel/runtime-corejs2/core-js/object/freeze")),K=P(e("@babel/runtime-corejs2/core-js/object/define-property")),U=P(e("@babel/runtime-corejs2/core-js/object/keys")),F=P(e("lodash/flatten")),Z=P(e("lodash/last")),$=P(e("transducers.js")),ne=P(e("map-indexed-xf")),H=P(e("assert")),X=P(e("../../../common/html-to-text")),oe=$.default.compose($.default.cat,$.default.cat,$.default.filter(function(L){return L[0]==="cs"}),$.default.map(function(L){return[L[1],L[2]]})),Y=$.default.compose($.default.cat,$.default.filter(function(L){return L[0]==="tb"}),$.default.map(function(L){return L[2]}),$.default.cat),se=$.default.compose($.default.cat,$.default.filter(function(L){return L[0]==="cs"}),$.default.map(function(L){return{threadID:L[1],messageIDs:L[8]}})),ie=$.default.compose($.default.cat,$.default.filter(function(L){return L[0]==="ms"}),$.default.map(function(L){return{messageID:L[1],date:L[7]}}))},{"../../../common/html-to-text":645,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/freeze":13,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,assert:85,"lodash/flatten":488,"lodash/last":511,"map-indexed-xf":533,"transducers.js":623}],701:[function(e,l,i){"use strict";function a(C,O){var V=_(C);if(y){var R=y(C);O&&(R=R.filter(function(P){return S(C,P).enumerable})),V.push.apply(V,R)}return V}function t(C){for(var O=1;O<arguments.length;O++){var V=arguments[O]!=null?arguments[O]:{};O%2?a(Object(V),!0).forEach(function(R){(0,k.default)(C,R,V[R])}):v?T(C,v(V)):a(Object(V)).forEach(function(R){E(C,R,S(V,R))})}return C}function o(C){var O=JSON.parse(C);if((0,j.default)(O))try{return u(O)}catch(R){return[]}var V=O&&O[3];return V?V.map(function(R,P){var B=R[1];return B?{subject:B[1],snippet:B[2],syncThreadID:B[4],oldGmailThreadID:B[18]!=null?new A.default(B[18]).toString(16):B[20],rawResponse:R,extraMetaData:{snippet:O[15]&&O[15][1]&&O[15][1][P]||"",syncMessageData:B[5].map(function(z){return{syncMessageID:z[1],oldMessageID:z[56],date:+z[7]}})}}:null}).filter(w.default):[]}function u(C){var O=C&&C[2];return O?O.map(function(V,R){var P=V[0];return P?{subject:P[0],snippet:P[1],syncThreadID:P[3],oldGmailThreadID:P[17]!=null?new A.default(P[17]).toString(16):P[19],rawResponse:V,extraMetaData:{snippet:C[14]&&C[14][0]&&C[14][0][R]||"",syncMessageData:P[4].map(function(B){return{syncMessageID:B[0],oldMessageID:B[55],date:+B[6]}})}}:null}).filter(w.default):[]}function n(C){var O=JSON.parse(C);if((0,j.default)(O))return s(O);var V=O&&O[2];if(!V)throw new Error("Failed to process thread response");return V.map(function(R){if(typeof R[1]!="string"||!(0,j.default)(R[3])||R[2]&&R[2][1]&&R[2][1][14]&&(0,j.default)(R[2][2])){var P=R[2]&&R[2][1];if(!P)return null;var B,z=(0,j.default)(R[3])&&R[3];return z?B=z.map(function(Q){return{syncMessageID:Q[1],date:+Q[2][17],recipients:f(Q)}}):B=(R[2]&&R[2][2]).map(function(Q){return{syncMessageId:Q[1],date:+Q[16]}}),{subject:P[2],snippet:P[3],syncThreadID:P[1],oldGmailThreadID:new A.default(P[14]).toString(16),rawResponse:R,extraMetaData:{syncMessageData:B,snippet:""}}}return{syncThreadID:R[1],oldGmailThreadID:R[2]&&R[2][1]&&R[2][1][16]||void 0,extraMetaData:{snippet:R[2]&&R[2][1]&&R[2][1][3]||void 0,syncMessageData:(R[3]||[]).filter(function(Q){return Boolean(Q[2])}).map(function(Q){return{syncMessageID:Q[1],date:+Q[2][17],recipients:f(Q)}})}}}).filter(w.default)}function s(C){var O=C&&C[1];if(!O)throw new Error("Failed to process thread response");return O.map(function(V){if(typeof V[0]!="string"||!(0,j.default)(V[2])||V[1]&&V[1][0]&&V[1][0][13]&&(0,j.default)(V[1][1])){var R=V[1]&&V[1][0];if(!R)return null;var P,B=(0,j.default)(V[2])&&V[2];return B?P=B.map(function(z){return{syncMessageID:z[0],date:+z[1][16],recipients:d(z)}}):P=(V[1]&&V[1][1]).map(function(z){return{syncMessageId:z[0],date:+z[15]}}),{subject:R[1],snippet:R[2],syncThreadID:R[0],oldGmailThreadID:new A.default(R[13]).toString(16),rawResponse:V,extraMetaData:{syncMessageData:P,snippet:""}}}return{syncThreadID:V[0],oldGmailThreadID:V[1]&&V[1][0]&&V[1][0][15]||void 0,extraMetaData:{snippet:V[1]&&V[1][0]&&V[1][0][2]||void 0,syncMessageData:(V[2]||[]).filter(function(z){return Boolean(z[1])}).map(function(z){return{syncMessageID:z[0],date:+z[1][16],recipients:d(z)}})}}}).filter(w.default)}function f(C){if(C[2]){var O=C[2][1]||[],V=C[2][2]||[],R=C[2][3]||[];return O.concat(V).concat(R).map(function(P){return{emailAddress:P[2],name:P[3]}})}}function d(C){if(C[1]){var O=C[1][0]||[],V=C[1][1]||[],R=C[1][2]||[];return O.concat(V).concat(R).map(function(P){return{emailAddress:P[1],name:P[2]}})}}function m(C,O,V){var R=JSON.parse(C);if((0,j.default)(R))try{return h(R,O,V)}catch(P){return C}return(R[3]||O.length)&&(R[3]=O.map(function(P,B){return t(t({},P.rawResponse),{},{2:B})})),(R[15]||O.length)&&(R[15]=t(t({},R[15]),{},{1:O.map(function(P){return P.extraMetaData.snippet}),2:O.map(function(P){return P.extraMetaData.syncMessageData.map(function(B){return B.syncMessageID})})})),(0,x.default)(R)}function h(C,O,V){return(C[2]||O.length)&&(C[2]=O.map(function(R,P){var B=R.rawResponse,z=(0,g.default)(B);return z[1]=P,z})),(C[14]||O.length)&&(C[14]=(0,g.default)(C[14]),C[14][0]=O.map(function(R){return R.extraMetaData.snippet}),C[14][1]=O.map(function(R){return R.extraMetaData.syncMessageData.map(function(P){return P.syncMessageID})})),(0,x.default)(C)}var _=e("@babel/runtime-corejs2/core-js/object/keys"),y=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),S=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),v=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),T=e("@babel/runtime-corejs2/core-js/object/define-properties"),E=e("@babel/runtime-corejs2/core-js/object/define-property"),I=e("@babel/runtime-corejs2/helpers/interopRequireDefault");E(i,"__esModule",{value:!0}),i.extractThreadsFromSearchResponse=o,i.extractThreadsFromSearchResponse_20220909=u,i.extractThreadsFromThreadResponse=n,i.replaceThreadsInSearchResponse=m,i.replaceThreadsInSearchResponse_20220909=h;var g=I(e("@babel/runtime-corejs2/helpers/toConsumableArray")),k=I(e("@babel/runtime-corejs2/helpers/defineProperty")),j=I(e("@babel/runtime-corejs2/core-js/array/is-array")),x=I(e("@babel/runtime-corejs2/core-js/json/stringify")),A=I(e("bignumber.js")),w=I(e("../../lib/isNotNil"))},{"../../lib/isNotNil":890,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/toConsumableArray":56,"bignumber.js":99}],702:[function(e,l,i){"use strict";function a(){return!!(0,u.default)(document.styleSheets).find(function(d){try{if(d.cssRules)return(0,u.default)(d.cssRules).find(function(m){return m instanceof CSSStyleRule&&m.selectorText===".Hl"&&m.style.width==="24px"})}catch(m){}return!1})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/helpers/toConsumableArray")),n=o(e("lodash/once")),s=(0,n.default)(function(){return!a()}),f=s;i.default=f},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/toConsumableArray":56,"lodash/once":516}],703:[function(e,l,i){"use strict";function a(){var d=new s.default,m=d.ajaxInterceptStream,h=(0,f.injectScript)().then(function(){return d});return{xhrInterceptStream:u.default.merge([m.filter(function(_){return _.type==="emailSending"}).map(function(_){if(_.draftID)return _;var y=(0,n.parse)(_.body);return{type:"emailSending",composeId:y.composeid,draft:y.draft}}),m.filter(function(_){return _.type==="emailSent"}).map(function(_){if(_.draftID)return _;var y=(0,n.parse)(_.originalSendBody),S=_.responseText;return{type:"emailSent",composeId:y.composeid,draft:y.draft,response:S}}),m.filter(function(_){return _.type==="emailDraftSaveSending"}).map(function(_){if(_.draftID)return _;var y=(0,n.parse)(_.body);return{type:"emailDraftSaveSending",composeId:y.composeid,draft:y.draft}}),m.filter(function(_){return _.type==="emailDraftReceived"}).map(function(_){if(_.draftID)return _;var y=(0,n.parse)(_.originalSendBody),S=_.responseText;return{type:"emailDraftReceived",composeId:y.composeid,draft:y.draft,response:S,connectionDetails:_.connectionDetails}})]),pageCommunicatorPromise:h}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("kefir")),n=e("querystring"),s=o(e("./gmail-page-communicator")),f=e("../../lib/inject-script")},{"../../lib/inject-script":886,"./gmail-page-communicator":699,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,querystring:579}],704:[function(e,l,i){"use strict";function a(I,g){var k=u(I);if(n){var j=n(I);g&&(j=j.filter(function(x){return s(I,x).enumerable})),k.push.apply(k,j)}return k}function t(I){for(var g=1;g<arguments.length;g++){var k=arguments[g]!=null?arguments[g]:{};g%2?a(Object(k),!0).forEach(function(j){(0,_.default)(I,j,k[j])}):f?d(I,f(k)):a(Object(k)).forEach(function(j){m(I,j,s(k,j))})}return I}function o(I,g){function k(A){return j?t(t({},A),{},{logError:function(w,C){var O={el:C,html:C?(0,T.default)(C):null};j.getLogger().errorSite(w,O)}}):A}var j=I,x=new y.default(g,k(v.default));return E.changes().onValue(function(A){console.log("replacing PageParserTree options"),x.replaceOptions(k(A))}),x}var u=e("@babel/runtime-corejs2/core-js/object/keys"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),d=e("@babel/runtime-corejs2/core-js/object/define-properties"),m=e("@babel/runtime-corejs2/core-js/object/define-property"),h=e("@babel/runtime-corejs2/helpers/interopRequireDefault");m(i,"__esModule",{value:!0}),i.default=o;var _=h(e("@babel/runtime-corejs2/helpers/defineProperty")),y=h(e("page-parser-tree")),S=h(e("ud-kefir")),v=h(e("./pageParserOptions")),T=h(e("../../../common/censorHTMLtree")),E=(0,S.default)(l,v.default)},{"../../../common/censorHTMLtree":637,"./pageParserOptions":705,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"page-parser-tree":543,"ud-kefir":624}],705:[function(e,l,i){"use strict";e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=void 0;var a={tags:{},watchers:[{sources:[null],tag:"composeLinkPopOverContainer",selectors:["body",".Lf.a5s"]}],finders:{supportMenu:{fn:function(o){return o.querySelectorAll("header[role=banner] div:not([aria-label]):not([data-ogsr-up]) > div:not(.inboxsdk__appButton) > div[data-tooltip] + div[role=menu]")}},composeLinkPopOverContainer:{fn:function(o){return o.querySelectorAll("body > .Lf.a5s")}}}},t=a;i.default=t},{"@babel/runtime-corejs2/core-js/object/define-property":11}],706:[function(e,l,i){(function(a){(function(){"use strict";var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=o(e("@babel/runtime-corejs2/helpers/createClass")),s=o(e("@babel/runtime-corejs2/helpers/defineProperty")),f=e("ud"),d=o(e("ud-kefir")),m=o(e("kefir")),h=o(e("kefir-stopper")),_=o(e("./primary")),y=o(e("../../../../driver-common/sidebar/ContentPanelViewDriver")),S=(0,d.default)(l,null),v=function(){function E(I,g){var k=this;(0,u.default)(this,E),(0,s.default)(this,"_stopper",(0,h.default)()),(0,s.default)(this,"_driver",void 0),(0,s.default)(this,"_instanceId",void 0),this._driver=I;var j=g.getAttribute("data-sdk-sidebar-instance-id");if(j!=null)this._instanceId=j;else{var x=new _.default(I,g);this._instanceId=x.getInstanceId(),S.changes().onValue(function(){x.destroy(),x=new _.default(I,g),k._instanceId=x.getInstanceId()})}}return(0,n.default)(E,[{key:"destroy",value:function(){this._stopper.destroy()}},{key:"getStopper",value:function(){return this._stopper}},{key:"_getShouldThreadAppSidebarOpen",value:function(){return a.localStorage.getItem("inboxsdk__thread_app_sidebar_should_open")!=="false"}},{key:"_setShouldThreadAppSidebarOpen",value:function(I){try{a.localStorage.setItem("inboxsdk__thread_app_sidebar_should_open",String(I))}catch(g){console.error("error saving",g)}}},{key:"_getShouldGlobalAppSidebarOpen",value:function(){return a.localStorage.getItem("inboxsdk__global_app_sidebar_should_open")==="true"}},{key:"_setShouldGlobalAppSidebarOpen",value:function(I){try{a.localStorage.setItem("inboxsdk__global_app_sidebar_should_open",String(I))}catch(g){console.error("error saving",g)}}},{key:"addThreadSidebarContentPanel",value:function(I,g){var k=new y.default(this._driver,I,this._instanceId);return m.default.merge([g.getStopper(),this._stopper]).take(1).takeUntilBy(k.getStopper()).onValue(function(){return k.remove()}),k}},{key:"addGlobalSidebarContentPanel",value:function(I){var g=new y.default(this._driver,I,this._instanceId,!0);return this._stopper.takeUntilBy(g.getStopper()).onValue(function(){return g.remove()}),g}}]),E}(),T=(0,f.defn)(l,v);i.default=T}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../../driver-common/sidebar/ContentPanelViewDriver":842,"./primary":710,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-stopper":326,ud:625,"ud-kefir":624}],707:[function(e,l,i){"use strict";function a(f,d,m){var h=m.querySelector(n);if(!h)return void f.error(new Error("addCompanionGlobalIconArea: no sidebarIconArea"));var _=h.firstElementChild;if(!_)return void f.error(new Error("addCompanionGlobalIconArea: no nativeIconArea"));_.insertAdjacentElement("beforebegin",d)}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=e("ud"),n=(o(e("../../../../../lib/dom/querySelectorOrFail")),".brC-aT5-aOt-bsf-Jw"),s=(0,u.defn)(l,a);i.default=s},{"../../../../../lib/dom/querySelectorOrFail":869,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,ud:625}],708:[function(e,l,i){"use strict";function a(f,d,m){var h=m.querySelector(n);if(!h)return void f.error(new Error("addCompanionThreadIconArea: no tablist"));var _=m.querySelector("[role=separator]");if(_){if(!_.parentElement)throw new Error;_.parentElement.insertBefore(d,_.nextElementSibling)}else f.error(new Error("addCompanionThreadIconArea: failed to find separator")),h.insertAdjacentElement("beforebegin",d)}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=e("ud"),n=(o(e("kefir")),o(e("../../../../../lib/dom/make-mutation-observer-chunked-stream")),o(e("../../../../../lib/dom/querySelectorOrFail")),"[role=tablist],.J-KU-Jg"),s=(0,u.defn)(l,a);i.default=s},{"../../../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../../../lib/dom/querySelectorOrFail":869,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,ud:625}],709:[function(e,l,i){"use strict";function a(m,h,_,y){(0,u.default)(y.querySelectorAll("[data-app-name]")).forEach(function(v){var T=v.getAttribute("data-app-name"),E=(0,s.default)(m.getOrderedItems(),function(I){return I.value.appName===T});v.setAttribute("data-order-hint",E)});var S=(0,s.default)(m.getOrderedItems(),function(v){return v.value.appName===h});S>-1&&_.setAttribute("data-order-hint",S),(0,f.default)(y,_,["data-order-hint"])}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/helpers/toConsumableArray")),n=e("ud"),s=o(e("lodash/findIndex")),f=o(e("../../../../../lib/dom/insert-element-in-order")),d=(0,n.defn)(l,a);i.default=d},{"../../../../../lib/dom/insert-element-in-order":857,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/toConsumableArray":56,"lodash/findIndex":485,ud:625}],710:[function(e,l,i){(function(a){(function(){"use strict";var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u,n=o(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),s=o(e("@babel/runtime-corejs2/core-js/date/now")),f=o(e("@babel/runtime-corejs2/core-js/map")),d=o(e("@babel/runtime-corejs2/core-js/set")),m=o(e("@babel/runtime-corejs2/core-js/json/stringify")),h=o(e("@babel/runtime-corejs2/core-js/array/from")),_=o(e("@babel/runtime-corejs2/core-js/promise")),y=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),S=o(e("@babel/runtime-corejs2/helpers/createClass")),v=o(e("@babel/runtime-corejs2/helpers/defineProperty")),T=(o(e("lodash/find")),o(e("lodash/findIndex"))),E=e("ud"),I=o(e("auto-html")),g=o(e("asap")),k=o(e("kefir")),j=o(e("kefir-bus")),x=o(e("kefir-stopper")),A=o(e("order-manager")),w=o(e("react")),C=o(e("react-dom")),O=o(e("../../../../../driver-common/sidebar/AppSidebar")),V=o(e("../../../gmail-element-getter")),R=o(e("../../../../../lib/idMap")),P=o(e("../../../../../lib/incrementName")),B=o(e("../../../../../lib/dom/querySelectorOrFail")),z=o(e("../../../../../lib/dom/make-mutation-observer-chunked-stream")),Q=(o(e("../../../../../lib/dom/make-element-child-stream")),e("../../../../../lib/dom/simulate-mouse-event")),N=o(e("../../../../../lib/fake-window-resize")),K=o(e("./add-companion-thread-icon-area")),U=o(e("./add-companion-global-icon-area")),F=o(e("./add-to-icon-area")),Z=function(){function ne(H,X){var oe=this;(0,y.default)(this,ne),(0,v.default)(this,"_stopper",(0,x.default)()),(0,v.default)(this,"_driver",void 0),(0,v.default)(this,"_instanceId","".concat((0,s.default)(),"-").concat(Math.random())),(0,v.default)(this,"_companionSidebarContentContainerEl",void 0),(0,v.default)(this,"_instanceIdsToDescriptors",new f.default),(0,v.default)(this,"_threadSidebarComponent",null),(0,v.default)(this,"_threadIconArea",null),(0,v.default)(this,"_globalIconArea",null),(0,v.default)(this,"_globalButtonContainers",new f.default),(0,v.default)(this,"_threadButtonContainers",new f.default),(0,v.default)(this,"_contentContainers",new f.default),(0,v.default)(this,"_threadSidebarContainerEl",null),(0,v.default)(this,"_companionSidebarOuterWrapper",void 0),(0,v.default)(this,"_currentIds",new d.default),(0,v.default)(this,"_orderManager",new A.default({get:function(){try{return JSON.parse(a.localStorage.getItem("inboxsdk__sidebar_ordering")||"null")}catch(Y){console.error("failed to read sidebar order data",Y)}},set:function(Y){try{a.localStorage.setItem("inboxsdk__sidebar_ordering",(0,m.default)(Y))}catch(se){console.error("failed to set sidebar order data",se)}}})),(0,v.default)(this,"_containerProp",void 0),(0,v.default)(this,"_updateHighlightedAppThreadIconBus",(0,j.default)()),(0,v.default)(this,"_appSidebarRefSetter",function(Y){Y&&(oe._threadSidebarComponent=Y)}),(0,v.default)(this,"_closeButton",null),this._driver=H,this._companionSidebarContentContainerEl=X,this._setupElement()}return(0,S.default)(ne,[{key:"getInstanceId",value:function(){return this._instanceId}},{key:"destroy",value:function(){this._stopper.destroy()}},{key:"_getShouldGlobalAppSidebarOpen",value:function(){return a.localStorage.getItem("inboxsdk__global_app_sidebar_should_open")==="true"}},{key:"_setShouldGlobalAppSidebarOpen",value:function(H){try{a.localStorage.setItem("inboxsdk__global_app_sidebar_should_open",String(H))}catch(X){console.error("error saving",X)}}},{key:"_getShouldThreadAppSidebarOpen",value:function(){return a.localStorage.getItem("inboxsdk__thread_app_sidebar_should_open")!=="false"}},{key:"_setShouldThreadAppSidebarOpen",value:function(H){try{a.localStorage.setItem("inboxsdk__thread_app_sidebar_should_open",String(H))}catch(X){console.error("error saving",X)}}},{key:"_createThreadSidebarIfNeeded",value:function(){var H=this;if(this._threadSidebarContainerEl)return this._threadSidebarContainerEl;var X=this._threadSidebarContainerEl=document.createElement("div");return X.classList.add("thread_app_sidebar",(0,R.default)("app_sidebar_container"),"addon_sidebar"),this._companionSidebarContentContainerEl.insertBefore(X,this._companionSidebarContentContainerEl.firstElementChild),this._containerProp=function(){return X},this._updateHighlightedAppThreadIconBus.bufferWithTimeOrCount(150,100).filter(function(oe){return oe.length>0}).takeUntilBy(this._stopper).onValue(function(){var oe=X.getBoundingClientRect(),Y=(0,h.default)(X.querySelectorAll(".".concat((0,R.default)("app_sidebar_content_panel"),".").concat((0,R.default)("expanded")," .").concat((0,R.default)("app_sidebar_content_panel_top_line")))),se=X.scrollTop,ie=se+oe.height/2,L=Y.find(function(je){var be=je.getBoundingClientRect(),Ne=be.bottom,He=Ne+se;return He>se&&He<ie});if(!L){for(var G,le=0;le<Y.length;le++){var pe=Y[le],we=pe.getBoundingClientRect(),ye=we.bottom;if(ye<0)G=pe;else if(ye>0)break}L=G}if(L){var W=(L.getAttribute("data-instance-id"),L.getAttribute("data-app-name"));if(!W)return;var te=H._threadButtonContainers.get(W);if(!te||!H._threadIconArea)return;var ce=H._threadIconArea.querySelector(".sidebar_button_container_active");ce&&ce.classList.remove("sidebar_button_container_active"),te.classList.add("sidebar_button_container_active")}}),this._updateHighlightedAppThreadIconBus.plug(k.default.fromEvents(X,"scroll").map(function(){return null})),this._renderThreadSidebar(),X}},{key:"_renderThreadSidebarIfPresent",value:function(){this._threadSidebarContainerEl&&this._renderThreadSidebar()}},{key:"_renderThreadSidebar",value:function(){var H=this,X=this._threadSidebarContainerEl;if(!X)throw new Error("_renderThreadSidebar should not be called when _threadSidebarContainerEl is unset");return new _.default(function(oe){C.default.render(w.default.createElement(O.default,{ref:H._appSidebarRefSetter,panels:H._orderManager.getOrderedItems().map(function(Y){return Y.value}),onMoveEnd:function(Y,se,ie,L){H._orderManager.moveItem(ie,L),H._renderThreadSidebar()},onExpandedToggle:function(){H._updateHighlightedAppThreadIconBus.emit(null)},container:H._containerProp}),X,function(){if(!H._threadSidebarComponent)throw new Error("Should not happen");oe(H._threadSidebarComponent),H._updateHighlightedAppThreadIconBus.emit(null)})})}},{key:"_getActiveButtonContainer",value:function(){var H;return this._globalIconArea&&(H=this._globalIconArea.querySelector(".sidebar_button_container_active")),!H&&this._threadIconArea&&(H=this._threadIconArea.querySelector(".sidebar_button_container_active")),H}},{key:"_addButton",value:function(H,X,oe){var Y=this;(0,g.default)(function(){if(!H)throw new Error("should not happen");var se,ie=X.detail.instanceId,L=oe&&X.detail.iconUrl?X.detail.iconUrl:X.detail.appIconUrl,G=X.detail.appName,le=X.detail.iconClass||"",pe=oe?Y._globalButtonContainers.get(G):Y._threadButtonContainers.get(G);if(pe){var we=Number(pe.getAttribute("data-count"))||1;pe.setAttribute("data-count",String(we+1)),se=pe}else{se=document.createElement("div"),se.className=(0,R.default)("sidebar_button_container"),se.setAttribute("data-app-name",G),se.innerHTML=(0,I.default)(u||(u=(0,n.default)([`
          <button class="inboxsdk__button_icon `,'" type="button" data-tooltip="',`">
            <img class="inboxsdk__button_iconImg" src="`,`">
          </button>
          <div class="inboxsdk__button_selectedIndicator"></div>
        `])),le,G,L),X.detail.primaryColor&&((0,B.default)(se,".inboxsdk__button_selectedIndicator").style.backgroundColor=X.detail.primaryColor),oe?Y._globalButtonContainers.set(G,se):Y._threadButtonContainers.set(G,se);var ye=function(){var je=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Y._getActiveButtonContainer()===se){if(!Y._closeButton)throw new Error;Y._closeButton(!0)}else{if(Y._closeButton&&Y._closeButton(!0),oe?Y._setShouldGlobalAppSidebarOpen(!0):Y._setShouldThreadAppSidebarOpen(!0),Y._openSidebarAndActivateButton(se,oe),oe){var be=Y._contentContainers.get(G);be&&(be.style.display=""),Y._companionSidebarContentContainerEl.classList.add("companion_global_app_sidebar_visible"),document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelActivated",{bubbles:!0,cancelable:!1,detail:{instanceId:ie}}))}else{var Ne=Y._threadSidebarComponent;if(!Ne)throw new Error("sidebar not mounted");je||(Ne.openPanel(ie),Ne.scrollPanelIntoView(ie,!0))}Y._closeButton=function(He){Y._closeButton=null;var Qe=Y._getActiveButtonContainer();if(!Qe)throw new Error("Expected activeButtonContainer");if(Y._closeSidebarAndDeactivateButton(Qe),oe){He&&Y._setShouldGlobalAppSidebarOpen(!1);var Be=Y._contentContainers.get(G);Be?Be.style.display="none":Y._driver.getLogger().error(new Error("Unexpected: contentEl not set")),document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelDeactivated",{bubbles:!0,cancelable:!1,detail:{instanceId:ie}}))}else He&&Y._setShouldThreadAppSidebarOpen(!1);(0,N.default)()},(0,N.default)()}};(0,B.default)(se,"button").addEventListener("click",function(je){je.stopPropagation(),ye()},!0),H&&(0,F.default)(Y._orderManager,G,se,H);var W=Y._getActiveButtonContainer();if(oe){if(Y._getShouldGlobalAppSidebarOpen()){var te=Y._globalIconArea&&W&&Y._globalIconArea.contains(W);te||ye(!0)}}else if(Y._getShouldThreadAppSidebarOpen()){var ce=Y._threadIconArea&&W&&Y._threadIconArea.contains(W);ce||ye(!0)}}})}},{key:"_removeButton",value:function(H,X,oe){var Y=H.detail.appName,se=X.get(Y);if(!oe||!se)throw new Error("should not happen: tried to remove button without container or iconArea");var ie=Number(se.getAttribute("data-count"));if(ie<=1){if(se===oe.querySelector(".sidebar_button_container_active")){if(!this._closeButton)throw new Error;this._closeButton(!1),this._companionSidebarOuterWrapper.classList.remove("companion_app_sidebar_wrapper_visible"),this._companionSidebarContentContainerEl.classList.remove("companion_app_sidebar_visible");var L=this._companionSidebarOuterWrapper.previousElementSibling;L&&L.classList.remove("companion_container_app_sidebar_visible")}se.remove(),X.delete(Y)}else ie===2?se.removeAttribute("data-count"):se.setAttribute("data-count",String(ie-1))}},{key:"_closeSidebarAndDeactivateButton",value:function(H){H.classList.remove("sidebar_button_container_active"),this._companionSidebarOuterWrapper.classList.remove("companion_app_sidebar_wrapper_visible"),this._companionSidebarContentContainerEl.classList.add("brC-brG-btc"),this._companionSidebarContentContainerEl.classList.remove("companion_app_sidebar_visible","companion_global_app_sidebar_visible");var X=this._companionSidebarOuterWrapper.previousElementSibling;X&&X.classList.remove("companion_container_app_sidebar_visible")}},{key:"_openSidebarAndActivateButton",value:function(H,X){var oe=V.default.getCompanionSidebarIconContainerElement();if(!oe)throw new Error("Could not find companion sidebar icon container element");if(this._getActiveButtonContainer())throw new Error("activeButtonContainer should not be true");var Y=oe.querySelector(".aT5-aOt-I-KO");Y&&(0,Q.simulateClick)(Y),H.classList.add("sidebar_button_container_active"),this._companionSidebarOuterWrapper.classList.add("companion_app_sidebar_wrapper_visible"),this._companionSidebarContentContainerEl.classList.add("companion_app_sidebar_visible"),this._companionSidebarContentContainerEl.classList.remove("brC-brG-btc");var se=this._companionSidebarOuterWrapper.previousElementSibling;se&&se.classList.add("companion_container_app_sidebar_visible"),X&&this._companionSidebarContentContainerEl.classList.add("companion_global_app_sidebar_visible")}},{key:"_setupElement",value:function(){var H=this,X=V.default.getCompanionSidebarIconContainerElement();if(!X)throw new Error("Could not find companion sidebar icon container element");if(this._companionSidebarContentContainerEl.setAttribute("data-sdk-sidebar-instance-id",this._instanceId),this._companionSidebarOuterWrapper=this._companionSidebarContentContainerEl.classList.contains("bq9")?this._companionSidebarContentContainerEl:this._companionSidebarContentContainerEl.parentElement,!this._companionSidebarOuterWrapper)throw new Error("should not happen: failed to find companionSidebarOuterWrapper");var oe=this._companionSidebarOuterWrapper.previousElementSibling;if(oe&&oe.classList.add((0,R.default)("companion_container_app_sidebar_in_use")),this._companionSidebarContentContainerEl.classList.add((0,R.default)("app_sidebar_in_use")),!document.body.querySelector("."+(0,R.default)("app_sidebar_waiting_platform"))){var Y=document.createElement("div");Y.className=(0,R.default)("app_sidebar_waiting_platform"),document.body.appendChild(Y)}k.default.fromEvents(window,"storage").filter(function(L){return L.key==="inboxsdk__sidebar_ordering"}).takeUntilBy(this._stopper).onValue(function(){H._orderManager.reload(),H._renderThreadSidebarIfPresent()}),k.default.fromEvents(document.body,"inboxsdkNewSidebarPanel").filter(function(L){return L.detail.sidebarId===H._instanceId&&!L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){H._createThreadSidebarIfNeeded();for(var G=L.detail.id;H._currentIds.has(G);)G=(0,P.default)(G);H._currentIds.add(G);var le=L.detail.appName;H._orderManager.addItem({groupId:L.detail.appId,id:G,orderHint:L.detail.orderHint,value:{id:G,appName:le,appId:L.detail.appId,instanceId:L.detail.instanceId,title:L.detail.title,iconClass:L.detail.iconClass,iconUrl:L.detail.iconUrl,hideTitleBar:L.detail.hideTitleBar,el:L.target}}),H._renderThreadSidebar();var pe=H._threadIconArea=X.querySelector(".sidebar_thread_iconArea");pe||(pe=H._threadIconArea=document.createElement("div"),pe.className=(0,R.default)("sidebar_iconArea"),pe.classList.add("sidebar_thread_iconArea"),(0,K.default)(H._driver.getLogger(),pe,X)),H._addButton(pe,L,!1)}),k.default.fromEvents(document.body,"inboxsdkUpdateSidebarPanel").filter(function(L){return L.detail.sidebarId===H._instanceId&&!L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){var G=H._orderManager.getOrderedItems(),le=(0,T.default)(G,function(pe){return pe.value.instanceId===L.detail.instanceId});if(le===-1)throw new Error("should not happen: failed to find orderItem");H._orderManager.updateItemValueByIndex(le,{id:G[le].value.id,appId:L.detail.appId,appName:L.detail.appName||L.detail.title,instanceId:L.detail.instanceId,title:L.detail.title,iconClass:L.detail.iconClass,iconUrl:L.detail.iconUrl,hideTitleBar:L.detail.hideTitleBar,el:L.target}),H._renderThreadSidebar()}),k.default.fromEvents(document.body,"inboxsdkRemoveSidebarPanel").filter(function(L){return L.detail.sidebarId===H._instanceId&&!L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){var G=H._orderManager.getOrderedItems(),le=(0,T.default)(G,function(pe){return pe.value.instanceId===L.detail.instanceId});if(le===-1)throw new Error("should not happen: failed to find orderItem");H._currentIds.delete(G[le].id),H._orderManager.removeItemByIndex(le),H._renderThreadSidebar(),H._removeButton(L,H._threadButtonContainers,H._threadIconArea)}),k.default.fromEvents(document.body,"inboxsdkSidebarPanelScrollIntoView").filter(function(L){return L.detail.sidebarId===H._instanceId&&!L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){H._threadSidebarComponent&&H._threadSidebarComponent.scrollPanelIntoView(L.detail.instanceId)}),k.default.fromEvents(document.body,"inboxsdkSidebarPanelClose").filter(function(L){return L.detail.sidebarId===H._instanceId&&!L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){H._threadSidebarComponent&&H._threadSidebarComponent.closePanel(L.detail.instanceId)}),k.default.fromEvents(document.body,"inboxsdkSidebarPanelOpen").filter(function(L){return L.detail.sidebarId===H._instanceId&&!L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){H._renderThreadSidebar().then(function(G){var le=H._instanceIdsToDescriptors.get(L.detail.instanceId);if(le){var pe=H._threadButtonContainers.get(le.appName);if(!pe)throw new Error("missing button container");H._getActiveButtonContainer()!==pe&&(0,B.default)(pe,"button").click()}})}),k.default.fromEvents(document.body,"inboxsdkNewSidebarPanel").filter(function(L){return L.detail.sidebarId===H._instanceId&&L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){for(var G=L.detail.id;H._currentIds.has(G);)G=(0,P.default)(G);H._currentIds.add(G);var le=L.detail.appName,pe=H._globalIconArea=X.querySelector(".sidebar_global_iconArea");pe||(pe=H._globalIconArea=document.createElement("div"),pe.className=(0,R.default)("sidebar_iconArea"),pe.classList.add("sidebar_global_iconArea"),(0,U.default)(H._driver.getLogger(),pe,X));var we=document.createElement("div");we.classList.add("addon_sidebar",(0,R.default)("app_sidebar_container"),"global_app_sidebar"),H._companionSidebarContentContainerEl.insertAdjacentElement("afterbegin",we),H._contentContainers.set(le,we),we.appendChild(L.target),we.style.display="none",H._addButton(pe,L,!0)}),k.default.fromEvents(document.body,"inboxsdkUpdateSidebarPanel").filter(function(L){return L.detail.sidebarId===H._instanceId&&L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){var G=H._globalButtonContainers.get(L.detail.appName);if(G){var le=L.detail.iconClass||"",pe=L.detail.iconUrl||L.detail.appIconUrl;(0,B.default)(G,"img").setAttribute("src",pe),(0,B.default)(G,"button").setAttribute("class","inboxsdk__button_icon ".concat(le))}}),k.default.fromEvents(document.body,"inboxsdkRemoveSidebarPanel").filter(function(L){return L.detail.sidebarId===H._instanceId&&L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){H._currentIds.delete(L.detail.id),H._removeButton(L,H._globalButtonContainers,H._globalIconArea)}),k.default.fromEvents(document.body,"inboxsdkSidebarPanelClose").filter(function(L){return L.detail.sidebarId===H._instanceId&&L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){var G=H._instanceIdsToDescriptors.get(L.detail.instanceId);if(G){var le=H._globalButtonContainers.get(G.appName);if(le&&H._getActiveButtonContainer()===le){if(!H._closeButton)throw new Error("Expected this._closeButton");H._closeButton(!0)}}}),k.default.fromEvents(document.body,"inboxsdkSidebarPanelOpen").filter(function(L){return L.detail.sidebarId===H._instanceId&&L.detail.isGlobal}).takeUntilBy(this._stopper).onValue(function(L){var G=H._instanceIdsToDescriptors.get(L.detail.instanceId);if(G){var le=H._globalButtonContainers.get(G.appName);le&&H._getActiveButtonContainer()!==le&&(0,B.default)(le,"button").click()}}),k.default.fromEvents(document.body,"inboxsdkNewSidebarPanel").filter(function(L){return L.detail.sidebarId===H._instanceId}).takeUntilBy(this._stopper).onValue(function(L){H._instanceIdsToDescriptors.set(L.detail.instanceId,L.detail)}),k.default.fromEvents(document.body,"inboxsdkRemoveSidebarPanel").filter(function(L){return L.detail.sidebarId===H._instanceId}).takeUntilBy(this._stopper).onValue(function(L){H._instanceIdsToDescriptors.delete(L.detail.instanceId)}),k.default.fromEvents(document.body,"inboxsdkUpdateSidebarPanel").filter(function(L){return L.detail.sidebarId===H._instanceId}).takeUntilBy(this._stopper).onValue(function(L){H._instanceIdsToDescriptors.set(L.detail.instanceId,L.detail)});var se=this._companionSidebarContentContainerEl.children[0],ie=this._companionSidebarContentContainerEl.children[1];k.default.merge([se,ie].map(function(L){return(0,z.default)(L,{attributes:!0,attributeFilter:["style"]})})).filter(function(){return se.style.display!==ie.style.display}).takeUntilBy(this._stopper).onValue(function(){var L=H._getActiveButtonContainer();L&&(0,B.default)(L,"button").click()})}}]),ne}(),$=(0,E.defn)(l,Z);i.default=$}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../../../driver-common/sidebar/AppSidebar":841,"../../../../../lib/dom/make-element-child-stream":860,"../../../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../../../lib/dom/querySelectorOrFail":869,"../../../../../lib/dom/simulate-mouse-event":875,"../../../../../lib/fake-window-resize":878,"../../../../../lib/idMap":883,"../../../../../lib/incrementName":885,"../../../gmail-element-getter":696,"./add-companion-global-icon-area":707,"./add-companion-thread-icon-area":708,"./add-to-icon-area":709,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,asap:83,"auto-html":89,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/find":484,"lodash/findIndex":485,"order-manager":537,react:606,"react-dom":584,ud:625}],711:[function(e,l,i){"use strict";function a(I,g){var k=document.createElement("div");k.setAttribute("class","inboxsdk__appButton"),k.innerHTML=`<a href="#">
               <span class="inboxsdk__appButton_title"></span>
             </a>`,k.addEventListener("click",function(O){O.preventDefault(),g(O)});var j=y.default.getTopAccountContainer();if(!j){var x=new Error("Could not make button"),A=document.querySelector("[role=banner]");throw I.getLogger().error(x,{type:"failed to make appToolbarButton",gbsfwPresent:!!document.getElementById("gbsfw"),bannerHtml:A&&(0,m.default)(A)}),x}var w=j;if(!w){var C=new Error("Could not make button");throw I.getLogger().error(C,{type:"failed to make appToolbarButton",topAccountContainerHTML:(0,m.default)(j)}),C}try{return y.default.isGplusEnabled()||k.classList.add("inboxsdk__appButton_noGPlus"),w.insertBefore(k,w.lastElementChild),k}catch(O){throw I.getLogger().error(O,{type:"failed to make appToolbarButton",insertionElementHTML:(0,m.default)(w)}),O}}function t(I,g){I.textContent=g.title,I.className="inboxsdk__appButton_title ".concat(g.titleClass||"")}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=u(e("@babel/runtime-corejs2/helpers/classCallCheck")),s=u(e("@babel/runtime-corejs2/helpers/createClass")),f=u(e("@babel/runtime-corejs2/helpers/defineProperty")),d=u(e("../../../lib/dom/querySelectorOrFail")),m=u(e("../../../../common/censorHTMLtree")),h=(u(e("kefir")),u(e("kefir-stopper"))),_=u(e("../../../driver-common/update-icon")),y=u(e("../gmail-element-getter")),S=u(e("../widgets/gmail-tooltip-view")),v=u(e("../../../widgets/buttons/dropdown-view")),T=u(e("./gmail-app-toolbar-button-view/monitor-top-banner-size-and-react")),E=function(){function I(g,k){var j=this;(0,n.default)(this,I),(0,f.default)(this,"_stopper",void 0),(0,f.default)(this,"_iconSettings",void 0),(0,f.default)(this,"_element",null),(0,f.default)(this,"_activeDropdown",void 0),(0,f.default)(this,"_buttonDescriptor",void 0),(0,f.default)(this,"_driver",void 0),this._driver=g,this._stopper=(0,h.default)(),this._iconSettings={},k.takeUntilBy(this._stopper).onValue(function(x){try{j._handleButtonDescriptor(x)}catch(A){j._driver.getLogger().error(A)}}),(0,T.default)()}return(0,s.default)(I,[{key:"destroy",value:function(){this._stopper.destroy(),this._element&&this._element.remove(),this._activeDropdown&&this._activeDropdown.close()}},{key:"getStopper",value:function(){return this._stopper}},{key:"getElement",value:function(){return this._element}},{key:"open",value:function(){try{this._activeDropdown||this._handleClick()}catch(g){this._driver.getLogger().error(g)}}},{key:"close",value:function(){try{this._activeDropdown&&this._handleClick()}catch(g){this._driver.getLogger().error(g)}}},{key:"_handleButtonDescriptor",value:function(g){var k=this;if(!g)throw new Error("The application passed an invalid value for buttonDescriptor");var j=this._element=this._element||a(this._driver,function(){k._handleClick()});this._buttonDescriptor=g,(0,_.default)(this._iconSettings,(0,d.default)(j,"a"),!1,g.iconClass,g.iconUrl),t((0,d.default)(j,"span"),g)}},{key:"_handleClick",value:function(){var g=this,k=this._element;if(k){var j=this._buttonDescriptor;if(!j)throw new Error("app toolbar button clicked before receiving button descriptor");if(this._activeDropdown)this._activeDropdown.close();else{var x={},A=new S.default;A.getContainerElement().classList.add("inboxsdk__appButton_tooltip"),A.getContentElement().innerHTML="",j.arrowColor&&((0,d.default)(A.getContainerElement(),".T-P-atC").style.borderTopColor=j.arrowColor),x.dropdown=this._activeDropdown=new v.default(A,k,{manualPosition:!0}),x.dropdown.on("destroy",function(){g._activeDropdown=null}),j.onClick&&j.onClick.call(null,x),this._element&&A.anchor(this._element,{position:"bottom",offset:{top:8}})}}}}]),I}();i.default=E},{"../../../../common/censorHTMLtree":637,"../../../driver-common/update-icon":843,"../../../lib/dom/querySelectorOrFail":869,"../../../widgets/buttons/dropdown-view":942,"../gmail-element-getter":696,"../widgets/gmail-tooltip-view":775,"./gmail-app-toolbar-button-view/monitor-top-banner-size-and-react":712,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-stopper":326}],712:[function(e,l,i){(function(a){(function(){"use strict";function t(){var u=a.ResizeObserver;if(u){var n=document.body;if(n){var s=n.querySelector("[role=banner]");s&&!s.hasAttribute("inboxsdk__resize_claimed")&&(s.setAttribute("inboxsdk__resize_claimed","true"),new u(function(){s.clientWidth<o?n.classList.add("inboxsdk__searchIsNarrow"):n.classList.remove("inboxsdk__searchIsNarrow")}).observe(s))}}}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=t;var o=900}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"@babel/runtime-corejs2/core-js/object/define-property":11}],713:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/weak-map")),u=t(e("@babel/runtime-corejs2/core-js/array/from")),n=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),s=t(e("@babel/runtime-corejs2/helpers/createClass")),f=t(e("@babel/runtime-corejs2/helpers/defineProperty")),d=e("ud"),m=t(e("./gmail-attachment-card-view")),h=t(e("../widgets/buttons/button-view")),_=t(e("../../../lib/dom/querySelectorOrFail")),y=t(e("../../../widgets/buttons/basic-button-view-controller")),S=(0,d.defn)(l,function(){function T(E,I,g){(0,n.default)(this,T),(0,f.default)(this,"_element",void 0),(0,f.default)(this,"_messageViewDriver",void 0),(0,f.default)(this,"_driver",void 0),(0,f.default)(this,"_elsToCardViews",void 0),this._driver=I,this._messageViewDriver=g,this._elsToCardViews=new o.default,E?this._element=E:this._setupElement()}return(0,s.default)(T,[{key:"destroy",value:function(){this.getAttachmentCardViews().forEach(function(E){E.destroy()})}},{key:"getElement",value:function(){return this._element}},{key:"getAttachmentCardViews",value:function(){var E=this,I=this._element.querySelectorAll(".aQH > span");return(0,u.default)(I).map(function(g){var k=E._elsToCardViews.get(g);return k||(k=new m.default({element:g},E._driver,E._messageViewDriver),E._elsToCardViews.set(g,k)),k})}},{key:"_setupElement",value:function(){this._element=document.createElement("div"),this._element.setAttribute("class","hq gt a10"),this._element.innerHTML=['<div class="hp"></div>','<div class="a3I">Attachments area</div>',"<div></div>",'<div class="aQH">','<div class="aZK"></div>',"</div>"].join("")}},{key:"_createAreaToolbarIfNeeded",value:function(){var E=this._element.querySelector(".ho");if(E)return E;var I=document.createElement("div");return I.className="ho",I.innerHTML='<span class="aVW"><span>'.concat(this.getAttachmentCardViews().length,'</span> Attachments</span><div class="aZi J-J5-Ji"></div>'),this._element.insertBefore(I,this._element.lastElementChild),this._element.classList.remove("a10"),I}},{key:"_updateToolbarCardCount",value:function(){var E=this.getAttachmentCardViews().length;if(E>1){var I=this._createAreaToolbarIfNeeded();(0,_.default)(I,".aVW > span").textContent=String(E)}}},{key:"addGmailAttachmentCardView",value:function(E){var I=this._element.querySelector(".aXK, .aQH");if(!I)return void this._driver.getLogger().error(new Error("Could not find attachment zone"));I.insertBefore(E.getElement(),I.lastElementChild),this._updateToolbarCardCount()}},{key:"addButtonToDownloadAllArea",value:function(E){var I=new h.default({iconClass:"T-I-J3",iconUrl:E.iconUrl,tooltip:E.tooltip,hasButtonToLeft:!0});I.addClass("aZj"),I.getElement().children[0].className="asa";var g=(new y.default({activateFunction:function(){E.onClick&&E.onClick()},buttonView:I}),this._createAreaToolbarIfNeeded());(0,_.default)(g,".aZi").appendChild(I.getElement())}}]),T}()),v=S;i.default=v},{"../../../lib/dom/querySelectorOrFail":869,"../../../widgets/buttons/basic-button-view-controller":940,"../widgets/buttons/button-view":763,"./gmail-attachment-card-view":714,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,ud:625}],714:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o,u,n,s,f=t(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),d=t(e("@babel/runtime-corejs2/regenerator")),m=t(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),h=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),_=t(e("@babel/runtime-corejs2/helpers/createClass")),y=t(e("@babel/runtime-corejs2/helpers/defineProperty")),S=t(e("lodash/find")),v=t(e("kefir")),T=t(e("kefir-stopper")),E=(t(e("util")),t(e("auto-html"))),I=e("ud"),g=t(e("../../../lib/from-event-target-capture")),k=t(e("../../../lib/dom/querySelectorOrFail")),j=t(e("../widgets/buttons/button-view")),x=t(e("../../../widgets/buttons/basic-button-view-controller")),A=e("../../../lib/dom/simulate-mouse-event"),w=t(e("../../../lib/wait-for")),C=(t(e("../../../lib/stream-wait-for")),function(){function V(R,P,B){(0,h.default)(this,V),(0,y.default)(this,"_element",void 0),(0,y.default)(this,"_driver",void 0),(0,y.default)(this,"_messageViewDriver",void 0),(0,y.default)(this,"_cachedType",void 0),(0,y.default)(this,"_stopper",(0,T.default)()),(0,y.default)(this,"_previewClicks",v.default.pool()),this._driver=P,this._messageViewDriver=B,R.element?this._element=R.element:this._createNewElement(R)}return(0,_.default)(V,[{key:"destroy",value:function(){this._stopper.destroy()}},{key:"getElement",value:function(){return this._element}},{key:"getMessageViewDriver",value:function(){return this._messageViewDriver}},{key:"getStopper",value:function(){return this._stopper}},{key:"getPreviewClicks",value:function(){return this._previewClicks.takeUntilBy(this._stopper)}},{key:"_isStandardAttachment",value:function(){return this.getAttachmentType()==="FILE"}},{key:"getAttachmentType",value:function(){if(this._cachedType)return this._cachedType;var R=this._readAttachmentType();return R!=="UNLOADED"&&(this._cachedType=R),R}},{key:"_readAttachmentType",value:function(){if(this._element.classList.contains("inboxsdk__attachmentCard"))return"CUSTOM";if(this._element.children.length===1&&this._element.children[0].children.length===0)return"UNLOADED";var R=this._getDownloadLink();return!R||R.match(/^https?:\/\/mail\.google\.com\//)?"FILE":R.match(/^https?:\/\/([^/]*\.)?google(usercontent)?\.com\//)?"DRIVE":"UNKNOWN"}},{key:"addButton",value:function(R){var P=this,B=new j.default({iconUrl:R.iconUrl,tooltip:R.tooltip});new x.default({activateFunction:function(){R.onClick&&R.onClick({getDownloadURL:function(){return P.getDownloadURL()}})},buttonView:B}),this._addButton(B)}},{key:"getTitle",value:function(){var R=this._element.querySelector("span .aV3");return R?R.textContent:""}},{key:"_getDownloadLink",value:function(){var R=this._element.firstElementChild;if(!R)throw new Error("Failed to find link");if(R.tagName==="A"&&R.href){var P=R.href;return P&&P.replace(/([?&])disp=inline(?=&|$)/,"$1disp=safe")}var B=this._element.getAttribute("download_url");if(B){var z=/:(https:\/\/[^:]+)/.exec(B);return z?z[1]:null}}},{key:"getDownloadURL",value:function(){function R(){return P.apply(this,arguments)}var P=(0,m.default)(d.default.mark(function B(){var z,Q,N,K,U=this;return d.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(F.prev=0,!this._isStandardAttachment()){F.next=19;break}return F.next=4,(0,w.default)(function(){return U._getDownloadLink()});case 4:if(z=F.sent){F.next=7;break}return F.abrupt("return",null);case 7:return F.next=9,this._driver.resolveUrlRedirects(z);case 9:if(Q=F.sent,/^https:\/\/mail-attachment\.googleusercontent\.com\/attachment\//.test(Q)){F.next=16;break}if(console.error("getDownloadURL returned unexpected url",Q),N=new Error("getDownloadURL returned unexpected url"),this._driver.getLogger().error(N,{finalUrlCensored:Q.replace(/\?[^/]+$/,"?[...]")}),!/^https:\/\/mail\.google\.com\//.test(Q)){F.next=16;break}throw N;case 16:return F.abrupt("return",Q);case 19:return K=this._element.querySelector("[data-inboxsdk-download-url]"),F.abrupt("return",K?K.getAttribute("data-inboxsdk-download-url"):null);case 21:F.next=27;break;case 23:throw F.prev=23,F.t0=F.catch(0),this._driver.getLogger().error(F.t0),F.t0;case 27:case"end":return F.stop()}},B,this,[[0,23]])}));return R}()},{key:"_extractFileNameFromElement",value:function(){return(0,k.default)(this._element,".aQA > span").textContent}},{key:"_createNewElement",value:function(R){this._element=document.createElement("span"),this._element.classList.add("aZo"),this._element.classList.add("inboxsdk__attachmentCard");var P=[(0,E.default)(o||(o=(0,f.default)([`
			<a target="_blank" role="link" class="aQy e" href="">
				<div aria-hidden="true">
					<div class="aSG"></div>
					<div class="aVY aZn">
						<div class="aZm"></div>
					</div>
					<div class="aSH">`])))];if(P=R.iconThumbnailUrl?P.concat([(0,E.default)(u||(u=(0,f.default)([`
				<div class="aYv">
					<img class="aZG aYw" src="`,`">
				</div>`])),R.iconThumbnailUrl)]):P.concat([(0,E.default)(n||(n=(0,f.default)([`
				<img class="aQG aYB inboxsdk__attachmentCard_previewThumbnailUrl"
					src="`,'">'])),R.previewThumbnailUrl)]),P=P.concat([(0,E.default)(s||(s=(0,f.default)([`
			<div class="aYy">
				<div class="aYA">
					<img class="aSM" src="`,`">
				</div>
				<div class="aYz">
					<div class="a12">
						<div class="aQA">
							<span class="aV3 a6U"></span>
						</div>
						<div class="aYp">
							<span class="SaH2Ve"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="aSI">
			<div class="aSJ"></div>
		</div>
	</div>
</a>
<div class="aQw"></div>`])),R.fileIconImageUrl)]),this._element.innerHTML=P.join(""),this._element.children[0].href=R.previewUrl,R.mimeType&&R.mimeType.split("/")[0]==="image"&&this._element.children[0].classList.add("aZI"),(0,k.default)(this._element,"span .aV3").textContent=R.title,(0,k.default)(this._element,"div.aYp > span").textContent=R.description||"",(0,k.default)(this._element,"div.aSJ").style.borderColor=R.foldColor,this._addHoverEvents(),R.buttons){var B=(0,S.default)(R.buttons,function(Q){return Q.downloadUrl});B&&this._addDownloadButton(B),this._addMoreButtons(R.buttons)}if(this._previewClicks.plug(v.default.fromEvents(this._element,"click").map(function(Q){return{preventDefault:function(){return Q.preventDefault()}}})),R.previewThumbnailUrl&&R.failoverPreviewIconUrl){var z=(0,k.default)(this._element,".inboxsdk__attachmentCard_previewThumbnailUrl");z.onerror=function(Q){var N=document.createElement("div");N.classList.add("aYv"),N.innerHTML='<img class="aZG aYw" src="'+R.failoverPreviewIconUrl+'">';var K=z.parentElement;if(!K)throw new Error("Could not find parent element");K.insertBefore(N,z.nextElementSibling),z.remove()}}}},{key:"_addHoverEvents",value:function(){var R=this;v.default.merge([v.default.fromEvents(this._element,"mouseenter"),(0,g.default)(this._element,"focus")]).onValue(function(){R._element.classList.add("aZp")}),v.default.merge([v.default.fromEvents(this._element,"mouseleave"),(0,g.default)(this._element,"blur")]).onValue(function(){R._element.classList.remove("aZp")});var P=(0,k.default)(this._element,"a");v.default.fromEvents(P,"focus").onValue(function(){P.classList.add("a1U")}),v.default.fromEvents(P,"blur").onValue(function(){P.classList.remove("a1U")})}},{key:"_addDownloadButton",value:function(R){var P=new j.default({tooltip:"Download",iconClass:"aSK J-J5-Ji aYr"});P.getElement().setAttribute("data-inboxsdk-download-url",R.downloadUrl),new x.default({activateFunction:function(){var B=!1;if(R.onClick&&R.onClick({preventDefault:function(){B=!0}}),!B){var z=document.createElement("a");z.href=R.downloadUrl,R.downloadFilename&&(z.download=R.downloadFilename),z.addEventListener("click",function(Q){Q.stopPropagation()},!0),R.openInNewTab&&z.setAttribute("target","_blank"),document.body.appendChild(z),(0,A.simulateClick)(z),z.remove()}},buttonView:P}),this._addButton(P)}},{key:"_addMoreButtons",value:function(R){var P=this;(R||[]).filter(function(B){return!B.downloadUrl}).forEach(function(B){P.addButton(B)})}},{key:"_addButton",value:function(R){R.addClass("aQv"),this._getButtonContainerElement().appendChild(R.getElement())}},{key:"_getPreviewImageUrl",value:function(){var R=this._getPreviewImage();return R?R.src:null}},{key:"_getPreviewImage",value:function(){return this._element.querySelector("img.aQG")}},{key:"_getButtonContainerElement",value:function(){return(0,k.default)(this._element,".aQw")}}]),V}()),O=(0,I.defn)(l,C);i.default=O},{"../../../lib/dom/querySelectorOrFail":869,"../../../lib/dom/simulate-mouse-event":875,"../../../lib/from-event-target-capture":879,"../../../lib/stream-wait-for":902,"../../../lib/wait-for":905,"../../../widgets/buttons/basic-button-view-controller":940,"../widgets/buttons/button-view":763,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"@babel/runtime-corejs2/regenerator":59,"auto-html":89,kefir:327,"kefir-stopper":326,"lodash/find":484,ud:625,util:629}],715:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=e("ud"),f=(t(e("kefir")),t(e("kefir-stopper"))),d=function(){function h(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:500,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;(0,o.default)(this,h),(0,n.default)(this,"_stopper",(0,f.default)());var S=document.createElement("div");if(S.className="Kj-JD-Jh inboxsdk__modal_overlay",S.style.zIndex=String(_),!y)throw new Error("no target");y.appendChild(S),this._stopper.onValue(function(){S.remove()})}return(0,u.default)(h,[{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._stopper.destroy()}}]),h}(),m=(0,s.defn)(l,d);i.default=m},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-stopper":326,ud:625}],716:[function(e,l,i){"use strict";function a(){return["<colgroup>",'<col class="k0vOLb">','<col class="Ci">','<col class="y5">','<col class="WA">','<col class="yY">',"<col>",'<col class="xX">',"</colgroup>","<tbody>","</tbody>"].join("")}function t(K){var U="";K.iconHtml!=null?U=(0,V.default)(s||(s=(0,T.default)([`<div class="inboxsdk__resultsSection_result_icon inboxsdk__resultsSection_result_iconHtml">
        `,`
      </div>`])),{__html:K.iconHtml}):K.iconUrl?U=(0,V.default)(f||(f=(0,T.default)(['<img class="inboxsdk__resultsSection_result_icon ','" src="','">'])),K.iconClass||"",K.iconUrl):K.iconClass&&(U=(0,V.default)(d||(d=(0,T.default)(['<div class="','"></div>'])),K.iconClass));var F=(0,I.default)(K.labels)?K.labels.map(o).join(""):"";return['<td class="xY PF"></td>','<td class="xY oZ-x3"></td>','<td class="xY WA">',U,"</td>",'<td class="xY WA"></td>','<td class="xY yX inboxsdk__resultsSection_result_title">','<div class="yW">',"<span "+(K.isRead?"":'class="zF"')+">",(0,A.default)(K.title),"</span>","</div>","</td>",'<td class="xY a4W">','<div class="xS">','<div class="xT">','<div class="yi">',F,"</div>",'<div class="y6">','<span class="bog">',K.isRead?"":"<b>",(0,A.default)(K.body||""),K.isRead?"":"</b>","</span>","</div>","</div>","</div>","</td>",'<td class="xY xW">',"<span"+(K.isRead?"":' class="bq3"')+">",(0,A.default)(K.shortDetailText||""),"</span>","</td>"].join("")}function o(K){var U=K.backgroundColor||"rgb(194, 194, 194)",F=K.foregroundColor||"rgb(255, 255, 255)",Z=K.maxWidth||"90px",$=[(0,V.default)(m||(m=(0,T.default)(['<div class="ar as" data-tooltip="',`">
      <div class="at" style="background-color: `,"; border-color: ",`;">
        <div class="au" style="border-color: `,';">'])),K.title,U,U,U)],ne=K.iconBackgroundColor?(0,V.default)(h||(h=(0,T.default)(['style="background-color: ','"'])),K.iconBackgroundColor):"";return K.iconHtml!=null?$.push((0,V.default)(_||(_=(0,T.default)([`<div class="inboxsdk__resultsSection_label_icon inboxsdk__resultsSection_label_iconHtml"
        `,`
      >
        `,`
      </div>`])),{__html:ne},{__html:K.iconHtml})):K.iconClass?$.push((0,V.default)(y||(y=(0,T.default)([`<div
        class="inboxsdk__resultsSection_label_icon `,`"
        `,`
        >
      </div>`])),K.iconClass||"",{__html:ne})):K.iconUrl&&$.push((0,V.default)(S||(S=(0,T.default)([`<img
        class="inboxsdk__resultsSection_label_icon"
        `,`
        src="`,'" />'])),{__html:ne},K.iconUrl)),$.push((0,V.default)(v||(v=(0,T.default)([`
          <div class="av" style="color: `,"; max-width: ",`">
            `,`
          </div>
        </div>
      </div>
    </div>
    `])),F,Z,K.title)),$.join("")}var u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s,f,d,m,h,_,y,S,v,T=n(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),E=n(e("@babel/runtime-corejs2/core-js/array/from")),I=n(e("@babel/runtime-corejs2/core-js/array/is-array")),g=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),k=n(e("@babel/runtime-corejs2/helpers/createClass")),j=n(e("@babel/runtime-corejs2/helpers/defineProperty")),x=e("ud"),A=n(e("lodash/escape")),w=n(e("kefir")),C=n(e("kefir-bus")),O=n(e("../../../../common/defer")),V=n(e("auto-html")),R=n(e("../../../lib/dom/querySelectorOrFail")),P=n(e("../widgets/buttons/inbox-dropdown-button-view")),B=n(e("../widgets/gmail-dropdown-view")),z=n(e("../../../widgets/buttons/dropdown-button-view-controller")),Q=function(){function K(U,F,Z,$){(0,g.default)(this,K),(0,j.default)(this,"_driver",void 0),(0,j.default)(this,"_groupOrderHint",void 0),(0,j.default)(this,"_isReadyDeferred",void 0),(0,j.default)(this,"_isCollapsible",void 0),(0,j.default)(this,"_collapsibleSectionDescriptor",{}),(0,j.default)(this,"_isSearch",void 0),(0,j.default)(this,"_element",null),(0,j.default)(this,"_headerElement",null),(0,j.default)(this,"_titleElement",null),(0,j.default)(this,"_bodyElement",null),(0,j.default)(this,"_contentElement",null),(0,j.default)(this,"_tableBodyElement",null),(0,j.default)(this,"_collapsedContainer",null),(0,j.default)(this,"_messageElement",null),(0,j.default)(this,"_footerElement",null),(0,j.default)(this,"_eventStream",void 0),(0,j.default)(this,"_isCollapsed",!1),(0,j.default)(this,"_inboxDropdownButtonView",null),(0,j.default)(this,"_dropdownViewController",null),this._driver=U,this._isSearch=Z,this._groupOrderHint=F,this._isCollapsible=$,this._eventStream=(0,C.default)(),this._isReadyDeferred=new O.default}return(0,k.default)(K,[{key:"destroy",value:function(){this._element&&this._element.remove(),this._eventStream&&this._eventStream.end(),this._headerElement&&this._headerElement.remove(),this._titleElement&&this._titleElement.remove(),this._bodyElement&&this._bodyElement.remove(),this._contentElement&&this._contentElement.remove(),this._tableBodyElement&&this._tableBodyElement.remove(),this._collapsedContainer&&this._collapsedContainer.remove(),this._messageElement&&this._messageElement.remove(),this._inboxDropdownButtonView&&this._inboxDropdownButtonView.destroy(),this._dropdownViewController&&this._dropdownViewController.destroy()}},{key:"getElement",value:function(){var U=this._element;if(!U)throw new Error("tried to access element that does not exist");return U}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"setCollapsibleSectionDescriptorProperty",value:function(U){var F=this,Z=U.takeUntilBy(this._eventStream.filter(function(){return!1}).beforeEnd(function(){return null}));Z.onValue(function($){return F._updateValues($)}),Z.take(1).onValue(function($){return F._isReadyDeferred.resolve(F)})}},{key:"setCollapsed",value:function(U){var F=this;this._isCollapsible&&this._isReadyDeferred.promise.then(function(){U?F._collapse():F._expand()})}},{key:"_updateValues",value:function(U){var F=this._element;if(!U)return void(F&&(F.style.display="none"));F&&(F.style.display=""),F?this._updateElement(U):(this._setupElement(U),this._showLoadingMessage()),this._updateHeader(U),this._updateTitle(U),this._updateSubtitle(U),this._updateSummaryText(U),this._updateDropdown(U),this._updateContentElement(U),this._updateTableRows(U),this._updateMessageElement(U),this._updateFooter(U),this._collapsibleSectionDescriptor=U}},{key:"_setupElement",value:function(U){var F=this,Z=this._element=document.createElement("div");Z.setAttribute("class","inboxsdk__resultsSection"),Z.setAttribute("data-group-order-hint",String(this._groupOrderHint)),Z.setAttribute("data-order-hint",String(typeof U.orderHint=="number"?U.orderHint:0)),this._isCollapsible||Z.classList.add("inboxsdk__resultsSection_nonCollapsible"),this._setupHeader(U);var $=this._bodyElement=document.createElement("div"),ne=document.createElement("div");ne.classList.add("zE"),$.appendChild(ne),Z.appendChild($);var H=this._contentElement=document.createElement("div");ne.appendChild(H);var X=this._messageElement=document.createElement("div");ne.appendChild(X);var oe=this._tableBodyElement=document.createElement("div");ne.appendChild(oe),this._setupFooter(U),this._isCollapsible&&this._titleElement&&w.default.fromEvents(this._titleElement,"click").onValue(function(){return F._toggleCollapseState()}),w.default.fromEvents(Z,"removeCollapsedContainer").onValue(function(){return F._destroyCollapsedContainer()}),w.default.fromEvents(Z,"readdToCollapsedContainer").onValue(function(){return F._addToCollapsedContainer()}),this._eventStream.emit({type:"update",property:"orderHint",sectionDescriptor:U})}},{key:"_setupHeader",value:function(U){var F=this._headerElement=document.createElement("div");F.classList.add("inboxsdk__resultsSection_header","Wg"),this._setupGmailv2Header(F,U),this._element&&this._element.appendChild(F)}},{key:"_setupGmailv2Header",value:function(U,F){var Z=this._titleElement=document.createElement("div");Z.setAttribute("class","inboxsdk__resultsSection_title"),Z.innerHTML=['<h3 class="Wr iR">','<img alt="" src="//ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif" class="qi Wp Wq">','<div class="Wn">',(0,A.default)(F.title),"</div>","</h3>"].join("");var $=document.createElement("div");$.classList.add("Cr"),this._isSearch&&$.classList.add("Wg"),U.appendChild(Z),U.appendChild($)}},{key:"_setupFooter",value:function(U){var F=this._footerElement=document.createElement("div");F.classList.add("inboxsdk__resultsSection_footer"),this._bodyElement&&this._bodyElement.appendChild(F)}},{key:"_updateElement",value:function(U){if(this._collapsibleSectionDescriptor.orderHint!==U.orderHint){var F=this._element;F&&F.setAttribute("data-order-hint",""+(typeof U.orderHint=="number"?U.orderHint:0)),this._eventStream.emit({type:"update",property:"orderHint"})}}},{key:"_updateHeader",value:function(U){this._isCollapsible||U.title||U.subtitle||U.titleLinkText||U.hasDropdown?this._headerElement&&(this._headerElement.style.display=""):this._headerElement&&(this._headerElement.style.display="none")}},{key:"_updateTitle",value:function(U){this._collapsibleSectionDescriptor.title!==U.title&&this._titleElement&&((0,R.default)(this._titleElement,"h3 > .Wn").textContent=U.title)}},{key:"_updateSubtitle",value:function(U){var F=this._titleElement;if(F){var Z=F.querySelector(".inboxsdk__resultsSection_title_subtitle");if(U.subtitle){if(this._collapsibleSectionDescriptor.subtitle!==U.subtitle){if(!Z&&(Z=document.createElement("span"))&&F){Z.classList.add("inboxsdk__resultsSection_title_subtitle");var $=F.querySelector(".Wn");$&&(Z.classList.add("aw5"),$.appendChild(Z))}Z.textContent="("+U.subtitle+")"}}else Z&&Z.remove()}}},{key:"_updateSummaryText",value:function(U){var F=this,Z=this._headerElement;if(Z){var $=Z.querySelector(".inboxsdk__resultsSection_header_summaryText");if(U.titleLinkText){if(U.titleLinkText!==this._collapsibleSectionDescriptor.titleLinkText){if(!$){$=document.createElement("div"),$.setAttribute("class","inboxsdk__resultsSection_header_summaryText Wm"),$.innerHTML=['<span class="Di">&nbsp;','<div class="J-J5-Ji amH">','<span class="Dj">',"<span></span>","</span>","&nbsp;","</div>","</span>"].join(""),this._eventStream.plug(w.default.fromEvents($,"click").map(function(){return{eventName:"titleLinkClicked",sectionDescriptor:F._collapsibleSectionDescriptor}}));var ne=$;$.addEventListener("mouseenter",function(){ne.classList.add("aqi")}),$.addEventListener("mouseleave",function(){ne.classList.remove("aqi")});var H=Z.querySelector(".Cr");H&&H.insertAdjacentElement("afterbegin",$)}(0,R.default)($,".Dj > *").textContent=U.titleLinkText}}else $&&$.remove()}}},{key:"_updateDropdown",value:function(U){if(U.hasDropdown&&U.onDropdownClick){if(U.hasDropdown&&U.onDropdownClick)if(this._inboxDropdownButtonView&&this._dropdownViewController)U.onDropdownClick!==this._collapsibleSectionDescriptor.onDropdownClick&&this._dropdownViewController&&this._dropdownViewController.setDropdownShowFunction(U.onDropdownClick);else{var F=this._inboxDropdownButtonView=new P.default;this._dropdownViewController=new z.default({buttonView:F,dropdownViewDriverClass:B.default,dropdownShowFunction:U.onDropdownClick});var Z=this._headerElement;if(Z){var $=Z.querySelector(".Cr");$&&$.appendChild(F.getElement())}}}else this._inboxDropdownButtonView&&this._inboxDropdownButtonView.destroy(),this._dropdownViewController&&this._dropdownViewController.destroy()}},{key:"_updateContentElement",value:function(U){var F=this._contentElement;F&&(F.innerHTML="",U.contentElement?(F.style.display="",F.appendChild(U.contentElement)):F.style.display="none")}},{key:"_updateTableRows",value:function(U){var F=U.tableRows,Z=this._tableBodyElement;Z&&(Z.innerHTML="",F&&F.length!==0?(Z.style.display="",this._renderTable(F)):Z.style.display="none")}},{key:"_renderTable",value:function(U){var F=document.createElement("table");F.setAttribute("class","F cf zt"),F.innerHTML=a(),this._tableBodyElement&&this._tableBodyElement.appendChild(F);var Z=F.querySelector("tbody"),$=this._eventStream;U.forEach(function(ne){var H=document.createElement("tr");if(H.setAttribute("class","inboxsdk__resultsSection_tableRow zA "+(ne.isRead?"yO":"zE")),H.innerHTML=t(ne),!Z)throw new Error("should not happen");Z.appendChild(H),$.plug(w.default.fromEvents(H,"click").map(function(){return{eventName:"rowClicked",rowDescriptor:ne}}))})}},{key:"_updateMessageElement",value:function(U){var F=this._messageElement;U.tableRows&&U.tableRows.length>0||U.contentElement?F&&(F.innerHTML="",F.style.display="none"):U.tableRows&&U.tableRows.length===0&&!U.contentElement&&this._showEmptyMessage()}},{key:"_showLoadingMessage",value:function(){var U=this._messageElement;U&&(U.setAttribute("class","TB TC inboxsdk__resultsSection_loading"),U.innerHTML="loading...",U.style.display="")}},{key:"_showEmptyMessage",value:function(){var U=this._messageElement;U&&(U.setAttribute("class","TB TC"),U.innerHTML="No results found",U.style.display="")}},{key:"_updateFooter",value:function(U){var F=this,Z=this._footerElement;if(Z)if(Z.innerHTML="",U.footerLinkText||U.footerLinkIconUrl||U.footerLinkIconClass){Z.style.display="";var $=document.createElement("span");$.setAttribute("class","e Wb"),$.textContent=U.footerLinkText,this._eventStream.plug(w.default.fromEvents($,"click").map(function(){return{eventName:"footerClicked",sectionDescriptor:F._collapsibleSectionDescriptor}})),Z.appendChild($),Z.insertAdjacentHTML("beforeend",'<br style="clear:both;">')}else Z.style.display="none"}},{key:"_toggleCollapseState",value:function(){this._isCollapsed?this._expand():this._collapse()}},{key:"_collapse",value:function(){var U=this._element;if(U){if(U.classList.add("inboxsdk__resultsSection_collapsed"),this._isSearch||this._addToCollapsedContainer(),this._titleElement){var F=(0,R.default)(this._titleElement,"h3 > img.Wp");F&&(F.classList.remove("Wq"),F.classList.add("Wo"))}this._bodyElement&&(this._bodyElement.style.display="none"),this._isCollapsed=!0,this._eventStream.emit({eventName:"collapsed"})}}},{key:"_expand",value:function(){var U=this._element;if(U){if(U.classList.remove("inboxsdk__resultsSection_collapsed"),this._isSearch||this._removeFromCollapsedContainer(),this._titleElement){var F=(0,R.default)(this._titleElement,"h3 > img.Wp");F&&(F.classList.remove("Wo"),F.classList.add("Wq"))}this._bodyElement&&(this._bodyElement.style.display=""),this._isCollapsed=!1,this._eventStream.emit({eventName:"expanded"})}}},{key:"_addToCollapsedContainer",value:function(){var U=this._element;if(U)if(this._headerElement&&this._headerElement.classList.remove("Wg"),this._isCollapsedContainer(U.previousElementSibling)&&this._isCollapsedContainer(U.nextElementSibling)){var F=U.nextElementSibling,Z=U.previousElementSibling;if(!Z)throw new Error("previousSibling does not exist");if(!F)throw new Error("otherCollapseContainer does not exist");var $=(Z.children[0].appendChild(U),(0,E.default)(F.children[0].children).concat((0,E.default)(F.children[1].children)));F&&this._pulloutSectionsFromCollapsedContainer(F),this._recollapse($)}else this._readdToCollapsedContainer()}},{key:"_removeFromCollapsedContainer",value:function(){this._headerElement&&this._headerElement.classList.add("Wg");var U=this._element;if(U){var F=U.parentElement;if(F){var Z=F.parentElement;if(Z&&Z.classList.contains("inboxsdk__results_collapsedContainer")){var $=(0,E.default)(Z.children[0].children).concat((0,E.default)(Z.children[1].children));this._pulloutSectionsFromCollapsedContainer(Z),this._destroyCollapsedContainer(),this._recollapse($.filter(function(ne){return ne!==U}))}}}}},{key:"_pulloutSectionsFromCollapsedContainer",value:function(U){(0,E.default)(U.children[0].children).forEach(function(F){return U.insertAdjacentElement("beforebegin",F)}),(0,E.default)(U.children[1].children).reverse().forEach(function(F){return U.insertAdjacentElement("afterend",F)})}},{key:"_readdToCollapsedContainer",value:function(){var U=this._element;if(U){if(this._collapsedContainer)return void this._collapsedContainer.children[0].insertBefore(U,this._collapsedContainer.children[1].firstElementChild);var F,Z;this._isCollapsedContainer(U.previousElementSibling)?(Z=!1,F=U.previousElementSibling):this._isCollapsedContainer(U.nextElementSibling)?(Z=!0,F=U.nextElementSibling):(Z=!0,this._createCollapsedContainer(),F=this._collapsedContainer),Z&&F?F.children[0].insertBefore(U,F.children[0].firstElementChild):F&&F.children[0].appendChild(U)}}},{key:"_isCollapsedContainer",value:function(U){return U&&U.classList.contains("inboxsdk__results_collapsedContainer")}},{key:"_recollapse",value:function(U){U.forEach(function(F){var Z=document.createEvent("CustomEvent");Z.initCustomEvent("removeCollapsedContainer",!1,!1,null),F.dispatchEvent(Z);var $=document.createEvent("CustomEvent");$.initCustomEvent("readdToCollapsedContainer",!1,!1,null),F.dispatchEvent($)})}},{key:"_createCollapsedContainer",value:function(){var U=this._collapsedContainer=document.createElement("div");U.setAttribute("class","inboxsdk__results_collapsedContainer Wg"),U.innerHTML='<div class="inboxsdk__results_collapsedContainer_prepend"></div><div class="inboxsdk__results_collapsedContainer_append"></div>';var F=this._element;F&&F.insertAdjacentElement("afterend",U)}},{key:"_destroyCollapsedContainer",value:function(){this._collapsedContainer&&(this._collapsedContainer.remove(),this._collapsedContainer=null)}}]),K}(),N=(0,x.defn)(l,Q);i.default=N},{"../../../../common/defer":639,"../../../lib/dom/querySelectorOrFail":869,"../../../widgets/buttons/dropdown-button-view-controller":941,"../widgets/buttons/inbox-dropdown-button-view":766,"../widgets/gmail-dropdown-view":771,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"auto-html":89,kefir:327,"kefir-bus":324,"lodash/escape":482,ud:625}],717:[function(e,l,i){"use strict";function a(Rt){if(typeof _!="function")return null;var Ae=new _,De=new _;return(a=function(et){return et?De:Ae})(Rt)}function t(Rt,Ae){if(!Ae&&Rt&&Rt.__esModule)return Rt;if(Rt===null||s(Rt)!=="object"&&typeof Rt!="function")return{default:Rt};var De=a(Ae);if(De&&De.has(Rt))return De.get(Rt);var et={},ae=y&&S;for(var de in Rt)if(de!=="default"&&Object.prototype.hasOwnProperty.call(Rt,de)){var _e=ae?S(Rt,de):null;_e&&(_e.get||_e.set)?y(et,de,_e):et[de]=Rt[de]}return et.default=Rt,De&&De.set(Rt,et),et}function o(Rt,Ae){var De=d!==void 0&&Rt[m]||Rt["@@iterator"];if(!De){if(h(Rt)||(De=u(Rt))||Ae&&Rt&&typeof Rt.length=="number"){De&&(Rt=De);var et=0,ae=function(){};return{s:ae,n:function(){return et>=Rt.length?{done:!0}:{done:!1,value:Rt[et++]}},e:function(Ee){throw Ee},f:ae}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,_e=!0,he=!1;return{s:function(){De=De.call(Rt)},n:function(){var Ee=De.next();return _e=Ee.done,Ee},e:function(Ee){he=!0,de=Ee},f:function(){try{_e||De.return==null||De.return()}finally{if(he)throw de}}}}function u(Rt,Ae){if(Rt){if(typeof Rt=="string")return n(Rt,Ae);var De=Object.prototype.toString.call(Rt).slice(8,-1);return De==="Object"&&Rt.constructor&&(De=Rt.constructor.name),De==="Map"||De==="Set"?f(Rt):De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De)?n(Rt,Ae):void 0}}function n(Rt,Ae){(Ae==null||Ae>Rt.length)&&(Ae=Rt.length);for(var De=0,et=new Array(Ae);De<Ae;De++)et[De]=Rt[De];return et}var s=e("@babel/runtime-corejs2/helpers/typeof"),f=e("@babel/runtime-corejs2/core-js/array/from"),d=e("@babel/runtime-corejs2/core-js/symbol"),m=e("@babel/runtime-corejs2/core-js/symbol/iterator"),h=e("@babel/runtime-corejs2/core-js/array/is-array"),_=e("@babel/runtime-corejs2/core-js/weak-map"),y=e("@babel/runtime-corejs2/core-js/object/define-property"),S=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),v=e("@babel/runtime-corejs2/helpers/interopRequireDefault");y(i,"__esModule",{value:!0}),i.default=void 0;var T,E=v(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),I=v(e("@babel/runtime-corejs2/core-js/promise")),g=v(e("@babel/runtime-corejs2/core-js/object/define-property")),k=v(e("@babel/runtime-corejs2/core-js/weak-map")),j=v(e("@babel/runtime-corejs2/core-js/array/from")),x=v(e("@babel/runtime-corejs2/core-js/parse-int")),A=v(e("@babel/runtime-corejs2/regenerator")),w=v(e("@babel/runtime-corejs2/helpers/typeof")),C=v(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),O=v(e("@babel/runtime-corejs2/helpers/classCallCheck")),V=v(e("@babel/runtime-corejs2/helpers/createClass")),R=v(e("@babel/runtime-corejs2/helpers/defineProperty")),P=v(e("auto-html")),B=v(e("transducers.js")),z=v(e("lodash/once")),Q=v(e("lodash/escape")),N=v(e("lodash/includes")),K=v(e("lodash/constant")),U=v(e("lodash/find")),F=v(e("asap")),Z=v(e("pdelay")),$=t(e("kefir")),ne=t(e("ud")),H=v(e("closest-ng")),X=v(e("kefir-bus")),oe=v(e("kefir-stopper")),Y=v(e("../../../lib/delay-asap")),se=e("../../../lib/dom/simulate-mouse-event"),ie=v(e("../../../lib/dom/simulate-key")),L=v(e("../../../lib/dom/querySelectorOrFail")),G=v(e("../../../../common/isElementVisible")),le=v(e("../../../lib/dom/make-element-child-stream")),pe=e("../../../lib/dom/simulate-drag-and-drop"),we=t(e("../gmail-response-processor")),ye=v(e("../gmail-element-getter")),W=v(e("../../../lib/dom/set-css")),te=v(e("../../../lib/wait-for")),ce=v(e("../../../lib/stream-wait-for")),je=v(e("../../../lib/dom/make-mutation-observer-chunked-stream")),be=v(e("../../../lib/handle-compose-link-chips")),Ne=v(e("../../../lib/insert-link-chip-into-body")),He=v(e("./gmail-compose-view/add-compose-notice")),Qe=v(e("./gmail-compose-view/add-status-bar")),Be=v(e("../../../lib/dom/insert-html-at-cursor")),Je=v(e("./gmail-compose-view/ensure-grouping-is-open")),_t=v(e("./gmail-compose-view/ensure-app-button-toolbars-are-closed")),pt=v(e("./gmail-compose-view/size-fixer")),Et=v(e("./gmail-compose-view/add-tooltip-to-button")),It=v(e("./gmail-compose-view/add-recipient-row")),Qt=v(e("./gmail-compose-view/add-button")),jt=v(e("./gmail-compose-view/set-recipients")),Pt=v(e("./gmail-compose-view/focus")),At=v(e("./gmail-compose-view/monitor-selection-range")),Ce=v(e("./gmail-compose-view/manage-button-grouping")),Oe=e("../../../lib/dom/get-selection"),at=v(e("./gmail-compose-view/get-minimized-stream")),bt=v(e("../../../../common/censorHTMLstring")),Gt=v(e("./gmail-compose-view/insert-link-into-body")),Vt=v(e("./gmail-compose-view/get-address-changes-stream")),dn=v(e("./gmail-compose-view/get-body-changes-stream")),Cn=v(e("./gmail-compose-view/get-recipients")),Tt=v(e("./gmail-compose-view/get-response-type-changes-stream")),In=v(e("../../../driver-common/compose/getPresendingStream")),$e=v(e("../../../driver-common/compose/getDiscardStream")),St=v(e("./gmail-compose-view/update-insert-more-area-left")),Yt=v(e("./gmail-compose-view/setupLinkPopovers")),Ht=v(e("./gmail-compose-view/get-formatting-area-offset-left")),Wt=v(e("./gmail-compose-view/override-edit-subject")),Pn=v(e("./gmail-compose-view/detectClassicRecipientsArea")),Sn=(v(e("../../../../common/censorHTMLtree")),e("./gmail-compose-view/page-parser")),sr=(v(e("page-parser-tree")),e("tag-tree"),t(e("./gmail-compose-view/from-manager"))),lr=!1,Un=function(){function Rt(Ae,De,et,ae){var de=this;(0,O.default)(this,Rt),(0,R.default)(this,"_element",void 0),(0,R.default)(this,"_seenBodyElement",void 0),(0,R.default)(this,"_isInlineReplyForm",void 0),(0,R.default)(this,"_isFullscreen",void 0),(0,R.default)(this,"_isStandalone",void 0),(0,R.default)(this,"_emailWasSent",void 0),(0,R.default)(this,"_driver",void 0),(0,R.default)(this,"_managedViewControllers",void 0),(0,R.default)(this,"_eventStream",void 0),(0,R.default)(this,"_isTriggeringADraftSavePending",void 0),(0,R.default)(this,"_buttonViewControllerTooltipMap",void 0),(0,R.default)(this,"_composeID",void 0),(0,R.default)(this,"_messageIDElement",void 0),(0,R.default)(this,"_messageId",void 0),(0,R.default)(this,"_finalMessageId",void 0),(0,R.default)(this,"_initialMessageId",void 0),(0,R.default)(this,"_targetMessageID",void 0),(0,R.default)(this,"_draftSaving",void 0),(0,R.default)(this,"_draftIDpromise",void 0),(0,R.default)(this,"_threadID",void 0),(0,R.default)(this,"_stopper",void 0),(0,R.default)(this,"_lastSelectionRange",void 0),(0,R.default)(this,"_requestModifiers",void 0),(0,R.default)(this,"_isListeningToAjaxInterceptStream",void 0),(0,R.default)(this,"_formattingArea",void 0),(0,R.default)(this,"_closedProgrammatically",!1),(0,R.default)(this,"_destroyed",!1),(0,R.default)(this,"_removedFromDOMStopper",void 0),(0,R.default)(this,"_hasSetupLinkPopOvers",!1),(0,R.default)(this,"_page",void 0),(0,R.default)(this,"tagTree",void 0),(0,R.default)(this,"ready",void 0),this._element=Ae,this._element.classList.add("inboxsdk__compose"),ae.isInlineReplyForm&&this._element.classList.add("inboxsdk__compose_inlineReply"),this._isInlineReplyForm=ae.isInlineReplyForm,this._isStandalone=ae.isStandalone,this._isFullscreen=!1,this._emailWasSent=!1,this._messageId=null,this._finalMessageId=null,this._draftSaving=!1,this._draftIDpromise=null,this._driver=et,this._stopper=(0,oe.default)(),this._managedViewControllers=[],this._requestModifiers={},this._isListeningToAjaxInterceptStream=!1,this._eventStream=(0,X.default)(),this._removedFromDOMStopper=(0,oe.default)(),this._isTriggeringADraftSavePending=!1,this._page=(0,Sn.makePageParser)(Ae,et.getLogger()),this.tagTree=this._page.tree;var _e;_e=this._driver.isUsingSyncAPI()?De.filter(function(Ee){return Ee.draftID===de._getDraftIDfromForm()}).map(function(Ee){switch(Ee.type){case"emailSending":return{eventName:"sending"};case"emailSent":var ke=Ee.threadID,Ve=Ee.messageID;return Ee.oldMessageID&&(de._messageId=Ee.oldMessageID),Ee.oldThreadID&&(de._threadID=Ee.oldThreadID),et.removeCachedGmailMessageIdForSyncMessageId(Ve),et.removeCachedOldGmailThreadIdFromSyncThreadId(ke),{eventName:"sent",data:{getThreadID:(0,z.default)((0,C.default)(A.default.mark(function ze(){return A.default.wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(!Ee.oldThreadID){qe.next=2;break}return qe.abrupt("return",Ee.oldThreadID);case 2:return qe.next=4,et.getOldGmailThreadIdFromSyncThreadId(ke);case 4:return qe.abrupt("return",qe.sent);case 5:case"end":return qe.stop()}},ze)}))),getMessageID:(0,z.default)((0,C.default)(A.default.mark(function ze(){return A.default.wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(!Ee.oldMessageID){qe.next=2;break}return qe.abrupt("return",Ee.oldMessageID);case 2:return qe.next=4,et.getGmailMessageIdForSyncMessageId(Ve);case 4:return qe.abrupt("return",qe.sent);case 5:case"end":return qe.stop()}},ze)})))}};case"emailSendFailed":return{eventName:"sendCanceled"};case"emailDraftReceived":return de._messageId=Ee.oldMessageID,de._threadID=Ee.oldThreadID,{eventName:"draftSaved",data:{getThreadID:function(){return I.default.resolve(Ee.oldThreadID)},getMessageID:function(){return I.default.resolve(Ee.oldMessageID)}}};default:return null}}).filter(Boolean):De.filter(function(Ee){return Ee.composeId===de.getComposeID()}).map(function(Ee){switch(Ee.type){case"emailSending":return[{eventName:"sending"}];case"emailSent":var ke=we.interpretSentEmailResponse(Ee.response);if((0,N.default)(["tr","eu"],ke.messageID))return[{eventName:"sendCanceled"}];de._emailWasSent=!0,ke.messageID&&(de._finalMessageId=ke.messageID),de._messageId=null;var Ve={getThreadID:function(){return I.default.resolve(ke.threadID)},getMessageID:function(){return I.default.resolve(ke.messageID)}};return["threadID","gmailThreadId"].forEach(function(Me){(0,g.default)(Ve,Me,{get:function(){return de._driver.getLogger().deprecationWarning("composeView sent event.".concat(Me),"composeView sent event.getThreadID()"),ke.threadID}})}),["messageID","gmailMessageId"].forEach(function(Me){(0,g.default)(Ve,Me,{get:function(){return de._driver.getLogger().deprecationWarning("composeView sent event.".concat(Me),"composeView sent event.getMessageID()"),ke.messageID}})}),[{eventName:"sent",data:Ve}];case"emailDraftSaveSending":return de._draftSaving=!0,[{eventName:"draftSaving"}];case"emailDraftReceived":de._draftSaving=!1;var ze;try{ze=we.interpretSentEmailResponse(Ee.response)}catch(Me){throw de._driver.getAppId()==="sdk_streak_21e9788951"&&de._driver.getLogger().error(Me,{connectionDetails:Ee.connectionDetails,response:Ee.response}),Me}if(ze.messageID==="eu")return[];var qe=[{eventName:"draftSaved",data:ze}];return ze.messageID?ze.messageID&&de._messageId!==ze.messageID&&(/^[0-9a-f]+$/i.test(ze.messageID)?(de._messageId=ze.messageID,qe.push({eventName:"messageIDChange",data:de._messageId})):de._driver.getLogger().error(new Error("Invalid message id from emailDraftReceived"),{value:ze.messageID})):de._driver.getLogger().error(new Error("Missing message id from emailDraftReceived")),qe;default:return[]}}).flatten().map(function(Ee){return de._driver.getLogger().shouldTrackEverything()&&et.getLogger().eventSite("compose.debug.xhr",{eventName:Ee.eventName}),Ee}),this._eventStream.plug($.merge([_e,$.fromEvents(this._element,"buttonAdded").map(function(){return{eventName:"buttonAdded"}}),$.fromEvents(this._element,"resize").map(function(){return{eventName:"resize"}}),$.fromEvents(this._element,"composeFullscreenStateChanged").map(function(){return de._updateComposeFullscreenState(),{eventName:"fullscreenChanged",data:{fullscreen:de._isFullscreen}}})])),$.fromEvents(this._element,"closedProgrammatically").takeUntilBy(this._stopper).onValue(function(){de._closedProgrammatically=!0}),this._buttonViewControllerTooltipMap=new k.default;var he=this.getMaybeBodyElement();this.ready=(0,K.default)((he?$.constant(he):(0,ce.default)(function(){return de.getMaybeBodyElement()},18e4)).takeUntilBy(this._stopper).map(function(Ee){return de._seenBodyElement=Ee,de._composeID=de._element.querySelector('input[name="composeid"]').value,de._messageIDElement=de._element.querySelector('input[name="draft"]'),de._messageIDElement||(et.getLogger().error(new Error("Could not find compose message id field")),de._messageIDElement=document.createElement("input")),de._setupIDs(),de._setupStreams(),de._setupConsistencyCheckers(),de._updateComposeFullscreenState(),de.getEventStream().filter(function(ke){return ke.eventName==="presending"}).takeUntilBy(de._stopper).onValue(function(){(0,le.default)(document.body).map(function(ke){return ke.el}).filter(function(ke){return ke.getAttribute&&ke.getAttribute("role")==="alertdialog"}).takeUntilBy($.merge([de.getEventStream().filter(function(ke){var Ve=ke.eventName;return Ve==="sendCanceled"||Ve==="sending"}),$.later(15)])).onValue(function(){de._eventStream.emit({eventName:"sendCanceled"})})}),de}).toProperty()),this.ready().onError(function(Ee){et.getLogger().error(Ee,{hasForm:!!de.getElement().querySelector("form"),class:de.getElement().getAttribute("class")})}),this._driver.isUsingSyncAPI()?$.merge([this._removedFromDOMStopper.filterBy(this._eventStream.filter(function(Ee){var ke=Ee.eventName;return ke==="presending"||ke==="sendCanceled"}).map(function(Ee){return Ee.eventName==="sendCanceled"}).toProperty(function(){return!0})),$.combine([this._removedFromDOMStopper,this._eventStream.filter(function(Ee){return Ee.eventName==="sent"})])]).take(1).flatMap(function(){return(0,Y.default)(null)}).onValue(function(){return de._destroy()}):this._removedFromDOMStopper.onValue(function(){return de._destroy()}),(0,Pn.default)()}return(0,V.default)(Rt,[{key:"destroy",value:function(){this._removedFromDOMStopper.destroy(),this._page.dump()}},{key:"_destroy",value:function(){this._eventStream.emit({eventName:"destroy",data:{messageID:this.getMessageID(),closedByInboxSDK:this._closedProgrammatically}}),this._eventStream.end(),this._managedViewControllers.forEach(function(Ae){Ae.destroy()}),this._requestModifiers={},this._managedViewControllers.length=0,this._stopper.destroy(),this._destroyed=!0}},{key:"getStopper",value:function(){return this._stopper}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getGmailDriver",value:function(){return this._driver}},{key:"isDestroyed",value:function(){return this._destroyed}},{key:"_setupStreams",value:function(){var Ae=this;this._eventStream.plug((0,Vt.default)(this)),this._eventStream.plug((0,dn.default)(this)),this._eventStream.plug((0,Tt.default)(this)),this._eventStream.plug((0,In.default)({element:this.getElement(),sendButton:this.getSendButton(),sendAndArchive:this.getSendAndArchiveButton()}));var De;try{De=this.getDiscardButton()}catch(et){this._driver.getLogger().errorSite(new Error("Failed to find discard button"),{html:(0,bt.default)(this._element.outerHTML)})}De&&this._eventStream.plug((0,$e.default)({element:this.getElement(),discardButton:De})),this._eventStream.plug($.fromEvents(this.getElement(),"inboxSDKsendCanceled").map(function(){return{eventName:"sendCanceled"}})),this._eventStream.plug($.fromEvents(this.getElement(),"inboxSDKdiscardCanceled").map(function(){return{eventName:"discardCanceled"}})),this._eventStream.plug($.later(10).flatMap(function(){return(0,at.default)(Ae)}).changes().map(function(et){return{eventName:et?"minimized":"restored"}})),this._driver.isUsingSyncAPI()||(0,je.default)(this._messageIDElement,{attributes:!0,attributeFilter:["value"]}).takeUntilBy(this._eventStream.filter(function(){return!1}).beforeEnd(function(){return null})).map(function(){return Ae._getMessageIDfromForm()}).filter(function(et){return et&&!Ae._emailWasSent&&Ae._messageId!==et}).onValue(function(et){Ae._messageId=et,Ae._eventStream.emit({eventName:"messageIDChange",data:Ae._messageId})})}},{key:"_setupConsistencyCheckers",value:function(){try{(0,be.default)(this),(0,At.default)(this),(0,Ce.default)(this),(0,pt.default)(this._driver,this)}catch(Ae){this._driver.getLogger().error(Ae)}}},{key:"_setupIDs",value:function(){var Ae=this;if(this._driver.isUsingSyncAPI()){var De=this._getTargetMessageID();De&&this._driver.getGmailMessageIdForSyncMessageId(De).then(function(de){return Ae._targetMessageID=de});var et=this._getMessageIDfromForm();et?(this._driver.getGmailMessageIdForSyncDraftId(et).then(function(de){Ae._initialMessageId=de,Ae._messageId=de}).catch(function(){}),this._driver.reportRecentSyncDraftId(et),this._stopper.onValue(function(){Ae._driver.reportDraftClosed(et)})):this._driver.getLogger().error(new Error("Draft is missing sync draft id"));var ae=this._element.querySelector('input[name="lts"]');ae&&typeof ae.value=="string"&&(this._threadID=ae.value)}else this._targetMessageID=this._getTargetMessageID(),this._messageId=this._initialMessageId=this._getMessageIDfromForm(),this._threadID=this._getThreadID()}},{key:"_updateComposeFullscreenState",value:function(){if(this._isInlineReplyForm)this._isFullscreen=!1;else if(this._isStandalone)this._isFullscreen=!0;else{var Ae=ye.default.getFullscreenComposeWindowContainer();this._isFullscreen=!!Ae&&Ae.contains(this._element)}}},{key:"focus",value:function(){(0,Pt.default)(this)}},{key:"insertBodyTextAtCursor",value:function(Ae){return this.insertBodyHTMLAtCursor((0,Q.default)(Ae).replace(/\n/g,"<br>"))}},{key:"insertBodyHTMLAtCursor",value:function(Ae){var De=(0,Be.default)(this.getBodyElement(),Ae,this.getLastSelectionRange());return this._triggerDraftSave(),(0,ie.default)(this.getBodyElement(),13,13),De}},{key:"insertLinkIntoBody",value:function(Ae,De){var et=(0,Gt.default)(this,Ae,De);return this._triggerDraftSave(),et}},{key:"insertLinkChipIntoBody",value:function(Ae){var De=(0,Ne.default)(this,Ae);return this._triggerDraftSave(),De}},{key:"setSubject",value:function(Ae){this._element.querySelector("input[name=subjectbox]").value=Ae,this._triggerDraftSave()}},{key:"setBodyHTML",value:function(Ae){this.getBodyElement().innerHTML=Ae,this._triggerDraftSave()}},{key:"setBodyText",value:function(Ae){this.getBodyElement().textContent=Ae,this._triggerDraftSave()}},{key:"setToRecipients",value:function(Ae){(0,jt.default)(this,"to",Ae),this._triggerDraftSave()}},{key:"setCcRecipients",value:function(Ae){(0,jt.default)(this,"cc",Ae),this._triggerDraftSave()}},{key:"setBccRecipients",value:function(Ae){(0,jt.default)(this,"bcc",Ae),this._triggerDraftSave()}},{key:"addRecipientRow",value:function(Ae){return(0,It.default)(this,Ae)}},{key:"forceRecipientRowsOpen",value:function(){var Ae=this;return this._element.classList.add("inboxsdk__compose_forceRecipientsOpen"),function(){Ae._element.classList.remove("inboxsdk__compose_forceRecipientsOpen")}}},{key:"hideNativeRecipientRows",value:function(){var Ae=(0,Sn.getRecipientRowElements)(this._element);return Ae.forEach(function(De){De.classList.add("inboxsdk__compose_forceRecipientRowHidden")}),function(){Ae.forEach(function(De){De.classList.remove("inboxsdk__compose_forceRecipientRowHidden")})}}},{key:"hideRecipientArea",value:function(){var Ae=this;return this._element.classList.add("inboxsdk__compose_hideRecipientArea"),function(){Ae._element.classList.remove("inboxsdk__compose_hideRecipientArea")}}},{key:"getFromContact",value:function(){return sr.getFromContact(this._driver,this)}},{key:"getFromContactChoices",value:function(){return sr.getFromContactChoices(this._driver,this)}},{key:"setFromEmail",value:function(Ae){sr.setFromEmail(this._driver,this,Ae)}},{key:"addButton",value:function(Ae,De,et){return(0,Qt.default)(this,Ae,De,et)}},{key:"addTooltipToButton",value:function(Ae,De,et){var ae=(0,Et.default)(this,Ae,De,et);this._buttonViewControllerTooltipMap.set(Ae,ae)}},{key:"closeButtonTooltip",value:function(Ae){if(this._buttonViewControllerTooltipMap){var De=this._buttonViewControllerTooltipMap.get(Ae);De&&(De.destroy(),this._buttonViewControllerTooltipMap.delete(Ae))}}},{key:"addComposeNotice",value:function(){var Ae=this,De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=(0,He.default)(this,De);return this._element.dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null})),$.fromEvents(et,"destroy").flatMap(Y.default).takeUntilBy(this._stopper).onValue(function(){Ae._element.dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null}))}),et}},{key:"addStatusBar",value:function(){var Ae=this,De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=(0,Qe.default)(this,De);return this._element.dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null})),$.fromEvents(et,"destroy").flatMap(Y.default).takeUntilBy(this._stopper).onValue(function(){Ae._element.dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null}))}),et}},{key:"hideNativeStatusBar",value:function(){var Ae=this.getStatusArea(),De=(0,L.default)(Ae,"table"),et=this.getFormattingToolbar(),ae=et&&et.style.display!=="none";return De.style.display="none",et&&ae&&(et.style.display="none"),function(){De.style.display="",et&&ae&&(et.style.display="")}}},{key:"replaceSendButton",value:function(Ae){var De=this,et=this.getSendButtonGroup(),ae=this.getSendAndArchiveButton();et.style.display="none";var de=ae&&ae.parentElement;de instanceof HTMLElement&&(de.style.display="none");var _e=document.createElement("div");_e.classList.add("inboxsdk__compose_customSendContainer"),_e.appendChild(Ae),et.insertAdjacentElement("afterend",_e),this._element.setAttribute("data-inboxsdk-send-replaced","");var he=(0,oe.default)();return $.fromEvents(this.getBodyElement(),"keydown").takeUntilBy(this._stopper).takeUntilBy(he).filter(function(Ee){return(Ee.which===9||Ee.keyCode===9)&&!Ee.shiftKey}).onValue(function(Ee){var ke=De.getStatusArea(),Ve=ke.querySelectorAll("[tabindex]");if(Ve.length!==0){var ze=(0,j.default)(Ve).find(function(qe){return qe.offsetParent!==null});ze&&(Ee.preventDefault(),Ee.stopPropagation(),Ee.stopImmediatePropagation(),ze.focus())}}),function(){he.destroy(),_e.remove(),De._element.removeAttribute("data-inboxsdk-send-replaced"),et.style.display="",de instanceof HTMLElement&&(de.style.display="")}}},{key:"hideDiscardButton",value:function(){var Ae=this.getDiscardButton();return Ae.style.display="none",function(){Ae.style.display=""}}},{key:"ensureFormattingToolbarIsHidden",value:function(){var Ae=this.getFormattingToolbarToggleButton(),De=this.getFormattingToolbar();Ae&&De&&De.style.display===""&&(0,se.simulateClick)(Ae)}},{key:"close",value:function(){var Ae=this;if(this.isInlineReplyForm())return void console.warn("Trying to close an inline reply which doesn't work.");this._element.dispatchEvent(new CustomEvent("closedProgrammatically",{bubbles:!1,cancelable:!1,detail:null})),this._isFullscreen?(this._eventStream.filter(function(De){return De.eventName==="fullscreenChanged"}).onValue(function(){return(0,se.simulateClick)(Ae.getCloseButton())}),(0,se.simulateClick)(this.getMoleSwitchButton())):(0,se.simulateClick)(this.getCloseButton())}},{key:"send",value:function(Ae){var De=this,et=Ae.sendAndArchive;(0,F.default)(function(){var ae=De.getSendAndArchiveButton();et&&ae?(0,se.simulateClick)(ae):(0,se.simulateClick)(De.getSendButton())})}},{key:"discard",value:function(){(0,se.simulateClick)(this.getDiscardButton())}},{key:"popOut",value:function(){if(!this.isInlineReplyForm())throw new Error("Can only pop out inline reply compose views");var Ae=(0,L.default)(this._element,".M9 > [role=menu]:first-child > .SK > [role=menuitem]:last-child");(0,se.simulateClick)(Ae)}},{key:"overrideEditSubject",value:function(){(0,Wt.default)(this._driver,this)}},{key:"_hideDropzones",value:function(){(0,W.default)("compose dropzone hider","body > .aC7 .aC9 {visibility: hidden;}")}},{key:"_reenableDropzones",value:function(){(0,W.default)("compose dropzone hider",null)}},{key:"_dropzonesVisible",value:function(){return(0,U.default)(document.querySelectorAll("body > .aC7:not(.aWP)"),G.default)!=null}},{key:"_findDropzoneForThisCompose",value:function(Ae){var De=this._element.getBoundingClientRect(),et=Ae?"body > .aC7:not(.aWP)":"body > .aC7.aWP",ae=B.default.toArray(Array.prototype.slice.call(document.querySelectorAll(et)),B.default.compose(B.default.filter(G.default),B.default.filter(function(de){var _e=(0,x.default)(de.style.top,10),he=_e+(0,x.default)(de.style.height,10),Ee=(0,x.default)(de.style.left,10),ke=Ee+(0,x.default)(de.style.width,10);return _e>=De.top&&Ee>=De.left&&ke<=De.right&&he<=De.bottom}),B.default.take(1)))[0];if(!ae)throw new Error("Failed to find dropzone");return ae}},{key:"_attachFiles",value:function(){function Ae(et,ae){return De.apply(this,arguments)}var De=(0,C.default)(A.default.mark(function et(ae,de){var _e,he,Ee,ke,Ve,ze,qe=this;return A.default.wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:this._hideDropzones(),_e=(0,z.default)(function(){return(0,pe.simulateDragEnd)(qe._element,ae)}),Me.prev=2,he=!0,Ee=o(B.default.partition(ae,3)),Me.prev=5,Ee.s();case 7:if((ke=Ee.n()).done){Me.next=25;break}if(Ve=ke.value,!he){Me.next=13;break}he=!1,Me.next=15;break;case 13:return Me.next=15,(0,Z.default)(500);case 15:return(0,pe.simulateDragOver)(this._element,Ve),Me.next=18,(0,te.default)(function(){return qe._dropzonesVisible()},2e4);case 18:return ze=this._findDropzoneForThisCompose(de),(0,pe.simulateDrop)(ze,Ve),_e(),Me.next=23,(0,te.default)(function(){return!qe._dropzonesVisible()},2e4);case 23:Me.next=7;break;case 25:Me.next=30;break;case 27:Me.prev=27,Me.t0=Me.catch(5),Ee.e(Me.t0);case 30:return Me.prev=30,Ee.f(),Me.finish(30);case 33:Me.next=38;break;case 35:Me.prev=35,Me.t1=Me.catch(2),this._driver.getLogger().error(Me.t1);case 38:return Me.prev=38,_e(),this._reenableDropzones(),Me.finish(38);case 42:case"end":return Me.stop()}},et,this,[[2,35,38,42],[5,27,30,33]])}));return Ae}()},{key:"attachFiles",value:function(Ae){return this._attachFiles(Ae,!1)}},{key:"attachInlineFiles",value:function(Ae){return this._attachFiles(Ae,!0)}},{key:"isForward",value:function(){return Boolean(this._element.querySelector(".Un.J-JN-M-I .mI"))}},{key:"isReply",value:function(){return this._isInlineReplyForm||!!this._element.querySelector(".HQ")}},{key:"isInlineReplyForm",value:function(){return this._isInlineReplyForm}},{key:"getBodyElement",value:function(){var Ae=this.getMaybeBodyElement();if(!Ae)throw new Error("Could not find body element");return Ae}},{key:"getMaybeBodyElement",value:function(){return this._element.querySelector(".Ap [g_editable=true]")}},{key:"getTopFormElement",value:function(){return(0,L.default)(this._element,"td > form")}},{key:"getHTMLContent",value:function(){return this.getBodyElement().innerHTML}},{key:"getTextContent",value:function(){return this.getBodyElement().textContent}},{key:"getSelectedBodyHTML",value:function(){return(0,Oe.getSelectedHTMLInElement)(this.getBodyElement(),this.getLastSelectionRange())}},{key:"getSelectedBodyText",value:function(){return(0,Oe.getSelectedTextInElement)(this.getBodyElement(),this.getLastSelectionRange())}},{key:"getSubject",value:function(){return this.getSubjectInput().value}},{key:"getSubjectInput",value:function(){return this._element.querySelector("input[name=subjectbox]")}},{key:"getMetadataFormElement",value:function(){var Ae=this.getBodyElement().closest(".aoP");if(!Ae)throw new Error("Could not find compose container");return(0,L.default)(Ae,"form.bAs")}},{key:"getToRecipients",value:function(){return(0,Cn.default)(this,"to")}},{key:"getCcRecipients",value:function(){return(0,Cn.default)(this,"cc")}},{key:"getBccRecipients",value:function(){return(0,Cn.default)(this,"bcc")}},{key:"getAdditionalActionToolbar",value:function(){return e("./gmail-compose-view/get-additional-action-toolbar").default(this)}},{key:"updateInsertMoreAreaLeft",value:function(Ae){(0,St.default)(this,Ae)}},{key:"_getFormattingAreaOffsetLeft",value:function(){return(0,Ht.default)(this)}},{key:"getFormattingArea",value:function(){var Ae=this._formattingArea;return Ae||(Ae=this._formattingArea=this._element.querySelector(".oc")),Ae}},{key:"getFormattingToolbar",value:function(){return this._element.querySelector(".aX")}},{key:"getFormattingToolbarArrow",value:function(){var Ae=this.getFormattingToolbar();if(!Ae)throw new Error("Failed to find formatting toolbar");return(0,L.default)(Ae,".aA4")}},{key:"getFormattingToolbarToggleButton",value:function(){var Ae=(0,L.default)(this._element,"[role=button] .dv"),De=(0,H.default)(Ae,"[role=button]");if(!De)throw new Error("failed to find button");return De}},{key:"getStatusBarPrependContainer",value:function(){return this._element.querySelector(".inboxsdk__compose_statusBarPrependContainer")}},{key:"getScrollBody",value:function(){var Ae=this._element.querySelector("table .GP");if(!Ae)throw new Error("Failed to find scroll body");return Ae}},{key:"getStatusArea",value:function(){var Ae=this._element.querySelector(".aDg .aDj > .aDh");if(!Ae)throw new Error("Failed to find status area");return Ae}},{key:"getInsertMoreArea",value:function(){return(0,L.default)(this._element,".eq")}},{key:"getInsertLinkButton",value:function(){return(0,L.default)(this._element,".e5.aaA.aMZ")}},{key:"getSendButton",value:function(){return(0,L.default)(this._element,".IZ .Up div > div[role=button]:not(.Uo):not([aria-haspopup=true]):not([class^=inboxsdk_])")}},{key:"getSendButtonGroup",value:function(){var Ae=this._element.querySelector(".IZ .Up div > [role=button][aria-haspopup=true]:not([class^=inboxsdk_])");return Ae?Ae.parentElement:this.getSendButton()}},{key:"getSendAndArchiveButton",value:function(){if(!this.isReply())return null;var Ae=this._element.querySelector(".IZ .Up div > div[role=button].Uo:not([aria-haspopup=true]):not([class^=inboxsdk_])");if(Ae)return Ae;var De=this.getSendButton(),et=De.parentElement;if(!(et instanceof HTMLElement))throw new Error("should not happen");if(et.childElementCount<=1)return this._driver.getLogger().eventSdkPassive("getSendAndArchiveButton - old method - failed to find, childElementCount <= 1"),null;var ae=et.children[0]!==De?et.children[0]:et.children[1],de=ae?ae.querySelector("[role=button]"):null;return de?this._driver.getLogger().eventSdkPassive("getSendAndArchiveButton - old method - found"):this._driver.getLogger().eventSdkPassive("getSendAndArchiveButton - old method - failed to find"),de}},{key:"getCloseButton",value:function(){return this._element.querySelectorAll(".Hm > img")[2]}},{key:"getMoleSwitchButton",value:function(){return this._element.querySelectorAll(".Hm > img")[1]}},{key:"getBottomBarTable",value:function(){return(0,L.default)(this._element,".aoP .aDh > table")}},{key:"getBottomToolbarContainer",value:function(){return(0,L.default)(this._element,".aoP .aDj")}},{key:"getDiscardButton",value:function(){return(0,L.default)(this._element,".gU .oh")}},{key:"getComposeID",value:function(){return this._composeID}},{key:"getInitialMessageID",value:function(){return this._initialMessageId}},{key:"_getDraftIDfromForm",value:function(){var Ae=this._messageIDElement&&this._messageIDElement.value||null;if(typeof Ae=="string"&&Ae!=="undefined"&&Ae!=="null"){if(this._driver.isUsingSyncAPI())return Ae.replace("#","").replace("msg-a:","");this._driver.getLogger().error(new Error("Invalid draft id in element"),{value:Ae})}return null}},{key:"_getMessageIDfromForm",value:function(){var Ae=this._messageIDElement&&this._messageIDElement.value||null;if(typeof Ae=="string"&&Ae!=="undefined"&&Ae!=="null"){if(this._driver.isUsingSyncAPI())return Ae.replace("#","");if(/^[0-9a-f]+$/i.test(Ae))return Ae;this._driver.getLogger().error(new Error("Invalid message id in element"),{value:Ae})}return null}},{key:"getMessageID",value:function(){return this._messageId}},{key:"getTargetMessageID",value:function(){return this._targetMessageID}},{key:"getThreadID",value:function(){return this._threadID}},{key:"getCurrentDraftID",value:function(){function Ae(){return De.apply(this,arguments)}var De=(0,C.default)(A.default.mark(function et(){var ae,de,_e;return A.default.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(!this._driver.isUsingSyncAPI()){he.next=20;break}if(ae=this._getDraftIDfromForm(),!this._messageId){he.next=6;break}return he.abrupt("return",ae);case 6:if(!(de=this._getMessageIDfromForm())){he.next=18;break}return he.prev=8,he.next=11,this._driver.getGmailMessageIdForSyncDraftId(de);case 11:_e=he.sent,he.next=17;break;case 14:return he.prev=14,he.t0=he.catch(8),he.abrupt("return",null);case 17:return he.abrupt("return",ae);case 18:he.next=25;break;case 20:if(this.getMessageID()){he.next=24;break}return he.abrupt("return",null);case 24:return he.abrupt("return",this.getDraftID());case 25:case"end":return he.stop()}},et,this,[[8,14]])}));return Ae}()},{key:"getDraftID",value:function(){var Ae=this._draftIDpromise;return Ae||(Ae=this._draftIDpromise=this._getDraftIDimplementation()),Ae}},{key:"_getDraftIDimplementation",value:function(){function Ae(){return De.apply(this,arguments)}var De=(0,C.default)(A.default.mark(function et(){var ae,de,_e,he,Ee,ke,Ve,ze,qe=this;return A.default.wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(!this._driver.isUsingSyncAPI()){Me.next=21;break}if(ae=this._getDraftIDfromForm(),!this._messageId){Me.next=6;break}return Me.abrupt("return",ae);case 6:if(!(de=this._getMessageIDfromForm())){Me.next=19;break}return Me.prev=8,Me.next=11,this._driver.getGmailMessageIdForSyncDraftId(de);case 11:_e=Me.sent,Me.next=18;break;case 14:return Me.prev=14,Me.t0=Me.catch(8),Me.next=18,this._eventStream.filter(function(We){return We.eventName==="draftSaved"}).beforeEnd(function(){return null}).map(function(){return qe._getDraftIDfromForm()}).take(1).toPromise();case 18:return Me.abrupt("return",ae);case 19:Me.next=46;break;case 21:if(he=-1,Ee=null,Me.prev=23,this._messageId){Me.next=29;break}return Me.next=27,this._eventStream.filter(function(We){return We.eventName==="messageIDChange"}).beforeEnd(function(){return null}).take(1).toPromise();case 27:if(this._messageId){Me.next=29;break}return Me.abrupt("return",null);case 29:ke=null,Ve=A.default.mark(function We(){var rt,gt,$t,Zt;return A.default.wrap(function(mn){for(;;)switch(mn.prev=mn.next){case 0:if(he++,rt=qe._messageId){mn.next=4;break}throw new Error("Should not happen");case 4:if(ke!==rt){mn.next=11;break}if(!qe._draftSaving){mn.next=9;break}return mn.next=8,qe._eventStream.filter(function(hn){return hn.eventName==="messageIDChange"}).beforeEnd(function(){return null}).take(1).toPromise();case 8:return mn.abrupt("return","continue");case 9:throw setTimeout((0,C.default)(A.default.mark(function hn(){var mr,Mn,gn,cn,qn;return A.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:if(mr=qe._messageId){Tn.next=3;break}throw new Error("Should not happen");case 3:return Tn.next=5,qe._driver.getDraftIDForMessageID(mr,!0);case 5:Mn=Tn.sent,gn=Mn.draftID,cn=Mn.debugData,qn=new Error("Failed to read draft ID -- after check"),qe._driver.getLogger().error(qn,{message:"getDraftID error -- after check",messageIdChanged:rt!==mr,gotDraftID:gn!=null,debugData:gn?null:cn});case 10:case"end":return Tn.stop()}},hn)})),1e4),new Error("Failed to read draft ID");case 11:return ke=rt,mn.next=14,qe._driver.getDraftIDForMessageID(rt);case 14:if(gt=mn.sent,$t=gt.draftID,Zt=gt.debugData,Ee=Zt,!$t){mn.next=20;break}return mn.abrupt("return",{v:$t});case 20:case"end":return mn.stop()}},We)});case 31:return Me.delegateYield(Ve(),"t1",33);case 33:if((ze=Me.t1)!=="continue"){Me.next=36;break}return Me.abrupt("continue",31);case 36:if((0,w.default)(ze)!=="object"){Me.next=38;break}return Me.abrupt("return",ze.v);case 38:Me.next=31;break;case 40:Me.next=46;break;case 42:throw Me.prev=42,Me.t2=Me.catch(23),this._driver.getLogger().error(Me.t2,{message:"getDraftID error",removedFromDOM:!document.contains(this._element),destroyed:this._destroyed,isFullscreen:this._isFullscreen,isStandalone:this._isStandalone,emailWasSent:this._emailWasSent,i:he,lastDebugData:Ee}),Me.t2;case 46:case"end":return Me.stop()}},et,this,[[8,14],[23,42]])}));return Ae}()},{key:"addManagedViewController",value:function(Ae){this._managedViewControllers.push(Ae)}},{key:"ensureGroupingIsOpen",value:function(Ae){(0,Je.default)(this._element,Ae)}},{key:"ensureAppButtonToolbarsAreClosed",value:function(){(0,_t.default)(this._element)}},{key:"isMinimized",value:function(){var Ae=this.getElement(),De=this.getMaybeBodyElement(),et=(0,U.default)(Ae.children,function(ae){return ae.contains(De)});return et?et.style.display!=="":(lr||(lr=!0,this._driver.getLogger().error(new Error("isMinimized failed to find bodyContainer"),{bodyElement:!!De,hasMessageIDElement:!!this._messageIDElement,ended:this._eventStream.ended,bodyElStillInCompose:this._element.contains(this._seenBodyElement),seenBodyElHtml:(0,bt.default)(this._seenBodyElement.outerHTML),composeHtml:(0,bt.default)(Ae.outerHTML)})),!1)}},{key:"setMinimized",value:function(Ae){if(Ae!==this.isMinimized()){if(this._isInlineReplyForm)throw new Error("Not implemented for inline compose views");var De=(0,L.default)(this._element,".Hm > img");(0,se.simulateClick)(De)}}},{key:"setFullscreen",value:function(Ae){if(Ae!==this.isFullscreen()){if(this._isInlineReplyForm)throw new Error("Not implemented for inline compose views");var De=(0,L.default)(this._element,".Hm > img:nth-of-type(2)");(0,se.simulateClick)(De)}}},{key:"setTitleBarColor",value:function(Ae){var De=(0,L.default)(this._element,".nH.Hy.aXJ table.cf.Ht td.Hm"),et=[(0,L.default)(this._element,".nH.Hy.aXJ .pi > .l.o"),(0,L.default)(this._element,".nH.Hy.aXJ .l.m"),(0,L.default)(this._element,".nH.Hy.aXJ .l.m > .l.n")];return De.classList.add("inboxsdk__compose_customTitleBarColor"),et.forEach(function(ae){ae.style.backgroundColor=Ae}),function(){De.classList.remove("inboxsdk__compose_customTitleBarColor"),et.forEach(function(ae){ae.style.backgroundColor=""})}}},{key:"setTitleBarText",value:function(Ae){if(this.isInlineReplyForm())throw new Error("setTitleBarText() is not supported on inline compose views");var De=(0,L.default)(this._element,".nH.Hy.aXJ table.cf.Ht");if(De.classList.contains("inboxsdk__compose_hasCustomTitleBarText"))throw new Error("Custom title bar text is already registered for this compose view");var et=(0,L.default)(De,"div.Hp").parentElement;if(!(et instanceof HTMLElement))throw new Error("Could not locate title bar text parent");De.classList.add("inboxsdk__compose_hasCustomTitleBarText"),et.classList.add("inboxsdk__compose_nativeTitleBarText");var ae=document.createElement("td");return ae.classList.add("inboxsdk__compose_customTitleBarText"),ae.innerHTML=(0,P.default)(T||(T=(0,E.default)([`
      <div class="Hp">
        <h2 class="a3E">
          <div class="aYF">`,`</div>
        </h2>
      </div>
    `])),Ae),et.insertAdjacentElement("afterend",ae),function(){ae.remove(),De.classList.remove("inboxsdk__compose_hasCustomTitleBarText"),et.classList.remove("inboxsdk__compose_nativeTitleBarText")}}},{key:"_triggerDraftSave",value:function(){var Ae=this;this._isTriggeringADraftSavePending||(this._isTriggeringADraftSavePending=!0,$.later(0).takeUntilBy(this._stopper).onValue(function(){Ae._isTriggeringADraftSavePending=!1;var De=Ae.getMaybeBodyElement();if(De){var et=Ae._driver.getPageCommunicator().silenceGmailErrorsForAMoment();try{(0,ie.default)(De,190,0)}finally{et()}}}))}},{key:"_getTargetMessageID",value:function(){var Ae=this._element.querySelector('input[name="rm"]');return Ae&&typeof Ae.value=="string"&&Ae.value!="undefined"?Ae.value.replace("#",""):null}},{key:"_getThreadID",value:function(){var Ae=this.getTargetMessageID();try{return Ae?this._driver.getThreadIDForMessageID(Ae):null}catch(De){return this._driver.getLogger().error(De),null}}},{key:"getElement",value:function(){return this._element}},{key:"isFullscreen",value:function(){return this._isFullscreen}},{key:"getLastSelectionRange",value:function(){var Ae=this._lastSelectionRange;return Ae&&!this.getBodyElement().contains(Ae.commonAncestorContainer)&&(this._lastSelectionRange=void 0),this._lastSelectionRange}},{key:"setLastSelectionRange",value:function(Ae){this._lastSelectionRange=Ae}},{key:"registerRequestModifier",value:function(Ae){var De=this,et=this._driver.isUsingSyncAPI()?this._getDraftIDfromForm():this.getComposeID();if(!et)throw new Error("keyId should be set here");var ae=this._driver.getPageCommunicator().registerComposeRequestModifier(et,this._driver.getAppId());this._requestModifiers[ae]=Ae,this._startListeningForModificationRequests(),this._stopper.onValue(function(){De._driver.getPageCommunicator().unregisterComposeRequestModifier(et,ae)})}},{key:"_startListeningForModificationRequests",value:function(){var Ae=this;if(!this._isListeningToAjaxInterceptStream){var De=this._driver.isUsingSyncAPI()?this._getDraftIDfromForm():this.getComposeID();if(!De)throw new Error("keyId should be set here");this._driver.getPageCommunicator().ajaxInterceptStream.filter(function(et){var ae=et.type,de=et.composeid,_e=et.draftID,he=et.modifierId;return ae==="inboxSDKmodifyComposeRequest"&&(de===De||De===_e)&&Boolean(Ae._requestModifiers[he])}).takeUntilBy(this._stopper).onValue(function(et){var ae=et.modifierId,de=et.composeParams;Ae._driver.getLogger().shouldTrackEverything()&&Ae._driver.getLogger().eventSite("inboxSDKmodifyComposeRequest");var _e=Ae._requestModifiers[ae];new I.default(function(he){return he(_e(de))}).then(function(he){return Ae._driver.getPageCommunicator().modifyComposeRequest(De,ae,he||de)}).then(function(he){return Ae._driver.getLogger().shouldTrackEverything()&&Ae._driver.getLogger().eventSite("composeRequestModified"),he}).catch(function(he){Ae._driver.getPageCommunicator().modifyComposeRequest(De,ae,de),Ae._driver.getLogger().error(he)})}),this._isListeningToAjaxInterceptStream=!0}}},{key:"setupLinkPopOvers",value:function(){this._hasSetupLinkPopOvers||(this._hasSetupLinkPopOvers=!0,this._eventStream.plug((0,Yt.default)(this)))}}]),Rt}(),xt=ne.defn(l,Un);i.default=xt},{"../../../../common/censorHTMLstring":636,"../../../../common/censorHTMLtree":637,"../../../../common/isElementVisible":646,"../../../driver-common/compose/getDiscardStream":829,"../../../driver-common/compose/getPresendingStream":830,"../../../lib/delay-asap":851,"../../../lib/dom/get-selection":856,"../../../lib/dom/insert-html-at-cursor":858,"../../../lib/dom/make-element-child-stream":860,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/dom/set-css":871,"../../../lib/dom/simulate-drag-and-drop":873,"../../../lib/dom/simulate-key":874,"../../../lib/dom/simulate-mouse-event":875,"../../../lib/handle-compose-link-chips":881,"../../../lib/insert-link-chip-into-body":887,"../../../lib/stream-wait-for":902,"../../../lib/wait-for":905,"../gmail-element-getter":696,"../gmail-response-processor":700,"./gmail-compose-view/add-button":718,"./gmail-compose-view/add-compose-notice":719,"./gmail-compose-view/add-recipient-row":720,"./gmail-compose-view/add-status-bar":721,"./gmail-compose-view/add-tooltip-to-button":722,"./gmail-compose-view/detectClassicRecipientsArea":723,"./gmail-compose-view/ensure-app-button-toolbars-are-closed":724,"./gmail-compose-view/ensure-grouping-is-open":725,"./gmail-compose-view/focus":726,"./gmail-compose-view/from-manager":727,"./gmail-compose-view/get-additional-action-toolbar":728,"./gmail-compose-view/get-address-changes-stream":729,"./gmail-compose-view/get-body-changes-stream":731,"./gmail-compose-view/get-formatting-area-offset-left":732,"./gmail-compose-view/get-minimized-stream":733,"./gmail-compose-view/get-recipients":734,"./gmail-compose-view/get-response-type-changes-stream":735,"./gmail-compose-view/insert-link-into-body":737,"./gmail-compose-view/manage-button-grouping":738,"./gmail-compose-view/monitor-selection-range":739,"./gmail-compose-view/override-edit-subject":740,"./gmail-compose-view/page-parser":741,"./gmail-compose-view/set-recipients":743,"./gmail-compose-view/setupLinkPopovers":744,"./gmail-compose-view/size-fixer":745,"./gmail-compose-view/update-insert-more-area-left":746,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"@babel/runtime-corejs2/helpers/typeof":57,"@babel/runtime-corejs2/regenerator":59,asap:83,"auto-html":89,"closest-ng":105,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/constant":477,"lodash/escape":482,"lodash/find":484,"lodash/includes":493,"lodash/once":516,"page-parser-tree":543,pdelay:545,"tag-tree":622,"transducers.js":623,ud:625}],718:[function(e,l,i){"use strict";function a(C,O){var V=m(C);if(h){var R=h(C);O&&(R=R.filter(function(P){return _(C,P).enumerable})),V.push.apply(V,R)}return V}function t(C){for(var O=1;O<arguments.length;O++){var V=arguments[O]!=null?arguments[O]:{};O%2?a(Object(V),!0).forEach(function(R){(0,E.default)(C,R,V[R])}):y?S(C,y(V)):a(Object(V)).forEach(function(R){v(C,R,_(V,R))})}return C}function o(C,O,V,R){return new I.default(function(P,B){var z;O.takeUntilBy(C.getStopper()).onValue(function(Q){var N=d(Q,R,C.getGmailDriver());z?z.update(N):N&&(z=u(C,N,V),P({buttonViewController:z,buttonDescriptor:Q}))}).onEnd(function(){P(null)})})}function u(C,O,V){if(C.getElement()&&C.getFormattingToolbar()){var R;return O.type==="MODIFIER"?R=n(C,O,V):O.type==="SEND_ACTION"&&(R=s(C,O)),C.getElement().dispatchEvent(new CustomEvent("buttonAdded",{bubbles:!1,cancelable:!1,detail:null})),R}}function n(C,O,V){var R=f(O);R.getView().getElement().setAttribute("tabindex","1"),R.getView().getElement().setAttribute("data-order-hint",String(O.orderHint||0)),R.getView().getElement().setAttribute("data-group-order-hint",V);var P=C._getFormattingAreaOffsetLeft(),B=R.getView().getElement(),z=C.getAdditionalActionToolbar();return(0,w.default)(z,B),C.updateInsertMoreAreaLeft(P),C.addManagedViewController(R),R}function s(C,O){var V=f(O);V.getView().removeClass("inboxsdk__composeButton"),V.getView().addClass("inboxsdk__compose_sendButton"),V.getView().getElement().setAttribute("tabindex","1");var R=C.getSendButtonGroup(),P=V.getView().getElement();return R.parentElement.insertBefore(P,R.nextSibling),C.addManagedViewController(V),V}function f(C){var O,V=new k.default(C),R=t({buttonView:V},C);return C.hasDropdown?((0,g.default)(R,{dropdownViewDriverClass:A.default,dropdownPositionOptions:{vAlign:"top"}}),O=new x.default(R)):O=new j.default(R),O}function d(C,O,V){if(!C)return null;var R=t({type:"MODIFIER"},C),P=R.onClick;return R.onClick=function(B){V.getLogger().eventSdkActive("composeView.addedButton.click"),P(t(t({},O),B))},R.hasDropdown?R.dropdownShowFunction=R.onClick:R.activateFunction=R.onClick,R.noArrow=!0,R.tooltip=R.tooltip||R.title,delete R.title,R.type==="MODIFIER"?R.buttonColor="flatIcon":R.type==="SEND_ACTION"&&(R.buttonColor="blue"),R}var m=e("@babel/runtime-corejs2/core-js/object/keys"),h=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),_=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),y=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),S=e("@babel/runtime-corejs2/core-js/object/define-properties"),v=e("@babel/runtime-corejs2/core-js/object/define-property"),T=e("@babel/runtime-corejs2/helpers/interopRequireDefault");v(i,"__esModule",{value:!0}),i.default=o;var E=T(e("@babel/runtime-corejs2/helpers/defineProperty")),I=T(e("@babel/runtime-corejs2/core-js/promise")),g=T(e("@babel/runtime-corejs2/core-js/object/assign")),k=(T(e("kefir")),T(e("./gmail-compose-button-view"))),j=T(e("../../../../widgets/buttons/basic-button-view-controller")),x=T(e("../../../../widgets/buttons/dropdown-button-view-controller")),A=T(e("../../widgets/gmail-dropdown-view")),w=T(e("../../../../lib/dom/insert-element-in-order"))},{"../../../../lib/dom/insert-element-in-order":857,"../../../../widgets/buttons/basic-button-view-controller":940,"../../../../widgets/buttons/dropdown-button-view-controller":941,"../../widgets/gmail-dropdown-view":771,"./gmail-compose-button-view":736,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],719:[function(e,l,i){"use strict";function a(B){var z=t();return function(){var Q,N=(0,j.default)(B);if(z){var K=(0,j.default)(this).constructor;Q=y(N,arguments,K)}else Q=N.apply(this,arguments);return(0,k.default)(this,Q)}}function t(){if(typeof Reflect=="undefined"||!y||y.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(y(Boolean,[],function(){})),!0}catch(B){return!1}}function o(B,z){var Q=s(B);if(f){var N=f(B);z&&(N=N.filter(function(K){return d(B,K).enumerable})),Q.push.apply(Q,N)}return Q}function u(B){for(var z=1;z<arguments.length;z++){var Q=arguments[z]!=null?arguments[z]:{};z%2?o(Object(Q),!0).forEach(function(N){(0,x.default)(B,N,Q[N])}):m?h(B,m(Q)):o(Object(Q)).forEach(function(N){_(B,N,d(Q,N))})}return B}function n(B,z){var Q=u({orderHint:0},z),N=Q.orderHint,K=new P(B,N);return B.getStopper().takeUntilBy(A.default.fromEvents(K,"destroy")).onValue(function(){return K.destroy()}),K}var s=e("@babel/runtime-corejs2/core-js/object/keys"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),m=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),h=e("@babel/runtime-corejs2/core-js/object/define-properties"),_=e("@babel/runtime-corejs2/core-js/object/define-property"),y=e("@babel/runtime-corejs2/core-js/reflect/construct"),S=e("@babel/runtime-corejs2/helpers/interopRequireDefault");_(i,"__esModule",{value:!0}),i.default=n;var v=S(e("@babel/runtime-corejs2/helpers/classCallCheck")),T=S(e("@babel/runtime-corejs2/helpers/createClass")),E=S(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),I=S(e("@babel/runtime-corejs2/helpers/get")),g=S(e("@babel/runtime-corejs2/helpers/inherits")),k=S(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),j=S(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),x=S(e("@babel/runtime-corejs2/helpers/defineProperty")),A=S(e("kefir")),w=S(e("kefir-stopper")),C=S(e("../../../../lib/dom/insert-element-in-order")),O=S(e("../../../../lib/logger")),V=S(e("../../../../lib/dom/querySelectorOrFail")),R=S(e("../../../../views/SimpleElementView")),P=function(B){function z(N,K){var U;(0,v.default)(this,z);var F=document.createElement("div");return F.style.fontFamily="Roboto,RobotoDraft,Helvetica,Arial,sans-serif",F.style.fontSize="14px",U=Q.call(this,F),(0,x.default)((0,E.default)(U),"_gmailComposeView",void 0),(0,x.default)((0,E.default)(U),"_orderHint",void 0),(0,x.default)((0,E.default)(U),"_stopper",(0,w.default)()),U._gmailComposeView=N,U._orderHint=K,F.className="inboxsdk__compose_notice",F.setAttribute("data-order-hint",String(K)),U._setComposeNotice(),U}(0,g.default)(z,B);var Q=a(z);return(0,T.default)(z,[{key:"destroy",value:function(){this.destroyed||((0,I.default)((0,j.default)(z.prototype),"destroy",this).call(this),this._stopper.destroy())}},{key:"_setComposeNotice",value:function(){try{var N=(0,V.default)(this._gmailComposeView.getElement(),".iN");(0,C.default)(N,this.el,["data-order-hint"],!0)}catch(K){O.default.error(K)}}}]),z}(R.default)},{"../../../../lib/dom/insert-element-in-order":857,"../../../../lib/dom/querySelectorOrFail":869,"../../../../lib/logger":892,"../../../../views/SimpleElementView":921,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/get":41,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,kefir:327,"kefir-stopper":326}],720:[function(e,l,i){"use strict";function a(f,d){var m;return d.takeUntilBy(f.getStopper()).onValue(function(h){m&&(m.remove(),m=null),h&&(m=t(f,h),(0,n.default)(m)),f.getElement().dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null}))}),function(){m&&(m.remove(),m=null,f.getElement().dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null})))}}function t(f,d){var m=document.createElement("tr"),h=document.createElement("td"),_=document.createElement("td");if(m.appendChild(h),m.appendChild(_),m.setAttribute("class","inboxsdk__recipient_row"),d.labelText){h.setAttribute("class","ok");var y=document.createElement("span");y.setAttribute("class","gO"),h.appendChild(y),y.textContent=d.labelText,d.labelClass&&h.classList.add(d.labelClass),d.labelTextClass&&y.classList.add(d.labelTextClass)}d.el&&(_.setAttribute("class","az3"),_.appendChild(d.el));var S=(0,s.getRecipientRowElements)(f.getElement())[0],v=S.parentElement;v.insertBefore(m,S.nextSibling);var T=v.closest(".fX");return T&&T.classList.add("inboxsdk__compose_addressList"),m}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=(u(e("kefir")),u(e("../../../../lib/dom/block-and-reemit-keyboard-events"))),s=e("./page-parser")},{"../../../../lib/dom/block-and-reemit-keyboard-events":852,"./page-parser":741,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],721:[function(e,l,i){"use strict";function a(U){var F=t();return function(){var Z,$=(0,A.default)(U);if(F){var ne=(0,A.default)(this).constructor;Z=S($,arguments,ne)}else Z=$.apply(this,arguments);return(0,x.default)(this,Z)}}function t(){if(typeof Reflect=="undefined"||!S||S.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(S(Boolean,[],function(){})),!0}catch(U){return!1}}function o(U,F){var Z=f(U);if(d){var $=d(U);F&&($=$.filter(function(ne){return m(U,ne).enumerable})),Z.push.apply(Z,$)}return Z}function u(U){for(var F=1;F<arguments.length;F++){var Z=arguments[F]!=null?arguments[F]:{};F%2?o(Object(Z),!0).forEach(function($){(0,w.default)(U,$,Z[$])}):h?_(U,h(Z)):o(Object(Z)).forEach(function($){y(U,$,m(Z,$))})}return U}function n(U,F){var Z=u({height:40,orderHint:0,addAboveNativeStatusBar:!1},F),$=Z.height,ne=Z.orderHint,H=Z.addAboveNativeStatusBar,X=new K(U,$,ne,H);return U.getStopper().takeUntilBy(O.default.fromEvents(X,"destroy")).onValue(function(){return X.destroy()}),X}function s(U,F){var Z=document.createElement("div");return Z.className=(0,R.default)("aDh","inboxsdk__compose_statusbar",{inboxsdk__addAboveNative:F}),Z.style.fontFamily="Roboto,RobotoDraft,Helvetica,Arial,sans-serif",Z.style.fontSize="15.6px",Z.setAttribute("data-order-hint",String(U)),Z}var f=e("@babel/runtime-corejs2/core-js/object/keys"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),m=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),h=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),_=e("@babel/runtime-corejs2/core-js/object/define-properties"),y=e("@babel/runtime-corejs2/core-js/object/define-property"),S=e("@babel/runtime-corejs2/core-js/reflect/construct"),v=e("@babel/runtime-corejs2/helpers/interopRequireDefault");y(i,"__esModule",{value:!0}),i.default=void 0;var T=v(e("@babel/runtime-corejs2/core-js/array/from")),E=v(e("@babel/runtime-corejs2/helpers/classCallCheck")),I=v(e("@babel/runtime-corejs2/helpers/createClass")),g=v(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),k=v(e("@babel/runtime-corejs2/helpers/get")),j=v(e("@babel/runtime-corejs2/helpers/inherits")),x=v(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),A=v(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),w=v(e("@babel/runtime-corejs2/helpers/defineProperty")),C=e("ud"),O=v(e("kefir")),V=v(e("kefir-stopper")),R=v(e("classnames")),P=v(e("../../../../lib/dom/insert-element-in-order")),B=v(e("../../../../lib/logger")),z=v(e("../../../../lib/dom/querySelectorOrFail")),Q=v(e("../../../../views/SimpleElementView")),N=(0,C.defn)(l,n);i.default=N;var K=function(U){function F($,ne,H,X){var oe;return(0,E.default)(this,F),oe=Z.call(this,s(H,X)),(0,w.default)((0,g.default)(oe),"_addAboveNativeStatusBar",void 0),(0,w.default)((0,g.default)(oe),"_gmailComposeView",void 0),(0,w.default)((0,g.default)(oe),"_nativeStatusContainer",void 0),(0,w.default)((0,g.default)(oe),"_prependContainer",null),(0,w.default)((0,g.default)(oe),"_stopper",(0,V.default)()),oe._addAboveNativeStatusBar=X,oe._gmailComposeView=$,oe._nativeStatusContainer=(0,z.default)($.getElement(),".iN > tbody .aDj"),oe._setStatusBar(),oe.setHeight(ne),oe}(0,j.default)(F,U);var Z=a(F);return(0,I.default)(F,[{key:"destroy",value:function(){this.destroyed||((0,k.default)((0,A.default)(F.prototype),"destroy",this).call(this),this._stopper.destroy(),this._prependContainer&&this._prependContainer.children.length===0&&this._prependContainer.remove(),this._updateTotalHeight())}},{key:"setHeight",value:function($){this.el.style.height=$+"px",this._updateTotalHeight()}},{key:"_updateTotalHeight",value:function(){var $=(0,T.default)(this._gmailComposeView.getElement().querySelectorAll(".inboxsdk__compose_statusbar")).map(function(ne){return ne.getBoundingClientRect().height}).reduce(function(ne,H){return ne+H},0);this._gmailComposeView.getElement().style.setProperty("--inboxsdk-total-added-statusbar-height",$+"px")}},{key:"_setStatusBar",value:function(){try{var $=this._gmailComposeView.getStatusArea();if(this._gmailComposeView.getElement().classList.add("inboxsdk__compose_statusbarActive"),this._addAboveNativeStatusBar){var ne=this._prependContainer=$.querySelector(".inboxsdk__compose_statusBarPrependContainer")||document.createElement("div");ne.classList.add("inboxsdk__compose_statusBarPrependContainer"),$.insertAdjacentElement("afterbegin",ne),(0,P.default)(ne,this.el)}else if(this._gmailComposeView.isInlineReplyForm()){var H=(0,z.default)(this._gmailComposeView.getElement(),".iN > tbody .aDj .aDh .IZ");(0,P.default)(H,this.el)}else(0,P.default)($,this.el)}catch(X){B.default.error(X)}}}]),F}(Q.default)},{"../../../../lib/dom/insert-element-in-order":857,"../../../../lib/dom/querySelectorOrFail":869,"../../../../lib/logger":892,"../../../../views/SimpleElementView":921,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/get":41,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,classnames:104,kefir:327,"kefir-stopper":326,ud:625}],722:[function(e,l,i){"use strict";function a(d,m,h,_){var y=new f.default(_),S=y.getStopper().merge(d.getStopper());d.getStopper().takeUntilBy(y.getStopper()).onValue(function(){return y.destroy()}),document.body.appendChild(y.getElement()),t(y,d,m,h),d.getEventStream().filter(function(I){return I.eventName==="buttonAdded"||I.eventName==="fullscreenChanged"}).merge(y.getEventStream().filter(function(I){return I.eventName==="imageLoaded"})).debounce(10).takeUntilBy(S).onValue(t.bind(null,y,d,m,h)),m.getView().getEventStream().takeUntilBy(S).filter(function(I){return I.eventName==="click"}).onValue(y.destroy.bind(y));var v=n.default.interval(50).takeUntilBy(S),T=0,E=0;return v.takeWhile(function(){return!!m.getView()&&!!y.getElement()}).map(function(){return m.getView().getElement().getBoundingClientRect()}).filter(function(I){return I.left!==T||I.top!==E}).map(function(I){return T=I.left,E=I.top,I}).onValue(y.anchor.bind(y,m.getView().getElement(),{position:"top"})),v.filter(function(){return!m.getView()||!m.getView().getElement().offsetParent}).onValue(y.destroy.bind(y)),y}function t(d,m,h,_){try{m.ensureGroupingIsOpen(_.type),setTimeout(function(){d.anchor(h.getView().getElement(),{position:"top"})},10)}catch(y){s.default.error(y)}}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=u(e("kefir")),s=u(e("../../../../lib/logger")),f=u(e("../../widgets/gmail-tooltip-view"))},{"../../../../lib/logger":892,"../../widgets/gmail-tooltip-view":775,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],723:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/toConsumableArray")),u=t(e("lodash/once")),n=(0,u.default)(function(){var s=(0,o.default)(document.styleSheets).find(function(f){try{if(f.cssRules)return(0,o.default)(f.cssRules).find(function(d){return d instanceof CSSStyleRule&&d.selectorText===".aoI"&&d.style.fontSize&&d.style.color})}catch(d){}return!1});if(s){if((0,o.default)(s.cssRules).some(function(f){return f instanceof CSSStyleRule&&f.selectorText===".aoI"&&f.style.overflowY==="visible"})||(0,o.default)(s.cssRules).some(function(f){return f instanceof CSSStyleRule&&f.selectorText===".aaZ > .M9 > .aoI"&&f.style.overflowY==="auto"}))return;document.body.classList.add("inboxsdk__classic_gmail_recipients_area")}});i.default=n},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/toConsumableArray":56,"lodash/once":516}],724:[function(e,l,i){"use strict";function a(o){var u=o.querySelector(".inboxsdk__compose_groupedActionButton");u&&o.classList.contains("inboxsdk__compose_groupedActionToolbar_visible")&&(0,t.simulateClick)(u)}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a;var t=e("../../../../lib/dom/simulate-mouse-event")},{"../../../../lib/dom/simulate-mouse-event":875,"@babel/runtime-corejs2/core-js/object/define-property":11}],725:[function(e,l,i){"use strict";function a(o,u){if(u!=="SEND_ACTION"){var n=o.querySelector(".inboxsdk__compose_groupedActionButton");n&&(o.classList.contains("inboxsdk__compose_groupedActionToolbar_visible")||(0,t.simulateClick)(n))}}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a;var t=e("../../../../lib/dom/simulate-mouse-event")},{"../../../../lib/dom/simulate-mouse-event":875,"@babel/runtime-corejs2/core-js/object/define-property":11}],726:[function(e,l,i){"use strict";function a(t){t.getBodyElement().focus();var o=t.getLastSelectionRange(),u=document.getSelection();if(!u)throw new Error;o&&u.anchorNode===u.focusNode&&u.anchorOffset===u.focusOffset&&(u.removeAllRanges(),u.addRange(o))}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],727:[function(e,l,i){"use strict";function a(m,h){var _=h.getElement().querySelector('input[name="from"]'),y=_?_.value:null;if(!y)return m.getUserContact();var S,v=t(m,h),T=(0,f.default)(v,function(E){return E.emailAddress===y});return T?S=T.name:(S=y,m.getLogger().error(new Error("getFromContact failed to find name"),{fromContactChoicesLength:v.length})),{emailAddress:y,name:S}}function t(m,h){var _=h.getElement().querySelectorAll("div.J-M.jQjAxd.J-M-awS[role=menu] > div.SK.AX > div[value][role=menuitem]");return _.length==0?[m.getUserContact()]:(0,s.default)(_).map(function(y){return{emailAddress:y.getAttribute("value")||"",name:y.textContent.replace(/<.*/,"").trim()}})}function o(m,h,_){if(h.getFromContact().emailAddress!==_){var y=h.getElement().querySelector("div.J-M.jQjAxd.J-M-awS[role=menu] > div.SK.AX");if(y){var S=(0,f.default)(y.children,function(v){return v.getAttribute("value")==_});if(!S)throw new Error("Chosen email from choice was not found");(0,d.simulateClick)(S)}else if(m.getUserContact().emailAddress!=_)throw new Error("Chosen email from choice was not found")}}var u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.getFromContact=a,i.getFromContactChoices=t,i.setFromEmail=o;var s=n(e("@babel/runtime-corejs2/core-js/array/from")),f=n(e("lodash/find")),d=e("../../../../lib/dom/simulate-mouse-event")},{"../../../../lib/dom/simulate-mouse-event":875,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/find":484}],728:[function(e,l,i){"use strict";function a(f){var d=f.getElement().querySelector(".inboxsdk__compose_groupedActionToolbar > div");if(d)return d;var m=f.getElement().querySelector(".inboxsdk__compose_actionToolbar > div");if(m)return m;if(!(m=s.get(f))){var h=m=t(f);f.getStopper().onValue(function(){h.remove()}),s.set(f,m)}return m}function t(f){var d=document.createElement("td");d.setAttribute("class","inboxsdk__compose_actionToolbar gU");var m=f.getFormattingArea();if(!m)throw new Error("formatting area missing");m.insertAdjacentElement("beforebegin",d);for(var h=d.parentElement;h&&h.tagName!=="TABLE";)h=h.parentElement;if(h){var _=h.querySelector("colgroup col");if(_){var y=document.createElement("col");y.setAttribute("class","inboxsdk__compose_actionToolbarColumn");var S=document.createElement("col");S.setAttribute("class","inboxsdk__compose_separatorColumn"),_.insertAdjacentElement("afterend",S),_.insertAdjacentElement("afterend",y)}}var v=document.createElement("div");return d.appendChild(v),v}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=u(e("@babel/runtime-corejs2/core-js/weak-map")),s=new n.default},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],729:[function(e,l,i){"use strict";function a(v){var T=(0,y.getRecipientRowElements)(v.getElement());if(!T||T.length===0)return m.default.never();var E=m.default.merge([o("to",v),o("cc",v),o("bcc",v)]),I=E.map(u);return m.default.merge([E,I,n(v)])}function t(v,T,E){return v.getAttribute("role")==="option"?{name:v.getAttribute("data-name"),emailAddress:v.getAttribute("data-hovercard-id")}:(0,_.default)(T,E)(v)}function o(v,T){var E=T.tagTree.getAllByTag("".concat(v,"Recipient"));return(0,S.default)(E).flatMap(function(I){var g=I.el,k=I.removalStream,j=t(g.getValue(),v,T);return j?m.default.constant({eventName:"".concat(v,"ContactAdded"),data:{contact:j}}).merge(k.map(function(){return{eventName:"".concat(v,"ContactRemoved"),data:{contact:j}}})):m.default.never()})}function u(v){var T={to:{added:[],removed:[]},cc:{added:[],removed:[]},bcc:{added:[],removed:[]}},E=v.eventName.split("Contact");return T[E[0]][E[1].toLowerCase()].push(v.data.contact),{eventName:"recipientsChanged",data:T}}function n(v){return m.default.later(0,null).flatMap(function(){var T=v.getElement().querySelector('input[name="from"]');return m.default.constant(s("fromContactChanged",v.getFromContact())).merge(T?(0,h.default)(T,{attributes:!0,attributeFilter:["value"]}).map(function(){return s("fromContactChanged",v.getFromContact())}):m.default.never())})}function s(v,T){return{eventName:v,data:{contact:T}}}var f=e("@babel/runtime-corejs2/core-js/object/define-property"),d=e("@babel/runtime-corejs2/helpers/interopRequireDefault");f(i,"__esModule",{value:!0}),i.default=a;var m=d(e("kefir")),h=(d(e("transducers.js")),d(e("../../../../lib/logger")),d(e("../../../../lib/dom/make-mutation-observer-stream"))),_=d(e("./get-address-information-extractor")),y=e("./page-parser"),S=(d(e("../../../../lib/dom/make-element-child-stream")),d(e("../../../../lib/toItemWithLifetimeStream")))},{"../../../../lib/dom/make-element-child-stream":860,"../../../../lib/dom/make-mutation-observer-stream":864,"../../../../lib/logger":892,"../../../../lib/toItemWithLifetimeStream":903,"./get-address-information-extractor":730,"./page-parser":741,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"transducers.js":623}],730:[function(e,l,i){"use strict";function a(f,d){return function(m){var h=m instanceof HTMLInputElement&&m.getAttribute("name")===f?m:m.querySelector("input[name='".concat(f,"']"));if(!h)return u.default.error(new Error("contactNode can't be found"),{addressType:f,composeViewHtml:(0,s.default)(d.getElement().outerHTML)}),null;var _=h.value;try{return(0,n.default)(_)}catch(y){return null}}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("../../../../lib/logger")),n=o(e("../../../../lib/extract-contact-from-email-contact-string")),s=o(e("../../../../../common/censorHTMLstring"))},{"../../../../../common/censorHTMLstring":636,"../../../../lib/extract-contact-from-email-contact-string":877,"../../../../lib/logger":892,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],731:[function(e,l,i){"use strict";function a(n){var s=n.getBodyElement();return(0,u.default)(s,{childList:!0,subtree:!0,characterData:!0}).map(function(){return{eventName:"bodyChanged"}})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=(o(e("kefir")),o(e("../../../../lib/dom/make-mutation-observer-stream")))},{"../../../../lib/dom/make-mutation-observer-stream":864,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],732:[function(e,l,i){"use strict";function a(f,d){if(!d){var m=s.get(f);if(m!=null)return m}var h=f.getFormattingArea();if(!h)return 0;var _=h.getBoundingClientRect().left;return s.set(f,_),(0,n.default)(function(){return s.delete(f)}),_}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/weak-map")),n=o(e("asap")),s=new u.default},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,asap:83}],733:[function(e,l,i){"use strict";function a(m){return d.flatMapLatest(function(h){return h(m)})}function t(m){var h=m.getElement(),_=m.getBodyElement(),y=(0,n.default)(h.children,function(S){return S.contains(_)});return(0,f.default)(y,{attributes:!0,attributeFilter:["style"]}).map(function(){return m.isMinimized()})}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=u(e("lodash/find")),s=(u(e("kefir")),u(e("ud-kefir"))),f=u(e("../../../../lib/dom/make-mutation-observer-stream")),d=(0,s.default)(l,t)},{"../../../../lib/dom/make-mutation-observer-stream":864,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"lodash/find":484,"ud-kefir":624}],734:[function(e,l,i){"use strict";function a(d,m){var h=(0,n.getRecipientChips)(d.getElement(),m);return(0,u.default)(h).map(function(_){return _.getAttribute("role")==="option"?{name:_.getAttribute("data-name"),emailAddress:_.getAttribute("data-hovercard-id")}:(0,s.default)(m,d)(_)}).filter(f.default)}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/array/from")),n=e("./page-parser"),s=o(e("./get-address-information-extractor")),f=o(e("../../../../lib/isNotNil"))},{"../../../../lib/isNotNil":890,"./get-address-information-extractor":730,"./page-parser":741,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],735:[function(e,l,i){"use strict";function a(d){var m;try{return m=(0,f.default)(d.getElement(),".J-J5-Ji .J-JN-M-I-Jm > img"),(0,s.default)(m,{attributeFilter:["class"],attributes:!0}).map(function(){return{data:{isForward:d.isForward()},eventName:"responseTypeChanged"}})}catch(h){return n.default.error(h),u.default.never()}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("kefir")),n=o(e("../../../../lib/logger")),s=o(e("../../../../lib/dom/make-mutation-observer-chunked-stream")),f=o(e("../../../../lib/dom/querySelectorOrFail"))},{"../../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../../lib/dom/querySelectorOrFail":869,"../../../../lib/logger":892,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],736:[function(e,l,i){"use strict";function a(I){if(typeof o!="function")return null;var g=new o,k=new o;return(a=function(j){return j?k:g})(I)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/defineProperty")),h=s(e("lodash/includes")),_=function(I,g){if(!g&&I&&I.__esModule)return I;if(I===null||t(I)!=="object"&&typeof I!="function")return{default:I};var k=a(g);if(k&&k.has(I))return k.get(I);var j={},x=u&&n;for(var A in I)if(A!=="default"&&Object.prototype.hasOwnProperty.call(I,A)){var w=x?n(I,A):null;w&&(w.get||w.set)?u(j,A,w):j[A]=I[A]}return j.default=I,k&&k.set(I,j),j}(e("kefir")),y=s(e("kefir-bus")),S=s(e("../../../../lib/logger")),v=e("../../../../lib/dom/simulate-mouse-event"),T=s(e("../../../../lib/dom/keyboard-shortcut-stream")),E=function(){function I(g){(0,f.default)(this,I),(0,m.default)(this,"_element",document.createElement("div")),(0,m.default)(this,"_iconElement",document.createElement("div")),(0,m.default)(this,"_iconImgElement",void 0),(0,m.default)(this,"_iconClass",void 0),(0,m.default)(this,"_iconUrl",void 0),(0,m.default)(this,"_tooltip",void 0),(0,m.default)(this,"_hasDropdown",void 0),(0,m.default)(this,"_isEnabled",void 0),(0,m.default)(this,"_keyboardShortcutHandle",void 0),(0,m.default)(this,"_eventStream",void 0),this._isEnabled=g.enabled!==!1,this._iconClass=g.iconClass,this._iconUrl=g.iconUrl,this._tooltip=g.tooltip||g.title||g.text,this._hasDropdown=!!g.hasDropdown,this._keyboardShortcutHandle=g.keyboardShortcutHandle,this._createElement(g),this._eventStream=(0,y.default)(),this._setupEventStream(),this._setupAestheticEvents(),g.enabled!==!1&&this._setupKeyboardShortcutEvent()}return(0,d.default)(I,[{key:"destroy",value:function(){this._element.remove(),this._eventStream.end()}},{key:"getElement",value:function(){return this._element}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"activate",value:function(){this.addClass("inboxsdk__composeButton_active")}},{key:"deactivate",value:function(){this.removeClass("inboxsdk__composeButton_active")}},{key:"addClass",value:function(g){this._element.classList.add(g)}},{key:"removeClass",value:function(g){this._element.classList.remove(g)}},{key:"simulateHover",value:function(){(0,v.simulateHover)(this._element)}},{key:"setEnabled",value:function(g){this._setEnabled(g)}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"update",value:function(g){if(!g)return void(this._element.style.display="none");this._element.style.display==="none"&&(this._element.style.display="");var k=g.tooltip||g.title||g.text;k!=this._tooltip&&this._updateTooltip(k),g.iconUrl!=this._iconUrl&&this._updateIconUrl(g.iconUrl),g.iconClass!=this._iconClass&&this._updateIconClass(g.iconClass),g.enabled!==!1&&g.enabled!==!0||this._setEnabled(g.enabled)}},{key:"_createElement",value:function(g){this._createMainElement(g),this._createIconElement()}},{key:"_createMainElement",value:function(g){this._element.setAttribute("class","inboxsdk__composeButton"),g.tooltip&&this._element.setAttribute("aria-label",g.tooltip),this._element.setAttribute("role","button"),this._element.setAttribute("tabindex","0");var k=g.tooltip||g.title||g.text;k&&this._element.setAttribute("data-tooltip",k),g.enabled===!1&&this._element.classList.add("inboxsdk__button_disabled"),g.noOverflow&&this._element.setAttribute("data-no-overflow","")}},{key:"_createIconElement",value:function(){var g=this._iconElement;this._iconClass&&(g.innerHTML="&nbsp;",g.setAttribute("class",this._iconClass)),g.classList.add("inboxsdk__button_icon"),this._element.appendChild(g),this._iconUrl&&this._createIconImgElement()}},{key:"_createIconImgElement",value:function(){this._iconElement.innerHTML="";var g=this._iconImgElement=document.createElement("img");g.classList.add("inboxsdk__button_iconImg"),this._iconUrl?g.src=this._iconUrl:S.default.error(new Error("_createIconImgElement should not be called with null _iconUrl")),this._iconElement.appendChild(g)}},{key:"_updateTooltip",value:function(g){this._tooltip=g,g?this._element.setAttribute("data-tooltip",g):this._element.removeAttribute("data-tooltip")}},{key:"_updateIconUrl",value:function(g){this._iconUrl=g,!g&&this._iconImgElement?(this._iconImgElement.remove(),this._iconImgElement=null):g&&!this._iconImgElement?this._createIconImgElement():g&&this._iconImgElement&&(this._iconImgElement.src=g)}},{key:"_updateIconClass",value:function(g){this._iconClass=g,this._iconElement.setAttribute("class","inboxsdk__button_icon "+(g||""))}},{key:"_setEnabled",value:function(g){this._isEnabled!==g&&(this._isEnabled=g,this._isEnabled?this._element.classList.remove("inboxsdk__button_disabled"):this._element.classList.add("inboxsdk__button_disabled"),this._eventStream.emit({eventName:"enabledChanged",isEnabled:this._isEnabled}),this._isEnabled&&this._setupKeyboardShortcutEvent())}},{key:"_setupEventStream",value:function(){var g=this,k=_.fromEvents(this._element,"click");k.onValue(function(w){w.stopPropagation(),w.preventDefault()}),this._eventStream.plug(k.filter(function(){return g.isEnabled()}).map(function(w){return{eventName:"click",domEvent:w}}));var j=function(w){return(0,h.default)([32,13],w.which)},x=_.fromEvents(this._element,"keydown").filter(function(){return g.isEnabled()}),A=x.filter(j);this._eventStream.plug(A.map(function(w){return{eventName:"click",domEvent:w}})),A.onValue(function(w){w.stopPropagation(),w.preventDefault()})}},{key:"_setupKeyboardShortcutEvent",value:function(){var g=this._keyboardShortcutHandle;g&&this._eventStream.plug((0,T.default)(g.chord).takeUntilBy(this._eventStream.filter(function(k){return k.eventName==="enabledChanged"&&k.isEnabled===!1})).map(function(k){return{eventName:"click",domEvent:k}}))}},{key:"_setupAestheticEvents",value:function(){var g=this;_.fromEvents(this._element,"mouseenter").filter(function(){return g.isEnabled()}).onValue(function(){g._element.classList.add("inboxsdk__button_hover")}),_.fromEvents(this._element,"mouseleave").onValue(function(){g._element.classList.remove("inboxsdk__button_hover")})}}]),I}();i.default=E},{"../../../../lib/dom/keyboard-shortcut-stream":859,"../../../../lib/dom/simulate-mouse-event":875,"../../../../lib/logger":892,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,"kefir-bus":324,"lodash/includes":493}],737:[function(e,l,i){"use strict";function a(n,s,f){return t(n,s,f)}function t(n,s,f){n.focus(),n.getBodyElement().focus();var d=document.getSelection();if(!d)throw new Error("selection does't exist, what?");var m=d.getRangeAt(0),h=document.createElement("a");return h.href=f,m.extractContents(),m.insertNode(h),h.textContent=s,d.selectAllChildren(h),d.collapseToEnd(),h}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a,e("../../../../lib/dom/simulate-mouse-event"),u(e("../../../../lib/dom/set-value-and-dispatch-event"))},{"../../../../lib/dom/set-value-and-dispatch-event":872,"../../../../lib/dom/simulate-mouse-event":875,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],738:[function(e,l,i){"use strict";function a(Y){Y.getElement().querySelector(".inboxsdk__compose_groupedActionToolbar")&&t(Y),o(Y)}function t(Y){var se=(0,$.default)(ne,Y);se.groupedToolbarButtonViewController&&se.groupedToolbarButtonViewController.destroy(),se.formattingToolbarMutationObserver&&se.formattingToolbarMutationObserver.disconnect();var ie=se.groupedActionToolbarContainer.firstElementChild;if(ie){S(Y,ie),ie.remove();var L=(0,U.default)(Y.getElement(),".inboxsdk__compose_actionToolbar");L.innerHTML="",L.appendChild(ie)}}function o(Y){u(Y),k(Y)}function u(Y){X.has(Y)||(X.add(Y),window.requestAnimationFrame(function(){if(X.delete(Y),!Y.isDestroyed()&&(n(Y),s(Y))){var se=d(Y),ie=m(Y);_(Y,ie),v(Y,ie),x(Y,ie),Y.getElement().classList.remove("inboxsdk__compose_narrow_buttons"),n(Y),Y.getStopper().onValue(function(){se.remove(),ie.destroy()})}}))}function n(Y){Y.getElement().clientWidth>f(Y)||Y.getElement().querySelectorAll(".inboxsdk__composeButton").length===0||Y.getElement().classList.contains("inboxsdk__compose_narrow_buttons")||(Y.getElement().classList.add("inboxsdk__compose_narrow_buttons"),Y.getElement().offsetTop)}function s(Y){return!Y.getElement().querySelector(".inboxsdk__compose_groupedActionToolbar")&&!(Y.getElement().querySelectorAll(".inboxsdk__composeButton:not([data-no-overflow])").length<2)&&f(Y)>Y.getBottomToolbarContainer().clientWidth}function f(Y){var se=Y.getBottomBarTable();return(0,V.default)(se.querySelectorAll(".btC > td")).reduce(function(ie,L){return ie+L.clientWidth},0)}function d(Y){var se=document.createElement("div");return se.classList.add("inboxsdk__compose_groupedActionToolbar"),se.innerHTML='<div class="inboxsdk__compose_groupedActionToolbar_arrow"> </div>',(0,$.default)(ne,Y).groupedActionToolbarContainer=se,se.style.display="none",se}function m(Y){var se=(0,$.default)(ne,Y),ie=h(),L=new B.default({buttonView:ie,activateFunction:function(){I(Y,L),g()&&(0,$.default)(ne,Y).groupedActionToolbarContainer.querySelectorAll(".inboxsdk__composeButton")[0].focus()}});return se.groupedActionToolbarContainer.addEventListener("keydown",function(G){G.which===27&&(L.activate(),ie.getElement().focus(),G.preventDefault(),G.stopPropagation())}),(0,$.default)(ne,Y).groupedToolbarButtonViewController=L,L}function h(){var Y=new P.default({tooltip:"More Tools",iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAEJGlDQ1BJQ0MgUHJvZmlsZQAAOBGFVd9v21QUPolvUqQWPyBYR4eKxa9VU1u5GxqtxgZJk6XtShal6dgqJOQ6N4mpGwfb6baqT3uBNwb8AUDZAw9IPCENBmJ72fbAtElThyqqSUh76MQPISbtBVXhu3ZiJ1PEXPX6yznfOec7517bRD1fabWaGVWIlquunc8klZOnFpSeTYrSs9RLA9Sr6U4tkcvNEi7BFffO6+EdigjL7ZHu/k72I796i9zRiSJPwG4VHX0Z+AxRzNRrtksUvwf7+Gm3BtzzHPDTNgQCqwKXfZwSeNHHJz1OIT8JjtAq6xWtCLwGPLzYZi+3YV8DGMiT4VVuG7oiZpGzrZJhcs/hL49xtzH/Dy6bdfTsXYNY+5yluWO4D4neK/ZUvok/17X0HPBLsF+vuUlhfwX4j/rSfAJ4H1H0qZJ9dN7nR19frRTeBt4Fe9FwpwtN+2p1MXscGLHR9SXrmMgjONd1ZxKzpBeA71b4tNhj6JGoyFNp4GHgwUp9qplfmnFW5oTdy7NamcwCI49kv6fN5IAHgD+0rbyoBc3SOjczohbyS1drbq6pQdqumllRC/0ymTtej8gpbbuVwpQfyw66dqEZyxZKxtHpJn+tZnpnEdrYBbueF9qQn93S7HQGGHnYP7w6L+YGHNtd1FJitqPAR+hERCNOFi1i1alKO6RQnjKUxL1GNjwlMsiEhcPLYTEiT9ISbN15OY/jx4SMshe9LaJRpTvHr3C/ybFYP1PZAfwfYrPsMBtnE6SwN9ib7AhLwTrBDgUKcm06FSrTfSj187xPdVQWOk5Q8vxAfSiIUc7Z7xr6zY/+hpqwSyv0I0/QMTRb7RMgBxNodTfSPqdraz/sDjzKBrv4zu2+a2t0/HHzjd2Lbcc2sG7GtsL42K+xLfxtUgI7YHqKlqHK8HbCCXgjHT1cAdMlDetv4FnQ2lLasaOl6vmB0CMmwT/IPszSueHQqv6i/qluqF+oF9TfO2qEGTumJH0qfSv9KH0nfS/9TIp0Wboi/SRdlb6RLgU5u++9nyXYe69fYRPdil1o1WufNSdTTsp75BfllPy8/LI8G7AUuV8ek6fkvfDsCfbNDP0dvRh0CrNqTbV7LfEEGDQPJQadBtfGVMWEq3QWWdufk6ZSNsjG2PQjp3ZcnOWWing6noonSInvi0/Ex+IzAreevPhe+CawpgP1/pMTMDo64G0sTCXIM+KdOnFWRfQKdJvQzV1+Bt8OokmrdtY2yhVX2a+qrykJfMq4Ml3VR4cVzTQVz+UoNne4vcKLoyS+gyKO6EHe+75Fdt0Mbe5bRIf/wjvrVmhbqBN97RD1vxrahvBOfOYzoosH9bq94uejSOQGkVM6sN/7HelL4t10t9F4gPdVzydEOx83Gv+uNxo7XyL/FtFl8z9ZAHF4bBsrEwAAADxJREFUOBFjYKASYISa8x/NPJLFmdAMIJs7+Awi2ys000hy7EBdghHLgy+wqeYimgU+2QaPxhrZQUe6RgBYwgkWqJftAwAAAABJRU5ErkJggg=="});return Y.addClass("inboxsdk__compose_groupedActionButton"),Y.getElement().setAttribute("tabindex","1"),Y}function _(Y,se){var ie=(0,U.default)(Y.getElement(),".inboxsdk__compose_actionToolbar > div"),L=ie.parentElement,G=document.createElement("div");G.appendChild(se.getView().getElement()),L.appendChild(G);var le=(0,$.default)(ne,Y).groupedActionToolbarContainer;le.insertBefore(ie,le.firstElementChild),L.appendChild(le),y(Y)}function y(Y){S(Y,(0,U.default)(Y.getElement(),".inboxsdk__compose_actionToolbar > div"))}function S(Y,se){var ie=Y.getElement().querySelectorAll(".inboxsdk__composeButton[data-no-overflow]");(0,V.default)(ie).forEach(function(L){return(0,z.default)(se,L,void 0,!0)})}function v(Y,se){g()&&E(Y,se)}function T(Y,se){(0,$.default)(ne,Y).groupedActionToolbarContainer.style.display="none",Y.getElement().classList.remove("inboxsdk__compose_groupedActionToolbar_visible"),se.getView().deactivate(),localStorage.inboxsdk__compose_groupedActionButton_state="collapsed",Y.getBottomBarTable().style.position="";var ie=Y.getElement().querySelector(".qz");ie&&(ie.scrollTop=ie.scrollTop-1)}function E(Y,se){(0,$.default)(ne,Y).groupedActionToolbarContainer.style.display="",Y.getElement().classList.add("inboxsdk__compose_groupedActionToolbar_visible"),se.getView().activate(),localStorage.inboxsdk__compose_groupedActionButton_state="expanded",j(Y);var ie=Y.getFormattingToolbar();ie&&ie.style.display===""&&(0,Q.simulateClick)(Y.getFormattingToolbarToggleButton());var L=Y.getElement().querySelector(".qz");L&&(L.scrollTop=L.scrollTop+1)}function I(Y,se){g()?T(Y,se):E(Y,se)}function g(){return localStorage.inboxsdk__compose_groupedActionButton_state==="expanded"}function k(Y){oe.has(Y)||(oe.add(Y),window.requestAnimationFrame(function(){if(oe.delete(Y),!Y.isDestroyed()){(0,Z.default)(Y);var se=Y.getElement().querySelector(".inboxsdk__compose_groupedActionToolbar");se&&se.style.display!=="none"&&j(Y)}}))}function j(Y){if(!Y.isMinimized()){var se=Y.getElement().querySelector(".inboxsdk__compose_groupedActionToolbar");if(se){var ie=(0,U.default)(Y.getElement(),".inboxsdk__compose_groupedActionButton"),L=(0,U.default)(se,".inboxsdk__compose_groupedActionToolbar_arrow");if(se.style.display="",ie.offsetLeft+ie.clientWidth>se.offsetWidth){var G=ie.clientWidth/2-se.offsetWidth/2-3;se.style.left=ie.offsetLeft+G+"px",L.style.left=-(G+1)+"px"}else se.style.left="",L.style.left=ie.offsetLeft-1+"px";Y.getBottomBarTable().style.position="relative";var le=Y.getBottomBarTable().clientHeight;if(se.style.bottom="".concat(le+1,"px"),le<1){var pe=Y.getElement().querySelectorAll("td.HE");K.default.error(new Error("bottom toolbar had bad height"),{bottomToolbarHeight:le,heElementHeights:(0,V.default)(pe).map(function(we){return we.clientHeight}),heElementsHTML:(0,V.default)(pe).map(F.default)})}}}}function x(Y,se){(0,N.default)(function(){if(Y.isDestroyed())throw"skip";return Y.getFormattingToolbar()}).then(function(ie){var L=new MutationObserver(function(G){var le=G[0].target;le instanceof HTMLElement&&le.style.display===""&&localStorage.inboxsdk__compose_groupedActionButton_state==="expanded"&&se.activate()});L.observe(ie,{attributes:!0,attributeFilter:["style"]}),(0,$.default)(ne,Y).formattingToolbarMutationObserver=L,Y.getStopper().onValue(function(){return L.disconnect()})}).catch(function(ie){if(ie!=="skip")throw K.default.error(ie),ie})}var A=e("@babel/runtime-corejs2/core-js/object/define-property"),w=e("@babel/runtime-corejs2/helpers/interopRequireDefault");A(i,"__esModule",{value:!0}),i.default=void 0;var C=w(e("@babel/runtime-corejs2/core-js/map")),O=w(e("@babel/runtime-corejs2/core-js/weak-set")),V=w(e("@babel/runtime-corejs2/core-js/array/from")),R=(w(e("asap")),e("ud")),P=w(e("./gmail-compose-button-view")),B=w(e("../../../../widgets/buttons/basic-button-view-controller")),z=(w(e("../../../../widgets/buttons/dropdown-button-view-controller")),w(e("../../widgets/gmail-dropdown-view")),w(e("../../../../lib/dom/insert-element-in-order"))),Q=e("../../../../lib/dom/simulate-mouse-event"),N=w(e("../../../../lib/wait-for")),K=w(e("../../../../lib/logger")),U=w(e("../../../../lib/dom/querySelectorOrFail")),F=w(e("../../../../../common/censorHTMLtree")),Z=w(e("./position-formatting-toolbar")),$=w(e("../../../../../common/get-or-fail")),ne=(0,R.defonce)(l,function(){return new C.default}),H=(0,R.defn)(l,function(Y){if(Y.getElement().getAttribute("data-button-grouping-managed")!=="true"){var se={};ne.set(Y,se),Y.getElement().setAttribute("data-button-grouping-managed","true"),Y.getEventStream().filter(function(L){return L.eventName==="fullscreenChanged"}).debounce(10).onValue(function(){a(Y)}),Y.getEventStream().filter(function(L){return L.eventName==="buttonAdded"}).onValue(function(){o(Y)}),Y.getEventStream().filter(function(L){return L.eventName==="resize"||L.eventName==="restored"}).onValue(function(){o(Y)});var ie=Y.getElement();Y.getStopper().onValue(function(){ne.delete(Y),ie.setAttribute("data-button-grouping-managed","false")})}});i.default=H;var X=new O.default,oe=new O.default},{"../../../../../common/censorHTMLtree":637,"../../../../../common/get-or-fail":642,"../../../../lib/dom/insert-element-in-order":857,"../../../../lib/dom/querySelectorOrFail":869,"../../../../lib/dom/simulate-mouse-event":875,"../../../../lib/logger":892,"../../../../lib/wait-for":905,"../../../../widgets/buttons/basic-button-view-controller":940,"../../../../widgets/buttons/dropdown-button-view-controller":941,"../../widgets/gmail-dropdown-view":771,"./gmail-compose-button-view":736,"./position-formatting-toolbar":742,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/weak-set":31,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,asap:83,ud:625}],739:[function(e,l,i){"use strict";function a(s){u.default.merge([(0,n.default)(document.body,"mousedown"),(0,n.default)(s.getBodyElement(),"keydown"),s.getEventStream().filter(function(f){return f.eventName==="bodyChanged"})]).takeUntilBy(s.getStopper()).onValue(function(f){var d=s.getMaybeBodyElement(),m=document.getSelection();d&&m.rangeCount>0&&d.contains(m.anchorNode)&&s.setLastSelectionRange(m.getRangeAt(0))})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("kefir")),n=o(e("../../../../lib/from-event-target-capture"))},{"../../../../lib/from-event-target-capture":879,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],740:[function(e,l,i){"use strict";function a(m,h){if(h.isReply()){var _=h.getElement().querySelector("div.J-M.jQjAxd.HX[role=menu] > div.SK.AX > [role=menuitem]:nth-last-child(2)");if(!_)return void(d||(m.getLogger().error(new Error("could not find edit subject item"),{composeElement:(0,s.default)(h.getElement())}),d=!0));_.addEventListener("click",function(y){y.stopPropagation()},!0),_.addEventListener("mouseup",function(y){y.stopPropagation(),t(m,h)},!0)}}function t(m,h){var _=h.getToRecipients(),y=h.getCcRecipients(),S=h.getBccRecipients(),v=h.getFromContact(),T=h.getSubject();o(h);var E=h.getHTMLContent();h.discard(),m.openNewComposeViewDriver().then(function(I){_.length>0&&I.setToRecipients(_.map(function(g){return g.emailAddress})),y.length>0&&I.setCcRecipients(y.map(function(g){return g.emailAddress})),S.length>0&&I.setBccRecipients(S.map(function(g){return g.emailAddress})),I.setFromEmail(v.emailAddress),I.setSubject(T),I.setBodyHTML(E),setTimeout(function(){I.getSubjectInput().select()},1)})}function o(m){if(!m.getBodyElement().querySelector(".gmail_extra")){var h=m.getElement().querySelector(".ajR");h&&(0,f.simulateClick)(h)}}var u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=a;var s=n(e("../../../../../common/censorHTMLtree")),f=e("../../../../lib/dom/simulate-mouse-event"),d=!1},{"../../../../../common/censorHTMLtree":637,"../../../../lib/dom/simulate-mouse-event":875,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],741:[function(e,l,i){"use strict";function a(y,S){return new h.default(y,{logError:function(v,T){var E={el:T,html:T?(0,_.default)(T):null};S.errorSite(v,E)},tags:{},watchers:[{sources:[null],tag:"recipientsCommon",selectors:["div","div","div[jsaction]","div[role=region]","table","tbody","tr","td","form","div","table.GS","tbody","tr.bzf","td.eV","div","div"]},{sources:[null],tag:"recipientsCommon",selectors:["div[role=region]","table","tbody","tr","td","form","div","table[role=presentation]","tbody","tr","td.Iy","div.fX","table.GS","tbody","tr.bzf","td.eV","div","div"]},{sources:["recipientsCommon"],tag:"toRecipient",selectors:[{$or:[['div.anm[name="to"]',{$or:[[],["div.aUy"]]},"div","div","div","div","[role=listbox]","div","div","div[role=option][data-name]"],[{$map:function(v){return v.querySelector("textarea.vO[name=to], input[name=to]")}},{$map:function(v){return v.closest("tr")}},"td.eV","div","div",".vR","input[type=hidden]",{$map:function(v){return v.parentElement}}]]}]},{sources:["recipientsCommon"],tag:"ccRecipient",selectors:[{$or:[['div.anm[name="cc"]',{$or:[[],["div.aUy"]]},"div","div","div","div","[role=listbox]","div","div","div[role=option][data-name]"],[{$map:function(v){return v.querySelector("textarea.vO[name=cc], input[name=cc]")}},{$map:function(v){return v.closest("tr")}},"td.eV","div","div",".vR","input[type=hidden]",{$map:function(v){return v.parentElement}}]]}]},{sources:["recipientsCommon"],tag:"bccRecipient",selectors:[{$or:[['div.anm[name="bcc"]',{$or:[[],["div.aUy"]]},"div","div","div","div","[role=listbox]","div","div","div[role=option][data-name]"],[{$map:function(v){return v.querySelector("textarea.vO[name=bcc], input[name=bcc]")}},{$map:function(v){return v.closest("tr")}},"td.eV","div","div",".vR","input[type=hidden]",{$map:function(v){return v.parentElement}}]]}]}],finders:{toRecipient:{fn:function(v){return t(v,"to")}},ccRecipient:{fn:function(v){return t(v,"cc")}},bccRecipient:{fn:function(v){return t(v,"bcc")}}}})}function t(y,S){var v=n(y,S);return v?(0,d.default)(v.querySelectorAll(".vR > input[type=hidden]")).map(function(T){return T.parentElement}):y.querySelectorAll('.GS .anm[name="'.concat(S,'"] [role=listbox] [role=option][data-name]'))}function o(y){return Array.prototype.filter.call(y.querySelectorAll(".GS tr, .GS .anm[name] [role=listbox]"),function(S){return!S.classList.contains("inboxsdk__recipient_row")})}function u(y,S){return y.querySelector('.GS .anm[name="'.concat(S,'"] [role=listbox]'))}function n(y,S){var v=y.querySelector('.GS tr textarea.vO[name="'.concat(S,'"], .GS tr input[name="').concat(S,'"]'));return v?(0,m.default)(v,"tr"):null}var s=e("@babel/runtime-corejs2/core-js/object/define-property"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");s(i,"__esModule",{value:!0}),i.makePageParser=a,i.getRecipientChips=t,i.getRecipientRowElements=o,i.getRecipientRowForType=u,i.getOldRecipientRowForType=n;var d=f(e("@babel/runtime-corejs2/core-js/array/from")),m=f(e("closest-ng")),h=f(e("page-parser-tree")),_=f(e("../../../../../common/censorHTMLtree"))},{"../../../../../common/censorHTMLtree":637,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"closest-ng":105,"page-parser-tree":543}],742:[function(e,l,i){"use strict";function a(t){var o=t.getFormattingToolbar();if(o&&o.style.display===""){var u=t.getFormattingToolbarArrow(),n=t.getFormattingToolbarToggleButton(),s=n.offsetLeft+n.clientWidth/2-u.offsetWidth/2;u.style.left=s+"px";var f=t.getStatusBarPrependContainer();o.style.bottom=f?-1*f.offsetHeight+"px":""}}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],743:[function(e,l,i){"use strict";function a(y,S,v){function T(z){var Q=z.closest(".fX.aiL");Q&&Q.style.display==="none"&&(0,f.default)(y.getElement(),"div.aoD.hl").dispatchEvent(new FocusEvent("focus"))}if(!t(y,S,v)){var E=y.getLastSelectionRange(),I=(0,_.getRecipientRowForType)(y.getElement(),S);if(S==="cc"){var g=y.getElement().querySelector("span.pE[role=link]");g&&(T(g),g.click(),I=(0,_.getRecipientRowForType)(y.getElement(),S))}else if(S==="bcc"){var k=y.getElement().querySelector("span.pB[role=link]");k&&(T(k),k.click(),I=(0,_.getRecipientRowForType)(y.getElement(),S))}var j=I;if(j){var x=(0,f.default)(j,"input[role=combobox][aria-autocomplete=list]");if(!(x instanceof HTMLInputElement))throw new Error;(0,n.default)(j.querySelectorAll("div[role=option][data-name] div.afX[aria-label]")).forEach(function(z){z.click()}),x.value="";var A=new DataTransfer;A.setData("text/plain",v.join(",")),x.dispatchEvent(new ClipboardEvent("paste",{clipboardData:A}));var w=j.closest("div.anm[name]");if(v.length>0&&w&&!w.hasAttribute("data-inboxsdk-handled-reset")){var C=String(Number(w.getAttribute("data-inboxsdk-tracking-fresh-compose")||0)+1);w.setAttribute("data-inboxsdk-tracking-fresh-compose",C),setTimeout(function(){w.getAttribute("data-inboxsdk-tracking-fresh-compose")===C&&(w.removeAttribute("data-inboxsdk-tracking-fresh-compose"),j.querySelectorAll("div[role=option][data-name] div.afX[aria-label]").length===0&&(w.setAttribute("data-inboxsdk-handled-reset","true"),a(y,S,v)))},100)}}else{var O;try{if(!(O=(0,_.getOldRecipientRowForType)(y.getElement(),S)))throw new Error("getOldRecipientRowForType failed")}catch(z){return void s.default.error(z,{addressType:S})}var V=O.querySelector("textarea.vO");if(!(V&&V instanceof HTMLTextAreaElement))return;if((0,n.default)(O.querySelectorAll(".vR .vM")).forEach(function(z){(0,m.simulateClick)(z)}),V.value=v.join(","),(0,h.default)(V,13,0),(0,f.default)(y.getElement(),"div.aoD.hl").dispatchEvent(new FocusEvent("focus")),S==="cc"){var R=(0,f.default)(y.getElement(),"span.aB.gQ.pE");(0,m.simulateClick)(R)}else if(S==="bcc"){var P=(0,f.default)(y.getElement(),"span.aB.gQ.pB");(0,m.simulateClick)(P)}}if(document.activeElement instanceof HTMLElement&&document.activeElement.blur(),E){var B=document.getSelection();if(!B)throw new Error;B.removeAllRanges(),B.addRange(E)}}}function t(y,S,v){var T=(0,d.default)(y,S).map(function(g){return g.emailAddress});if(!v)return!!T;if(!T)return!!v;if(v.length!==T.length)return!1;for(var E=0;E<T.length;E++){var I=T[E];if(v.indexOf(I)===-1)return!1}return!0}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=u(e("@babel/runtime-corejs2/core-js/array/from")),s=u(e("../../../../lib/logger")),f=u(e("../../../../lib/dom/querySelectorOrFail")),d=u(e("./get-recipients")),m=e("../../../../lib/dom/simulate-mouse-event"),h=u(e("../../../../lib/dom/simulate-key")),_=e("./page-parser")},{"../../../../lib/dom/querySelectorOrFail":869,"../../../../lib/dom/simulate-key":874,"../../../../lib/dom/simulate-mouse-event":875,"../../../../lib/logger":892,"./get-recipients":734,"./page-parser":741,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],744:[function(e,l,i){"use strict";function a(V){if(typeof m!="function")return null;var R=new m,P=new m;return(a=function(B){return B?P:R})(V)}function t(V){var R=o();return function(){var P,B=(0,g.default)(V);if(R){var z=(0,g.default)(this).constructor;P=d(B,arguments,z)}else P=B.apply(this,arguments);return(0,I.default)(this,P)}}function o(){if(typeof Reflect=="undefined"||!d||d.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(d(Boolean,[],function(){})),!0}catch(V){return!1}}function u(V){var R,P=(R=document.getSelection())===null||R===void 0?void 0:R.focusNode;if(!P)return null;if(P instanceof Text){var B;if(P.previousSibling instanceof HTMLAnchorElement&&((B=document.getSelection())===null||B===void 0?void 0:B.anchorOffset)===0)return P.previousSibling;if(P.nextSibling instanceof HTMLAnchorElement)return P.nextSibling}return n(P,V.getBodyElement())}function n(V,R){return V instanceof HTMLAnchorElement?V:V&&V!==R?n(V.parentElement,R):null}function s(V){return(0,x.default)(V.getGmailDriver().getTagTree().getAllByTag("composeLinkPopOverContainer")).flatMap(function(R){var P=R.el,B=R.removalStream,z=P.getValue(),Q=null;return B.onValue(function(){Q&&(Q.emit("close"),Q=null)}),(0,A.default)(z,{attributes:!0,attributeFilter:["style"]}).toProperty(function(){return null}).takeUntilBy(B).flatMap(function(){if(Q&&(Q.emit("close"),Q=null),z.style.visibility==="visible"){var N=u(V);if(N&&V.getElement().contains(N)){var K=new C(N,z);return Q=K,j.constant({eventName:"linkPopOver",data:K})}}return j.never()})})}var f=e("@babel/runtime-corejs2/helpers/typeof"),d=e("@babel/runtime-corejs2/core-js/reflect/construct"),m=e("@babel/runtime-corejs2/core-js/weak-map"),h=e("@babel/runtime-corejs2/core-js/object/define-property"),_=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),y=e("@babel/runtime-corejs2/helpers/interopRequireDefault");h(i,"__esModule",{value:!0}),i.default=s;var S=y(e("@babel/runtime-corejs2/helpers/classCallCheck")),v=y(e("@babel/runtime-corejs2/helpers/createClass")),T=y(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),E=y(e("@babel/runtime-corejs2/helpers/inherits")),I=y(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),g=y(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),k=y(e("@babel/runtime-corejs2/helpers/defineProperty")),j=function(V,R){if(!R&&V&&V.__esModule)return V;if(V===null||f(V)!=="object"&&typeof V!="function")return{default:V};var P=a(R);if(P&&P.has(V))return P.get(V);var B={},z=h&&_;for(var Q in V)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(V,Q)){var N=z?_(V,Q):null;N&&(N.get||N.set)?h(B,Q,N):B[Q]=V[Q]}return B.default=V,P&&P.set(V,B),B}(e("kefir")),x=y(e("../../../../lib/toItemWithLifetimeStream")),A=y(e("../../../../lib/dom/make-mutation-observer-chunked-stream")),w=y(e("../../../../lib/safe-event-emitter")),C=function(V){function R(B,z){var Q;return(0,S.default)(this,R),Q=P.call(this),(0,k.default)((0,T.default)(Q),"_linkEl",void 0),(0,k.default)((0,T.default)(Q),"_popOverEl",void 0),Q._linkEl=B,Q._popOverEl=z,Q}(0,E.default)(R,V);var P=t(R);return(0,v.default)(R,[{key:"getLinkElement",value:function(){return this._linkEl}},{key:"addSection",value:function(){var B=this._popOverEl.querySelector(".inboxsdk__linkPopOver_section_container");return B||(B=document.createElement("div"),B.className="inboxsdk__linkPopOver_section_container",this._popOverEl.appendChild(B)),new O(this,B)}}]),R}(w.default),O=function(){function V(R,P){var B=this;(0,S.default)(this,V),(0,k.default)(this,"_el",document.createElement("div")),this._el.className="inboxsdk__linkPopOver_section",P.appendChild(this._el),R.on("close",function(){B.remove()})}return(0,v.default)(V,[{key:"getElement",value:function(){return this._el}},{key:"remove",value:function(){this._el.remove()}}]),V}()},{"../../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../../lib/safe-event-emitter":899,"../../../../lib/toItemWithLifetimeStream":903,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327}],745:[function(e,l,i){"use strict";function a(g){return"#"+(0,S.default)(g)}function t(g,k){function j(B,z){var Q=E+a(P)+" "+B,N=(0,m.default)(V.cssRules,function(K){return K.selectorText===Q});N!==-1&&V.deleteRule(N),V.insertRule(Q+" { "+z+" }",0)}if(!k.isInlineReplyForm()&&!k.getElement().classList.contains("inboxsdk__size_fixer")){k.getElement().classList.add("inboxsdk__size_fixer");var x=k.getEventStream(),A=x.filter(function(){return!1}).beforeEnd(function(){return null}),w=x.filter(function(B){return(0,f.default)(["resize","fullscreenChanged"],B.eventName)}).merge((0,_.default)(null)),C=k.getStatusArea().parentElement,O=k.getScrollBody(),V=I(),R=k.getTopFormElement(),P=k.getElement().id;P||(P=k.getElement().id="x".concat(Math.random(),"x").concat((0,n.default)())),(0,y.default)(C,{attributes:!0}).takeUntilBy(A).onValue(function(){k.getElement().dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null}))}),w.bufferBy(w.flatMap(function(B){return(0,_.default)(null)})).filter(function(B){return B.length>0}).merge((0,y.default)(O,{attributes:!0})).takeUntilBy(A).onValue(function(){var B,z=Math.max(C.offsetHeight-v,0),Q=Math.max(R.offsetHeight-T,0),N=z+Q,K=k.getMaybeBodyElement(),U=O.querySelector(".qz"),F=(U==null?void 0:U.offsetHeight)||O.offsetHeight,Z=(0,s.default)(O.style.getPropertyValue("max-height"),10),$=k.isFullscreen(),ne=Z-N,H=F>ne?ne:null,X=["max-height: ".concat(ne,"px !important;")];H&&X.push("height: ".concat(H,"px !important;")),$&&(X.push("min-height: ".concat(ne,"px !important;")),B="min-height: ".concat(((0,s.default)(K==null?void 0:K.style.minHeight,10)||Z)-N,"px !important;")),X.length>0&&j(a(O.id),X.join(`
`)),B&&K&&j(a(K.id),B)}),A.onValue(function(){for(var B=V.cssRules.length-1;B>=0;B--)(0,d.default)(V.cssRules[B].selectorText,E+a(P)+" ")&&V.deleteRule(B)})}}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=t;var n=u(e("@babel/runtime-corejs2/core-js/date/now")),s=u(e("@babel/runtime-corejs2/core-js/parse-int")),f=u(e("lodash/includes")),d=u(e("lodash/startsWith")),m=u(e("lodash/findIndex")),h=u(e("lodash/once")),_=(u(e("kefir")),u(e("../../../../lib/delay-asap"))),y=u(e("../../../../lib/dom/make-mutation-observer-chunked-stream")),S=u(e("../../../../lib/css-selector-escape")),v=60,T=72,E="body:not(.inboxsdk_hack_disableComposeSizeFixer) ",I=(0,h.default)(function(){var g=document.createElement("style");g.type="text/css",g.className="inboxsdk__compose_size_fixer",document.head.appendChild(g);var k=g.sheet;if(!(k instanceof CSSStyleSheet))throw new Error("Could not add stylesheet");return k})},{"../../../../lib/css-selector-escape":850,"../../../../lib/delay-asap":851,"../../../../lib/dom/make-mutation-observer-chunked-stream":863,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"lodash/findIndex":485,"lodash/includes":493,"lodash/once":516,"lodash/startsWith":520}],746:[function(e,l,i){"use strict";function a(f,d){s.has(f)||(s.add(f),window.requestAnimationFrame(function(){if(s.delete(f),!f.isDestroyed()){var m=f._getFormattingAreaOffsetLeft(),h=(0,n.default)(f.getInsertMoreArea().style.left,10),_=m-d;f.getInsertMoreArea().style.left=h+_+"px"}}))}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/weak-set")),n=o(e("@babel/runtime-corejs2/core-js/parse-int")),s=new u.default},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/core-js/weak-set":31,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],747:[function(e,l,i){"use strict";function a($){return{name:$.getAttribute("name"),emailAddress:$.getAttribute("email")}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u,n=o(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),s=o(e("@babel/runtime-corejs2/regenerator")),f=o(e("@babel/runtime-corejs2/core-js/promise")),d=o(e("@babel/runtime-corejs2/core-js/array/from")),m=o(e("@babel/runtime-corejs2/core-js/parse-int")),h=o(e("@babel/runtime-corejs2/helpers/typeof")),_=o(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),y=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),S=o(e("@babel/runtime-corejs2/helpers/createClass")),v=o(e("@babel/runtime-corejs2/helpers/defineProperty")),T=o(e("lodash/sortBy")),E=o(e("lodash/once")),I=o(e("auto-html")),g=(o(e("asap")),e("ud")),k=o(e("kefir")),j=o(e("kefir-bus")),x=o(e("kefir-stopper")),A=o(e("kefir-cast")),w=o(e("./gmail-attachment-area-view")),C=o(e("./gmail-attachment-card-view")),O=o(e("./gmail-message-view/get-updated-contact")),V=o(e("./gmail-message-view/attachment-icon")),R=(o(e("../../../lib/delay-asap")),o(e("../../../lib/wait-for")),o(e("../../../lib/dom/make-mutation-observer-stream"))),P=o(e("../../../lib/dom/querySelectorOrFail")),B=o(e("../../../lib/dom/make-mutation-observer-chunked-stream")),z=e("../../../lib/dom/simulate-mouse-event"),Q=o(e("../../../../common/censorHTMLtree")),N=o(e("../../../../common/find-parent")),K=o(e("../../../lib/dom/reemitClickEventForReact")),U=!1,F=function(){function $(ne,H,X){var oe=this;(0,y.default)(this,$),(0,v.default)(this,"_element",void 0),(0,v.default)(this,"_driver",void 0),(0,v.default)(this,"_eventStream",(0,j.default)()),(0,v.default)(this,"_stopper",(0,x.default)()),(0,v.default)(this,"_threadViewDriver",void 0),(0,v.default)(this,"_moreMenuItemDescriptors",void 0),(0,v.default)(this,"_moreMenuAddedElements",void 0),(0,v.default)(this,"_replyElementStream",void 0),(0,v.default)(this,"_readyStream",void 0),(0,v.default)(this,"_replyElement",void 0),(0,v.default)(this,"_gmailAttachmentAreaView",void 0),(0,v.default)(this,"_messageLoaded",!1),(0,v.default)(this,"_openMoreMenu",void 0),(0,v.default)(this,"_sender",null),(0,v.default)(this,"_recipients",null),(0,v.default)(this,"_recipientEmailAddresses",null),(0,v.default)(this,"_recipientsFull",null),this._element=ne,this._threadViewDriver=H,this._driver=X,this._moreMenuItemDescriptors=[],this._moreMenuAddedElements=[],this._replyElement=null,this._replyElementStream=this._eventStream.filter(function(L){return L.eventName==="replyElement"}).map(function(L){return L.change}),this._setupMessageStateStream(),this._monitorEmailAddressHovering(),this._setupMoreMenuWatching();var Y;if(X.isUsingSyncAPI()){var se=this._element.querySelector("[data-message-id]");if(se){var ie=se.getAttribute("data-message-id");if(!ie)throw new Error("data-message-id attribute has no value");Y=se.hasAttribute("data-legacy-message-id")&&!this._driver.isRecentSyncDraftId(ie.replace("#",""))?k.default.constant(null):k.default.fromPromise((0,_.default)(s.default.mark(function L(){var G,le,pe;return s.default.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:G=s.default.mark(function ye(W){var te;return s.default.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.prev=0,ce.next=3,oe._driver.getGmailMessageIdForSyncMessageId(ie.replace("#",""));case 3:return te=ce.sent,se.setAttribute("data-legacy-message-id",te),ce.abrupt("return",{v:null});case 8:return ce.prev=8,ce.t0=ce.catch(0),ce.next=12,new f.default(function(je){return setTimeout(je,200*W)});case 12:case"end":return ce.stop()}},ye,null,[[0,8]])}),le=0;case 2:if(!(le<10)){we.next=10;break}return we.delegateYield(G(le),"t0",4);case 4:if(pe=we.t0,(0,h.default)(pe)!=="object"){we.next=7;break}return we.abrupt("return",pe.v);case 7:le++,we.next=2;break;case 10:throw new Error("gmail message id never became available");case 11:case"end":return we.stop()}},L)}))())}else Y=k.default.constant(null)}else Y=k.default.constant(null);this._readyStream=Y.takeUntilBy(this._stopper).onValue(function(){return oe._processInitialState()})}return(0,S.default)($,[{key:"destroy",value:function(){this._stopper.destroy(),this._eventStream.end(),this._gmailAttachmentAreaView&&this._gmailAttachmentAreaView.destroy(),this._moreMenuAddedElements.forEach(function(ne){ne.remove()})}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getReplyElementStream",value:function(){return this._replyElementStream}},{key:"getElement",value:function(){return this._element}},{key:"getThreadViewDriver",value:function(){return this._threadViewDriver}},{key:"isLoaded",value:function(){return this._messageLoaded}},{key:"getContentsElement",value:function(){if(!this._messageLoaded)throw new Error("tried to get message contents before message is loaded");try{return(0,P.default)(this._element,"div.ii.gt")}catch(ne){return this._driver.getLogger().error(ne),(0,P.default)(this._element,".adP")}}},{key:"isElementInQuotedArea",value:function(ne){return(0,N.default)(ne,function(H){return H.nodeName==="BLOCKQUOTE"})!=null}},{key:"getSender",value:function(){var ne=this._sender;if(ne)return ne;var H=(0,P.default)(this._element,"td.gF span[email]"),X=H.getAttribute("email");if(!X)throw new Error("Could not find email address");return ne=this._sender={name:H.getAttribute("name"),emailAddress:X}}},{key:"getRecipients",value:function(){var ne=this,H=this._recipients;if(H)return H;var X=(0,d.default)(this._element.querySelectorAll(".hb span[email]"));return H=this._recipients=X.map(function(oe){return ne._getUpdatedContact({name:oe.getAttribute("name"),emailAddress:oe.getAttribute("email")||""})})}},{key:"getRecipientEmailAddresses",value:function(){var ne=this._recipientEmailAddresses;if(ne)return ne;var H=(0,d.default)(this._element.querySelectorAll(".hb span[email]"));return ne=this._recipientEmailAddresses=H.map(function(X){return X.getAttribute("email")||""})}},{key:"getRecipientsFull",value:function(){function ne(){return H.apply(this,arguments)}var H=(0,_.default)(s.default.mark(function X(){var oe,Y,se,ie=this;return s.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!(oe=this._recipientsFull)){L.next=3;break}return L.abrupt("return",oe);case 3:if(!this._driver.isUsingSyncAPI()){L.next=11;break}return Y=this._threadViewDriver.getInternalID(),L.next=7,this._driver.getPageCommunicator().getMessageRecipients(Y,this._element);case 7:oe=this._recipientsFull=L.sent,oe||(this._driver.getLogger().error(new Error("Failed to find message recipients from response"),{threadID:Y}),oe=this._recipientsFull=this.getRecipients()),L.next=13;break;case 11:se=(0,d.default)(this._element.querySelectorAll(".hb span[email]")),oe=this._recipientsFull=se.map(function(G){return ie._getUpdatedContact({name:G.getAttribute("name"),emailAddress:G.getAttribute("email")||""})});case 13:return L.abrupt("return",oe);case 14:case"end":return L.stop()}},X,this)}));return ne}()},{key:"getDateString",value:function(){return(0,P.default)(this._element,".ads .gK .g3").title}},{key:"getDate",value:function(){function ne(){return H.apply(this,arguments)}var H=(0,_.default)(s.default.mark(function X(){var oe;return s.default.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return oe=this._threadViewDriver.getInternalID(),Y.next=3,this._driver.getPageCommunicator().getMessageDate(oe,this._element);case 3:return Y.abrupt("return",Y.sent);case 4:case"end":return Y.stop()}},X,this)}));return ne}()},{key:"getAttachmentCardViewDrivers",value:function(){return this._gmailAttachmentAreaView?this._gmailAttachmentAreaView.getAttachmentCardViews():[]}},{key:"addButtonToDownloadAllArea",value:function(ne){var H=this._getAttachmentArea();H&&H.addButtonToDownloadAllArea(ne)}},{key:"addMoreMenuItem",value:function(ne){this._moreMenuItemDescriptors=(0,T.default)(this._moreMenuItemDescriptors.concat([ne]),function(H){return H.orderHint}),this._updateMoreMenu()}},{key:"_setupMoreMenuWatching",value:function(){var ne=this;this._openMoreMenu=null,this._eventStream.filter(function(H){return H.eventName==="viewStateChange"}).toProperty(function(){return null}).flatMapLatest(function(){var H=ne._getMoreButton();return H?(0,B.default)(H,{attributes:!0,attributeFilter:["aria-expanded"]}).map(function(){return H.getAttribute("aria-expanded")==="true"?ne._getOpenMoreMenu():null}):k.default.constant(null)}).takeUntilBy(this._stopper).onValue(function(H){ne._openMoreMenu=H,ne._updateMoreMenu()})}},{key:"_getMoreButton",value:function(){return this.getViewState()!=="EXPANDED"?null:this._element.querySelector("tr.acZ div.T-I.J-J5-Ji.aap.L3[role=button][aria-haspopup]")}},{key:"_getOpenMoreMenu",value:function(){return document.body.querySelector("td > div.nH.a98.iY > div.nH.aHU .b7.J-M[aria-haspopup=true]")||document.body.querySelector("td > div.nH.if > div.nH.aHU div.b7.J-M[aria-haspopup=true]")}},{key:"_closeActiveEmailMenu",value:function(){var ne=this._getMoreButton();ne&&(0,z.simulateClick)(ne)}},{key:"_updateMoreMenu",value:function(){var ne=this;this._moreMenuAddedElements.forEach(function(pe){pe.remove()}),this._moreMenuAddedElements.length=0;var H=this._openMoreMenu;if(H&&this._moreMenuItemDescriptors.length){var X=H.offsetHeight,oe=H.offsetWidth,Y=document.createElement("div");Y.className="J-Kh",this._moreMenuAddedElements.push(Y),H.appendChild(Y),this._moreMenuItemDescriptors.forEach(function(pe){var we=document.createElement("div");if(we.className="J-N",we.setAttribute("role","menuitem"),we.innerHTML=(0,I.default)(u||(u=(0,n.default)(['<div class="J-N-Jz">',"</div>"])),pe.title),we.addEventListener("mouseenter",function(te){return we.classList.add("J-N-JT")}),we.addEventListener("mouseleave",function(te){return we.classList.remove("J-N-JT")}),we.addEventListener("click",function(te){ne._closeActiveEmailMenu(),pe.onClick()}),pe.iconUrl||pe.iconClass){var ye=document.createElement("img");ye.className="f4 J-N-JX inboxsdk__message_more_icon ".concat(pe.iconClass||""),ye.src=pe.iconUrl||"images/cleardot.gif";var W=we.firstElementChild;W&&W.appendChild(ye)}ne._moreMenuAddedElements.push(we),H.appendChild(we)});var se=H.getBoundingClientRect(),ie=se.width-oe;ie>0&&(H.style.left=Math.max(0,(0,m.default)(H.style.left)-ie)+"px");var L=this._getMoreButton();if(L){var G=L.getBoundingClientRect();if(se.top<G.top){var le=se.height-X;H.style.top=Math.max(0,(0,m.default)(H.style.top)-le)+"px"}}}}},{key:"getMessageID",value:function(){if(!(arguments.length>0&&arguments[0]!==void 0&&arguments[0]||this._messageLoaded))throw new Error("tried to get message id before message is loaded");var ne=this._element.querySelector("[data-legacy-message-id]");if(ne){var H=ne.getAttribute("data-legacy-message-id");if(!H)throw new Error("message id attribute with no value, wtf?");return H}var X=this._element.querySelector("div.ii.gt");if(!X){var oe=new Error("Could not find message id element");throw this._driver.getLogger().error(oe,{elementHtml:(0,Q.default)(this._element)}),oe}var Y=X.className.match(/\bm([0-9a-f]+)\b/);if(Y)return U||(U=!0,this._driver.getLogger().eventSite("old messageid location")),Y[1];var se=X.firstElementChild;if(!se){var ie=new Error("Could not find message id value");throw this._driver.getLogger().error(ie,{reason:"Could not find element",messageHtml:(0,Q.default)(X)}),ie}var L=se.className.match(/\bm([0-9a-f]+)\b/);if(!L){var G=new Error("Could not find message id value");throw this._driver.getLogger().error(G,{reason:"Element was missing message className",messageHtml:(0,Q.default)(X)}),G}return L[1]}},{key:"getMessageIDAsync",value:function(){function ne(){return H.apply(this,arguments)}var H=(0,_.default)(s.default.mark(function X(){return s.default.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.abrupt("return",this.getMessageID());case 1:case"end":return oe.stop()}},X,this)}));return ne}()},{key:"addAttachmentIcon",value:function(ne){var H=this,X=new V.default;if(!this._element)return console.warn("addDateIcon called on destroyed message"),X;this._element.setAttribute("inboxsdk__message_added_attachment_icon","true");var oe=(0,E.default)(function(){var G=document.createElement("img");return G.src="images/cleardot.gif",G}),Y=(0,E.default)(function(){return document.createElement("div")}),se=(0,E.default)(function(){return document.createElement("div")}),ie=!1,L=null;return this._stopper.onValue(function(){ie&&(Y().remove(),se().remove(),oe().remove(),ie=!1)}),(0,A.default)(k.default,ne).combine(this._eventStream.filter(function(G){return G.eventName==="viewStateChange"}).toProperty(function(){return null}),function(G){return G}).takeUntilBy(this._stopper).onValue(function(G){if(G){var le;le=H.getViewState()==="COLLAPSED"?(0,P.default)(H._element,".adf.ads td.gH span"):(0,P.default)(H._element,"td.gH div.gK span");var pe=G.iconHtml!=null?Y():oe(),we=G.onClick;if(we?(pe.onclick=function(W){W.preventDefault(),W.stopPropagation(),we()},pe.style.cursor="pointer"):(pe.onclick=null,pe.style.cursor=""),G.tooltip&&(0,h.default)(G.tooltip)=="object"&&G.tooltip instanceof HTMLElement){var ye=se();ye.className="inboxsdk__message_attachment_tooltipWrapper",ye.onclick=function(W){W.stopPropagation(),(0,K.default)(W)},ye.appendChild(G.tooltip),pe.onmouseenter=function(W){W.preventDefault(),W.stopPropagation(),pe.appendChild(ye),X.emit("tooltipShown")},pe.onmouseleave=function(W){W.preventDefault(),W.stopPropagation(),pe.removeChild(ye),X.emit("tooltipHidden")},pe.removeAttribute("data-tooltip")}else G.tooltip&&typeof G.tooltip=="string"?pe.setAttribute("data-tooltip",G.tooltip):pe.removeAttribute("data-tooltip");pe.className=G.iconHtml!=null?"inboxsdk__message_attachment_iconWrapper ".concat(G.iconClass||""):"inboxsdk__message_attachment_icon "+(G.iconClass||""),G.iconHtml!=null?(le.contains(oe())&&oe().remove(),pe.innerHTML=G.iconHtml):L!=G.iconUrl&&(le.contains(Y())&&Y().remove(),pe.style.background=G.iconUrl?"url("+G.iconUrl+") no-repeat 0 0":"",L=G.iconUrl),le.contains(pe)||(le.appendChild(pe),ie=!0)}else ie&&(Y().remove(),oe().remove(),se().remove(),ie=!1)}),X}},{key:"getViewState",value:function(){return this._element.classList.contains("kQ")||this._element.classList.contains("kx")?"HIDDEN":this._element.classList.contains("kv")?"COLLAPSED":"EXPANDED"}},{key:"hasOpenReply",value:function(){return Boolean(this._replyElement)}},{key:"addAttachmentCard",value:function(ne){var H=new C.default(ne,this._driver,this);return this._gmailAttachmentAreaView||(this._gmailAttachmentAreaView=this._getAttachmentArea()),this._gmailAttachmentAreaView||(this._gmailAttachmentAreaView=this._createAttachmentArea()),this._gmailAttachmentAreaView.addGmailAttachmentCardView(H),H}},{key:"_setupMessageStateStream",value:function(){var ne=this;this._eventStream.plug((0,R.default)(this._element,{attributes:!0,attributeFilter:["class"],attributeOldValue:!0}).takeUntilBy(this._stopper).map(function(H){var X,oe,Y=H.target.classList,se=H.oldValue;return se.indexOf("kQ")>-1||se.indexOf("kx")>-1?X="HIDDEN":se.indexOf("kv")>-1||se.indexOf("ky")>-1?X="COLLAPSED":se.indexOf("h7")>-1&&(X="EXPANDED"),Y.contains("kQ")||Y.contains("kx")?oe="HIDDEN":Y.contains("kv")||Y.contains("ky")?oe="COLLAPSED":Y.contains("h7")&&(oe="EXPANDED"),{oldValue:X,newValue:oe,currentClassList:Y}}).map(function(H){return H.newValue==="EXPANDED"&&H.oldValue!=="EXPANDED"&&ne._checkMessageOpenState(H.currentClassList),H}).filter(function(H){return H.newValue!==H.oldValue&&!!H.oldValue&&!!H.newValue}).map(function(H){return{eventName:"viewStateChange",oldValue:H.oldValue,newValue:H.newValue}}))}},{key:"_processInitialState",value:function(){this._checkMessageOpenState(this._element.classList)}},{key:"_checkMessageOpenState",value:function(ne){if(ne.contains("h7")&&!this._messageLoaded){var H;try{H=this.getMessageID(!0)}catch(X){return void this._driver.getLogger().error(X)}this._messageLoaded=!0;try{this._driver.associateThreadAndMessageIDs(this._threadViewDriver.getThreadID(),H)}catch(X){this._driver.getLogger().error(X)}this._gmailAttachmentAreaView=this._getAttachmentArea(),this._eventStream.emit({type:"internal",eventName:"messageLoad"}),this._setupReplyStream()}}},{key:"_setupReplyStream",value:function(){var ne=this._element.querySelector(".ip");if(ne){var H=this,X=null;k.default.combine([(0,B.default)(ne,{attributes:!0,attributeFilter:["class"]}),k.default.later(1,null)]).merge(k.default.later(1)).takeUntilBy(this._stopper).beforeEnd(function(){return"END"}).onValue(function(oe){if(oe!=="END"&&ne.classList.contains("adB")){if(!X){var Y=ne.firstElementChild;H._replyElement=Y,Y&&(X=(0,j.default)(),H._eventStream.emit({type:"internal",eventName:"replyElement",change:{el:Y,removalStream:X}}))}}else if(X){var se=X;X=null,se.emit(null),se.end(),H._replyElement=null}})}}},{key:"_monitorEmailAddressHovering",value:function(){var ne=this;this._eventStream.plug(k.default.fromEvents(this._element,"mouseover").map(function(H){return H.target}).filter(function(H){return H&&H.getAttribute("email")}).map(function(H){var X=null;return X=ne._element.classList.contains("h7")?ne._element.querySelector("h3.iw").contains(H)?"sender":"recipient":"sender",{get contact(){return ne._getUpdatedContact(a(H))},contactType:X,eventName:"contactHover",messageViewDriver:ne}}))}},{key:"_getAttachmentArea",value:function(){return this._element.querySelector(".hq")?new w.default(this._element.querySelector(".hq"),this._driver,this):null}},{key:"_createAttachmentArea",value:function(){var ne=new w.default(null,this._driver,this),H=(0,P.default)(this._element,".hi"),X=H.parentNode;if(!X)throw new Error("parentNode not found");return X.insertBefore(ne.getElement(),H),ne}},{key:"_getUpdatedContact",value:function(ne){return(0,O.default)(ne,this._element)}},{key:"getReadyStream",value:function(){return this._readyStream}}]),$}(),Z=(0,g.defn)(l,F);i.default=Z},{"../../../../common/censorHTMLtree":637,"../../../../common/find-parent":640,"../../../lib/delay-asap":851,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/make-mutation-observer-stream":864,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/dom/reemitClickEventForReact":870,"../../../lib/dom/simulate-mouse-event":875,"../../../lib/wait-for":905,"./gmail-attachment-area-view":713,"./gmail-attachment-card-view":714,"./gmail-message-view/attachment-icon":748,"./gmail-message-view/get-updated-contact":749,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"@babel/runtime-corejs2/helpers/typeof":57,"@babel/runtime-corejs2/regenerator":59,asap:83,"auto-html":89,kefir:327,"kefir-bus":324,"kefir-cast":325,"kefir-stopper":326,"lodash/once":516,"lodash/sortBy":519,ud:625}],748:[function(e,l,i){"use strict";function a(v){var T=t();return function(){var E,I=(0,m.default)(v);if(T){var g=(0,m.default)(this).constructor;E=o(I,arguments,g)}else E=I.apply(this,arguments);return(0,d.default)(this,E)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(v){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/inherits")),d=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),m=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),h=e("ud"),_=n(e("../../../../lib/safe-event-emitter")),y=function(v){function T(){return(0,s.default)(this,T),E.apply(this,arguments)}(0,f.default)(T,v);var E=a(T);return T}(_.default),S=(0,h.defn)(l,y);i.default=S},{"../../../../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,ud:625}],749:[function(e,l,i){"use strict";function a(m,h){var _=d[m.emailAddress];if(_){if(_.headerContact.name===m.name)return _.modalContact;delete d[m.emailAddress]}var y=h.querySelector(".ajA.SK"),S=y&&y.style.visibility==="hidden",v=h.querySelector(".ajy[aria-haspopup=true]");if(v&&S){var T=function(I){I.stopPropagation()},E=function(I){I.shouldIgnore=!0};h.addEventListener("click",T),document.addEventListener("focus",E,!0),(0,s.simulateClick)(v);try{t(m)}catch(I){n.default.error(I)}finally{(0,s.simulateClick)(v),h.removeEventListener("click",T),document.removeEventListener("focus",E,!0)}if(_=d[m.emailAddress])return _.modalContact}return m}function t(m){for(var h=document.querySelectorAll(".ajC [email]"),_=0;_<h.length;_++){var y=h[_],S=y.getAttribute("email");if(S&&!d[S]){var v={emailAddress:S,name:null},T=y.getAttribute("name");if(T)v.name=T;else{var E=(0,f.default)(y.textContent);S===E.emailAddress&&(v=E)}d[S]={headerContact:m,modalContact:v}}}}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=u(e("../../../../lib/logger")),s=e("../../../../lib/dom/simulate-mouse-event"),f=u(e("../../../../lib/extract-contact-from-email-contact-string")),d={}},{"../../../../lib/dom/simulate-mouse-event":875,"../../../../lib/extract-contact-from-email-contact-string":877,"../../../../lib/logger":892,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],750:[function(e,l,i){"use strict";function a(ie){if(typeof y!="function")return null;var L=new y,G=new y;return(a=function(le){return le?G:L})(ie)}function t(ie,L){var G=s(ie);if(f){var le=f(ie);L&&(le=le.filter(function(pe){return d(ie,pe).enumerable})),G.push.apply(G,le)}return G}function o(ie){for(var L=1;L<arguments.length;L++){var G=arguments[L]!=null?arguments[L]:{};L%2?t(Object(G),!0).forEach(function(le){(0,A.default)(ie,le,G[le])}):m?h(ie,m(G)):t(Object(G)).forEach(function(le){_(ie,le,d(G,le))})}return ie}function u(){return Y}var n=e("@babel/runtime-corejs2/helpers/typeof"),s=e("@babel/runtime-corejs2/core-js/object/keys"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),m=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),h=e("@babel/runtime-corejs2/core-js/object/define-properties"),_=e("@babel/runtime-corejs2/core-js/object/define-property"),y=e("@babel/runtime-corejs2/core-js/weak-map"),S=e("@babel/runtime-corejs2/helpers/interopRequireDefault");_(i,"__esModule",{value:!0}),i.getLeftIndentationPaddingValue=u,i.default=void 0;var v,T,E,I=S(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),g=S(e("@babel/runtime-corejs2/core-js/number/max-safe-integer")),k=S(e("@babel/runtime-corejs2/helpers/toConsumableArray")),j=S(e("@babel/runtime-corejs2/helpers/classCallCheck")),x=S(e("@babel/runtime-corejs2/helpers/createClass")),A=S(e("@babel/runtime-corejs2/helpers/defineProperty")),w=S(e("auto-html")),C=function(ie,L){if(!L&&ie&&ie.__esModule)return ie;if(ie===null||n(ie)!=="object"&&typeof ie!="function")return{default:ie};var G=a(L);if(G&&G.has(ie))return G.get(ie);var le={},pe=_&&d;for(var we in ie)if(we!=="default"&&Object.prototype.hasOwnProperty.call(ie,we)){var ye=pe?d(ie,we):null;ye&&(ye.get||ye.set)?_(le,we,ye):le[we]=ie[we]}return le.default=ie,G&&G.set(ie,le),le}(e("kefir")),O=S(e("kefir-bus")),V=S(e("../gmail-element-getter")),R=S(e("../../../lib/dom/get-insert-before-element")),P=S(e("../../../lib/dom/querySelectorOrFail")),B=S(e("../../../lib/dom/make-mutation-observer-chunked-stream")),z=S(e("../widgets/buttons/button-view")),Q=S(e("../widgets/buttons/more-dropdown-button-view")),N=S(e("../widgets/buttons/more-parent-accessory-button-view")),K=S(e("../widgets/buttons/create-accessory-button-view")),U=S(e("../widgets/buttons/create-parent-accessory-button-view")),F=S(e("../widgets/gmail-dropdown-view")),Z=S(e("../../../widgets/buttons/dropdown-button-view-controller")),$=S(e("../../../widgets/buttons/basic-button-view-controller")),ne=S(e("../../../driver-common/update-icon")),H=S(e("../../../driver-common/render-custom-icon")),X=S(e("../../../constants/nav-item-types")),oe=0,Y=12,se=function(){function ie(L,G,le){(0,j.default)(this,ie),(0,A.default)(this,"_accessory",null),(0,A.default)(this,"_accessoryViewController",null),(0,A.default)(this,"_driver",void 0),(0,A.default)(this,"_element",void 0),(0,A.default)(this,"_eventStream",void 0),(0,A.default)(this,"_expandoElement",null),(0,A.default)(this,"_iconSettings",{}),(0,A.default)(this,"_isActive",!1),(0,A.default)(this,"_isCollapsed",!1),(0,A.default)(this,"_itemContainerElement",null),(0,A.default)(this,"_level",void 0),(0,A.default)(this,"_name",""),(0,A.default)(this,"_navItemDescriptor",void 0),(0,A.default)(this,"_navItemNumber",void 0),(0,A.default)(this,"_orderGroup",void 0),(0,A.default)(this,"_orderHint",void 0),(0,A.default)(this,"_type",null),(0,A.default)(this,"_collapseKey",null),(0,A.default)(this,"_isNewLeftNavParent",void 0),this._driver=L,this._eventStream=(0,O.default)(),this._level=le||0,this._navItemNumber=++oe,this._orderGroup=G,this._isNewLeftNavParent=!V.default.shouldAddNavItemsInline()&&this._level===1,this._isNewLeftNavParent?this._element=this._setupParentElement():this._element=this._setupChildElement()}return(0,x.default)(ie,[{key:"addNavItem",value:function(L,G){var le=this,pe=this._type===X.default.GROUPER?this._level:this._level+1,we=new ie(this._driver,L,pe);return we.getEventStream().filter(function(ye){return ye.eventName==="orderChanged"}).onValue(function(){return le._addNavItemElement(we)}),we.setNavItemDescriptor(G),this._isNewLeftNavParent&&this._createExpandoParent(),we}},{key:"destroy",value:function(){this._element.remove(),this._accessoryViewController&&this._accessoryViewController.destroy(),this._eventStream&&this._eventStream.end(),this._expandoElement&&this._expandoElement.remove(),this._itemContainerElement&&this._itemContainerElement.remove()}},{key:"getElement",value:function(){return this._element}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getNavItemDescriptor",value:function(){return this._navItemDescriptor}},{key:"getOrderGroup",value:function(){return this._orderGroup}},{key:"getOrderHint",value:function(){return this._orderHint}},{key:"getName",value:function(){return this._name}},{key:"isCollapsed",value:function(){return this._isCollapsed}},{key:"remove",value:function(){this.destroy()}},{key:"setActive",value:function(L){if(this._element&&this._type!==X.default.LINK&&this._type!==X.default.MANAGE&&this._isActive!==L&&!this._isNewLeftNavParent){var G=(0,P.default)(this._element,".TO");L?(this._element.classList.add("ain"),G.classList.add("nZ"),G.classList.add("aiq")):(this._element.classList.remove("ain"),G.classList.remove("nZ"),G.classList.remove("aiq")),this._setHeights(),this._isActive=L}}},{key:"setCollapsed",value:function(L){this._isCollapsed=L,this._isCollapsible()&&(L?this._collapse():this._expand());try{var G="inboxsdk__navitem_collapsed__"+this._collapseKey;this._isCollapsed?localStorage.setItem(G,"true"):localStorage.removeItem(G)}catch(le){console.error("Caught error",le)}}},{key:"setNavItemDescriptor",value:function(L){var G=this;L.takeUntilBy(this._eventStream.filter(function(){return!1}).beforeEnd(function(){return null})).onValue(function(le){return G._updateValues(le)})}},{key:"toggleCollapse",value:function(){this.setCollapsed(!this._isCollapsed)}},{key:"_addNavItemElement",value:function(L){var G=this._getItemContainerElement(),le=(0,R.default)(L.getElement(),G.children,["data-group-order-hint","data-order-hint","data-insertion-order-hint"]);G.insertBefore(L.getElement(),le);var pe=this._type===X.default.GROUPER||this._isNewLeftNavParent?this._level-1:this._level,we=L.getElement();V.default.shouldAddNavItemsInline()?(0,P.default)(we,".TN").style.marginLeft=u()*pe+"px":(0,P.default)(we,".TN").style.marginLeft=6*pe+"px",this._setHeights()}},{key:"_collapse",value:function(){if(this._isCollapsed=!0,this._isNewLeftNavParent)this._element.classList.remove("Xr");else{var L=this._expandoElement;if(L)L.classList.remove("aih"),L.classList.add("aii");else if(this._type===X.default.GROUPER){var G=this._element.firstElementChild;G&&G.classList.remove("air")}this._itemContainerElement&&(this._itemContainerElement.style.display="none"),this._setHeights()}this._eventStream.emit({eventName:"collapsed"})}},{key:"_createAccessory",value:function(L){switch(L.type){case"CREATE":this._createCreateAccessory(L);break;case"ICON_BUTTON":this._createIconButtonAccessory(L);break;case"DROPDOWN_BUTTON":this._createDropdownButtonAccessory(L);break;case"SETTINGS_BUTTON":this._driver.getLogger().deprecationWarning("SettingsButtonAccessoryDescriptor","DropdownButtonAccessoryDescriptor"),this._createDropdownButtonAccessory(o(o({},L),{},{type:"DROPDOWN_BUTTON"}))}}},{key:"_createCreateAccessory",value:function(L){this._createPlusButtonAccessory(L)}},{key:"_createDropdownButtonAccessory",value:function(L){if(this._isNewLeftNavParent){var G=o({},L);G.buttonView=new N.default,G.dropdownViewDriverClass=F.default,G.dropdownPositionOptions={position:"right",hAlign:"left",vAlign:"top"},G.dropdownShowFunction=function(be){var Ne=be.dropdown;Ne.el.style.marginLeft="24px",G.onClick({dropdown:Ne})};var le=new Z.default(G);this._accessoryViewController=le;var pe=(0,P.default)(this._element,".Yh"),we=pe.parentNode;if(we){var ye;(ye=G.buttonView.getElement().classList).add.apply(ye,(0,k.default)(pe.classList)),we.replaceChild(G.buttonView.getElement(),pe),this._iconSettings.iconElement=null}}else{var W=o({},L);W.buttonView=new Q.default,W.dropdownViewDriverClass=F.default,W.dropdownPositionOptions={position:"bottom",hAlign:"left",vAlign:"top"};var te=V.default.getLeftNavContainerElement();if(!te)throw new Error("leftNavContainer not found");W.dropdownShowFunction=function(be){if(te.classList.contains("bhZ")){var Ne=C.fromEvents(be.dropdown,"destroy");(0,B.default)(te,{attributes:!0,attributeFilter:["class"]}).takeUntilBy(Ne).toProperty(function(){return null}).onValue(function(){te.classList.contains("bym")||te.classList.add("bym")}),Ne.onValue(function(){te.classList.remove("bym")})}W.onClick(be),be.dropdown.on("destroy",function(){W.buttonView.deactivate()})};var ce=new Z.default(W);this._accessoryViewController=ce;var je=(0,P.default)(this._element,".TO");je.addEventListener("mouseenter",function(){return je.classList.add("inboxsdk__navItem_hover")}),je.addEventListener("mouseleave",function(){return je.classList.remove("inboxsdk__navItem_hover")}),(0,P.default)(this._element,".TN").appendChild(W.buttonView.getElement()),this._setupContextClickHandler(ce)}}},{key:"_createExpando",value:function(){var L=this;if(this._type!==X.default.GROUPER){var G=this._expandoElement=document.createElement("div");G.setAttribute("class","TH aih J-J5-Ji inboxsdk__expando"),G.setAttribute("role","link"),G.title="Expand ".concat(this._name||""),G.addEventListener("click",function(pe){L.toggleCollapse(),pe.stopPropagation()});var le=this._element.querySelector(".TN.aik");le&&le.insertAdjacentElement("afterbegin",G),this._isCollapsed?this._collapse():this._expand()}}},{key:"_createExpandoParent",value:function(){var L=(0,P.default)(this._element,".XR");L.style.visibility="visible",this._expandoElement=L,this._isCollapsed?this._collapse():this._expand()}},{key:"_createIconButtonAccessory",value:function(L){if(this._driver.getLogger().deprecationWarning("IconButtonAccessoryDescriptor accessory for a parent level NavItemView","CreateAccessoryDescriptor or DropdownButtonAccessoryDescriptor"),!this._isNewLeftNavParent){var G=o(o({},L),{},{buttonColor:"pureIcon"});G.buttonView=new z.default(G),this._accessoryViewController=new $.default(G),(0,P.default)(this._element,".TN").appendChild(G.buttonView.getElement())}}},{key:"_createItemContainerElement",value:function(){var L=this._itemContainerElement=document.createElement("div");return L.classList.add("inboxsdk__navItem_container"),this._element.appendChild(L),this._isCollapsible()&&(this._isCollapsed?this._collapse():this._expand()),L}},{key:"_createLinkButtonAccessory",value:function(L){var G=document.createElement("div");G.setAttribute("class","inboxsdk__navItem_link");var le=document.createElement("a");le.classList.add("CK"),le.textContent=L.name,G.appendChild(le),le.href="#",le.addEventListener("click",function(pe){pe.stopPropagation(),pe.preventDefault(),L.onClick()}),(0,P.default)(this._element,".aio").appendChild(G)}},{key:"_createPlusButtonAccessory",value:function(L){if(this._isNewLeftNavParent){var G=o({},L);G.buttonView=new U.default,this._accessoryViewController=new $.default(G);var le=(0,P.default)(this._element,".Yh"),pe=le.parentNode;if(pe){var we;(we=G.buttonView.getElement().classList).add.apply(we,(0,k.default)(le.classList)),pe.replaceChild(G.buttonView.getElement(),le),this._iconSettings.iconElement=null}}else{var ye=o({},L);ye.buttonView=new K.default,this._accessoryViewController=new $.default(ye),(0,P.default)(this._element,".TN").appendChild(ye.buttonView.getElement())}}},{key:"_expand",value:function(){if(this._isNewLeftNavParent)this._element.classList.add("Xr");else{var L=this._expandoElement;if(L)L.classList.add("aih"),L.classList.remove("aii");else if(this._type===X.default.GROUPER){var G=this._element.firstElementChild;G&&G.classList.add("air")}this._itemContainerElement&&(this._itemContainerElement.style.display=""),this._setHeights()}this._isCollapsed=!1,this._eventStream.emit({eventName:"expanded"})}},{key:"_getItemContainerElement",value:function(){if(this._isNewLeftNavParent)return(0,P.default)(this._element,".TK");var L=this._itemContainerElement;return L||(L=this._createItemContainerElement(),this._createExpando()),L}},{key:"_isCollapsible",value:function(){return Boolean(this._expandoElement)||this._type===X.default.GROUPER}},{key:"_makeEventMapper",value:function(L){return function(G){return G.stopPropagation(),G.preventDefault(),{eventName:L,domEvent:G}}}},{key:"_setHeights",value:function(){if(this._level!=1){var L=(0,P.default)(this._element,".TO");if(this._element.classList.contains("ain")&&this._itemContainerElement){this._element.style.height="";var G=this._element.clientHeight,le=L.clientHeight;this._element.style.height=le+"px",this._element.style.overflow="visible",this._element.style.marginBottom=G-le+"px"}else this._element.style.height="",this._element.style.overflow="",this._element.style.marginBottom=""}}},{key:"_setHighlight",value:function(L){this._element&&this._type!==X.default.LINK&&this._type!==X.default.MANAGE&&(L?(0,P.default)(this._element,".TO").classList.add("NQ"):(0,P.default)(this._element,".TO").classList.remove("NQ"))}},{key:"_setupContextClickHandler",value:function(L){var G=this;C.fromEvents(this._element,"contextmenu").takeWhile(function(){return G._accessoryViewController===L}).onValue(function(le){le.stopPropagation(),le.preventDefault(),L.showDropdown()})}},{key:"_setupChildElement",value:function(){var L=this,G=document.createElement("div");G.setAttribute("class","aim inboxsdk__navItem"),G.innerHTML=['<div class="TO">','<div class="TN aik">','<div class="qj" style="">',"</div>",'<div class="aio aip">','<span class="nU" role="link">',"</span>",'<span class="bsU">',"</span>","</div>","</div>","</div>"].join("");var le=(0,P.default)(G,".TO");return C.merge([C.fromEvents(le,"mouseenter").map(this._makeEventMapper("mouseenter")),C.fromEvents(le,"mouseleave").map(this._makeEventMapper("mouseleave"))]).onValue(function(pe){L._updateHighlight(pe)}),this._eventStream.plug(C.fromEvents(le,"click").map(this._makeEventMapper("click"))),G}},{key:"_setupParentElement",value:function(){var L=this,G=document.createElement("div");G.className="Xa wT W8 XJ inboxsdk__navItem",G.innerHTML=['<div class="V6 CL Y2">','<div class="XR" role="button" tabindex="0" type="button" style="visibility: hidden">',"</div>",'<span class="XS">','<span class="WW inboxsdk__navItem_name" role="heading" aria-level="2">',"</span>",'<span class="XU" aria-hidden="true" style="display: none">',"</span>","</span>",'<div class="Yh">',"</div>","</div>",'<div class="V3 ada">','<div class="wT">','<div class="TK">',"</div>","</div>","</div>"].join("");var le=(0,P.default)(G,".V3");C.fromEvents(le,"scroll").debounce(10).onValue(function(){le.scrollTop>0?le.classList.add("adh"):le.classList.remove("adh")});var pe=(0,P.default)(G,".XR");C.fromEvents(pe,"click").map(this._makeEventMapper("click")).onValue(function(){L.toggleCollapse()});var we=(0,P.default)(G,".V6.CL");return this._eventStream.plug(C.fromEvents(we,"click").map(this._makeEventMapper("click"))),G}},{key:"_setupGrouper",value:function(){var L=this,G=this._element.firstElementChild;G&&(G.classList.add("n4"),G.addEventListener("click",function(le){le.stopPropagation(),L.toggleCollapse()}),this._isCollapsed?this._collapse():this._expand()),(0,P.default)(this._element,".qj").innerHTML='<div class="G-asx T-I-J3 J-J5-Ji">&nbsp;</div>'}},{key:"_updateAccessory",value:function(L){this._accessory!==L&&(this._accessoryViewController&&(this._accessoryViewController.destroy(),this._accessoryViewController=null),L&&this._createAccessory(L),this._accessory=L)}},{key:"_updateClickability",value:function(L){L.type===X.default.LINK||L.type===X.default.MANAGE?this._element.classList.add("inboxsdk__navItem_nonClickable"):this._element.classList.remove("inboxsdk__navItem_nonClickable")}},{key:"_updateHighlight",value:function(L){switch(L.eventName){case"mouseenter":this._setHighlight(!0);break;case"mouseleave":this._setHighlight(!1)}}},{key:"_updateIcon",value:function(L){var G=this._isNewLeftNavParent?(0,P.default)(this._element,".Yh"):(0,P.default)(this._element,".qj");if(L.iconElement)return void(0,H.default)(G,L.iconElement,L.iconPosition!=="BEFORE_NAME");if((0,ne.default)(this._iconSettings,G,L.iconPosition!=="BEFORE_NAME",L.iconClass,L.iconUrl),L.backgroundColor){var le=L.backgroundColor;G.style.borderColor=le}}},{key:"_updateName",value:function(L){if(this._name!==L){var G=(0,P.default)(this._element,".inboxsdk__navItem_name");G.textContent=L,G.setAttribute("title",L),this._expandoElement&&(this._expandoElement.title="Expand ".concat(L)),this._name=L}}},{key:"_updateOrder",value:function(L){this._element.setAttribute("data-group-order-hint",""+this._orderGroup),this._element.setAttribute("data-insertion-order-hint",""+this._navItemNumber),L.orderHint=L.orderHint||L.orderHint===0?L.orderHint:g.default,L.orderHint!==this._orderHint&&(this._element.setAttribute("data-order-hint",""+L.orderHint),this._eventStream.emit({eventName:"orderChanged"})),this._orderHint=L.orderHint}},{key:"_updateRole",value:function(L){var G=(0,P.default)(this._element,".V6.CL");L?G.setAttribute("role","link"):(G.setAttribute("role","group"),G.classList.add("X9"))}},{key:"_updateSubtitle",value:function(L){this._isNewLeftNavParent||L.accessory&&!["SETTINGS_BUTTON","DROPDOWN_BUTTON"].includes(L.accessory.type)&&L.type!==X.default.GROUPER||((0,P.default)(this._element,".bsU").innerHTML+=(0,w.default)(v||(v=(0,I.default)(["",""])),L.subtitle||""))}},{key:"_updateType",value:function(L){if(this._element&&(L=L||X.default.NAVIGATION,this._type!==L)){var G=this._element.querySelector(".inboxsdk__navItem_name");switch(L){case X.default.GROUPER:case X.default.NAVIGATION:G&&G.tagName==="SPAN"||((0,P.default)(this._element,".nU").innerHTML+=(0,w.default)(T||(T=(0,I.default)(['<span class="inboxsdk__navItem_name">',"</span>"])),this._name));break;case X.default.LINK:case X.default.MANAGE:G&&G.tagName==="A"||((0,P.default)(this._element,".nU").innerHTML+=(0,w.default)(E||(E=(0,I.default)(['<a href="#" class="CK inboxsdk__navItem_name">',"</a>"])),this._name))}this._type=L}}},{key:"_updateValues",value:function(L){if(this._navItemDescriptor=L,this._collapseKey==null&&(this._collapseKey=L.key||"".concat(L.name),this._isCollapsed=localStorage.getItem("inboxsdk__navitem_collapsed__"+this._collapseKey)==="true"),this._updateType(L.type),this._updateName(L.name),this._updateSubtitle(L),this._updateOrder(L),this._isNewLeftNavParent&&this._updateRole(L.routeID),this._type===X.default.GROUPER)return void this._setupGrouper();this._updateAccessory(L.accessory),this._updateIcon(L),this._updateClickability(L)}}]),ie}();i.default=se},{"../../../constants/nav-item-types":657,"../../../driver-common/render-custom-icon":839,"../../../driver-common/update-icon":843,"../../../lib/dom/get-insert-before-element":855,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/querySelectorOrFail":869,"../../../widgets/buttons/basic-button-view-controller":940,"../../../widgets/buttons/dropdown-button-view-controller":941,"../gmail-element-getter":696,"../widgets/buttons/button-view":763,"../widgets/buttons/create-accessory-button-view":764,"../widgets/buttons/create-parent-accessory-button-view":765,"../widgets/buttons/more-dropdown-button-view":768,"../widgets/buttons/more-parent-accessory-button-view":769,"../widgets/gmail-dropdown-view":771,"@babel/runtime-corejs2/core-js/number/max-safe-integer":6,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"@babel/runtime-corejs2/helpers/toConsumableArray":56,"@babel/runtime-corejs2/helpers/typeof":57,"auto-html":89,kefir:327,"kefir-bus":324}],751:[function(e,l,i){"use strict";function a(){this._routeNameToRouteIDMap=null,this._compatibleRouteIDMap=null,this._setupRouteNameToRouteIDMap(),this._setupCompatibleRouteIDMap()}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/object/assign")),n=o(e("@babel/runtime-corejs2/core-js/object/values")),s=o(e("lodash/includes")),f=e("../../../../constants/router");(0,u.default)(a.prototype,{NativeRouteIDs:f.NATIVE_ROUTE_IDS,NativeListRouteIDs:f.NATIVE_LIST_ROUTE_IDS,RouteTypes:f.ROUTE_TYPES,isListRouteName:function(d){var m=this.getRouteID(d);return!!m&&(0,s.default)((0,n.default)(f.NATIVE_LIST_ROUTE_IDS),m)},isSettingsRouteName:function(d){return this._routeNameToRouteIDMap[d]===this.NativeRouteIDs.SETTINGS},isContactRouteName:function(d){return this._routeNameToRouteIDMap[d]===this.NativeRouteIDs.CONTACTS||this._routeNameToRouteIDMap[d]===this.NativeRouteIDs.CONTACT},getRouteID:function(d){var m=this._routeNameToRouteIDMap[d];return m||null},getRouteName:function(d){for(var m in this._routeNameToRouteIDMaps)if(this._routeNameToRouteIDMap[m]===d)return m;return null},isNativeRoute:function(d){return!!this._routeNameToRouteIDMap[d]},getCompatibleRouteID:function(d){return this._compatibleRouteIDMap[d]||d},_setupRouteNameToRouteIDMap:function(){this._routeNameToRouteIDMap={inbox:this.NativeRouteIDs.INBOX,section_query:this.NativeRouteIDs.SEARCH,all:this.NativeRouteIDs.ALL_MAIL,imp:this.NativeRouteIDs.IMPORTANT,contacts:this.NativeRouteIDs.CONTACTS,contact:this.NativeRouteIDs.CONTACT,sent:this.NativeRouteIDs.SENT,starred:this.NativeRouteIDs.STARRED,snoozed:this.NativeRouteIDs.SNOOZED,drafts:this.NativeRouteIDs.DRAFTS,label:this.NativeRouteIDs.LABEL,category:this.NativeRouteIDs.LABEL,search:this.NativeRouteIDs.SEARCH,"advanced-search":this.NativeRouteIDs.SEARCH,trash:this.NativeRouteIDs.TRASH,spam:this.NativeRouteIDs.SPAM,apps:this.NativeRouteIDs.SEARCH,circle:this.NativeRouteIDs.LABEL,settings:this.NativeRouteIDs.SETTINGS,chats:this.NativeRouteIDs.CHATS}},_setupCompatibleRouteIDMap:function(){this._compatibleRouteIDMap={},this._compatibleRouteIDMap[this.NativeRouteIDs.INBOX]="inbox/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.ALL_MAIL]="all/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.SENT]="sent/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.STARRED]="starred/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.DRAFTS]="drafts/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.LABEL]="label/:labelName/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.TRASH]="trash/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.SPAM]="spam/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.IMPORTANT]="imp/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.SEARCH]="search/:query/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.THREAD]=this.NativeRouteIDs.THREAD,this._compatibleRouteIDMap[this.NativeRouteIDs.CHATS]="chats/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.CHAT]=this.NativeRouteIDs.CHAT,this._compatibleRouteIDMap[this.NativeRouteIDs.CONTACTS]="contacts/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.CONTACT]=this.NativeRouteIDs.CONTACT,this._compatibleRouteIDMap[this.NativeRouteIDs.SETTINGS]=this.NativeRouteIDs.SETTINGS}})},{"../../../../constants/router":658,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/values":21,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/includes":493}],752:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/object/freeze")),u=t(e("@babel/runtime-corejs2/core-js/date/now")),n=t(e("@babel/runtime-corejs2/core-js/parse-int")),s=t(e("@babel/runtime-corejs2/core-js/object/create")),f=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=t(e("@babel/runtime-corejs2/helpers/createClass")),m=t(e("@babel/runtime-corejs2/helpers/defineProperty")),h=t(e("lodash/includes")),_=t(e("lodash/last")),y=t(e("lodash/once")),S=t(e("kefir")),v=t(e("kefir-stopper")),T=t(e("kefir-bus")),E=e("querystring"),I=t(e("asap")),g=e("ud"),k=t(e("../../../../lib/dom/make-element-child-stream")),j=t(e("../../../../lib/dom/make-element-view-stream")),x=t(e("../../../../lib/dom/make-mutation-observer-chunked-stream")),A=t(e("../../../../lib/dom/get-insert-before-element")),w=t(e("../gmail-row-list-view")),C=t(e("../gmail-thread-view")),O=t(e("../gmail-collapsible-section-view")),V=t(e("../../gmail-element-getter")),R=e("../../../../lib/dom/simulate-mouse-event"),P=t(e("../../../../lib/dom/querySelectorOrFail")),B=function(){function Q(N,K,U){var F=this,Z=N.urlObject,$=N.type,ne=N.routeID,H=N.cachedRouteData;(0,f.default)(this,Q),(0,m.default)(this,"_type",void 0),(0,m.default)(this,"_hash",void 0),(0,m.default)(this,"_name",void 0),(0,m.default)(this,"_paramsArray",void 0),(0,m.default)(this,"_customRouteID",void 0),(0,m.default)(this,"_stopper",(0,v.default)()),(0,m.default)(this,"_rowListViews",void 0),(0,m.default)(this,"_gmailRouteProcessor",void 0),(0,m.default)(this,"_driver",void 0),(0,m.default)(this,"_eventStream",void 0),(0,m.default)(this,"_customViewElement",void 0),(0,m.default)(this,"_threadView",void 0),(0,m.default)(this,"_sectionsContainer",void 0),(0,m.default)(this,"_hasAddedCollapsibleSection",void 0),(0,m.default)(this,"_cachedRouteData",void 0),(0,m.default)(this,"getParams",(0,y.default)(function(){var X;if(F._customRouteID)X=F._getCustomParams();else{X=F._getNativeParams();var oe=F.getRouteID();if(oe){var Y=F._extractParamKeysFromRouteID(oe),se={};Y.forEach(function(ie){X[ie]&&(se[ie]=X[ie])}),X=se}}return(0,o.default)(X)})),(0,m.default)(this,"_getThreadContainerElement",(0,y.default)(function(){return V.default.getThreadContainerElement()})),this._type=$,this._hash=Z.hash,this._name=Z.name,this._paramsArray=Z.params,this._customRouteID=ne,this._cachedRouteData=H,this._stopper=(0,v.default)(),this._rowListViews=[],this._gmailRouteProcessor=K,this._driver=U,this._eventStream=(0,T.default)(),this._hasAddedCollapsibleSection=!1,this._type==="CUSTOM"?(this._setupCustomViewElement(),U.getStopper().takeUntilBy(this._stopper.delay(0)).onValue(function(){U.showNativeRouteView(),window.location.hash="#inbox"})):(0,h.default)(["NATIVE","CUSTOM_LIST"],this._type)&&this._setupSubViews(),this._type==="CUSTOM_LIST"&&S.default.later(500).takeUntilBy(this._stopper).onValue(function(){var X=U.getLastCustomThreadListActivity();(!X||X.customRouteID!==F._customRouteID||(0,u.default)()-X.timestamp>5e3)&&F.refresh()})}return(0,d.default)(Q,[{key:"destroy",value:function(){this._stopper.destroy(),this._eventStream.end(),this._customViewElement&&this._customViewElement.remove();var N=this._rowListViews;this._rowListViews=[],N.forEach(function(K){K.destroy()}),this._threadView&&(this._threadView.destroy(),this._threadView=null)}},{key:"getHash",value:function(){return this._hash}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getStopper",value:function(){return this._stopper}},{key:"getCustomViewElement",value:function(){return this._customViewElement}},{key:"getRowListViews",value:function(){return this._rowListViews}},{key:"getThreadView",value:function(){return this._threadView}},{key:"getType",value:function(){return this._type==="OTHER_APP_CUSTOM"?"CUSTOM":this._type}},{key:"isCustomRouteBelongingToApp",value:function(){return this._type==="CUSTOM"}},{key:"addCollapsibleSection",value:function(N,K){return this._addCollapsibleSection(N,K,!0)}},{key:"addSection",value:function(N,K){return this._addCollapsibleSection(N,K,!1)}},{key:"_addCollapsibleSection",value:function(N,K,U){this._hasAddedCollapsibleSection=!0;var F=new O.default(this._driver,K,this.getRouteID()===this._gmailRouteProcessor.NativeRouteIDs.SEARCH,U),Z=this._getSectionsContainer();return F.getEventStream().filter(function($){return $.type==="update"&&$.property==="orderHint"}).onValue(function(){var $=Z.children,ne=(0,A.default)(F.getElement(),$,["data-group-order-hint","data-order-hint"]);ne?Z.insertBefore(F.getElement(),ne):Z.appendChild(F.getElement())}),F.setCollapsibleSectionDescriptorProperty(N),F}},{key:"_setupCustomViewElement",value:function(){this._customViewElement=document.createElement("div"),this._customViewElement.classList.add("inboxsdk__custom_view_element"),this._monitorLeftNavHeight(),this._setCustomViewElementHeight()}},{key:"_monitorLeftNavHeight",value:function(){var N=this,K=V.default.getLeftNavHeightElement();K&&(0,x.default)(K,{attributes:!0,attributeFilter:["style"]}).takeUntilBy(this._stopper).onValue(function(){N._setCustomViewElementHeight()})}},{key:"_setCustomViewElementHeight",value:function(){var N=V.default.getLeftNavHeightElement(),K=V.default.getGtalkButtons(),U=this._customViewElement;if(!N||!U)throw new Error("Should not happen");U.style.height="".concat((0,n.default)(N.style.height,10)+(K?K.offsetHeight:0),"px")}},{key:"_setupSubViews",value:function(){var N=this;(0,I.default)(function(){N._eventStream&&(N._setupRowListViews(),N._setupContentAndSidebarView(),N._setupScrollStream())})}},{key:"_setupRowListViews",value:function(){var N=this,K=V.default.getRowListElements();Array.prototype.forEach.call(K,function(U){N._processRowListElement(U)})}},{key:"_processRowListElement",value:function(N){var K=N.parentElement;if(!K)throw new Error("no rootElement");var U=new w.default(K,this,this._driver);this._rowListViews.push(U),this._eventStream.emit({eventName:"newGmailRowListView",view:U})}},{key:"_setupContentAndSidebarView",value:function(){var N=this._getThreadContainerElement();if(N){var K=new C.default(N,this,this._driver);this._threadView=K,this._eventStream.emit({eventName:"newGmailThreadView",view:K})}else{var U=document.querySelector("div[role=main] .aia");U&&this._startMonitoringPreviewPaneForThread(U)}}},{key:"_setupScrollStream",value:function(){var N=this,K=V.default.getScrollContainer(),U=this._cachedRouteData.scrollTop;K&&this._hasAddedCollapsibleSection&&(U&&(K.scrollTop=U),S.default.fromEvents(K,"scroll").throttle(100).map(function(F){return F.target.scrollTop}).takeUntilBy(this._stopper).onValue(function(F){N._cachedRouteData.scrollTop=F}))}},{key:"_startMonitoringPreviewPaneForThread",value:function(N){var K=this,U=(0,P.default)(N,"table.Bs > tr"),F=(0,k.default)(U).filter(function(Z){return!!Z.el.querySelector(".if")||!!Z.el.querySelector(".PeIF1d")||!!Z.el.querySelector(".a98.iY")});this._eventStream.plug(F.flatMap((0,j.default)(function(Z){return new C.default(Z,K,K._driver,!0)})).map(function(Z){return K._threadView=Z,{eventName:"newGmailThreadView",view:Z}}))}},{key:"_getSectionsContainer",value:function(){var N=document.querySelector("div[role='main']");if(!N)throw new Error("should not happen");var K=N.querySelector(".inboxsdk__custom_sections");return K?K.classList.contains("Wc")&&!this._isSearchRoute()&&K.classList.remove("Wc"):(K=this._sectionsContainer=document.createElement("div"),K.classList.add("inboxsdk__custom_sections"),N.insertBefore(K,N.firstChild)),K}},{key:"_getCustomParams",value:function(){var N=this,K=(0,s.default)(null);if(!this._customRouteID)throw new Error("Should not happen, can't get custom params for non-custom view");return this._customRouteID.split("/").slice(1).forEach(function(U,F){U[0]===":"&&(U=U.substring(1),N._paramsArray[F]&&(K[U]=N._paramsArray[F]))}),K}},{key:"_getNativeParams",value:function(){return this._isSearchRoute()?this._getSearchRouteParams():this._isListRoute()?this._getListRouteParams():this._isThreadRoute()?this._getThreadRouteParams():this._isSettingsRoute()?this._getSettingsRouteParams():{}}},{key:"_isSearchRoute",value:function(){return this.getRouteID()===this._gmailRouteProcessor.NativeRouteIDs.SEARCH}},{key:"getRouteType",value:function(){return(0,h.default)(["CUSTOM","OTHER_APP_CUSTOM"],this._type)?this._gmailRouteProcessor.RouteTypes.CUSTOM:this._isListRoute()?this._gmailRouteProcessor.RouteTypes.LIST:this._isThreadRoute()?this._gmailRouteProcessor.RouteTypes.THREAD:this._isSettingsRoute()?this._gmailRouteProcessor.RouteTypes.SETTINGS:this._gmailRouteProcessor.RouteTypes.UNKNOWN}},{key:"_isThreadRoute",value:function(){return!!this._getThreadContainerElement()}},{key:"_isListRoute",value:function(){var N=V.default.getRowListElements();return(this._type==="CUSTOM_LIST"||this._gmailRouteProcessor.isListRouteName(this._name))&&N&&N.length>0}},{key:"_isSettingsRoute",value:function(){return this._gmailRouteProcessor.isSettingsRouteName(this._name)}},{key:"_getSearchRouteParams",value:function(){return{query:this._paramsArray[0],includesDriveResults:this._name==="apps",page:this._getPageParam()}}},{key:"_getListRouteParams",value:function(){var N={page:this._getPageParam()};return this.getRouteID()===this._gmailRouteProcessor.NativeRouteIDs.LABEL&&this._paramsArray[0]&&(N.labelName=this._paramsArray[0]),N}},{key:"_getThreadRouteParams",value:function(){if(this._paramsArray&&this._paramsArray.length>0){var N=(0,_.default)(this._paramsArray);if(N&&(N.length===16||N[0]==="#"))return{threadID:N.replace("#","")}}var K,U=this._getThreadContainerElement();if(U)try{K=this._driver.getPageCommunicator().getCurrentThreadID(U)}catch(F){}return K||(K=(0,E.parse)(document.location.search,null,null).th||""),{threadID:K}}},{key:"_getSettingsRouteParams",value:function(){return{tabName:this._paramsArray[0]}}},{key:"_getPageParam",value:function(){for(var N=1;N<this._paramsArray.length;N++)if(this._paramsArray[N].match(/p\d+/))return(0,n.default)(this._paramsArray[N].replace(/[a-zA-Z]/,""),10);return 1}},{key:"getRouteID",value:function(){return this._customRouteID?this._customRouteID:this._isThreadRoute()?this._gmailRouteProcessor.NativeRouteIDs.THREAD:this._gmailRouteProcessor.getRouteID(this._name)}},{key:"refresh",value:function(){var N=V.default.getToolbarElement().querySelector("div.T-I.nu");if(N){var K=document.activeElement,U=N.className;(0,R.simulateClick)(N),N.className=U,K?K.focus():N.blur()}}},{key:"setFullWidth",value:function(N){}},{key:"_extractParamKeysFromRouteID",value:function(N){return N.split("/").filter(function(K){return K[0]===":"}).map(function(K){return K.substring(1)})}}]),Q}(),z=(0,g.defn)(l,B);i.default=z},{"../../../../lib/dom/get-insert-before-element":855,"../../../../lib/dom/make-element-child-stream":860,"../../../../lib/dom/make-element-view-stream":862,"../../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../../lib/dom/querySelectorOrFail":869,"../../../../lib/dom/simulate-mouse-event":875,"../../gmail-element-getter":696,"../gmail-collapsible-section-view":716,"../gmail-row-list-view":753,"../gmail-thread-view":758,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/object/create":9,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/freeze":13,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,asap:83,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/includes":493,"lodash/last":511,"lodash/once":516,querystring:579,ud:625}],753:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/set")),u=t(e("@babel/runtime-corejs2/core-js/map")),n=t(e("@babel/runtime-corejs2/core-js/parse-int")),s=t(e("@babel/runtime-corejs2/core-js/array/from")),f=t(e("@babel/runtime-corejs2/helpers/slicedToArray")),d=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),m=t(e("@babel/runtime-corejs2/helpers/createClass")),h=t(e("@babel/runtime-corejs2/helpers/defineProperty")),_=e("ud"),y=t(e("lodash/find")),S=t(e("lodash/zip")),v=(t(e("asap")),t(e("assert"))),T=t(e("kefir")),E=t(e("kefir-bus")),I=(t(e("../../../../common/get-or-fail")),t(e("../../../lib/delay-asap"))),g=t(e("../../../lib/dom/querySelectorOrFail")),k=t(e("./gmail-toolbar-view")),j=t(e("./gmail-thread-row-view")),x=(t(e("../../../lib/stream-wait-for")),t(e("../../../lib/dom/make-element-child-stream"))),A=(t(e("../../../lib/dom/make-element-view-stream")),/\bx7\b/),w=function(){function O(V,R,P){var B=this;(0,d.default)(this,O),(0,h.default)(this,"_element",void 0),(0,h.default)(this,"_gmailDriver",void 0),(0,h.default)(this,"_routeViewDriver",void 0),(0,h.default)(this,"_pendingExpansions",void 0),(0,h.default)(this,"_pendingExpansionsSignal",void 0),(0,h.default)(this,"_toolbarView",void 0),(0,h.default)(this,"_threadRowViewDrivers",new o.default),(0,h.default)(this,"_eventStreamBus",void 0),(0,h.default)(this,"_rowViewDriverStream",void 0),(0,h.default)(this,"_stopper",void 0),(0,h.default)(this,"_elementsToViews",new u.default),(0,h.default)(this,"_selectionMutationObserver",void 0),(0,h.default)(this,"_selectedThreadRowViews",new o.default),(0,h.default)(this,"_batchedSignalThreadRowViewSelectionChangeScheduled",!1),this._eventStreamBus=(0,E.default)(),this._stopper=this._eventStreamBus.ignoreValues().beforeEnd(function(){return null}),this._gmailDriver=P,this._element=V,this._routeViewDriver=R,this._selectionMutationObserver=new MutationObserver(function(z){for(var Q=!1,N=0,K=z.length;N<K;N++){var U=z[N],F=U.target,Z=A.test(U.oldValue),$=A.test(F.className);if(Z!==$){var ne=B._elementsToViews.get(F);ne&&(Q=!0,$?B._selectedThreadRowViews.add(ne):B._selectedThreadRowViews.delete(ne))}}Q&&B._gmailDriver.signalThreadRowViewSelectionChange()}),this._pendingExpansions=new u.default,this._pendingExpansionsSignal=(0,E.default)(),this._pendingExpansionsSignal.bufferBy(this._pendingExpansionsSignal.flatMap(I.default)).filter(function(z){return z.length>0}).takeUntilBy(this._stopper).onValue(this._expandColumnJob.bind(this)),this._setupToolbarView(),this._startWatchingForRowViews()}return(0,m.default)(O,[{key:"destroy",value:function(){this._selectionMutationObserver.disconnect(),this._threadRowViewDrivers.forEach(function(V){return V.destroy()}),this._eventStreamBus.end(),this._toolbarView&&this._toolbarView.destroy(),this._selectedThreadRowViews.size&&(this._selectedThreadRowViews.clear(),this._gmailDriver.signalThreadRowViewSelectionChange())}},{key:"getElement",value:function(){return this._element}},{key:"getRouteViewDriver",value:function(){return this._routeViewDriver}},{key:"getToolbarView",value:function(){return this._toolbarView}},{key:"getSelectedThreadRowViewDrivers",value:function(){return this._selectedThreadRowViews}},{key:"getThreadRowViewDrivers",value:function(){return this._threadRowViewDrivers}},{key:"getRowViewDriverStream",value:function(){return this._rowViewDriverStream}},{key:"getEventStream",value:function(){return this._eventStreamBus}},{key:"_setupToolbarView",value:function(){var V=this._findToolbarElement();this._toolbarView=V?new k.default(V,this._gmailDriver,this._routeViewDriver,this):null}},{key:"_findToolbarElement",value:function(){var V=this,R=this._element.querySelector("[gh=mtb]");if(R)return R;var P=(0,y.default)(document.querySelectorAll("[gh=tm]"),function(B){return B.parentElement.parentElement===V._element.parentElement.parentElement.parentElement.parentElement.parentElement||B.parentElement.parentElement===V._element.parentElement});return P?P.querySelector("[gh=mtb]"):null}},{key:"_fixColumnWidths",value:function(V){if(V&&V.parentElement){var R=V.parentElement.firstElementChild;if(R!==V&&R){var P=R.querySelectorAll("table.cf > colgroup > col"),B=V.querySelectorAll("table.cf > colgroup > col");v.default.strictEqual(P.length,B.length),(0,S.default)(P,B).forEach(function(z){var Q=(0,f.default)(z,2),N=Q[0];Q[1].style.width=N.style.width})}}}},{key:"expandColumn",value:function(V,R){var P=this._pendingExpansions.get(V);(!P||R>P)&&(this._pendingExpansions.set(V,R),this._pendingExpansionsSignal.emit())}},{key:"_expandColumnJob",value:function(){var V=this;this._pendingExpansions.forEach(function(R,P){Array.prototype.forEach.call(V._element.querySelectorAll("table.cf > colgroup > "+P),function(B){var z=(0,n.default)(B.style.width,10);(isNaN(z)||z<R)&&(B.style.width=R+"px")})}),this._pendingExpansions.clear()}},{key:"_batchedSignalThreadRowViewSelectionChange",value:function(){var V=this;this._batchedSignalThreadRowViewSelectionChangeScheduled||(this._batchedSignalThreadRowViewSelectionChangeScheduled=!0,(0,I.default)(null).takeUntilBy(this._stopper).onValue(function(){V._batchedSignalThreadRowViewSelectionChangeScheduled=!1,V._gmailDriver.signalThreadRowViewSelectionChange()}))}},{key:"_startWatchingForRowViews",value:function(){var V=this,R=(0,s.default)(this._element.querySelectorAll("div.Cp")),P=T.default.merge(R.map(x.default)).flatMap(function(z){V._fixColumnWidths(z.el);var Q=(0,g.default)(z.el,"table > tbody");return(0,x.default)(Q).takeUntilBy(z.removalStream).filter(function(N){return N.el.id})}),B=T.default.later(2);this._rowViewDriverStream=P.map(function(z){var Q=z.el;V._selectionMutationObserver.observe(Q,{attributes:!0,attributeFilter:["class"],attributeOldValue:!0});var N=new j.default(Q,V,V._gmailDriver);return V._elementsToViews.set(Q,N),Q.classList.contains("x7")&&(V._selectedThreadRowViews.add(N),V._batchedSignalThreadRowViewSelectionChange()),z.removalStream.take(1).onValue(function(){V._selectedThreadRowViews.has(N)&&(V._selectedThreadRowViews.delete(N),V._batchedSignalThreadRowViewSelectionChange()),V._elementsToViews.delete(Q),N.destroy()}),N}).flatMap(function(z){return z.getAlreadyHadModifications()?B.flatMap(function(){return z.waitForReady()}).takeUntilBy(z.getStopper()):z.waitForReady().takeUntilBy(z.getStopper())}).takeUntilBy(this._stopper),this._rowViewDriverStream.onValue(function(z){return V._addThreadRowView(z)})}},{key:"_addThreadRowView",value:function(V){var R=this;this._threadRowViewDrivers.add(V),V.getStopper().takeUntilBy(this._stopper).onValue(function(){R._threadRowViewDrivers.delete(V)})}}]),O}(),C=(0,_.defn)(l,w);i.default=C},{"../../../../common/get-or-fail":642,"../../../lib/delay-asap":851,"../../../lib/dom/make-element-child-stream":860,"../../../lib/dom/make-element-view-stream":862,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/stream-wait-for":902,"./gmail-thread-row-view":755,"./gmail-toolbar-view":760,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,asap:83,assert:85,kefir:327,"kefir-bus":324,"lodash/find":484,"lodash/zip":532,ud:625}],754:[function(e,l,i){"use strict";function a(T,E){var I=n!==void 0&&T[s]||T["@@iterator"];if(!I){if(f(T)||(I=t(T))||E&&T&&typeof T.length=="number"){I&&(T=I);var g=0,k=function(){};return{s:k,n:function(){return g>=T.length?{done:!0}:{done:!1,value:T[g++]}},e:function(w){throw w},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,x=!0,A=!1;return{s:function(){I=I.call(T)},n:function(){var w=I.next();return x=w.done,w},e:function(w){A=!0,j=w},f:function(){try{x||I.return==null||I.return()}finally{if(A)throw j}}}}function t(T,E){if(T){if(typeof T=="string")return o(T,E);var I=Object.prototype.toString.call(T).slice(8,-1);return I==="Object"&&T.constructor&&(I=T.constructor.name),I==="Map"||I==="Set"?u(T):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?o(T,E):void 0}}function o(T,E){(E==null||E>T.length)&&(E=T.length);for(var I=0,g=new Array(E);I<E;I++)g[I]=T[I];return g}var u=e("@babel/runtime-corejs2/core-js/array/from"),n=e("@babel/runtime-corejs2/core-js/symbol"),s=e("@babel/runtime-corejs2/core-js/symbol/iterator"),f=e("@babel/runtime-corejs2/core-js/array/is-array"),d=e("@babel/runtime-corejs2/core-js/object/define-property"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");d(i,"__esModule",{value:!0}),i.default=void 0;var h=m(e("@babel/runtime-corejs2/helpers/classCallCheck")),_=m(e("@babel/runtime-corejs2/helpers/createClass")),y=m(e("@babel/runtime-corejs2/helpers/defineProperty")),S=m(e("kefir-stopper")),v=function(){function T(E,I){(0,h.default)(this,T),(0,y.default)(this,"_stopper",(0,S.default)()),(0,y.default)(this,"_driver",void 0),(0,y.default)(this,"_insertElementContainer",null),this._driver=E,this._setup(I)}return(0,_.default)(T,[{key:"destroy",value:function(){this._stopper.destroy(),this._insertElementContainer&&(this._insertElementContainer.remove(),this._insertElementContainer=null)}},{key:"_setup",value:function(E){var I=this,g=this._driver.getTagTree().getAllByTag("supportMenu"),k=g.subscribe(function(j){j.forEach(function(x){x.type==="add"?I._addSupportElement(x.value.getValue(),E):x.type==="remove"&&I._insertElementContainer&&(I._insertElementContainer.remove(),I._insertElementContainer=null)})});this._stopper.onValue(function(){return k.unsubscribe()})}},{key:"_addSupportElement",value:function(E,I){var g,k=this,j=document.createElement("div"),x=E.children.item(0).attributes,A=a(x);try{for(A.s();!(g=A.n()).done;){var w=g.value;if(w.name!=="aria-label")if(w.name!=="class")j.setAttribute(w.name,w.value);else{var C="".concat(w.value," inboxsdk__support_menuItem");j.setAttribute(w.name,C)}}}catch(B){A.e(B)}finally{A.f()}j.append(I.element);var O,V=null,R=a(E.children);try{for(R.s();!(O=R.n()).done;){var P=O.value;P.getAttribute("role")==="separator"&&(V=P)}}catch(B){R.e(B)}finally{R.f()}V?V.insertAdjacentElement("beforebegin",j):E.append(j),j.onclick=function(B){B.preventDefault(),B.stopPropagation(),I.onClick(),k._closeSupportMenu(E)},j.onkeypress=function(B){B.key==="Enter"&&(I.onClick(),k._closeSupportMenu(E))}}},{key:"_closeSupportMenu",value:function(E){if(E.getAttribute("aria-hidden")!="true"){var I=E.previousElementSibling;I&&I.click()}}}]),T}();i.default=v},{"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"kefir-stopper":326}],755:[function(e,l,i){"use strict";function a(oe){this.focus(),oe.stopImmediatePropagation()}function t(oe){var Y=this.firstElementChild.contains(oe.target),se=!Y&&this!==oe.target;if(!Y&&(oe.stopImmediatePropagation(),!se||oe.type=="mouseover")){var ie=document.createEvent("MouseEvents");ie.initMouseEvent(oe.type,oe.bubbles,oe.cancelable,oe.view,oe.detail,oe.screenX,oe.screenY,oe.clientX,oe.clientY,oe.ctrlKey,oe.altKey,oe.shiftKey,oe.metaKey,oe.button,oe.relatedTarget),this.parentElement.dispatchEvent(ie)}}function o(){setTimeout(function(){var oe=document.querySelectorAll("tr[data-inboxsdk-thread-row]");Array.prototype.forEach.call(oe,function(Y){var se=ne.get(Y);se&&u(se)})},15)}function u(oe){for(var Y=0;Y<oe.label.unclaimed.length;Y++)oe.label.unclaimed[Y].remove();oe.label.unclaimed.length=0;for(var se=0;se<oe.button.unclaimed.length;se++)oe.button.unclaimed[se].remove();oe.button.unclaimed.length=0;for(var ie=0;ie<oe.image.unclaimed.length;ie++)oe.image.unclaimed[ie].remove();oe.image.unclaimed.length=0;for(var L=0;L<oe.replacedDate.unclaimed.length;L++)oe.replacedDate.unclaimed[L].remove();oe.replacedDate.unclaimed.length=0;for(var G=0;G<oe.replacedDraftLabel.unclaimed.length;G++)oe.replacedDraftLabel.unclaimed[G].remove();oe.replacedDraftLabel.unclaimed.length=0}var n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.removeAllThreadRowUnclaimedModifications=o,i.default=void 0;var f=s(e("@babel/runtime-corejs2/regenerator")),d=s(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),m=s(e("@babel/runtime-corejs2/helpers/slicedToArray")),h=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),_=s(e("@babel/runtime-corejs2/helpers/createClass")),y=s(e("@babel/runtime-corejs2/helpers/defineProperty")),S=s(e("@babel/runtime-corejs2/core-js/weak-map")),v=s(e("@babel/runtime-corejs2/core-js/array/from")),T=s(e("@babel/runtime-corejs2/core-js/object/assign")),E=s(e("@babel/runtime-corejs2/core-js/promise")),I=s(e("lodash/once")),g=s(e("lodash/flatten")),k=s(e("lodash/includes")),j=s(e("lodash/intersection")),x=s(e("lodash/uniqBy")),A=s(e("lodash/flatMap")),w=e("ud"),C=s(e("assert")),O=s(e("kefir")),V=s(e("asap")),R=(s(e("kefir-bus")),s(e("../../../lib/dom/querySelectorOrFail"))),P=s(e("../../../lib/dom/make-mutation-observer-chunked-stream")),B=s(e("../../../lib/dom/insert-element-in-order")),z=s(e("kefir-cast")),Q=s(e("../../../lib/delay-asap")),N=s(e("kefir-stopper")),K=s(e("../widgets/gmail-dropdown-view")),U=s(e("../../../widgets/buttons/dropdown-view")),F=s(e("../widgets/gmail-label-view")),Z=s(e("../widgets/gmail-action-button-view")),$=s(e("../../../driver-common/update-icon")),ne=(0,w.defonce)(l,function(){return new S.default}),H=function(){function oe(Y,se,ie){if((0,h.default)(this,oe),(0,y.default)(this,"_elements",void 0),(0,y.default)(this,"_modifications",void 0),(0,y.default)(this,"_alreadyHadModifications",void 0),(0,y.default)(this,"_rowListViewDriver",void 0),(0,y.default)(this,"_driver",void 0),(0,y.default)(this,"_userView",void 0),(0,y.default)(this,"_cachedThreadID",void 0),(0,y.default)(this,"_cachedSyncThreadID",void 0),(0,y.default)(this,"_cachedSyncDraftIDPromise",void 0),(0,y.default)(this,"_stopper",(0,N.default)()),(0,y.default)(this,"_refresher",void 0),(0,y.default)(this,"_subjectRefresher",void 0),(0,y.default)(this,"_imageRefresher",void 0),(0,y.default)(this,"_counts",void 0),(0,y.default)(this,"_isVertical",void 0),(0,y.default)(this,"_isDestroyed",!1),(0,C.default)(Y.hasAttribute("id"),"check element is main thread row"),this._isVertical=(0,j.default)((0,v.default)(Y.classList),["zA","apv"]).length===2,this._isVertical){var L=Y.nextElementSibling;if(!L)throw new Error("threadRow2 not found");var G=L.nextElementSibling,le=G&&G.classList.contains("apw");this._elements=le?[Y,Y.nextElementSibling,Y.nextElementSibling.nextElementSibling]:[Y,Y.nextElementSibling]}else this._elements=[Y];var pe=ne.get(this._elements[0]);pe?(this._modifications=pe,this._alreadyHadModifications=!0):(this._alreadyHadModifications=!1,this._modifications={label:{unclaimed:[],claimed:[]},action:{unclaimed:[],claimed:[]},button:{unclaimed:[],claimed:[]},image:{unclaimed:[],claimed:[]},replacedDate:{unclaimed:[],claimed:[]},replacedDraftLabel:{unclaimed:[],claimed:[]}},ne.set(this._elements[0],this._modifications)),this._rowListViewDriver=se,this._driver=ie,this._userView=null,this._cachedThreadID=null,this._refresher=null,this._subjectRefresher=null,this._imageRefresher=null,this._counts=null,this._elements[0].setAttribute("data-inboxsdk-thread-row","true")}return(0,_.default)(oe,[{key:"destroy",value:function(){this._elements.length&&(this._isDestroyed=!0,this._modifications.label.unclaimed=this._modifications.label.claimed.concat(this._modifications.label.unclaimed),this._modifications.label.claimed.length=0,this._modifications.action.unclaimed=this._modifications.action.claimed.concat(this._modifications.action.unclaimed),this._modifications.action.claimed.length=0,this._modifications.button.unclaimed=this._modifications.button.claimed.concat(this._modifications.button.unclaimed),this._modifications.button.claimed.length=0,this._modifications.image.unclaimed=this._modifications.image.claimed.concat(this._modifications.image.unclaimed),this._modifications.image.claimed.length=0,this._modifications.replacedDate.unclaimed=this._modifications.replacedDate.claimed.concat(this._modifications.replacedDate.unclaimed),this._modifications.replacedDate.claimed.length=0,this._modifications.replacedDraftLabel.unclaimed=this._modifications.replacedDraftLabel.claimed.concat(this._modifications.replacedDraftLabel.unclaimed),this._modifications.replacedDraftLabel.claimed.length=0,(0,A.default)(this._elements,function(Y){return(0,v.default)(Y.getElementsByClassName("inboxsdk__thread_row_addition"))}).forEach(function(Y){Y.remove()}),this._stopper.destroy(),this._elements.length=0)}},{key:"getElement",value:function(){return this._elements[0]}},{key:"_removeUnclaimedModifications",value:function(){u(this._modifications)}},{key:"getAlreadyHadModifications",value:function(){return this._alreadyHadModifications}},{key:"waitForReady",value:function(){var Y=this,se=[0,10,100,1e3,15e3];return function ie(){if(Y._threadIdReady())return(0,V.default)(function(){Y._elements.length&&Y._removeUnclaimedModifications()}),O.default.constant(Y);var L=se.shift();return L==null?(console.log("Should not happen: ThreadRowViewDriver never became ready",Y),O.default.never()):O.default.later(L).flatMap(ie)}()}},{key:"setUserView",value:function(Y){this._userView=Y}},{key:"getCounts",value:function(){var Y=this._counts;if(!Y){var se=(0,R.default)(this._elements[0],"td div.yW");if(this._driver.isUsingSyncAPI()){var ie=se.querySelectorAll(".boq").length,L=se.querySelector(".bx0"),G=L&&L.innerHTML?+L.innerHTML:ie?0:1;Y=this._counts={messageCount:G,draftCount:ie}}else{var le=se.innerHTML.split(/<font color=[^>]+>[^>]+<\/font>/),pe=(0,m.default)(le,2),we=pe[0],ye=pe[1],W=we.replace(/<span\b[^>]*>.*?<\/span>/g,""),te=W.match(/\((\d+)\)/),ce=te?+te[1]:we?1:0,je=ye&&ye.match(/\((\d+)\)/),be=je?+je[1]:ye!=null?1:0;Y=this._counts={messageCount:ce,draftCount:be}}}return Y}},{key:"_expandColumn",value:function(Y,se){this._rowListViewDriver.expandColumn(Y,se)}},{key:"addLabel",value:function(Y){var se=this;if(!this._elements.length)return void console.warn("addLabel called on destroyed thread row");var ie=(0,z.default)(O.default,Y).takeUntilBy(this._stopper).toProperty(),L=null;ie.combine(this._getRefresher()).takeUntilBy(this._stopper).onValue(function(G){var le=(0,m.default)(G,1),pe=le[0];if(pe){if(!L){if(!(L=se._modifications.label.unclaimed.shift())){var we=new F.default({classes:["inboxsdk__thread_row_label"]}),ye=we.getElement();L={gmailLabelView:we,remove:ye.remove.bind(ye)}}se._modifications.label.claimed.push(L)}L.gmailLabelView.updateLabelDescriptor(pe);var W=se._getLabelParent();W!==L.gmailLabelView.getElement().parentElement&&W.insertAdjacentElement("afterbegin",L.gmailLabelView.getElement())}else L&&(L.remove(),se._modifications.label.claimed.splice(se._modifications.label.claimed.indexOf(L),1),L=null)})}},{key:"addImage",value:function(Y){var se=this;if(!this._elements.length)return void console.warn("addImage called on destroyed thread row");var ie=(0,z.default)(O.default,Y).toProperty().combine(O.default.merge([this._getRefresher(),this._getSubjectRefresher(),this._getImageContainerRefresher()])).takeUntilBy(this._stopper),L=null;ie.onValue(function(G){var le=(0,m.default)(G,1),pe=le[0];if(pe){L||(L=se._modifications.image.unclaimed.shift(),L||(L={iconSettings:{},iconWrapper:document.createElement("div"),remove:function(){this.iconWrapper.remove()}},L.iconWrapper.className="inboxsdk__thread_row_icon_wrapper"),se._modifications.image.claimed.push(L));var we=L,ye=we.iconSettings,W=we.iconWrapper;(0,$.default)(ye,W,!1,pe.imageClass,pe.imageUrl),(se._elements.length===3?se._elements[2]:se._elements[0]).classList.add("inboxsdk__thread_row_image_added"),pe.tooltip?W.setAttribute("data-tooltip",pe.tooltip):W.removeAttribute("data-tooltip");var te=se._getLabelParent();te.contains(W)||(0,R.default)(te,".y6").insertAdjacentElement("beforebegin",W)}else L&&(L.remove(),se._modifications.image.claimed.splice(se._modifications.image.claimed.indexOf(L),1),L=null)})}},{key:"addButton",value:function(Y){var se=this;if(!this._elements.length)return void console.warn("addButton called on destroyed thread row");if(this._elements.length==1){var ie=null,L=null,G=(0,z.default)(O.default,Y).toProperty().takeUntilBy(this._stopper);G.merge(this._stopper).onValue(function(le){le||ie&&(ie.close(),ie=null)}),this._stopper.onValue(function(){L&&L.buttonSpan&&(L.buttonSpan.onclick=null)}),G.combine(this._getRefresher()).onValue(function(le){var pe=(0,m.default)(le,1),we=pe[0],ye=we;if(ye){ye.className&&(ye.iconClass=ye.className,delete ye.className);var W,te,ce=se._elements[0].querySelector("ul[role=toolbar]");L||(L=se._modifications.button.unclaimed.shift(),L||(ce?(W=document.createElement("li"),W.classList.add("bqX")):(W=document.createElement("span"),W.classList.add("T-KT")),W.classList.add("inboxsdk__thread_row_button"),ye.title?W.setAttribute("title",ye.title):W.removeAttribute("title"),W.setAttribute("tabindex","-1"),W.setAttribute("data-order-hint",String(ye.orderHint||0)),W.addEventListener("onmousedown",a),te={},L={buttonSpan:W,iconSettings:te,remove:W.remove.bind(W)}),se._modifications.button.claimed.push(L));var je=ce?null:(0,R.default)(se._elements[0],"td.apU.xY, td.aqM.xY");W=L.buttonSpan,te=L.iconSettings,ye.onClick&&(W.onclick=function(be){var Ne={dropdown:null,threadRowView:se._userView};if(ye.hasDropdown){if(ie)return se._elements[0].classList.remove("inboxsdk__dropdown_active"),se._elements[0].classList.remove("buL"),ie.close(),void(ie=null);se._elements[0].classList.add("inboxsdk__dropdown_active"),se._elements[0].classList.add("buL"),Ne.dropdown=ie=new U.default(new K.default,W,null),ie.setPlacementOptions({position:"bottom",hAlign:"left",vAlign:"top"});var He=se._elements[0];ie.on("destroy",function(){setTimeout(function(){He.classList.remove("inboxsdk__dropdown_active"),He.classList.remove("buL"),ie=null},1)})}ye.onClick.call(null,Ne)}),(0,$.default)(te,W,!1,ye.iconClass,ye.iconUrl),ce&&W.parentElement!==ce?(0,B.default)(ce,W,void 0,!0):je&&W.parentElement!==je&&((0,B.default)(je,W),se._expandColumn("col.y5",26*je.children.length),je.onmouseover=je.onclick=t)}else L&&(L.remove(),se._modifications.button.claimed.splice(se._modifications.button.claimed.indexOf(L),1),L=null)})}}},{key:"addActionButton",value:function(Y){var se=this;if(this._elements.length===1){var ie=(0,z.default)(O.default,Y).takeUntilBy(this._stopper).toProperty(),L=null;this._stopper.onEnd(function(){L&&L.gmailActionButtonView.setOnClick(null)}),ie.takeUntilBy(this._stopper).onValue(function(G){if(G&&G.type!=="LINK")return void console.error("Only type=LINK is currently supported");if(G){if(!L){if(!(L=se._modifications.action.unclaimed.shift())){var le=new Z.default,pe=le.getElement();L={gmailActionButtonView:le,remove:pe.remove.bind(pe)}}se._modifications.action.claimed.push(L)}L.gmailActionButtonView.updateDescriptor(G);var we=G.url,ye=G.onClick;L.gmailActionButtonView.setOnClick(function(te){te.stopPropagation(),window.open(we,"_blank"),ye&&ye.call(null,{})});var W=se._elements[0].querySelector("td.a4W .a4X .aKS")||se._elements[0].querySelector("td.a4W div.xS");if(!W)throw new Error("Failed to find actionParentDiv");(0,k.default)(W.children,L.gmailActionButtonView.getElement())||W.insertBefore(L.gmailActionButtonView.getElement(),W.firstChild)}else L&&(L.remove(),se._modifications.action.claimed.splice(se._modifications.action.claimed.indexOf(L),1),L=null)})}}},{key:"addAttachmentIcon",value:function(Y){var se=this;if(!this._elements.length)return void console.warn("addAttachmentIcon called on destroyed thread row");var ie,L=(0,I.default)(function(){var pe=document.createElement("img");return pe.src="images/cleardot.gif",pe}),G=(0,I.default)(function(){return document.createElement("div")}),le=!1;(0,z.default)(O.default,Y).toProperty().combine(this._getRefresher()).takeUntilBy(this._stopper).onValue(function(pe){var we=(0,m.default)(pe,1),ye=we[0],W=(0,R.default)(se._elements[0],"td.yf.xY");if(ye){var te=ye.iconHtml!=null?G():L();ye.tooltip?te.setAttribute("data-tooltip",ye.tooltip):te.removeAttribute("data-tooltip"),te.className=ye.iconHtml!=null?"inboxsdk__thread_row_addition inboxsdk__thread_row_attachment_iconWrapper "+(ye.iconClass||""):"inboxsdk__thread_row_addition inboxsdk__thread_row_attachment_icon "+(ye.iconClass||""),ye.iconHtml!=null?(W.contains(L())&&L().remove(),te.innerHTML=ye.iconHtml):ie!=ye.iconUrl&&(W.contains(G())&&G().remove(),te.style.background=ye.iconUrl?"url("+ye.iconUrl+") no-repeat 0 0":"",ie=ye.iconUrl),W.contains(te)||(W.appendChild(te),le=!0,se._expandColumn("col.yg",16*W.children.length),se._elements.length>1&&se._fixDateColumnWidth()),W.classList.add("inboxsdk__thread_row_attachment_icons_present")}else le&&(G().remove(),L().remove(),le=!1,W.querySelector(".inboxsdk__thread_row_attachment_icon")||W.classList.remove("inboxsdk__thread_row_attachment_icons_present"))})}},{key:"_fixDateColumnWidth",value:function(){var Y=this;(0,V.default)(function(){if(Y._elements.length){var se=Y._elements[0].querySelector("td.xW, td.yf > div.apm");if(se){var ie=se.querySelector(".inboxsdk__thread_row_custom_date")||se.firstElementChild;if(ie&&ie instanceof HTMLElement){var L=Y._elements[0].querySelectorAll("td.yf > img").length;Y._expandColumn("col.xX",ie.offsetWidth+8+2+20+16*L)}}}})}},{key:"replaceDraftLabel",value:function(Y){var se=this;if(!this._elements.length)return void console.warn("replaceDraftLabel called on destroyed thread row");var ie,L,G;(0,z.default)(O.default,Y).toProperty().combine(this._getRefresher()).takeUntilBy(this._stopper).onValue(function(le){var pe=(0,m.default)(le,1),we=pe[0],ye=(0,R.default)(se._elements[0],"td > div.yW"),W=ye.parentElement;if(!W)throw new Error("Should not happen");if(we){we=(0,T.default)({count:1},we),ie||(ie=se._modifications.replacedDraftLabel.unclaimed.shift(),ie||(ie={el:(0,T.default)(document.createElement("span"),{className:"inboxsdk__thread_row_custom_draft_label"}),remove:function(){this.el.remove()}}),se._modifications.replacedDraftLabel.claimed.push(ie));var te=!(0,k.default)(W.children,ie.el);if(te||!L){ie.el.innerHTML=ye.innerHTML;var ce=(0,v.default)(ie.el.querySelectorAll(".boq"));if(ce.length>0)ce.forEach(function(be){return be.remove()}),L=(0,T.default)(document.createElement("span"),{className:"boq"}),ie.el.appendChild(L);else{if(!(L=ie.el.querySelector("font")))return;var je=L.nextElementSibling;je&&je.remove()}L.classList.add("inboxsdk__thread_row_custom_draft_part"),G=(0,T.default)(document.createElement("span"),{className:"inboxsdk__thread_row_custom_draft_count"}),ie.el.appendChild(G)}L.textContent=we.text,G.textContent=we.count!==1?" (".concat(we.count,")"):"",te&&W.insertBefore(ie.el,ye)}else ie&&(ie.remove(),se._modifications.replacedDraftLabel.claimed.splice(se._modifications.replacedDraftLabel.claimed.indexOf(ie),1),ie=null)})}},{key:"replaceDate",value:function(Y){var se=this;if(!this._elements.length)return void console.warn("replaceDate called on destroyed thread row");var ie;(0,z.default)(O.default,Y).toProperty().combine(this._getRefresher()).takeUntilBy(this._stopper).onValue(function(L){var G=(0,m.default)(L,1),le=G[0],pe=(0,R.default)(se._elements[0],"td.xW, td.yf > div.apm");pe.firstElementChild,le?(ie||(ie=se._modifications.replacedDate.unclaimed.shift(),ie||(ie={el:(0,T.default)(document.createElement("span"),{className:"inboxsdk__thread_row_custom_date"}),remove:function(){this.el.remove(),pe.classList.remove("inboxsdk__thread_row_custom_date_container")}}),se._modifications.replacedDate.claimed.push(ie)),ie.el.textContent=le.text,le.tooltip?(ie.el.setAttribute("data-tooltip",le.tooltip),ie.el.setAttribute("aria-label",le.tooltip)):(ie.el.removeAttribute("data-tooltip"),ie.el.removeAttribute("aria-label")),ie.el.style.color=le.textColor||"",(0,k.default)(pe.children,ie.el)||(pe.insertBefore(ie.el,pe.firstChild),pe.classList.add("inboxsdk__thread_row_custom_date_container")),se._fixDateColumnWidth()):ie&&(ie.remove(),se._modifications.replacedDate.claimed.splice(se._modifications.replacedDate.claimed.indexOf(ie),1),ie=null)})}},{key:"getEventStream",value:function(){return this._stopper}},{key:"getStopper",value:function(){return this._stopper}},{key:"getSubject",value:function(){return this._elements.length>1?(0,R.default)(this._elements[1],"div.xS div.xT div.y6 > span[id]").textContent:(0,R.default)(this._elements[0],"td.a4W div.xS div.xT div.y6 > span[id]").textContent}},{key:"getDateString",value:function(){return(0,R.default)(this._elements[0],"td.xW > span[title]:not(.inboxsdk__thread_row_custom_date), td.yf.apt > div.apm > span[title]:not(.inboxsdk__thread_row_custom_date)").title}},{key:"_threadIdReady",value:function(){return!!this._getThreadID()}},{key:"_getThreadID",value:function(){var Y=this;if(this._cachedThreadID)return this._cachedThreadID;if(this._driver.isUsingSyncAPI()){var se=(0,g.default)(this._elements.map(function(L){return(0,v.default)(L.querySelectorAll("[data-thread-id][data-legacy-thread-id]"))})).filter(Boolean)[0];if(se)return this._cachedSyncThreadID=se.getAttribute("data-thread-id").replace("#",""),this._cachedThreadID=se.getAttribute("data-legacy-thread-id").replace("#",""),this._cachedThreadID;var ie=this._driver.getThreadRowIdentifier().getThreadIdForThreadRow(this,this._elements);this._cachedSyncThreadID=ie,ie&&this._driver.getOldGmailThreadIdFromSyncThreadId(ie).then(function(L){Y._cachedThreadID=L})}else this._cachedThreadID=this._driver.getThreadRowIdentifier().getThreadIdForThreadRow(this,this._elements);return this._cachedThreadID}},{key:"getThreadID",value:function(){var Y=this._getThreadID();if(!Y)throw new Error("Should not happen: thread id was null");return Y}},{key:"getSyncThreadID",value:function(){return E.default.resolve(this._cachedSyncThreadID)}},{key:"getThreadIDAsync",value:function(){function Y(){return se.apply(this,arguments)}var se=(0,d.default)(f.default.mark(function ie(){return f.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",this.getThreadID());case 1:case"end":return L.stop()}},ie,this)}));return Y}()},{key:"getDraftID",value:function(){if(this._cachedSyncDraftIDPromise)return this._cachedSyncDraftIDPromise;if(this._driver.isUsingSyncAPI()){var Y=(0,g.default)(this._elements.map(function(se){return(0,v.default)(se.querySelectorAll("[data-standalone-draft-id]"))})).filter(Boolean)[0];this._cachedSyncDraftIDPromise=E.default.resolve(Y?Y.getAttribute("data-standalone-draft-id").replace("#msg-a:",""):null)}else this._cachedSyncDraftIDPromise=this._driver.getThreadRowIdentifier().getDraftIdForThreadRow(this);return this._cachedSyncDraftIDPromise}},{key:"getVisibleDraftCount",value:function(){return this.getCounts().draftCount}},{key:"getVisibleMessageCount",value:function(){return this.getCounts().messageCount}},{key:"getContacts",value:function(){var Y=this._elements[0].querySelectorAll("[email]"),se=(0,v.default)(Y).map(function(ie){return{emailAddress:ie.getAttribute("email"),name:ie.getAttribute("name")}});return(0,x.default)(se,function(ie){return ie.emailAddress})}},{key:"isSelected",value:function(){return!!this._elements[0].querySelector("div[role=checkbox][aria-checked=true]")}},{key:"_getLabelParent",value:function(){return this._elements.length>1?(0,R.default)(this._elements[this._elements.length===2?0:2],"div.apu"):(0,R.default)(this._elements[0],"td.a4W div.xS div.xT")}},{key:"_getWatchElement",value:function(){return this._elements.length===1?this._elements[0]:this._elements[0].children[2]}},{key:"_getRefresher",value:function(){var Y=this._refresher;return Y||(Y=this._refresher=(0,P.default)(this._getWatchElement(),{childList:!0}).map(function(){return null}).takeUntilBy(this._stopper).toProperty(function(){return null})),Y}},{key:"_getSubjectRefresher",value:function(){var Y=this._subjectRefresher;if(!Y)if(this._isVertical)Y=this._subjectRefresher=O.default.constant(null);else{var se=this._getWatchElement(),ie=(0,R.default)(se,".y6");Y=this._subjectRefresher=(0,P.default)(ie,{childList:!0}).map(function(){return null}).takeUntilBy(this._stopper).toProperty(function(){return null})}return Y}},{key:"_getImageContainerRefresher",value:function(){var Y=this._imageRefresher;if(!Y)if(this._isVertical){var se=this._elements.length===3?this._elements[2]:this._elements[0],ie=(0,P.default)(se,{attributes:!0,attributeFilter:["class"]});Y=this._imageRefresher=ie.bufferBy(ie.flatMapLatest(function(){return(0,Q.default)()})).filter(function(){return se.querySelectorAll(".inboxsdk__thread_row_icon_wrapper").length>0&&!se.classList.contains("inboxsdk__thread_row_image_added")}).map(function(){return null}).takeUntilBy(this._stopper).toProperty(function(){return null})}else Y=this._imageRefresher=O.default.constant(null);return Y}}]),oe}(),X=(0,w.defn)(l,H);i.default=X},{"../../../driver-common/update-icon":843,"../../../lib/delay-asap":851,"../../../lib/dom/insert-element-in-order":857,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/querySelectorOrFail":869,"../../../widgets/buttons/dropdown-view":942,"../widgets/gmail-action-button-view":770,"../widgets/gmail-dropdown-view":771,"../widgets/gmail-label-view":772,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,"@babel/runtime-corejs2/regenerator":59,asap:83,assert:85,kefir:327,"kefir-bus":324,"kefir-cast":325,"kefir-stopper":326,"lodash/flatMap":487,"lodash/flatten":488,"lodash/includes":493,"lodash/intersection":494,"lodash/once":516,"lodash/uniqBy":529,ud:625}],756:[function(e,l,i){(function(a){(function(){"use strict";var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u,n=o(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),s=o(e("@babel/runtime-corejs2/core-js/date/now")),f=o(e("@babel/runtime-corejs2/core-js/map")),d=o(e("@babel/runtime-corejs2/core-js/set")),m=o(e("@babel/runtime-corejs2/core-js/json/stringify")),h=o(e("@babel/runtime-corejs2/core-js/array/from")),_=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),y=o(e("@babel/runtime-corejs2/helpers/createClass")),S=o(e("@babel/runtime-corejs2/helpers/defineProperty")),v=o(e("lodash/findIndex")),T=o(e("asap")),E=e("ud"),I=o(e("auto-html")),g=o(e("kefir")),k=o(e("kefir-stopper")),j=o(e("kefir-bus")),x=o(e("react")),A=o(e("react-dom")),w=o(e("../../../../common/find-parent")),C=(o(e("../../../lib/delay-asap")),o(e("../../../lib/from-event-target-capture")),o(e("order-manager"))),O=o(e("../../../lib/idMap")),V=o(e("../../../lib/incrementName")),R=o(e("../../../lib/dom/querySelectorOrFail")),P=o(e("../../../lib/dom/make-mutation-observer-chunked-stream")),B=o(e("../../../lib/dom/make-element-child-stream")),z=e("../../../lib/dom/simulate-mouse-event"),Q=o(e("../../../lib/fake-window-resize")),N=o(e("../../../driver-common/sidebar/AppSidebar")),K=o(e("../../../driver-common/sidebar/ContentPanelViewDriver")),U=o(e("../gmail-element-getter")),F=o(e("./gmail-thread-sidebar-view/add-icon-area")),Z=o(e("./gmail-app-sidebar-view/primary/add-to-icon-area")),$=function(){function H(X,oe,Y,se){(0,_.default)(this,H),(0,S.default)(this,"_stopper",(0,k.default)()),(0,S.default)(this,"_driver",void 0),(0,S.default)(this,"_instanceId",void 0),this._driver=X;var ie=Y||oe;if(!ie)throw new Error("should not happen");var L=ie.getAttribute("data-sdk-sidebar-instance-id");L!=null?this._instanceId=L:this._createElement(oe,Y,se)}return(0,y.default)(H,[{key:"destroy",value:function(){this._stopper.destroy()}},{key:"getStopper",value:function(){return this._stopper}},{key:"_getShouldAppSidebarOpen",value:function(){return a.localStorage.getItem("inboxsdk__app_sidebar_should_open")!=="false"}},{key:"_setShouldAppSidebarOpen",value:function(X){try{a.localStorage.setItem("inboxsdk__app_sidebar_should_open",String(X))}catch(oe){console.error("error saving",oe)}}},{key:"_createElement",value:function(X,oe,Y){var se,ie,L,G=this;this._instanceId="".concat((0,s.default)(),"-").concat(Math.random());var le=oe||X;if(!le)throw new Error("should not happen");le.setAttribute("data-sdk-sidebar-instance-id",this._instanceId),this._stopper.onValue(function(){le.removeAttribute("data-sdk-sidebar-instance-id")});var pe=document.createElement("div");pe.className=(0,O.default)("app_sidebar_container");var we,ye=new f.default,W=!1,te=!1,ce=(0,j.default)();if(this._stopper.onEnd(function(){ce.end()}),oe){var je=U.default.getMainContentBodyContainerElement();if(je){if(!(we=je.parentElement))throw new Error("should not happen");we.classList.add("container_app_sidebar_in_use"),(0,R.default)(oe,".J-KU-Jz").insertAdjacentElement("beforebegin",pe),oe.classList.add("app_sidebar_visible"),oe.classList.add((0,O.default)("app_sidebar_in_use")),we.classList.add("container_app_sidebar_visible"),pe.textContent="x";var be=pe.getBoundingClientRect();pe.textContent="",oe.classList.remove("app_sidebar_visible"),we.classList.remove("container_app_sidebar_visible");var Ne=window.innerWidth>=1024&&window.innerHeight>=600;!a._APP_SIDEBAR_TEST&&(be.width==0||be.height==0||Ne&&Math.floor(be.right)>Math.floor(window.innerWidth))?this._driver.getLogger().error(new Error("SDK sidebar inserted into add-ons sidebar was not visible"),{rect:{top:be.top,bottom:be.bottom,left:be.left,right:be.right,width:be.width,height:be.height},window:{innerWidth:window.innerWidth,innerHeight:window.innerHeight}}):te=!0,te||(we&&we.classList.remove("container_app_sidebar_in_use"),oe.classList.remove((0,O.default)("app_sidebar_in_use")))}}var He=te?oe:null,Qe=te?oe:X;if(!Qe)throw new Error("should not happen");if(te||(Qe.insertBefore(pe,Qe.firstElementChild),Qe.classList.add((0,O.default)("app_sidebar_in_use"))),!document.body.querySelector("."+(0,O.default)("app_sidebar_waiting_platform"))){var Be=document.createElement("div");Be.className=(0,O.default)("app_sidebar_waiting_platform"),document.body.appendChild(Be)}if(He)se=function(){return pe},pe.classList.add("addon_sidebar");else{var Je=(0,w.default)(Qe,function(jt){return window.getComputedStyle(jt).overflowY!=="visible"});se=Je?function(){return Je}:void 0}var _t=new d.default,pt=new C.default({get:function(){try{return JSON.parse(a.localStorage.getItem("inboxsdk__sidebar_ordering")||"null")}catch(jt){console.error("failed to read sidebar order data",jt)}},set:function(jt){try{a.localStorage.setItem("inboxsdk__sidebar_ordering",(0,m.default)(jt))}catch(Pt){console.error("failed to set sidebar order data",Pt)}}});ce.bufferWithTimeOrCount(150,100).filter(function(jt){return jt.length>0}).takeUntilBy(this._stopper).onValue(function(){var jt=pe.getBoundingClientRect(),Pt=jt.top+pe.scrollTop,At=Pt+jt.height,Ce=(0,h.default)(pe.querySelectorAll(".".concat((0,O.default)("app_sidebar_content_panel"),".").concat((0,O.default)("expanded")," .").concat((0,O.default)("app_sidebar_content_panel_top_line")))),Oe=Ce.find(function(Vt){var dn=Vt.getBoundingClientRect();return dn.bottom>Pt&&dn.bottom<At});if(Oe){var at=(Oe.getAttribute("data-instance-id"),Oe.getAttribute("data-app-name"));if(!at)return;var bt=ye.get(at);if(!bt||!ie)return;var Gt=ie.querySelector(".sidebar_button_container_active");Gt&&Gt.classList.remove("sidebar_button_container_active"),bt.classList.add("sidebar_button_container_active")}});var Et=function(jt){jt&&(L=jt)},It=function jt(){A.default.render(x.default.createElement(N.default,{ref:Et,panels:pt.getOrderedItems().map(function(Pt){return Pt.value}),onMoveEnd:function(Pt,At,Ce,Oe){pt.moveItem(Ce,Oe),jt()},onExpandedToggle:function(){ce.emit(null)},container:se}),pe,function(){ce.emit(null)})};if(It(),g.default.fromEvents(window,"storage").filter(function(jt){return jt.key==="inboxsdk__sidebar_ordering"}).takeUntilBy(this._stopper).onValue(function(){pt.reload(),It()}),this._stopper.onValue(function(){A.default.unmountComponentAtNode(pe),pe.remove(),Qe.classList.remove((0,O.default)("app_sidebar_in_use")),Qe.classList.remove("app_sidebar_visible"),ie&&ie.remove();var jt=U.default.getMainContentBodyContainerElement();jt&&(we=jt.parentElement)&&(we.classList.remove("container_app_sidebar_in_use"),we.classList.remove("container_app_sidebar_visible"))}),g.default.fromEvents(document.body,"inboxsdkNewSidebarPanel").filter(function(jt){return jt.detail.sidebarId===G._instanceId}).takeUntilBy(this._stopper).onValue(function(jt){for(var Pt=jt.detail.id;_t.has(Pt);)Pt=(0,V.default)(Pt);_t.add(Pt);var At=jt.detail.appName;pt.addItem({groupId:jt.detail.appId,id:Pt,orderHint:jt.detail.orderHint,value:{id:Pt,appName:At,appId:jt.detail.appId,instanceId:jt.detail.instanceId,title:jt.detail.title,iconClass:jt.detail.iconClass,iconUrl:jt.detail.iconUrl,hideTitleBar:jt.detail.hideTitleBar,el:jt.target}}),It(),He&&(ie=He.querySelector("."+(0,O.default)("sidebar_iconArea")),ie||(ie=document.createElement("div"),ie.className=(0,O.default)("sidebar_iconArea"),(0,F.default)(ie,He,G._stopper)),(0,T.default)(function(){if(!ie)throw new Error("should not happen");var Ce,Oe=jt.detail.instanceId,at=jt.detail.appIconUrl,bt=ye.get(At);if(bt){var Gt=Number(bt.getAttribute("data-count"))||1;bt.setAttribute("data-count",String(Gt+1)),Ce=bt}else if(Ce=document.createElement("div"),Ce.className=(0,O.default)("sidebar_button_container"),Ce.setAttribute("data-app-name",At),Ce.setAttribute("data-count",String(1)),Ce.innerHTML=(0,I.default)(u||(u=(0,n.default)([`
              <button class="inboxsdk__button_icon" type="button" data-tooltip="`,`">
                <img class="inboxsdk__button_iconImg" src="`,`">
              </button>
              <div class="inboxsdk__button_selectedIndicator"></div>
            `])),At,at),jt.detail.primaryColor&&((0,R.default)(Ce,".inboxsdk__button_selectedIndicator").style.backgroundColor=jt.detail.primaryColor),ye.set(At,Ce),(0,R.default)(Ce,"button").addEventListener("click",function(dn){dn.stopPropagation();var Cn=ie?ie.querySelector(".sidebar_button_container_active"):null;if(Cn&&Cn.classList.remove("sidebar_button_container_active"),Cn===Ce)He&&He.classList.remove("app_sidebar_visible"),we&&we.classList.remove("container_app_sidebar_visible"),G._setShouldAppSidebarOpen(!1);else{if(He&&He.classList.add("app_sidebar_visible"),Ce.classList.add("sidebar_button_container_active"),we&&we.classList.add("container_app_sidebar_visible"),G._setShouldAppSidebarOpen(!0),He){var Tt=He.querySelector(".J-KU-KO");Tt&&(0,z.simulateClick)(Tt),(0,Q.default)();var In=He.firstElementChild;if(!In)return;var $e=In.firstElementChild,St=$e;if(!St)return;St.style.display!=="none"&&(W=!0,(0,P.default)(St,{attributes:!0,attributeFilter:["style"]}).toProperty(function(){return null}).map(function(){return St.style.display==="none"}).filter(Boolean).take(1).delay(150).takeUntilBy(G._stopper).onValue(function(){W=!1}))}L.openPanel(Oe),L.scrollPanelIntoView(Oe,!0)}},!0),ie&&(0,Z.default)(pt,At,Ce,ie),Y&&Y.fixWidths(),G._getShouldAppSidebarOpen()){var Vt=ie.querySelector(".sidebar_button_container_active");Vt||(Ce.classList.add("sidebar_button_container_active"),He&&He.classList.add("app_sidebar_visible"),we&&we.classList.add("container_app_sidebar_visible"),(0,Q.default)())}}))}),g.default.fromEvents(document.body,"inboxsdkUpdateSidebarPanel").filter(function(jt){return jt.detail.sidebarId===G._instanceId}).takeUntilBy(this._stopper).onValue(function(jt){var Pt=pt.getOrderedItems(),At=(0,v.default)(Pt,function(Ce){return Ce.value.instanceId===jt.detail.instanceId});if(At===-1)throw new Error("should not happen: failed to find orderItem");pt.updateItemValueByIndex(At,{id:Pt[At].value.id,appId:jt.detail.appId,appName:jt.detail.appName||jt.detail.title,instanceId:jt.detail.instanceId,title:jt.detail.title,iconClass:jt.detail.iconClass,iconUrl:jt.detail.iconUrl,hideTitleBar:jt.detail.hideTitleBar,el:jt.target}),It()}),g.default.fromEvents(document.body,"inboxsdkRemoveSidebarPanel").filter(function(jt){return jt.detail.sidebarId===G._instanceId}).takeUntilBy(this._stopper).onValue(function(jt){var Pt=pt.getOrderedItems(),At=(0,v.default)(Pt,function(Gt){return Gt.value.instanceId===jt.detail.instanceId});if(At===-1)throw new Error("should not happen: failed to find orderItem");if(_t.delete(Pt[At].id),pt.removeItemByIndex(At),pt.getOrderedItems().length===0?G.destroy():It(),He&&(ie=He.querySelector("."+(0,O.default)("sidebar_iconArea")))){Y&&Y.fixWidths();var Ce=jt.detail.appName,Oe=ye.get(Ce);if(Oe){var at=Number(Oe.getAttribute("data-count"));if(at<=1){var bt=pe.querySelector(".sidebar_button_container_active");Oe.remove(),ye.delete(Ce),Oe===bt&&(He&&(He.classList.remove("app_sidebar_visible"),we&&we.classList.remove("container_app_sidebar_visible")),G._setShouldAppSidebarOpen(!1))}else at===2?Oe.removeAttribute("data-count"):Oe.setAttribute("data-count",String(at-1))}}}),g.default.fromEvents(document.body,"inboxsdkSidebarPanelScrollIntoView").takeUntilBy(this._stopper).onValue(function(jt){L.scrollPanelIntoView(jt.detail.instanceId)}),g.default.fromEvents(document.body,"inboxsdkSidebarPanelClose").takeUntilBy(this._stopper).onValue(function(jt){L.closePanel(jt.detail.instanceId)}),He){var Qt=(0,R.default)(He,".J-KU-Jz");(0,B.default)(Qt).flatMap(function(jt){var Pt=jt.el;return jt.removalStream,(0,P.default)(Pt,{attributes:!0,attributeFilter:["style"]}).toProperty(function(){return null}).map(function(){return Pt.style.display!=="none"})}).takeUntilBy(this._stopper).onValue(function(jt){if(jt){if(we&&we.classList.add("container_addon_sidebar_visible"),W){var Pt=He.querySelector(".J-KU-KO");return void(Pt&&(0,z.simulateClick)(Pt))}G._setShouldAppSidebarOpen(!1);var At=ie?ie.querySelector(".sidebar_button_container_active"):null;At&&(He.classList.remove("app_sidebar_visible"),At.classList.remove("sidebar_button_container_active"),we&&we.classList.remove("container_app_sidebar_visible"))}else we&&we.classList.remove("container_addon_sidebar_visible")})}He&&g.default.fromEvents(pe,"scroll").takeUntilBy(this._stopper).onValue(function(){ce.emit(null)})}},{key:"addSidebarContentPanel",value:function(X){var oe=new K.default(this._driver,X,this._instanceId);return this._stopper.takeUntilBy(oe.getStopper()).onValue(function(){oe.remove()}),oe}}]),H}(),ne=(0,E.defn)(l,$);i.default=ne}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../../common/find-parent":640,"../../../driver-common/sidebar/AppSidebar":841,"../../../driver-common/sidebar/ContentPanelViewDriver":842,"../../../lib/delay-asap":851,"../../../lib/dom/make-element-child-stream":860,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/dom/simulate-mouse-event":875,"../../../lib/fake-window-resize":878,"../../../lib/from-event-target-capture":879,"../../../lib/idMap":883,"../../../lib/incrementName":885,"../gmail-element-getter":696,"./gmail-app-sidebar-view/primary/add-to-icon-area":709,"./gmail-thread-sidebar-view/add-icon-area":757,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,asap:83,"auto-html":89,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/findIndex":485,"order-manager":537,react:606,"react-dom":584,ud:625}],757:[function(e,l,i){"use strict";function a(h,_,y){var S=_.firstElementChild;if(S){var v=S.firstElementChild,T=v;if(T){var E=_.querySelector(d);if(E){var I=(0,f.default)(T,{attributes:!0,attributeFilter:["style"]}).toProperty(function(){return null}).map(function(){return T.style.display!=="none"}).takeUntilBy(y),g=(0,f.default)(E,{attributes:!0,attributeFilter:["role"]}).toProperty(function(){return null}).filter(function(){return E.getAttribute("role")==="tablist"}).takeUntilBy(y);E.insertAdjacentElement("beforebegin",h),s.default.combine([I.filter(function(k){return!k}),g]).onValue(function(){E.insertAdjacentElement("afterbegin",h),t(h,E,s.default.merge([I.filter(Boolean),y]))}),I.filter(Boolean).onValue(function(){var k=document.createElement("div");k.innerHTML=T.innerHTML,k.classList.add("inboxsdk__addon_icon_loading"),E.insertAdjacentElement("beforebegin",h),h.insertAdjacentElement("afterend",k),s.default.merge([I.filter(function(j){return!j}),y]).take(1).onValue(function(){k.remove()})})}}}}function t(h,_,y){(0,f.default)(_,{childList:!0}).filter(function(){return h.parentElement!==_}).takeUntilBy(y).onValue(function(){_.insertAdjacentElement("afterbegin",h)})}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=e("ud"),s=u(e("kefir")),f=(u(e("kefir-stopper")),u(e("../../../../lib/dom/make-mutation-observer-chunked-stream"))),d=(u(e("../../../../lib/dom/querySelectorOrFail")),"[role=tablist],.J-KU-Jg"),m=(0,n.defn)(l,a);i.default=m},{"../../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../../lib/dom/querySelectorOrFail":869,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-stopper":326,ud:625}],758:[function(e,l,i){"use strict";function a(X,oe){var Y=n!==void 0&&X[s]||X["@@iterator"];if(!Y){if(f(X)||(Y=t(X))||oe&&X&&typeof X.length=="number"){Y&&(X=Y);var se=0,ie=function(){};return{s:ie,n:function(){return se>=X.length?{done:!0}:{done:!1,value:X[se++]}},e:function(pe){throw pe},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L,G=!0,le=!1;return{s:function(){Y=Y.call(X)},n:function(){var pe=Y.next();return G=pe.done,pe},e:function(pe){le=!0,L=pe},f:function(){try{G||Y.return==null||Y.return()}finally{if(le)throw L}}}}function t(X,oe){if(X){if(typeof X=="string")return o(X,oe);var Y=Object.prototype.toString.call(X).slice(8,-1);return Y==="Object"&&X.constructor&&(Y=X.constructor.name),Y==="Map"||Y==="Set"?u(X):Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y)?o(X,oe):void 0}}function o(X,oe){(oe==null||oe>X.length)&&(oe=X.length);for(var Y=0,se=new Array(oe);Y<oe;Y++)se[Y]=X[Y];return se}var u=e("@babel/runtime-corejs2/core-js/array/from"),n=e("@babel/runtime-corejs2/core-js/symbol"),s=e("@babel/runtime-corejs2/core-js/symbol/iterator"),f=e("@babel/runtime-corejs2/core-js/array/is-array"),d=e("@babel/runtime-corejs2/core-js/object/define-property"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");d(i,"__esModule",{value:!0}),i.default=void 0;var h=m(e("@babel/runtime-corejs2/regenerator")),_=m(e("@babel/runtime-corejs2/core-js/set")),y=m(e("@babel/runtime-corejs2/core-js/object/entries")),S=m(e("@babel/runtime-corejs2/core-js/number/min-safe-integer")),v=m(e("@babel/runtime-corejs2/core-js/promise")),T=m(e("@babel/runtime-corejs2/core-js/array/from")),E=m(e("@babel/runtime-corejs2/helpers/toConsumableArray")),I=m(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),g=m(e("@babel/runtime-corejs2/helpers/slicedToArray")),k=m(e("@babel/runtime-corejs2/helpers/classCallCheck")),j=m(e("@babel/runtime-corejs2/helpers/createClass")),x=m(e("@babel/runtime-corejs2/helpers/defineProperty")),A=(m(e("lodash/constant")),m(e("asap")),m(e("pdelay"))),w=e("ud"),C=(m(e("util")),m(e("kefir"))),O=(e("querystring"),m(e("kefir-bus"))),V=m(e("kefir-stopper")),R=m(e("../../../../common/find-parent")),P=m(e("../../../lib/dom/make-mutation-observer-chunked-stream")),B=m(e("../../../lib/dom/querySelectorOrFail")),z=m(e("../../../lib/idMap")),Q=m(e("../../../views/SimpleElementView")),N=m(e("../../../views/conversations/custom-message-view")),K=(m(e("../../../lib/delay-asap")),m(e("../gmail-element-getter"))),U=m(e("./gmail-message-view")),F=m(e("./gmail-toolbar-view")),Z=(m(e("./gmail-thread-sidebar-view")),m(e("./gmail-thread-view/width-manager"))),$=!1,ne=function(){function X(oe,Y,se){var ie=this,L=arguments.length>3&&arguments[3]!==void 0&&arguments[3];(0,k.default)(this,X),(0,x.default)(this,"_element",void 0),(0,x.default)(this,"_routeViewDriver",void 0),(0,x.default)(this,"_driver",void 0),(0,x.default)(this,"_isPreviewedThread",void 0),(0,x.default)(this,"_eventStream",void 0),(0,x.default)(this,"_stopper",(0,V.default)()),(0,x.default)(this,"_threadSidebar",null),(0,x.default)(this,"_widthManager",null),(0,x.default)(this,"_toolbarView",void 0),(0,x.default)(this,"_messageViewDrivers",void 0),(0,x.default)(this,"_newMessageMutationObserver",void 0),(0,x.default)(this,"_readyStream",void 0),(0,x.default)(this,"_threadID",void 0),(0,x.default)(this,"_syncThreadID",void 0),(0,x.default)(this,"_customMessageViews",new _.default),(0,x.default)(this,"_hiddenCustomMessageViews",new _.default),(0,x.default)(this,"_hiddenCustomMessageNoticeProvider",void 0),(0,x.default)(this,"_hiddenCustomMessageNoticeElement",void 0),(0,x.default)(this,"_resolveUnmountHiddenNoticePromise",void 0),(0,x.default)(this,"_subjectContainerSelectors",{"2022_10_21":".a98.iY > .nH","2022_10_12":".PeIF1d > .nH",2018:".if > .nH"}),this._element=oe,this._routeViewDriver=Y,this._driver=se,this._isPreviewedThread=L,this._eventStream=(0,O.default)(),this._messageViewDrivers=[],this._logAddonElementInfo().catch(function(pe){return ie._driver.getLogger().error(pe)});var G,le=this._driver.waitForGlobalSidebarReady().merge(this._driver.delayToTimeAfterReady(15e3).flatMap(function(){return C.default.constantError(new Error("15 second timeout while waiting for sidebar fired"))})).take(1).takeErrors(1).flatMapErrors(function(pe){return ie._driver.getLogger().error(pe),C.default.constant(null)}).toProperty();G=se.getOpts().REQUESTED_API_VERSION===1&&se.isUsingSyncAPI()?C.default.combine([le,C.default.fromPromise(this.getThreadIDAsync())]):le,this._readyStream=G.map(function(){return ie._setupToolbarView(),ie._setupMessageViewStream(),null}).takeUntilBy(this._stopper).toProperty(),this._listenToExpandCollapseAll(),this._stopper.take(1).onValue(function(){ie._resolveUnmountHiddenNoticePromise&&ie._resolveUnmountHiddenNoticePromise()})}return(0,j.default)(X,[{key:"getMessageViewDriverStream",value:function(){return C.default.constant(this._messageViewDrivers).flatten().merge(this._eventStream.filter(function(oe){return oe.type==="internal"&&oe.eventName==="messageCreated"}).map(function(oe){return oe.view}))}},{key:"isLoadingStub",value:function(){return!1}},{key:"getStopper",value:function(){return this._stopper}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getElement",value:function(){return this._element}},{key:"getRouteViewDriver",value:function(){return this._routeViewDriver}},{key:"getIsPreviewedThread",value:function(){return this._isPreviewedThread}},{key:"getToolbarView",value:function(){return this._toolbarView}},{key:"getMessageViewDrivers",value:function(){return this._messageViewDrivers}},{key:"destroy",value:function(){this._eventStream.end(),this._stopper.destroy(),this._toolbarView&&this._toolbarView.destroy(),this._threadSidebar&&this._threadSidebar.destroy(),this._messageViewDrivers.forEach(function(se){se.destroy()}),this._messageViewDrivers.length=0,this._newMessageMutationObserver&&this._newMessageMutationObserver.disconnect();var oe,Y=a(this._customMessageViews);try{for(Y.s();!(oe=Y.n()).done;)oe.value.destroy()}catch(se){Y.e(se)}finally{Y.f()}}},{key:"addSidebarContentPanel",value:function(oe){return this._driver.getGlobalSidebar().addThreadSidebarContentPanel(oe,this)}},{key:"addNoticeBar",value:function(){var oe=document.createElement("div");oe.className=(0,z.default)("thread_noticeBar");for(var Y,se,ie=0,L=(0,y.default)(this._subjectContainerSelectors);ie<L.length;ie++){var G=(0,g.default)(L[ie],2),le=G[0],pe=G[1],we=this._element.querySelector(pe);if(we){Y=le,se=we;break}}if(!se)throw new Error("Failed to find subject container");this._driver.getLogger().eventSdkPassive("addNoticeBar subjectContainer",{version:Y}),se.insertAdjacentElement("afterend",oe);var ye=new Q.default(oe);return this._stopper.takeUntilBy(C.default.fromEvents(ye,"destroy")).onValue(function(){return ye.destroy()}),ye}},{key:"registerHiddenCustomMessageNoticeProvider",value:function(oe){this._hiddenCustomMessageNoticeProvider=oe}},{key:"addCustomMessage",value:function(oe){var Y=this,se=this._element.parentElement;if(!se)throw new Error("missing parent element");var ie=new N.default(oe,function(){Y._readyStream.onValue((0,I.default)(h.default.mark(function L(){var G,le,pe,we,ye,W,te,ce,je;return h.default.wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(G=Y._element.querySelector("[role=list]")){be.next=3;break}return be.abrupt("return");case 3:return le=S.default,we=!1,be.t0=[],be.t1=E.default,be.next=9,v.default.all(Y._messageViewDrivers.map(function(){var Ne=(0,I.default)(h.default.mark(function He(Qe){return h.default.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.next=2,Qe.getDate();case 2:if(Be.t0=Be.sent,Be.t0){Be.next=5;break}Be.t0=0;case 5:return Be.t1=Be.t0,Be.t2=Qe.getViewState()==="HIDDEN",Be.t3=Qe.getElement(),Be.abrupt("return",{sortDatetime:Be.t1,isHidden:Be.t2,element:Be.t3});case 9:case"end":return Be.stop()}},He)}));return function(He){return Ne.apply(this,arguments)}}()));case 9:if(be.t2=be.sent,be.t3=(0,be.t1)(be.t2),be.t4=(0,E.default)((0,T.default)(Y._customMessageViews).filter(function(Ne){return Ne!==ie&&Ne.getElement().parentElement}).map(function(Ne){var He=Ne.getSortDate();return{sortDatetime:(He?He.getTime():null)||0,isHidden:Ne.getElement().classList.contains("inboxsdk__custom_message_view_hidden"),element:Ne.getElement()}})),ye=be.t0.concat.call(be.t0,be.t3,be.t4).sort(function(Ne,He){return Ne.sortDatetime-He.sortDatetime}),W=ie.getSortDate()){be.next=16;break}return be.abrupt("return");case 16:te=a(ye),be.prev=17,te.s();case 19:if((ce=te.n()).done){be.next=28;break}if(je=ce.value,we=je.isHidden,!(W.getTime()>=le&&W.getTime()<=je.sortDatetime)){be.next=25;break}return pe=je.element,be.abrupt("break",28);case 25:le=je.sortDatetime;case 26:be.next=19;break;case 28:be.next=33;break;case 30:be.prev=30,be.t5=be.catch(17),te.e(be.t5);case 33:return be.prev=33,te.f(),be.finish(33);case 36:pe?pe.insertAdjacentElement("beforebegin",ie.getElement()):G.insertAdjacentElement("beforeend",ie.getElement()),we&&Y._setupHiddenCustomMessage(ie),se.classList.add("inboxsdk__thread_view_with_custom_view");case 39:case"end":return be.stop()}},L,null,[[17,30,33,36]])})))});return this._customMessageViews.add(ie),ie.on("destroy",function(){Y._customMessageViews.delete(ie),Y._customMessageViews.size>0?se.classList.add("inboxsdk__thread_view_with_custom_view"):se.classList.remove("inboxsdk__thread_view_with_custom_view")}),ie}},{key:"_setupHiddenCustomMessage",value:function(oe){var Y=this;this._hiddenCustomMessageViews.add(oe),oe.getElement().classList.add("inboxsdk__custom_message_view_hidden");var se=this._element.querySelector(".adv"),ie=!0;if(!se){ie=!1;var L=(0,T.default)(this._element.querySelectorAll(".kQ"));if(L.length<2)return;se=L[1]}(0,P.default)(se,{attributes:!0,attributeFilter:["class"]}).takeUntilBy(C.default.merge([this._stopper,C.default.fromEvents(oe,"destroy")])).filter(function(){return se&&!se.classList.contains("kQ")}).onValue(function(){oe.getElement().classList.remove("inboxsdk__custom_message_view_hidden"),Y._hiddenCustomMessageNoticeElement&&Y._hiddenCustomMessageNoticeElement.remove(),Y._hiddenCustomMessageNoticeElement=null}),this._updateHiddenNotice(se,ie),C.default.fromEvents(oe,"destroy").takeUntilBy(this._stopper).take(1).onValue(function(){Y._hiddenCustomMessageViews.delete(oe),se&&Y._updateHiddenNotice(se,ie)})}},{key:"_updateHiddenNotice",value:function(oe,Y){var se=this,ie=this._hiddenCustomMessageNoticeElement;ie&&(ie.remove(),this._hiddenCustomMessageNoticeElement=null,this._resolveUnmountHiddenNoticePromise&&this._resolveUnmountHiddenNoticePromise());var L=this._hiddenCustomMessageNoticeProvider;if(L){var G=this._hiddenCustomMessageNoticeElement=document.createElement("span");G.classList.add("inboxsdk__custom_message_view_app_notice_content");var le=this._hiddenCustomMessageViews.size,pe=null;if(Y){var we=(0,B.default)(oe,".adx span");if(pe=Number(we.innerHTML),isNaN(pe))throw new Error("Couldn't find number of native hidden messages in dom structure")}var ye=L(le,pe,new v.default(function(ce){se._resolveUnmountHiddenNoticePromise=ce}));if(ye){if(G.appendChild(ye),!Y){var W=document.createElement("span");W.classList.add("adx"),(0,B.default)(oe,".G3").appendChild(W)}var te=(0,B.default)(oe,".adx");te.classList.add("inboxsdk__custom_message_view_app_notice_container"),te.appendChild(G)}}}},{key:"getSubject",value:function(){var oe=this._element.querySelector(".ha h2");return oe?oe.querySelector("img[data-emoji]")?(0,T.default)(oe.childNodes).map(function(Y){if(Y instanceof HTMLElement&&Y.nodeName==="IMG")return Y.getAttribute("data-emoji");if(Y.nodeName==="#text")return Y.wholeText}).filter(function(Y){return Y!=null}).join(""):oe.textContent:""}},{key:"getInternalID",value:function(){return this._syncThreadID||this.getThreadID()}},{key:"getThreadID",value:function(){if(this._threadID)return this._threadID;var oe;if(this._driver.isUsingSyncAPI()){var Y=this._element.querySelector("[data-thread-perm-id]");if(!Y)throw new Error("threadID element not found");if(!(this._syncThreadID=Y.getAttribute("data-thread-perm-id")))throw new Error("syncThreadID attribute with no value");if(!(oe=Y.getAttribute("data-legacy-thread-id"))){var se=new Error("Failed to get id for thread: data-legacy-thread-id attribute missing");this._driver.getLogger().error(se)}}if(!oe)if(this._isPreviewedThread)oe=this._driver.getPageCommunicator().getCurrentThreadID(this._element,!0);else{var ie=this._routeViewDriver?this._routeViewDriver.getParams():null;if(!ie||!ie.threadID){var L=new Error("Failed to get id for thread");throw this._driver.getLogger().error(L),L}oe=ie.threadID}return this._threadID=oe,oe}},{key:"getThreadIDAsync",value:function(){function oe(){return Y.apply(this,arguments)}var Y=(0,I.default)(h.default.mark(function se(){var ie,L,G,le,pe;return h.default.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(!this._driver.isUsingSyncAPI()){we.next=14;break}if(L=this._element.querySelector("[data-thread-perm-id]")){we.next=4;break}throw new Error("threadID element not found");case 4:if(G=this._syncThreadID=L.getAttribute("data-thread-perm-id")){we.next=7;break}throw new Error("syncThreadID attribute with no value");case 7:if(this._threadID=ie=L.getAttribute("data-legacy-thread-id"),ie){we.next=12;break}return we.next=11,this._driver.getOldGmailThreadIdFromSyncThreadId(G);case 11:this._threadID=ie=we.sent;case 12:we.next=27;break;case 14:if(!this._isPreviewedThread){we.next=18;break}ie=this._driver.getPageCommunicator().getCurrentThreadID(this._element,!0),we.next=26;break;case 18:if(!(le=this._routeViewDriver?this._routeViewDriver.getParams():null)||!le.threadID){we.next=23;break}ie=le.threadID,we.next=26;break;case 23:throw pe=new Error("Failed to get id for thread"),this._driver.getLogger().error(pe),pe;case 26:this._threadID=ie;case 27:if(!this._threadID){we.next=31;break}return we.abrupt("return",this._threadID);case 31:throw new Error("Failed to get id for thread");case 32:case"end":return we.stop()}},se,this)}));return oe}()},{key:"addLabel",value:function(){var oe=this._element.querySelector(".ha .J-J5-Ji");if(!oe)throw new Error("Thread view label container not found");var Y=document.createElement("span");oe.appendChild(Y);var se=new Q.default(Y),ie=new MutationObserver(function(L){L.some(function(G){return G.type==="childList"&&G.removedNodes&&G.removedNodes.length&&G.removedNodes.length>0})&&(oe.contains(Y)||oe.appendChild(Y))});return ie.observe(oe,{childList:!0}),this._stopper.takeUntilBy(C.default.fromEvents(se,"destroy")).onValue(function(){return se.destroy()}),C.default.fromEvents(se,"destroy").take(1).onValue(function(){ie.disconnect()}),se}},{key:"_setupToolbarView",value:function(){var oe=this._findToolbarElement();if(!oe)throw new Error("No toolbar element found");var Y=oe.parentElement;Y&&Y.classList.add("inboxsdk__thread_toolbar_parent"),this._toolbarView=new F.default(oe,this._driver,this._routeViewDriver,this)}},{key:"_findToolbarElement",value:function(){for(var oe=document.querySelectorAll("[gh=tm]"),Y=0;Y<oe.length;Y++)if(this._isToolbarContainerRelevant(oe[Y]))return oe[Y].querySelector("[gh=mtb]");return null}},{key:"_isToolbarContainerRelevant",value:function(oe){if(oe.parentElement.parentElement===this._element.parentElement.parentElement||oe.parentElement.getAttribute("role")!=="main"&&this._element.parentElement.getAttribute("role")!=="main")return!0;if(oe.parentElement.getAttribute("role")==="main"&&oe.parentElement.querySelector(".if, .PeIF1d, .a98.iY")&&oe.parentElement.querySelector(".if, .PeIF1d, .a98.iY").parentElement===this._element){var Y="2018";return oe.parentElement.querySelector(".a98.iY")?Y="2022-10-20":oe.parentElement.querySelector(".PeIF1d")&&(Y="2022-10-12"),this._driver.getLogger().eventSdkPassive("gmailThreadView_isToolbarContainerRelevant",{version:Y}),!0}return!1}},{key:"_setupMessageViewStream",value:function(){var oe=this._element.querySelector(".h7");if(!oe){var Y=this;return void setTimeout(function(){Y._element&&Y._setupMessageViewStream()},500)}var se=oe.parentElement;this._initializeExistingMessages(se),this._observeNewMessages(se)}},{key:"_initializeExistingMessages",value:function(oe){var Y=this,se=oe.children;Array.prototype.forEach.call(se,function(ie){Y._createMessageView(ie)})}},{key:"_observeNewMessages",value:function(oe){this._newMessageMutationObserver=new MutationObserver(this._handleNewMessageMutations.bind(this)),this._newMessageMutationObserver.observe(oe,{childList:!0})}},{key:"_handleNewMessageMutations",value:function(oe){var Y=this;oe.forEach(function(se){Array.prototype.forEach.call(se.addedNodes,function(ie){ie.classList.contains("inboxsdk__custom_message_view")||Y._createMessageView(ie)})})}},{key:"_createMessageView",value:function(oe){var Y=new U.default(oe,this,this._driver);this._eventStream.plug(Y.getEventStream()),this._messageViewDrivers.push(Y),this._eventStream.emit({type:"internal",eventName:"messageCreated",view:Y})}},{key:"_setupWidthManager",value:function(){var oe=this._widthManager;if(!oe){var Y=K.default.getAddonSidebarContainerElement();if(!Y)throw new Error("addonSidebarElement not found");var se=K.default.getMainContentBodyContainerElement();if(!se)throw new Error("mainContentBodyContainerElement not found");var ie=se.parentElement;if(!ie)throw new Error("mainContentBodyContainerElement has no parent element");this._widthManager=oe=new Z.default(ie,Y)}return oe}},{key:"getReadyStream",value:function(){return this._readyStream}},{key:"_logAddonElementInfo",value:function(){function oe(){return Y.apply(this,arguments)}var Y=(0,I.default)(h.default.mark(function se(){var ie,L,G=this;return h.default.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(ie=function(){var pe=K.default.getAddonSidebarContainerElement();if(!pe)return null;var we={parent:pe.parentElement?pe.parentElement.style.display==="none":null,self:pe.style.display==="none",children:(0,T.default)(pe.children).map(function(W){return W.style?W.style.display==="none":null})},ye=pe.getBoundingClientRect();return{isDisplayNone:we,size:{width:ye.width,height:ye.height}}},!$){le.next=3;break}return le.abrupt("return");case 3:return L={time:{}},L.time[0]=ie(),le.next=7,v.default.all([30,5e3].map(function(){var pe=(0,I.default)(h.default.mark(function we(ye){return h.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,A.default)(ye);case 2:if(!G._stopper.stopped){W.next=4;break}return W.abrupt("return");case 4:L.time[ye]=ie();case 5:case"end":return W.stop()}},we)}));return function(we){return pe.apply(this,arguments)}}()));case 7:if(!this._stopper.stopped){le.next=9;break}return le.abrupt("return");case 9:this._driver.getLogger().eventSdkPassive("gmailSidebarElementInfo",L),$=!0;case 11:case"end":return le.stop()}},se,this)}));return oe}()},{key:"_listenToExpandCollapseAll",value:function(){var oe=this,Y=this._element.querySelector("img.gx");if(Y){var se=(0,R.default)(Y,function(G){return G.getAttribute("role")==="button"});se&&C.default.merge([C.default.fromEvents(se,"click"),C.default.fromEvents(se,"keydown").filter(function(G){return G.which===13})]).takeUntilBy(this._stopper).onValue(function(){var G,le=a(oe._customMessageViews);try{for(le.s();!(G=le.n()).done;)G.value.expand()}catch(pe){le.e(pe)}finally{le.f()}})}var ie=this._element.querySelector("img.gq");if(ie){var L=(0,R.default)(ie,function(G){return G.getAttribute("role")==="button"});L&&C.default.merge([C.default.fromEvents(L,"click"),C.default.fromEvents(L,"keydown").filter(function(G){return G.which===13})]).takeUntilBy(this._stopper).onValue(function(){var G,le=a(oe._customMessageViews);try{for(le.s();!(G=le.n()).done;)G.value.collapse()}catch(pe){le.e(pe)}finally{le.f()}})}}}]),X}(),H=(0,w.defn)(l,ne);i.default=H},{"../../../../common/find-parent":640,"../../../lib/delay-asap":851,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/idMap":883,"../../../views/SimpleElementView":921,"../../../views/conversations/custom-message-view":928,"../gmail-element-getter":696,"./gmail-message-view":747,"./gmail-thread-sidebar-view":756,"./gmail-thread-view/width-manager":759,"./gmail-toolbar-view":760,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/number/min-safe-integer":7,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/entries":12,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,"@babel/runtime-corejs2/helpers/toConsumableArray":56,"@babel/runtime-corejs2/regenerator":59,asap:83,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/constant":477,pdelay:545,querystring:579,ud:625,util:629}],759:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/toConsumableArray")),u=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(e("@babel/runtime-corejs2/helpers/createClass")),s=t(e("@babel/runtime-corejs2/helpers/defineProperty")),f=t(e("../../../../lib/idMap")),d=function(){function m(h,_){(0,u.default)(this,m),(0,s.default)(this,"_contentContainerEl",void 0),(0,s.default)(this,"_addonSidebarContainerEl",void 0),this._contentContainerEl=h,this._addonSidebarContainerEl=_}return(0,n.default)(m,[{key:"fixWidths",value:function(){var h=this._addonSidebarContainerEl.querySelector("[role=tablist]");if(h){if(this._addonSidebarContainerEl.classList.contains((0,f.default)("app_sidebar_in_use")))return void this._contentContainerEl.classList.remove((0,f.default)("container_app_sidebar_no_icons"));(0,o.default)(h.children).some(function(_){return _.style.display!=="none"})?this._contentContainerEl.classList.remove((0,f.default)("container_app_sidebar_no_icons")):this._contentContainerEl.classList.add((0,f.default)("container_app_sidebar_no_icons"))}}}]),m}();i.default=d},{"../../../../lib/idMap":883,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/toConsumableArray":56}],760:[function(e,l,i){"use strict";function a($,ne){var H=o($);if(u){var X=u($);ne&&(X=X.filter(function(oe){return n($,oe).enumerable})),H.push.apply(H,X)}return H}function t($){for(var ne=1;ne<arguments.length;ne++){var H=arguments[ne]!=null?arguments[ne]:{};ne%2?a(Object(H),!0).forEach(function(X){(0,E.default)($,X,H[X])}):s?f($,s(H)):a(Object(H)).forEach(function(X){d($,X,n(H,X))})}return $}var o=e("@babel/runtime-corejs2/core-js/object/keys"),u=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),f=e("@babel/runtime-corejs2/core-js/object/define-properties"),d=e("@babel/runtime-corejs2/core-js/object/define-property"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");d(i,"__esModule",{value:!0}),i.default=void 0;var h=m(e("@babel/runtime-corejs2/core-js/set")),_=m(e("@babel/runtime-corejs2/core-js/json/stringify")),y=m(e("@babel/runtime-corejs2/core-js/array/from")),S=m(e("@babel/runtime-corejs2/core-js/object/assign")),v=m(e("@babel/runtime-corejs2/helpers/classCallCheck")),T=m(e("@babel/runtime-corejs2/helpers/createClass")),E=m(e("@babel/runtime-corejs2/helpers/defineProperty")),I=(m(e("lodash/uniq")),m(e("lodash/escape"))),g=m(e("asap")),k=e("ud"),j=m(e("kefir")),x=m(e("kefir-stopper")),A=m(e("../../../lib/stream-wait-for")),w=m(e("../../../lib/dom/make-mutation-observer-stream")),C=m(e("../../../lib/dom/insert-element-in-order")),O=m(e("../../../../common/isElementVisible")),V=m(e("../gmail-element-getter")),R=m(e("../widgets/buttons/button-view")),P=m(e("../widgets/gmail-dropdown-view")),B=m(e("../../../widgets/buttons/basic-button-view-controller")),z=m(e("../../../widgets/buttons/dropdown-button-view-controller")),Q=m(e("./gmail-thread-view")),N=m(e("./gmail-row-list-view")),K=e("../../../constants/toolbars"),U=m(e("../../../lib/logger")),F=function(){function $(ne,H,X,oe){var Y=this;if((0,v.default)(this,$),(0,E.default)(this,"_element",void 0),(0,E.default)(this,"_driver",void 0),(0,E.default)(this,"_ready",void 0),(0,E.default)(this,"_stopper",void 0),(0,E.default)(this,"_routeViewDriver",void 0),(0,E.default)(this,"_buttonViewControllers",new h.default),(0,E.default)(this,"_moreMenuItems",[]),(0,E.default)(this,"_toolbarState",void 0),(0,E.default)(this,"_threadViewDriver",void 0),(0,E.default)(this,"_rowListViewDriver",void 0),(0,E.default)(this,"_isUpdateButtonClassesScheduled",!1),(0,E.default)(this,"_moreMenuItemsContainer",null),this._element=ne,this._driver=H,this._stopper=(0,x.default)(),this._routeViewDriver=X,this._getMoveSectionElement()?this._ready=j.default.constant(this):this._ready=(0,A.default)(function(){return!!Y._getMoveSectionElement()}).takeUntilBy(this._stopper).map(function(){return Y}).toProperty(),this._ready.onValue(function(){Y._startMonitoringMoreMenu(),Y._determineToolbarState(),Y._determineToolbarIconMode(),Y._setupToolbarStateMonitoring()}),oe instanceof Q.default)this._threadViewDriver=oe,this._ready.onValue(function(){Y._element.setAttribute("data-thread-toolbar","true")});else{if(!(oe instanceof N.default))throw new Error("Invalid parent");this._rowListViewDriver=oe,this._ready.onValue(function(){Y._element.setAttribute("data-rowlist-toolbar","true")})}}return(0,T.default)($,[{key:"getStopper",value:function(){return this._stopper}},{key:"getElement",value:function(){return this._element}},{key:"getRouteViewDriver",value:function(){return this._routeViewDriver}},{key:"getThreadViewDriver",value:function(){return this._threadViewDriver}},{key:"isForRowList",value:function(){return this._rowListViewDriver!=null}},{key:"isForThread",value:function(){return this._threadViewDriver!=null}},{key:"getThreadRowViewDrivers",value:function(){return this._rowListViewDriver?this._rowListViewDriver.getThreadRowViewDrivers():(console.error("missing this._rowListViewDriver"),new h.default)}},{key:"addButton",value:function(ne,H){var X=this,oe=(0,x.default)();this._stopper.takeUntilBy(oe).onValue(function(){oe.destroy()});var Y=(this._driver.getAppId(),K.SECTION_NAMES);return this._ready.takeUntilBy(oe).onValue(function(){if(ne.section===Y.OTHER){var se={buttonDescriptor:ne};X._moreMenuItems.push(se),X._addToOpenMoreMenu(ne),oe.onValue(function(){X._moreMenuItems=X._moreMenuItems.filter(function(G){return G!==se}),X._addMoreItems()})}else{var ie=X._getSectionElement(ne.section,Y);if(ie){var L=X._createButtonViewController(ne);X._buttonViewControllers.add(L),oe.onValue(function(){X._buttonViewControllers.delete(L),L.destroy()}),L.getView().getElement().__addButton_ownedByExtension=!0,L.getView().getElement().setAttribute("data-add-button-debug",(0,_.default)({id:H,title:ne.title,hasThreadViewDriver:X.isForThread(),hasRowListViewDriver:X.isForRowList()})),L.getView().getElement().setAttribute("data-order-hint",String(ne.orderHint||0)),(0,C.default)(ie,L.getView().getElement()),j.default.merge([j.default.constant(-1),j.default.later(1e3,1e3)]).map(function(G){return{delay:G,duplicates:(0,y.default)(ie.children).filter(function(le){return L.getView().getElement().getAttribute("data-rowlist-toolbar")===le.getAttribute("data-rowlist-toolbar")&&L.getView().getElement().getAttribute("data-toolbar-expanded")===le.getAttribute("data-toolbar-expanded")}).filter(function(le){return le.hasAttribute("data-add-button-debug")}).map(function(le){return(0,S.default)({ownedByExtension:!!le.__addButton_ownedByExtension},JSON.parse(le.getAttribute("data-add-button-debug")||"null"))}).filter(function(le){return le.title===ne.title})}}).filter(function(G){return G.duplicates.length>1}).take(1).takeUntilBy(X._stopper).onValue(function(G){var le=G.delay,pe=G.duplicates;U.default.error(new Error("Duplicate toolbar button"),{delay:le,duplicates:pe,dataThreadToolbar:X._element.getAttribute("data-thread-toolbar"),dataRowlistToolbar:X._element.getAttribute("data-rowlist-toolbar")})}),X._updateButtonClasses(X._element),L.getView().setEnabled(X._toolbarState==="EXPANDED")}}}),{getStopper:function(){return oe},destroy:function(){oe.destroy()}}}},{key:"waitForReady",value:function(){return this._ready}},{key:"_createButtonViewController",value:function(ne){var H=this._getButtonView(ne);return ne.buttonView=H,ne.hasDropdown?new z.default({buttonView:H,dropdownViewDriverClass:P.default,dropdownShowFunction:ne.onClick,dropdownPositionOptions:{position:"bottom",hAlign:"left"}}):new B.default(ne)}},{key:"_getButtonView",value:function(ne){var H=new R.default(t(t({},ne),{},{noArrow:!0}));return this._rowListViewDriver?(H.getElement().setAttribute("data-rowlist-toolbar","true"),H.getElement().setAttribute("data-toolbar-expanded","true")):this._threadViewDriver&&H.getElement().setAttribute("data-thread-toolbar","true"),H.getElement().setAttribute("role","button"),H}},{key:"_startMonitoringMoreMenu",value:function(){var ne=this,H=this._element.querySelector(".nf[role=button]");H&&(0,w.default)(H,{attributes:!0,attributeFilter:["aria-expanded"]}).toProperty(function(){return null}).takeUntilBy(this._stopper).map(function(){return H.getAttribute("aria-expanded")}).onValue(function(X){X!=="true"?ne._clearMoreItems():ne._addMoreItems()})}},{key:"_determineToolbarState",value:function(){var ne=this._getMoveSectionElement();if(!ne)throw new Error("No move section element");ne.style.display==="none"?this._toolbarState="COLLAPSED":this._toolbarState="EXPANDED"}},{key:"_determineToolbarIconMode",value:function(){var ne=this._getMoveSectionElement();if(!ne)throw new Error("No move section element");var H=(0,y.default)(ne.querySelectorAll("[role=button]:not(.inboxsdk__button)")).some(function(X){return X.hasAttribute("title")||X.hasAttribute("data-tooltip")});this._element.setAttribute("data-toolbar-icononly",H?"true":"false")}},{key:"_setupToolbarStateMonitoring",value:function(){var ne=this,H=this._getMoveSectionElement();if(!H)throw new Error("No move section element");(0,w.default)(H,{attributes:!0,attributeFilter:["style"]}).takeUntilBy(this._stopper).onValue(function(X){X.target instanceof HTMLElement&&X.target.style.display==="none"?ne._toolbarState="COLLAPSED":ne._toolbarState="EXPANDED",ne._updateButtonClasses(ne._element),ne._updateButtonEnabledState()})}},{key:"_getSectionElement",value:function(ne,H){switch(ne){case H.INBOX_STATE:return this._getArchiveSectionElement();case H.METADATA_STATE:return this._getMoveSectionElement();default:return null}}},{key:"_getArchiveSectionElement",value:function(){return this._getSectionElementForButtonSelector(".ar9, .aFh, .aFj, .lR, .nN, .nX, .aFk")}},{key:"_getCheckboxSectionElement",value:function(){return this._getSectionElementForButtonSelector(".T-Jo-auh")}},{key:"_getMoveSectionElement",value:function(){return this._getSectionElementForButtonSelector(".asb, .ase, .ns, .mw")}},{key:"_getSectionElementForButtonSelector",value:function(ne){for(var H=this._element.querySelectorAll(".G-Ni"),X=0;X<H.length;X++)if(H[X].querySelector(ne))return H[X];return null}},{key:"_updateButtonClasses",value:function(ne){var H=this;this._isUpdateButtonClassesScheduled||(this._isUpdateButtonClassesScheduled=!0,(0,g.default)(function(){H._toolbarState==="EXPANDED"?ne.setAttribute("data-toolbar-expanded","true"):H._toolbarState==="COLLAPSED"&&ne.setAttribute("data-toolbar-expanded","false");var X=ne.querySelectorAll(".G-Ni > [role=button]");Array.prototype.forEach.call(X,function(oe){for(var Y=oe,se=0;se<1e5;se++){if(!Y.previousElementSibling){oe.classList.remove("T-I-Js-Gs");break}if(!Y.previousElementSibling.classList.contains("inboxsdk__button")){oe.classList.add("T-I-Js-Gs");break}if((0,O.default)(Y.previousElementSibling)){oe.classList.add("T-I-Js-Gs");break}Y=Y.previousElementSibling}Y=oe;for(var ie=0;ie<1e5;ie++){if(!Y.nextElementSibling){oe.classList.remove("T-I-Js-IF");break}if(!Y.nextElementSibling.classList.contains("inboxsdk__button")){oe.classList.add("T-I-Js-IF");break}if((0,O.default)(Y.nextElementSibling)){oe.classList.add("T-I-Js-IF");break}Y=Y.nextElementSibling}}),H._isUpdateButtonClassesScheduled=!1}))}},{key:"_updateButtonEnabledState",value:function(){var ne=this._toolbarState==="EXPANDED";this._buttonViewControllers.forEach(function(H){H.getView().setEnabled(ne)})}},{key:"_addMoreItems",value:function(){var ne=this;this._clearMoreItems(),this._toolbarState==="EXPANDED"&&this._moreMenuItems.forEach(function(H){ne._addToOpenMoreMenu(H.buttonDescriptor)})}},{key:"_clearMoreItems",value:function(){this._moreMenuItemsContainer&&(this._moreMenuItemsContainer.remove(),this._moreMenuItemsContainer=null)}},{key:"_addToOpenMoreMenu",value:function(ne){var H=V.default.getActiveMoreMenu();if(H){var X=this._getMoreMenuItemsContainer(H),oe=this._getMoreMenuItemElement(ne);(0,C.default)(X,oe)}}},{key:"_getMoreMenuItemsContainer",value:function(ne){if(this._moreMenuItemsContainer)return this._moreMenuItemsContainer;var H=this._moreMenuItemsContainer=document.createElement("div");return H.setAttribute("data-group-order-hint",this._driver.getAppId()),H.innerHTML='<div class="J-Kh"></div>',(0,C.default)(ne,H),H}},{key:"_getMoreMenuItemElement",value:function(ne){var H=document.createElement("div");return H.setAttribute("class","J-N inboxsdk__menuItem"),H.setAttribute("role","menuitem"),H.setAttribute("data-order-hint",String(ne.orderHint||0)),H.innerHTML=['<div class="J-N-Jz" style="-webkit-user-select: none;">',ne.iconUrl?'<img class="J-N-JX" src="'+(0,I.default)(ne.iconUrl)+'" />':"",ne.iconClass?'<span class="inboxsdk__icon J-N-JX '+(0,I.default)(ne.iconClass)+'"></span>':"",(0,I.default)(ne.title),"</div>"].join(""),H.addEventListener("mouseenter",function(X){return H.classList.add("J-N-JT")}),H.addEventListener("mouseleave",function(X){return H.classList.remove("J-N-JT")}),H.addEventListener("click",function(X){ne.onClick&&ne.onClick({})}),H}},{key:"destroy",value:function(){var ne=this._element;this._threadViewDriver?this._element.removeAttribute("data-thread-toolbar"):this._rowListViewDriver&&this._element.removeAttribute("data-rowlist-toolbar"),this._clearMoreItems(),this._stopper.destroy(),this._updateButtonClasses(ne)}}]),$}(),Z=(0,k.defn)(l,F);i.default=Z},{"../../../../common/isElementVisible":646,"../../../constants/toolbars":659,"../../../lib/dom/insert-element-in-order":857,"../../../lib/dom/make-mutation-observer-stream":864,"../../../lib/logger":892,"../../../lib/stream-wait-for":902,"../../../widgets/buttons/basic-button-view-controller":940,"../../../widgets/buttons/dropdown-button-view-controller":941,"../gmail-element-getter":696,"../widgets/buttons/button-view":763,"../widgets/gmail-dropdown-view":771,"./gmail-row-list-view":753,"./gmail-thread-view":758,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,asap:83,kefir:327,"kefir-stopper":326,"lodash/escape":482,"lodash/uniq":528,ud:625}],761:[function(e,l,i){"use strict";function a(g){if(typeof o!="function")return null;var k=new o,j=new o;return(a=function(x){return x?j:k})(g)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/defineProperty")),h=s(e("kefir")),_=s(e("kefir-bus")),y=s(e("../../../lib/dom/get-insert-before-element")),S=s(e("../../../lib/dom/make-mutation-observer-chunked-stream")),v=(s(e("../../../lib/dom/make-mutation-observer-stream")),s(e("../../../lib/dom/querySelectorOrFail"))),T=s(e("../../../../common/find-parent")),E=(s(e("../gmail-element-getter")),function(g,k){if(!k&&g&&g.__esModule)return g;if(g===null||t(g)!=="object"&&typeof g!="function")return{default:g};var j=a(k);if(j&&j.has(g))return j.get(g);var x={},A=u&&n;for(var w in g)if(w!=="default"&&Object.prototype.hasOwnProperty.call(g,w)){var C=A?n(g,w):null;C&&(C.get||C.set)?u(x,w,C):x[w]=g[w]}return x.default=g,j&&j.set(g,x),x}(e("./gmail-nav-item-view"))),I=function(){function g(k,j,x){var A=this;(0,f.default)(this,g),(0,m.default)(this,"_driver",void 0),(0,m.default)(this,"_element",void 0),(0,m.default)(this,"_navItemName",void 0),(0,m.default)(this,"_activeMarkerElement",null),(0,m.default)(this,"_eventStream",void 0),(0,m.default)(this,"_elementBus",void 0),(0,m.default)(this,"_elementStream",void 0),(0,m.default)(this,"_isActive",!1),(0,m.default)(this,"_itemContainerElement",null),this._driver=k,this._element=j,this._eventStream=(0,_.default)(),this._elementBus=(0,_.default)(),this._elementStream=this._elementBus.toProperty(function(){return A._element}),this._navItemName=x;var w=this._element.parentElement;w&&(0,S.default)(w,{childList:!0}).map(function(){return w.querySelector('.aim a[href*="#'.concat(A._navItemName,'"]'))}).filter(Boolean).map(function(C){return(0,T.default)(C,function(O){return O.classList.contains("aim")})}).filter(Boolean).filter(function(C){return C!==A._element}).onValue(function(C){if(C){var O=A._itemContainerElement;O&&(O.remove(),A._itemContainerElement=null),A._elementBus.emit(C)}}),this._elementStream.onValue(function(C){A._element=C,A._monitorElementForActiveChanges(),A.setActive(A._isActive)})}return(0,d.default)(g,[{key:"destroy",value:function(){this._element.classList.remove("inboxsdk__navItem_claimed"),this._eventStream.end(),this._elementBus.end(),this._activeMarkerElement&&this._activeMarkerElement.remove(),this._itemContainerElement&&this._itemContainerElement.remove()}},{key:"getElement",value:function(){return this._element}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"addNavItem",value:function(k,j){var x=this,A=new E.default(this._driver,k,2);return h.default.merge([A.getEventStream().filter(function(w){return w.eventName==="orderChanged"}),this._elementStream]).onValue(function(){return x._addNavItemElement(A)}),A.setNavItemDescriptor(j),A}},{key:"setActive",value:function(k){this._isActive=k;var j=(0,v.default)(this._element,".TO");k?(this._element.classList.add("ain"),j.classList.add("nZ"),j.classList.add("aiq")):(this._element.classList.remove("ain"),j.classList.remove("nZ"),j.classList.remove("aiq")),this._setHeights()}},{key:"toggleCollapse",value:function(){this._toggleCollapse()}},{key:"setCollapsed",value:function(k){localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]=k,this._element.querySelector(".inboxsdk__expando")&&(k?this._collapse():this._expand())}},{key:"remove",value:function(){}},{key:"_monitorElementForActiveChanges",value:function(){var k=this;this._element.classList.add("inboxsdk__navItem_claimed");var j=this._element,x=(0,S.default)(j,{attributes:!0,attributeFilter:["class"]}).takeUntilBy(this._eventStream.filter(function(){return!1}).beforeEnd(function(){return null})).toProperty(function(){return[]}).map(function(){return j});x.filter(function(A){return A.classList.contains("ain")}).onValue(function(){return k._createActiveMarkerElement()}),x.filter(function(A){return!A.classList.contains("ain")}).onValue(function(){return k._removeActiveMarkerElement()})}},{key:"_addNavItemElement",value:function(k){var j=this._getItemContainerElement(),x=(0,y.default)(k.getElement(),j.children,["data-group-order-hint","data-order-hint","data-insertion-order-hint"]);j.insertBefore(k.getElement(),x);var A=k.getElement();(0,v.default)(A,".TN").style.marginLeft=(0,E.getLeftIndentationPaddingValue)()+"px",this._setHeights()}},{key:"_getItemContainerElement",value:function(){var k=this._itemContainerElement;return k||(k=this._itemContainerElement=this._element.querySelector(".inboxsdk__navItem_container"))||(k=this._createItemContainerElement(),this._createExpando()),k}},{key:"_createItemContainerElement",value:function(){var k=this._itemContainerElement=document.createElement("div");return k.classList.add("inboxsdk__navItem_container"),this._element.appendChild(k),k}},{key:"_createExpando",value:function(){var k=this,j=this._element.querySelector("a"),x=document.createElement("div");x.setAttribute("class","TH aih J-J5-Ji inboxsdk__expando"),x.setAttribute("role","link"),x.title="Expand ".concat(j?j.title||j.textContent:""),x.addEventListener("click",function(w){k._toggleCollapse(),w.stopPropagation(),w.preventDefault(),w.stopImmediatePropagation()},!0);var A=this._element.querySelector(".TN");A&&A.insertAdjacentElement("afterbegin",x),localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]==="collapsed"?this._collapse():this._expand()}},{key:"_toggleCollapse",value:function(){if(!this._element.querySelector(".inboxsdk__expando"))return void(localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]==="collapsed"?localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]="expanded":localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]="collapsed");localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]==="collapsed"?this._expand():this._collapse()}},{key:"_collapse",value:function(){var k=(0,v.default)(this._element,".inboxsdk__expando");k.classList.remove("aih"),k.classList.add("aii"),this._itemContainerElement&&(this._itemContainerElement.style.display="none"),localStorage.setItem("inboxsdk__nativeNavItem__state_"+this._navItemName,"collapsed"),this._eventStream.emit({eventName:"collapsed"}),this._setHeights()}},{key:"_expand",value:function(){var k=(0,v.default)(this._element,".inboxsdk__expando");k.classList.add("aih"),k.classList.remove("aii"),this._itemContainerElement&&(this._itemContainerElement.style.display=""),localStorage.setItem("inboxsdk__nativeNavItem__state_"+this._navItemName,"expanded"),this._eventStream.emit({eventName:"expanded"}),this._setHeights()}},{key:"_isExpanded",value:function(){return!!this._element.querySelector(".inboxsdk__expando.aih")}},{key:"_setHeights",value:function(){var k=(0,v.default)(this._element,".TO");if(this._element.classList.contains("ain")&&this._itemContainerElement){this._element.style.height="";var j=this._element.clientHeight,x=k.clientHeight;this._element.style.height=x+"px",this._element.style.overflow="visible",this._element.style.marginBottom=j-x+"px"}else this._element.style.height="",this._element.style.overflow="",this._element.style.marginBottom=""}},{key:"_createActiveMarkerElement",value:function(){this._removeActiveMarkerElement();var k=this._activeMarkerElement=document.createElement("div");k.classList.add("inboxsdk__navItem_marker"),k.classList.add("ain"),k.innerHTML="&nbsp;",this._element.insertBefore(k,this._element.firstElementChild)}},{key:"_removeActiveMarkerElement",value:function(){var k=this._activeMarkerElement;k&&(k.remove(),this._activeMarkerElement=null)}}]),g}();i.default=I},{"../../../../common/find-parent":640,"../../../lib/dom/get-insert-before-element":855,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/make-mutation-observer-stream":864,"../../../lib/dom/querySelectorOrFail":869,"../gmail-element-getter":696,"./gmail-nav-item-view":750,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,"kefir-bus":324}],762:[function(e,l,i){"use strict";e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=void 0;var a={default:{INACTIVE_CLASS:"T-I-ax7",HOVER_CLASS:"T-I-JW",ACTIVE_CLASS:"T-I-Kq"},flatIcon:{INACTIVE_CLASS:"J-Z-I",HOVER_CLASS:"J-Z-I-JW",ACTIVE_CLASS:"J-Z-I-KO"},pureIcon:{INACTIVE_CLASS:"inboxsdk__button_pureIcon_inactive",HOVER_CLASS:"inboxsdk__button_pureIcon_hover",ACTIVE_CLASS:"inboxsdk__button_pureIcon_active"},blue:{INACTIVE_CLASS:"T-I-atl",HOVER_CLASS:"T-I-JW",ACTIVE_CLASS:"T-I-JO"},red:{INACTIVE_CLASS:"T-I-KE",HOVER_CLASS:"T-I-JW",ACTIVE_CLASS:"T-I-JO"},green:{INACTIVE_CLASS:"inboxsdk__button_green_inactive",HOVER_CLASS:"inboxsdk__button_green_hover",ACTIVE_CLASS:"inboxsdk__button_green_active"}},t=a;i.default=t},{"@babel/runtime-corejs2/core-js/object/define-property":11}],763:[function(e,l,i){"use strict";function a(g){if(typeof o!="function")return null;var k=new o,j=new o;return(a=function(x){return x?j:k})(g)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/defineProperty")),h=s(e("lodash/includes")),_=function(g,k){if(!k&&g&&g.__esModule)return g;if(g===null||t(g)!=="object"&&typeof g!="function")return{default:g};var j=a(k);if(j&&j.has(g))return j.get(g);var x={},A=u&&n;for(var w in g)if(w!=="default"&&Object.prototype.hasOwnProperty.call(g,w)){var C=A?n(g,w):null;C&&(C.get||C.set)?u(x,w,C):x[w]=g[w]}return x.default=g,j&&j.set(g,x),x}(e("kefir")),y=s(e("kefir-bus")),S=s(e("../../../../lib/logger")),v=e("../../../../lib/dom/simulate-mouse-event"),T=s(e("../../../../lib/dom/keyboard-shortcut-stream")),E=s(e("./button-color-classes")),I=function(){function g(k){(0,f.default)(this,g),(0,m.default)(this,"_element",document.createElement("div")),(0,m.default)(this,"_innerElement",document.createElement("div")),(0,m.default)(this,"_textElement",void 0),(0,m.default)(this,"_iconElement",void 0),(0,m.default)(this,"_iconImgElement",void 0),(0,m.default)(this,"_iconClass",void 0),(0,m.default)(this,"_iconUrl",void 0),(0,m.default)(this,"_title",void 0),(0,m.default)(this,"_tooltip",void 0),(0,m.default)(this,"_hasDropdown",void 0),(0,m.default)(this,"_buttonColor",void 0),(0,m.default)(this,"_isEnabled",void 0),(0,m.default)(this,"_keyboardShortcutHandle",void 0),(0,m.default)(this,"_eventStream",void 0),this._hasDropdown=!1,this._isEnabled=k.enabled!==!1,this._iconClass=k.iconClass,this._iconUrl=k.iconUrl,this._title=k.text||k.title,this._tooltip=k.tooltip||k.title,this._hasDropdown=!!k.hasDropdown,this._buttonColor=k.buttonColor||"default",this._keyboardShortcutHandle=k.keyboardShortcutHandle,this._createElement(k),this._eventStream=(0,y.default)(),this._setupEventStream(),this._setupAestheticEvents(),k.enabled!==!1&&this._setupKeyboardShortcutEvent()}return(0,d.default)(g,[{key:"destroy",value:function(){this._element.remove(),this._eventStream.end()}},{key:"getElement",value:function(){return this._element}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"activate",value:function(){this.addClass(E.default[this._buttonColor].ACTIVE_CLASS),this.addClass(E.default[this._buttonColor].HOVER_CLASS)}},{key:"deactivate",value:function(){this.removeClass(E.default[this._buttonColor].ACTIVE_CLASS),this.removeClass(E.default[this._buttonColor].HOVER_CLASS)}},{key:"addClass",value:function(k){this._element.classList.add(k)}},{key:"removeClass",value:function(k){this._element.classList.remove(k)}},{key:"simulateHover",value:function(){(0,v.simulateHover)(this._element)}},{key:"setEnabled",value:function(k){this._setEnabled(k)}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"update",value:function(k){if(!k)return void(this._element.style.display="none");this._element.style.display==="none"&&(this._element.style.display=""),k.buttonColor!=this._buttonColor&&this._buttonColor&&this._updateButtonColor(k.buttonColor),k.title!=this._title&&this._updateTitle(k.title),k.tooltip!=this._tooltip&&this._updateTooltip(k.tooltip),k.iconUrl!=this._iconUrl&&this._updateIconUrl(k.iconUrl),k.iconClass!=this._iconClass&&this._updateIconClass(k.iconClass),k.enabled!==!1&&k.enabled!==!0||this._setEnabled(k.enabled)}},{key:"_createElement",value:function(k){this._setupMainElement(k),this._setupInnerElement(k),this._createTextElement(),this._createIconElement()}},{key:"_setupMainElement",value:function(k){this._element.setAttribute("class","T-I J-J5-Ji ar7 inboxsdk__button "+E.default[this._buttonColor].INACTIVE_CLASS),k.tooltip&&this._element.setAttribute("aria-label",k.tooltip),this._element.setAttribute("role","button"),this._element.setAttribute("tabindex","0"),k.hasButtonToRight&&this._element.classList.add("T-I-Js-IF"),k.hasButtonToLeft&&this._element.classList.add("T-I-Js-Gs"),(k.tooltip||k.title)&&this._element.setAttribute("data-tooltip",String(k.tooltip||k.title)),k.enabled===!1&&this._element.classList.add("inboxsdk__button_disabled")}},{key:"_setupInnerElement",value:function(k){this._innerElement.classList.add("asa"),this._hasDropdown&&!k.noArrow&&(this._innerElement.innerHTML='<div class="G-asx T-I-J3 - J-J5-Ji">&nbsp;</div>'),this._element.appendChild(this._innerElement)}},{key:"_createTextElement",value:function(){if(this._title)if(this._textElement=document.createElement("span"),this._textElement.setAttribute("class","inboxsdk__button_text"),this._textElement.textContent=this._title,this._iconElement){var k=this._iconElement.parentElement;if(!k)throw new Error("Could not find parent");k.insertBefore(this._textElement,this._iconElement.nextSibling)}else this._innerElement.insertBefore(this._textElement,this._innerElement.firstElementChild)}},{key:"_createIconElement",value:function(){if(this._iconClass||this._iconUrl){var k=this._iconElement=document.createElement("div");k.classList.add("inboxsdk__button_icon"),this._iconClass&&(k.innerHTML="&nbsp;",k.setAttribute("class","inboxsdk__button_icon "+this._iconClass)),this._iconUrl&&this._createIconImgElement(),this._innerElement.insertBefore(k,this._innerElement.firstElementChild)}}},{key:"_createIconImgElement",value:function(){this._iconElement||this._createIconElement();var k=this._iconElement;if(!k)throw new Error("Should not happen");k.innerHTML!==""&&(k.innerHTML="");var j=this._iconImgElement=document.createElement("img");j.classList.add("inboxsdk__button_iconImg"),this._iconUrl?j.src=this._iconUrl:S.default.error(new Error("_createIconImgElement should not be called with null _iconUrl")),k.appendChild(j)}},{key:"_updateButtonColor",value:function(k){this._element.classList.remove(E.default[this._buttonColor].INACTIVE_CLASS),this._buttonColor=k,this._element.classList.add(E.default[this._buttonColor].INACTIVE_CLASS)}},{key:"_updateTitle",value:function(k){!this._title&&k?(this._title=k,this._createTextElement()):this._title&&!k&&this._textElement?(this._textElement.remove(),this._textElement=void 0,this._title=k):this._textElement&&(this._textElement.textContent=k,this._title=k)}},{key:"_updateTooltip",value:function(k){this._tooltip=k,k?this._element.setAttribute("data-tooltip",k):this._element.removeAttribute("data-tooltip")}},{key:"_updateIconUrl",value:function(k){this._iconUrl=k,this._iconImgElement&&!k?(this._iconImgElement.remove(),this._iconImgElement=void 0):!this._iconImgElement&&k&&this._createIconImgElement(),this._iconImgElement&&k&&(this._iconImgElement.src=k)}},{key:"_updateIconClass",value:function(k){!this._iconElement||k||this._iconUrl?!this._iconElement&&k&&this._createIconElement():(this._iconElement.remove(),this._iconElement=void 0),this._iconClass=k,this._iconElement&&this._iconElement.setAttribute("class","inboxsdk__button_icon "+(k||""))}},{key:"_setEnabled",value:function(k){this._isEnabled!==k&&(this._isEnabled=k,this._isEnabled?this._element.classList.remove("inboxsdk__button_disabled"):this._element.classList.add("inboxsdk__button_disabled"),this._eventStream.emit({eventName:"enabledChanged",isEnabled:this._isEnabled}),this._isEnabled&&this._setupKeyboardShortcutEvent())}},{key:"_setupEventStream",value:function(){var k=this,j=_.fromEvents(this._element,"click");j.onValue(function(C){C.stopPropagation(),C.preventDefault()}),this._eventStream.plug(j.filter(function(){return k.isEnabled()}).map(function(C){return{eventName:"click",domEvent:C}}));var x=function(C){return(0,h.default)([32,13],C.which)},A=_.fromEvents(this._element,"keydown").filter(function(){return k.isEnabled()}),w=A.filter(x);this._eventStream.plug(w.map(function(C){return{eventName:"click",domEvent:C}})),w.onValue(function(C){C.stopPropagation(),C.preventDefault()})}},{key:"_setupKeyboardShortcutEvent",value:function(){var k=this._keyboardShortcutHandle;k&&this._eventStream.plug((0,T.default)(k.chord).takeUntilBy(this._eventStream.filter(function(j){return j.eventName==="enabledChanged"&&j.isEnabled===!1})).map(function(j){return{eventName:"click",domEvent:j}}))}},{key:"_setupAestheticEvents",value:function(){var k=this;_.fromEvents(this._element,"mouseenter").filter(function(){return k.isEnabled()}).onValue(function(){k._element.classList.add(E.default[k._buttonColor].HOVER_CLASS),k._element.classList.add("inboxsdk__button_hover")}),_.fromEvents(this._element,"mouseleave").onValue(function(){k._element.classList.remove(E.default[k._buttonColor].HOVER_CLASS),k._element.classList.remove("inboxsdk__button_hover")}),_.fromEvents(this._element,"focus").onValue(function(){k._element.classList.add("T-I-JO")}),_.fromEvents(this._element,"blur").onValue(function(){k._element.classList.remove("T-I-JO")})}}]),g}();i.default=I},{"../../../../lib/dom/keyboard-shortcut-stream":859,"../../../../lib/dom/simulate-mouse-event":875,"../../../../lib/logger":892,"./button-color-classes":762,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,"kefir-bus":324,"lodash/includes":493}],764:[function(e,l,i){"use strict";function a(v){if(typeof o!="function")return null;var T=new o,E=new o;return(a=function(I){return I?E:T})(v)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/defineProperty")),h=function(v,T){if(!T&&v&&v.__esModule)return v;if(v===null||t(v)!=="object"&&typeof v!="function")return{default:v};var E=a(T);if(E&&E.has(v))return E.get(v);var I={},g=u&&n;for(var k in v)if(k!=="default"&&Object.prototype.hasOwnProperty.call(v,k)){var j=g?n(v,k):null;j&&(j.get||j.set)?u(I,k,j):I[k]=v[k]}return I.default=v,E&&E.set(v,I),I}(e("kefir")),_=s(e("kefir-bus")),y=s(e("kefir-stopper")),S=function(){function v(){(0,f.default)(this,v),(0,m.default)(this,"_element",document.createElement("div")),(0,m.default)(this,"_eventStream",(0,_.default)()),(0,m.default)(this,"_stopper",(0,y.default)()),this._setupElement(),this._setupEventStream()}return(0,d.default)(v,[{key:"update",value:function(){}},{key:"setEnabled",value:function(){throw new Error("not implemented")}},{key:"destroy",value:function(){this._eventStream.end(),this._stopper.destroy(),this._element.remove()}},{key:"getElement",value:function(){return this._element}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"activate",value:function(){var T=this._element.firstElementChild;T&&T.classList.add("aj1")}},{key:"deactivate",value:function(){var T=this._element.firstElementChild;T&&T.classList.remove("aj1")}},{key:"_setupElement",value:function(){this._element.setAttribute("class","nL aig"),this._element.setAttribute("style","left: 7px"),this._element.innerHTML=['<div class="pM aRw" style="display: inline-flex; margin-left: 16px;" role="button">','<div class="p6">','<div class="p8">\u25BC</div>',"</div>","</div>"].join("")}},{key:"_setupEventStream",value:function(){var T=h.fromEvents(this._element,"click");T.onValue(function(E){E.stopPropagation(),E.preventDefault()}),this._eventStream.plug(T.map(function(E){return{eventName:"click",domEvent:E}}))}}]),v}();i.default=S},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,"kefir-bus":324,"kefir-stopper":326}],765:[function(e,l,i){"use strict";function a(v){if(typeof o!="function")return null;var T=new o,E=new o;return(a=function(I){return I?E:T})(v)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/defineProperty")),h=function(v,T){if(!T&&v&&v.__esModule)return v;if(v===null||t(v)!=="object"&&typeof v!="function")return{default:v};var E=a(T);if(E&&E.has(v))return E.get(v);var I={},g=u&&n;for(var k in v)if(k!=="default"&&Object.prototype.hasOwnProperty.call(v,k)){var j=g?n(v,k):null;j&&(j.get||j.set)?u(I,k,j):I[k]=v[k]}return I.default=v,E&&E.set(v,I),I}(e("kefir")),_=s(e("kefir-bus")),y=s(e("kefir-stopper")),S=function(){function v(){(0,f.default)(this,v),(0,m.default)(this,"_element",document.createElement("div")),(0,m.default)(this,"_eventStream",(0,_.default)()),(0,m.default)(this,"_stopper",(0,y.default)()),this._setupElement(),this._setupEventStream()}return(0,d.default)(v,[{key:"activate",value:function(){var T=this._element.firstElementChild;T&&T.classList.add("aj1")}},{key:"deactivate",value:function(){var T=this._element.firstElementChild;T&&T.classList.remove("aj1")}},{key:"destroy",value:function(){this._element.remove(),this._eventStream.end(),this._stopper.destroy()}},{key:"getElement",value:function(){return this._element}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"setEnabled",value:function(){throw new Error("not implemented")}},{key:"update",value:function(){}},{key:"_setupElement",value:function(){this._element.setAttribute("class","Yh inboxsdk__navItem_parent_accessory_button"),this._element.setAttribute("role","button"),this._element.setAttribute("tabindex","0"),this._element.setAttribute("type","button")}},{key:"_setupEventStream",value:function(){var T=h.fromEvents(this._element,"click");T.onValue(function(E){E.stopPropagation(),E.preventDefault()}),this._eventStream.plug(T.map(function(E){return{eventName:"click",domEvent:E}}))}}]),v}();i.default=S},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,"kefir-bus":324,"kefir-stopper":326}],766:[function(e,l,i){"use strict";function a(S){var v=t();return function(){var T,E=(0,h.default)(S);if(v){var I=(0,h.default)(this).constructor;T=o(E,arguments,I)}else T=E.apply(this,arguments);return(0,m.default)(this,T)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(S){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/inherits")),m=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),h=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),_=n(e("../../../../lib/dom/generic-button-view")),y=function(S){function v(){(0,s.default)(this,v);var E=document.createElement("div");return E.setAttribute("class","aAE qi J-J5-Ji J-JN-M-I"),E.innerHTML='<div class="J-J5-Ji J-JN-M-I-JG">&nbsp;</div>',E.addEventListener("mouseenter",function(){E.classList.add("J-JN-M-I-JW")}),E.addEventListener("mouseleave",function(){E.classList.remove("J-JN-M-I-JW")}),T.call(this,E)}(0,d.default)(v,S);var T=a(v);return(0,f.default)(v,[{key:"activate",value:function(){this.getElement().classList.add("J-JN-M-I-JO"),this.getElement().classList.add("J-JN-M-I-Kq")}},{key:"deactivate",value:function(){this.getElement().classList.remove("J-JN-M-I-JO"),this.getElement().classList.remove("J-JN-M-I-Kq")}}]),v}(_.default);i.default=y},{"../../../../lib/dom/generic-button-view":854,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}],767:[function(e,l,i){"use strict";function a(v){if(typeof o!="function")return null;var T=new o,E=new o;return(a=function(I){return I?E:T})(v)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/defineProperty")),h=s(e("lodash/includes")),_=function(v,T){if(!T&&v&&v.__esModule)return v;if(v===null||t(v)!=="object"&&typeof v!="function")return{default:v};var E=a(T);if(E&&E.has(v))return E.get(v);var I={},g=u&&n;for(var k in v)if(k!=="default"&&Object.prototype.hasOwnProperty.call(v,k)){var j=g?n(v,k):null;j&&(j.get||j.set)?u(I,k,j):I[k]=v[k]}return I.default=v,E&&E.set(v,I),I}(e("kefir")),y=s(e("kefir-bus")),S=function(){function v(T){(0,f.default)(this,v),(0,m.default)(this,"_element",document.createElement("button")),(0,m.default)(this,"_title",void 0),(0,m.default)(this,"_tooltip",void 0),(0,m.default)(this,"_buttonColor",void 0),(0,m.default)(this,"_eventStream",(0,y.default)()),(0,m.default)(this,"_isEnabled",void 0),this._isEnabled=T.enabled!==!1,this._title=T.text||T.title,this._tooltip=T.tooltip||T.title,this._buttonColor=T.buttonColor||"default",this._createElement(T),this._eventStream=(0,y.default)(),this._setupEventStream()}return(0,d.default)(v,[{key:"destroy",value:function(){this._element.remove(),this._eventStream.end()}},{key:"getElement",value:function(){return this._element}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"setEnabled",value:function(T){this._setEnabled(T)}},{key:"update",value:function(){throw new Error("not implemented")}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"_createElement",value:function(T){T.isPrimary&&this._element.classList.add("J-at1-auR"),this._element.innerText=T.text||T.title||"",T.tooltip&&this._element.setAttribute("aria-label",T.tooltip),this._element.setAttribute("role","button"),this._element.setAttribute("tabindex","0"),(T.tooltip||T.title)&&this._element.setAttribute("data-tooltip",String(T.tooltip||T.title))}},{key:"_setEnabled",value:function(T){this._isEnabled!==T&&(this._isEnabled=T,this._isEnabled?this._element.classList.remove("inboxsdk__button_disabled"):this._element.classList.add("inboxsdk__button_disabled"),this._eventStream.emit({eventName:"enabledChanged",isEnabled:this._isEnabled}))}},{key:"_setupEventStream",value:function(){var T=this,E=_.fromEvents(this._element,"click");E.onValue(function(j){j.stopPropagation(),j.preventDefault()}),this._eventStream.plug(E.filter(function(){return T.isEnabled()}).map(function(j){return{eventName:"click",domEvent:j}}));var I=function(j){return(0,h.default)([32,13],j.which)},g=_.fromEvents(this._element,"keydown").filter(function(){return T.isEnabled()}),k=g.filter(I);this._eventStream.plug(k.map(function(j){return{eventName:"click",domEvent:j}})),k.onValue(function(j){j.stopPropagation(),j.preventDefault()})}}]),v}();i.default=S},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,"kefir-bus":324,"lodash/includes":493}],768:[function(e,l,i){"use strict";function a(T){var E=t();return function(){var I,g=(0,_.default)(T);if(E){var k=(0,_.default)(this).constructor;I=o(g,arguments,k)}else I=g.apply(this,arguments);return(0,h.default)(this,I)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(T){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=n(e("../../../../lib/dom/generic-button-view")),v=function(T){function E(){var g;(0,s.default)(this,E),g=I.call(this,document.createElement("div")),(0,y.default)((0,d.default)(g),"_isActive",!1);var k=g._element;k.setAttribute("class","nL aig");var j=document.createElement("div");return j.setAttribute("class","pM aj0"),k.appendChild(j),k.addEventListener("click",function(){g._isActive=!0}),k.addEventListener("mouseenter",function(){j.classList.add("aj1")}),k.addEventListener("mouseleave",function(){g._isActive||j.classList.remove("aj1")}),g}(0,m.default)(E,T);var I=a(E);return(0,f.default)(E,[{key:"activate",value:function(){this.getElement().children[0].classList.add("aj1")}},{key:"deactivate",value:function(){this.getElement().children[0].classList.remove("aj1"),this._isActive=!1}}]),E}(S.default);i.default=v},{"../../../../lib/dom/generic-button-view":854,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}],769:[function(e,l,i){"use strict";function a(y){var S=t();return function(){var v,T=(0,m.default)(y);if(S){var E=(0,m.default)(this).constructor;v=o(T,arguments,E)}else v=T.apply(this,arguments);return(0,d.default)(this,v)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(y){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/inherits")),d=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),m=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),h=n(e("./create-parent-accessory-button-view")),_=function(y){function S(){var T;return(0,s.default)(this,S),T=v.call(this),T.getElement().style.backgroundImage="url(https://www.gstatic.com/images/icons/material/system_gm/2x/more_vert_black_20dp.png)",T}(0,f.default)(S,y);var v=a(S);return S}(h.default);i.default=_},{"./create-parent-accessory-button-view":765,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}],770:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=e("ud"),f=t(e("lodash/isEqual")),d=t(e("../../../lib/dom/querySelectorOrFail")),m=function(){function _(){(0,o.default)(this,_),(0,n.default)(this,"_element",void 0),(0,n.default)(this,"_actionDescriptor",void 0),this._element=document.createElement("div"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.className="inboxsdk__gmail_action ",this._element.innerHTML=`
			<div>
			</div>`,this._actionDescriptor=null}return(0,u.default)(_,[{key:"getElement",value:function(){return this._element}},{key:"updateDescriptor",value:function(y){if(!y)return void(this._actionDescriptor=y);(0,f.default)(this._actionDescriptor,y)||(this._updateTitle(y.title),this._element.className="inboxsdk__gmail_action "+(y.className||""),this._actionDescriptor=y)}},{key:"setOnClick",value:function(y){this._element.onclick=y}},{key:"_updateTitle",value:function(y){this._actionDescriptor&&this._actionDescriptor.title===y||((0,d.default)(this._element,"div").textContent=y)}}]),_}(),h=(0,s.defn)(l,m);i.default=h},{"../../../lib/dom/querySelectorOrFail":869,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/isEqual":501,ud:625}],771:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=t(e("../../../lib/dom/block-and-reemit-keyboard-events")),f=function(){function d(){(0,o.default)(this,d),(0,n.default)(this,"_containerElement",void 0),(0,n.default)(this,"_contentElement",void 0),this._containerElement=document.createElement("div"),this._containerElement.setAttribute("class","inboxsdk__menu"),this._contentElement=document.createElement("div"),this._contentElement.setAttribute("class","inboxsdk__menuContent"),this._containerElement.appendChild(this._contentElement),(0,s.default)(this._containerElement)}return(0,u.default)(d,[{key:"destroy",value:function(){this._containerElement.remove()}},{key:"getContainerElement",value:function(){return this._containerElement}},{key:"getContentElement",value:function(){return this._contentElement}}]),d}();i.default=f},{"../../../lib/dom/block-and-reemit-keyboard-events":852,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],772:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/object/assign")),u=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(e("@babel/runtime-corejs2/helpers/createClass")),s=t(e("@babel/runtime-corejs2/helpers/defineProperty")),f=e("ud"),d=t(e("lodash/isEqual")),m=t(e("../../../driver-common/update-icon")),h=t(e("../../../lib/dom/querySelectorOrFail")),_=function(){function S(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,u.default)(this,S),(0,s.default)(this,"_element",void 0),(0,s.default)(this,"_labelDescriptor",void 0),(0,s.default)(this,"_iconSettings",void 0),this._element=document.createElement("div"),this._element.className="inboxsdk__gmail_label ar as "+(v.classes||[]).join(" "),this._element.innerHTML=`
			<div class="at">
				<div class="au">
					<div class="av"></div>
				</div>
			</div>`,this._labelDescriptor={},this._iconSettings={}}return(0,n.default)(S,[{key:"getElement",value:function(){return this._element}},{key:"updateLabelDescriptor",value:function(v){this._handleNewLabelDescriptor(v)}},{key:"_handleNewLabelDescriptor",value:function(v){if(!v)return void(this._labelDescriptor={});v=(0,o.default)({foregroundColor:"rgb(102, 102, 102)",backgroundColor:"rgb(221, 221, 221)",maxWidth:"90px"},v),(0,d.default)(this._labelDescriptor,v)||((0,m.default)(this._iconSettings,(0,h.default)(this._element,".at"),!1,v.iconClass,v.iconUrl,void 0,v.iconHtml),v.iconClass||v.iconUrl||v.iconHtml?this._element.classList.add("inboxsdk__label_has_icon"):this._element.classList.remove("inboxsdk__label_has_icon"),this._updateBackgroundColor(v.backgroundColor),this._updateForegroundColor(v.foregroundColor),this._updateIconBackgroundColor(v.iconBackgroundColor),this._updateTitle(v.title,v.titleHtml),this._updateTextMaxWidth(v.maxWidth),this._labelDescriptor=v)}},{key:"_updateTextMaxWidth",value:function(v){if(this._labelDescriptor.maxWidth!==v){var T=this._element.querySelector(".av");T&&(T.style.maxWidth=v)}}},{key:"_updateBackgroundColor",value:function(v){if(this._labelDescriptor.backgroundColor!==v){var T=(0,h.default)(this._element,".at");T.style.backgroundColor=v,T.style.borderColor=v,(0,h.default)(this._element,".au").style.borderColor=v}}},{key:"_updateForegroundColor",value:function(v){this._labelDescriptor.foregroundColor!==v&&((0,h.default)(this._element,".at").style.color=v)}},{key:"_updateIconBackgroundColor",value:function(v){var T=this.getElement().querySelector(".inboxsdk__button_icon");T&&(T.style.backgroundColor=v||"")}},{key:"_updateTitle",value:function(v,T){if(this._labelDescriptor.title!==v||this._labelDescriptor.titleHtml!==T){if(T)return void((0,h.default)(this._element,".au").innerHTML=T||"");var E;try{E=(0,h.default)(this._element,".av")}catch(g){var I=(0,h.default)(this._element,".au");I.innerHTML="",E=document.createElement("div"),E.setAttribute("class","av"),I.appendChild(E)}E.textContent=v,this._element.children[0].setAttribute("data-tooltip",v)}}}]),S}(),y=(0,f.defn)(l,_);i.default=y},{"../../../driver-common/update-icon":843,"../../../lib/dom/querySelectorOrFail":869,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/isEqual":501,ud:625}],773:[function(e,l,i){"use strict";function a(x,A){var w=o(x);if(u){var C=u(x);A&&(C=C.filter(function(O){return n(x,O).enumerable})),w.push.apply(w,C)}return w}function t(x){for(var A=1;A<arguments.length;A++){var w=arguments[A]!=null?arguments[A]:{};A%2?a(Object(w),!0).forEach(function(C){(0,y.default)(x,C,w[C])}):s?f(x,s(w)):a(Object(w)).forEach(function(C){d(x,C,n(w,C))})}return x}var o=e("@babel/runtime-corejs2/core-js/object/keys"),u=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),f=e("@babel/runtime-corejs2/core-js/object/define-properties"),d=e("@babel/runtime-corejs2/core-js/object/define-property"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");d(i,"__esModule",{value:!0}),i.default=void 0;var h=m(e("@babel/runtime-corejs2/helpers/classCallCheck")),_=m(e("@babel/runtime-corejs2/helpers/createClass")),y=m(e("@babel/runtime-corejs2/helpers/defineProperty")),S=m(e("lodash/sortBy")),v=(m(e("kefir")),m(e("kefir-bus"))),T=e("ud"),E=m(e("./buttons/modal-button-view")),I=m(e("../../../widgets/buttons/basic-button-view-controller")),g=m(e("../../../lib/dom/querySelectorOrFail")),k=function(){function x(A){(0,h.default)(this,x),(0,y.default)(this,"_eventStream",void 0),(0,y.default)(this,"_modalContainerElement",void 0),this._setupModalContainerElement(A),this._processOptions(A),this._eventStream=(0,v.default)(),this._setupEventStream()}return(0,_.default)(x,[{key:"destroy",value:function(){this._modalContainerElement.remove(),this._eventStream.end()}},{key:"getModalContainerElement",value:function(){return this._modalContainerElement}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"_processOptions",value:function(A){this.setTitle(A.title),this.setContentElement(A.el),this.setButtons(A.buttons||[]),this.setChromeClass(A.chrome,A.showCloseButton,(A.buttons||[]).length>0)}},{key:"setTitle",value:function(A){var w=(0,g.default)(this._modalContainerElement,"[role=heading]");A?(w.style.display="",w.textContent=A):w.style.display="none"}},{key:"setContentElement",value:function(A){var w=(0,g.default)(this._modalContainerElement,".inboxsdk__modal_content");w.innerHTML="",typeof A=="string"?w.innerHTML=A:A instanceof Element&&w.appendChild(A)}},{key:"setButtons",value:function(A){var w=(0,g.default)(this._modalContainerElement,".inboxsdk__modal_buttons");w.innerHTML="",A.length===0?(w.style.display="none",this._modalContainerElement.classList.add("inboxsdk__modal_content_no_buttons")):(w.style.display="",this._modalContainerElement.classList.remove("inboxsdk__modal_content_no_buttons")),(0,S.default)(A,function(C){return C.orderHint||0}).forEach(this._addButton.bind(this,w))}},{key:"setChromeClass",value:function(A,w,C){this._modalContainerElement.classList.remove("inboxsdk__modal_hideSides"),this._modalContainerElement.classList.remove("inboxsdk__modal_hideTop"),this._modalContainerElement.classList.remove("inboxsdk__modal_hideBottom"),A===!1&&(this._modalContainerElement.classList.add("inboxsdk__modal_hideSides"),w||this._modalContainerElement.classList.add("inboxsdk__modal_hideTop"),C||this._modalContainerElement.classList.add("inboxsdk__modal_hideBottom"))}},{key:"_setupModalContainerElement",value:function(A){var w=A.constrainTitleWidth?"inboxsdk__modal_toprow--constrain-title-width":"";this._modalContainerElement=document.createElement("div"),this._modalContainerElement.className="inboxsdk__modal_fullscreen";var C=`
    <div class="Kj-JD inboxsdk__modal_container" tabindex="0" role="alertdialog">
      <div class="Kj-JD-K7 Kj-JD-K7-GIHV4 inboxsdk__modal_toprow `.concat(w,`">
        <span class="Kj-JD-K7-K0" role="heading"></span>
        <span class="Kj-JD-K7-Jq inboxsdk__modal_close" tabindex="0" role="button"></span>
      </div>
      <div class="Kj-JD-Jz inboxsdk__modal_content">
      </div>
      <div class="Kj-JD-Jl inboxsdk__modal_buttons"></div>
    </div>
    `);this._modalContainerElement.innerHTML=C}},{key:"_addButton",value:function(A,w){var C=t({},w);["blue","red","green"].includes(w.color)&&w.color,C.isPrimary=w.type==="PRIMARY_ACTION";var O=new E.default(C);C.buttonView=O,new I.default(C),w.type==="PRIMARY_ACTION"?A.insertBefore(O.getElement(),A.firstElementChild):A.appendChild(O.getElement())}},{key:"_setupEventStream",value:function(){var A=this;(0,g.default)(this._modalContainerElement,".inboxsdk__modal_close").addEventListener("click",function(w){A._eventStream.emit({eventName:"closeClick",domEvent:w})})}}]),x}(),j=(0,T.defn)(l,k);i.default=j},{"../../../lib/dom/querySelectorOrFail":869,"../../../widgets/buttons/basic-button-view-controller":940,"./buttons/modal-button-view":767,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-bus":324,"lodash/sortBy":519,ud:625}],774:[function(e,l,i){"use strict";function a(x){var A=!(0,g.default)();return`
    <div class="inboxsdk__mole_view_inner `.concat(A?"inboxsdk__original_view":"",`">
      `).concat(t(x),`
      <div class="inboxsdk__mole_view_content `).concat(A?"inboxsdk__original_view":"",`"></div>
    </div>
  `)}function t(x){if(x.chrome===!1)return"";var A=!(0,g.default)();return`
      <div class="inboxsdk__mole_view_titlebar`.concat(A?" inboxsdk__original_view":"",`">
        <div class="inboxsdk__mole_title_buttons`).concat(A?" inboxsdk__original_view":"",`">
          <img class="Hl" src="images/cleardot.gif" alt="Minimize" aria-label="Minimize" data-tooltip-delay="800" data-tooltip="Minimize"><img class="Hk" id=":rp" src="images/cleardot.gif" alt="Minimize" aria-label="Maximize" data-tooltip-delay="800" data-tooltip="Maximize"><!--<img class="Hq aUG" src="images/cleardot.gif" alt="Pop-out" aria-label="Full-screen (Shift for Pop-out)" data-tooltip-delay="800" data-tooltip="Full-screen (Shift for Pop-out)">--><img class="Ha" src="images/cleardot.gif" alt="Close" aria-label="Close" data-tooltip-delay="800" data-tooltip="Close">
        </div>
        <h2 class="inboxsdk__mole_default"></h2>
        <h2 class="inboxsdk__mole_minimized"></h2>
      </div>`)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=u(e("@babel/runtime-corejs2/core-js/object/assign")),s=u(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=u(e("@babel/runtime-corejs2/helpers/createClass")),d=u(e("@babel/runtime-corejs2/helpers/defineProperty")),m=u(e("lodash/last")),h=e("ud"),_=u(e("kefir")),y=u(e("kefir-bus")),S=u(e("kefir-stopper")),v=u(e("../../../lib/stream-wait-for")),T=u(e("../../../lib/dom/querySelectorOrFail")),E=u(e("../../../../common/find-parent")),I=u(e("../gmail-element-getter")),g=u(e("../../gmail/is-compose-titlebar-light-color")),k=function(){function x(A,w){var C=this;if((0,s.default)(this,x),(0,d.default)(this,"_driver",void 0),(0,d.default)(this,"_eventStream",(0,y.default)()),(0,d.default)(this,"_stopper",(0,S.default)()),(0,d.default)(this,"_element",void 0),this._driver=A,this._element=(0,n.default)(document.createElement("div"),{className:"inboxsdk__mole_view "+(w.className||""),innerHTML:a(w)}),w.chrome===!1)this._element.classList.add("inboxsdk__mole_view_chromeless");else{(0,T.default)(this._element,".inboxsdk__mole_view_titlebar").addEventListener("click",function(P){C.setMinimized(!C.getMinimized()),P.preventDefault(),P.stopPropagation()}),(0,T.default)(this._element,".Hl").addEventListener("click",function(P){C.setMinimized(!0),P.preventDefault(),P.stopPropagation()}),(0,T.default)(this._element,".Hk").addEventListener("click",function(P){C.setMinimized(!1),P.preventDefault(),P.stopPropagation()}),(0,T.default)(this._element,".Ha").addEventListener("click",function(P){C.destroy(),P.preventDefault(),P.stopPropagation()}),w.titleEl?this._setTitleEl(w.titleEl):this.setTitle(w.title||""),w.minimizedTitleEl&&this._setMinimizedTitleEl(w.minimizedTitleEl);var O=w.titleButtons;if(O){var V=(0,T.default)(this._element,".inboxsdk__mole_title_buttons"),R=V.lastElementChild;O.forEach(function(P){var B=document.createElement("img");P.iconClass&&(B.className=P.iconClass),B.setAttribute("data-tooltip",P.title),B.addEventListener("click",function(z){z.preventDefault(),z.stopPropagation(),P.onClick.call(null)}),B.src=P.iconUrl,V.insertBefore(B,R)})}}(0,T.default)(this._element,".inboxsdk__mole_view_content").appendChild(w.el)}return(0,f.default)(x,[{key:"show",value:function(){var A=this,w=function(V){V.insertBefore(A._element,(0,m.default)(V.children));var R=(0,E.default)(V,function(P){return P.nodeName==="DIV"&&P.classList.contains("dw")});R&&R.classList.add("inboxsdk__moles_in_use")},C=I.default.getMoleParent();if(C)w(C);else{var O=(0,v.default)(function(){return I.default.getMoleParent()}).takeUntilBy(this._stopper).onValue(w);_.default.fromPromise(I.default.waitForGmailModeToSettle()).flatMap(function(){return A._driver.delayToTimeAfterReady(1e4)}).takeUntilBy(O).takeUntilBy(this._stopper).onValue(function(){A._driver.getLogger().eventSdkActive("mole parent force load"),A._driver.openNewComposeViewDriver().then(function(V){V.close()})})}}},{key:"setMinimized",value:function(A){if(A)this._element.classList.add("inboxsdk__minimized"),this._eventStream.emit({eventName:"minimize"});else{this._element.classList.remove("inboxsdk__minimized");var w=this._element.parentElement;w&&this._element.getBoundingClientRect().left<0&&w.insertBefore(this._element,(0,m.default)(w.children)),this._eventStream.emit({eventName:"restore"})}}},{key:"getMinimized",value:function(){return this._element.classList.contains("inboxsdk__minimized")}},{key:"setTitle",value:function(A){var w=this._element.querySelector(".inboxsdk__mole_view_titlebar h2.inboxsdk__mole_default");w&&(w.textContent=A)}},{key:"_setTitleEl",value:function(A){var w=this._element.querySelector(".inboxsdk__mole_view_titlebar h2.inboxsdk__mole_default");w&&(w.textContent="",w.appendChild(A))}},{key:"_setMinimizedTitleEl",value:function(A){var w=this._element.querySelector(".inboxsdk__mole_view_titlebar h2.inboxsdk__mole_minimized");w&&(this._element.classList.add("inboxsdk__mole_use_minimize_title"),w.textContent="",w.appendChild(A))}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"destroy",value:function(){this._element.remove(),this._eventStream.end(),this._stopper.destroy()}}]),x}(),j=(0,h.defn)(l,k);i.default=j},{"../../../../common/find-parent":640,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/stream-wait-for":902,"../../gmail/is-compose-titlebar-light-color":702,"../gmail-element-getter":696,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/last":511,ud:625}],775:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/object/assign")),u=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(e("@babel/runtime-corejs2/helpers/createClass")),s=t(e("@babel/runtime-corejs2/helpers/defineProperty")),f=t(e("lodash/sortBy")),d=t(e("lodash/escape")),m=t(e("asap")),h=(t(e("kefir")),t(e("kefir-bus"))),_=t(e("kefir-stopper")),y=t(e("../../../lib/dom/querySelectorOrFail")),S=t(e("./buttons/button-view")),v=t(e("../../../widgets/buttons/basic-button-view-controller")),T=function(){function E(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,u.default)(this,E),(0,s.default)(this,"_element",void 0),(0,s.default)(this,"_eventStream",(0,h.default)()),(0,s.default)(this,"_stopper",(0,_.default)()),this._setupElement(I)}return(0,n.default)(E,[{key:"destroy",value:function(){this._eventStream.end(),this._stopper.destroy(),this._element.remove()}},{key:"getElement",value:function(){return this._element}},{key:"getStopper",value:function(){return this._stopper}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"anchor",value:function(I,g){if(I&&this._element){var k,j=I.getBoundingClientRect(),x=this._element.getBoundingClientRect();if(g&&g.position)switch(g.position){case"top":k={type:"top",value:this._getTopPositionBoundingBox(j,x)};break;case"bottom":k={type:"bottom",value:this._getBottomPositionBoundingBox(j,x)}}k||(k=this._getAutomaticPlacementBoundingBox(j,x));var A=this._containBoundingBox(k.value,g&&g.offset);this._setPositionAtBoundingBox(A),this._setArrowPosition(k.type,A,j)}}},{key:"getContainerElement",value:function(){return this._element}},{key:"getContentElement",value:function(){return(0,y.default)(this._element,".aRM")}},{key:"close",value:function(){this.destroy()}},{key:"_setupElement",value:function(I){var g=this;if(this._element=document.createElement("div"),this._element.setAttribute("class","inboxsdk__tooltip"),I.el)this._element.innerHTML=`<div class="T-P aRL">
						<div class="T-P-Jz-UR">
							<div class="aRM" tabindex="0">
							</div>
						</div>

						<div class="T-P-hFsbo-UR T-P-hFsbo T-P-atB inboxsdk__tooltip_arrow">
							<div class="T-P-atD"></div>
							<div class="T-P-atC"></div>
						</div>
					</div>`,this._element.classList.add("inboxdk__tooltip_content"),(0,y.default)(this._element,".aRM").appendChild(I.el);else{var k=['<div class="T-P aRL">','<div class="T-P-Jz-UR">','<div class="aRM" tabindex="0">','<div class="aVn inboxsdk__tooltip_image">',"</div>",'<div class="aRR">',(0,d.default)(I.title||""),"</div>",'<div class="aRQ">',(0,d.default)(I.subtitle||""),"</div>",'<div class="inboxsdk__tooltip_button">',"</div>","</div>","</div>",'<div class="T-P-aut-UR T-P-aut inboxsdk__tooltip_close" aria-label="Close" role="button"></div>','<div class="T-P-hFsbo-UR T-P-hFsbo T-P-atB inboxsdk__tooltip_arrow">','<div class="T-P-atD"></div>','<div class="T-P-atC"></div>',"</div>","</div>"].join("");this._element.innerHTML=k;var j=this._element.querySelector(".inboxsdk__tooltip_close");if(j&&j.addEventListener("click",function(C){g.destroy()}),I.imageUrl){var x=document.createElement("img");x.src=I.imageUrl,(0,y.default)(this._element,".inboxsdk__tooltip_image").appendChild(x),x.addEventListener("load",function(C){(0,m.default)(function(){g._eventStream.emit({eventName:"imageLoaded"})})})}if(I.button){var A=(0,o.default)({},I.button);A.buttonColor="blue";var w=A.onClick;A.onClick=function(){g.destroy(),w&&w()},A.buttonView=new S.default(A),new v.default(A),(0,y.default)(this._element,".inboxsdk__tooltip_button").appendChild(A.buttonView.getElement())}}}},{key:"_getAutomaticPlacementBoundingBox",value:function(I,g){var k=[{type:"top",value:this._getTopPositionBoundingBox(I,g)},{type:"left",value:this._getLeftPositionBoundingBox(I,g)},{type:"right",value:this._getRightPositionBoundingBox(I,g)},{type:"bottom",value:this._getBottomPositionBoundingBox(I,g)}];return this._figureOutBestBoundingBox(k)}},{key:"_getTopPositionBoundingBox",value:function(I,g){var k=I.top-g.height-9,j=I.left+I.width/2-g.width/2;return[{x:j,y:k},{x:j+g.width,y:k+g.height}]}},{key:"_getRightPositionBoundingBox",value:function(I,g){var k=I.right+9,j=I.top+I.height/2-g.height/2;return[{x:k,y:j},{x:k+g.width,y:j+g.height}]}},{key:"_getBottomPositionBoundingBox",value:function(I,g){var k=I.bottom+9,j=I.left+I.width/2-g.width/2;return[{x:j,y:k},{x:j+g.width,y:k+g.height}]}},{key:"_getLeftPositionBoundingBox",value:function(I,g){var k=I.left-9-g.width,j=I.top+I.height/2-g.height/2;return[{x:k,y:j},{x:k+g.width,y:j+g.height}]}},{key:"_figureOutBestBoundingBox",value:function(I){for(var g=0;g<I.length;g++)I[g].smallestDistance=this._getSmallestDistance(I[g]);return(0,f.default)(I,function(k){return k.smallestDistance}).reverse()[0]}},{key:"_getSmallestDistance",value:function(I){var g=[I.value[0].y,I.value[0].x,document.body.clientWidth-I.value[1].x,document.body.clientHeight-I.value[1].y];return(0,f.default)(g,function(k){return k})[0]}},{key:"_containBoundingBox",value:function(I,g){var k=I[1].y-I[0].y,j=I[1].x-I[0].x;return I[0].y<-1?(I[0].y=0,I[1].y=I[0].y+k):I[1].y>document.body.clientHeight&&(I[0].y=document.body.clientHeight-k,I[1].y=I[0].y+k),I[0].x<-1?(I[0].x=0,I[1].x=I[0].x+j):I[1].x>document.body.clientWidth&&(I[0].x=document.body.clientWidth-j-20,I[1].x=I[0].x+j),g&&(g.left&&(I[0].x+=g.left,I[1].x+=g.left),g.top&&(I[0].y+=g.top,I[1].y+=g.top)),I}},{key:"_setPositionAtBoundingBox",value:function(I){this._element.style.left=I[0].x+"px",this._element.style.top=I[0].y+"px"}},{key:"_setArrowPosition",value:function(I,g,k){var j={};switch(I){case"top":j.top=g[1].y,j.left=k.left+k.width/2;break;case"left":j.top=(g[0].y+g[1].y)/2-9,j.left=g[1].x;break;case"right":j.top=(g[0].y+g[1].y)/2-9,j.left=g[0].x-9+1;break;case"bottom":j.top=g[0].y-9+1,j.left=(g[0].x+g[1].x)/2}var x=(0,y.default)(this._element,".inboxsdk__tooltip_arrow");x.style.left=j.left+"px",x.style.top=j.top+"px"}}]),E}();i.default=T},{"../../../lib/dom/querySelectorOrFail":869,"../../../widgets/buttons/basic-button-view-controller":940,"./buttons/button-view":763,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,asap:83,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/escape":482,"lodash/sortBy":519}],776:[function(e,l,i){(function(a){(function(){"use strict";var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/helpers/toConsumableArray")),n=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),s=o(e("@babel/runtime-corejs2/helpers/createClass")),f=o(e("@babel/runtime-corejs2/helpers/defineProperty")),d=(o(e("kefir")),o(e("kefir-bus"))),m=o(e("../../../lib/fake-window-resize")),h=function(){function _(y){var S=this;(0,n.default)(this,_),(0,f.default)(this,"_element",void 0),(0,f.default)(this,"_eventStream",void 0),(0,f.default)(this,"_resizeObserver",void 0),this._eventStream=(0,d.default)();var v=a.ResizeObserver;v&&(this._resizeObserver=new v(function(){S.setTopMessageBarHeight()})),y.takeUntilBy(this._eventStream.filter(function(){return!1}).beforeEnd(function(){return null})).onValue(function(T){if(T){if(T){var E=S._element;E||(E=S._element=document.createElement("div"),E.classList.add("inboxsdk__topMessageBar"),document.body.insertBefore(E,document.body.firstChild),document.body.classList.add("inboxsdk__hasTopMessageBar"),(0,m.default)()),T.el!==E.children[0]&&(E.innerHTML="",T.el&&(E.appendChild(T.el),S._resizeObserver&&S._resizeObserver.observe(E),S.setTopMessageBarHeight()))}}else S._element&&(S._element.remove(),S._element=null)})}return(0,s.default)(_,[{key:"destroy",value:function(){this._element&&(this._element.remove(),this._element=null),this._eventStream.end(),this._resizeObserver&&this._resizeObserver.disconnect(),document.querySelectorAll(".inboxsdk__topMessageBar").length===0?document.body.classList.remove("inboxsdk__hasTopMessageBar"):this.setTopMessageBarHeight(),(0,m.default)()}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"remove",value:function(){this.destroy()}},{key:"setTopMessageBarHeight",value:function(){var y=(0,u.default)(document.querySelectorAll(".inboxsdk__topMessageBar")),S=y.reduce(function(v,T){return v+T.offsetHeight},0);document.body.style.setProperty("--inboxsdk__topMessageBar-height","".concat(S,"px"))}}]),_}();i.default=h}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../lib/fake-window-resize":878,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/toConsumableArray":56,kefir:327,"kefir-bus":324}],777:[function(e,l,i){"use strict";function a(d,m,h){var _=new u.default(d,0);return(0,f.default)(m).take(1).map(function(y){return y.el.getValue()}).onValue(function(y){if(_.getEventStream().filter(function(E){return E.eventName==="orderChanged"}).onValue(function(){return(0,n.default)(h,_.getElement())}),!y.contains(h)){var S=y.querySelectorAll(".inboxsdk__navItem_appContainer");if(S.length>0)S[S.length-1].insertAdjacentElement("afterend",h);else{var v=(0,s.default)(y,'ul > li > img[src*="ic_draft"]'),T=v.parentElement&&v.parentElement.parentElement;if(!T)throw new Error("could not locate insertion point");T.insertAdjacentElement("afterend",h)}}(0,n.default)(h,_.getElement())}),_}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=(o(e("kefir")),o(e("./views/inboxNavItemView"))),n=o(e("../../lib/dom/insert-element-in-order")),s=o(e("../../lib/dom/querySelectorOrFail")),f=o(e("../../lib/toItemWithLifetimeStream"))},{"../../lib/dom/insert-element-in-order":857,"../../lib/dom/querySelectorOrFail":869,"../../lib/toItemWithLifetimeStream":903,"./views/inboxNavItemView":827,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],778:[function(e,l,i){"use strict";function a(s,f){var d=null,m=s.getBCCRow(),h=(0,u.default)();return f.takeUntilBy(s.getStopper()).takeUntilBy(h).onValue(function(_){d&&(d.remove(),d=null),_&&(d=n(_),m.insertAdjacentElement("afterend",d))}),h.merge(s.getStopper()).take(1).onValue(function(){d&&(d.remove(),d=null)}),function(){h.destroy()}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=(o(e("closest-ng")),o(e("kefir")),o(e("kefir-stopper"))),n=function(s){var f=s.labelText,d=s.el,m=document.createElement("div"),h=document.createElement("span"),_=document.createElement("div");return m.classList.add("inboxsdk__recipient_row"),h.classList.add("inboxsdk__recipient_label"),_.classList.add("inboxsdk__recipient_content"),f&&(h.textContent=f,m.appendChild(h)),d&&(_.appendChild(d),m.appendChild(_)),m}},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"closest-ng":105,kefir:327,"kefir-stopper":326}],779:[function(e,l,i){"use strict";function a(d,m,h){if((0,n.default)((0,u.default)(f.NATIVE_ROUTE_IDS),m))throw new Error("NativeRouteIDs are not currently supported in Inbox");if(!d.getCustomRouteIDs().has(m))throw new Error("Invalid routeID: ".concat(m));return"#"+(0,s.default)(m,h)}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/object/values")),n=o(e("lodash/includes")),s=o(e("../../lib/populateRouteID")),f=e("../../constants/router")},{"../../constants/router":658,"../../lib/populateRouteID":895,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/values":21,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/includes":493}],780:[function(e,l,i){"use strict";function a(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!f.getElementById("inboxsdk__style")){var d=f.createElement("style");if(d.id="inboxsdk__style",s.onValue(function(m){d.textContent=(0,n.default)(m)}),!f.head)throw new Error("missing head");f.head.appendChild(d)}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("ud-kefir")),n=o(e("../../lib/rewriteCssWithIdMap")),s=(0,u.default)(l,`.inboxsdk__appButton_container {
  position: absolute;
  right: 192px;
  top: 16px;
  white-space: nowrap;
}

.inboxsdk__appButton {
  position: relative;
  line-height: 0;
  margin-right: 16px;
  display: inline-block;
}

.inboxsdk__appButton .inboxsdk__button_iconImg {
  width: 24px;
  height: 24px;
}

.inboxsdk__appButton.inboxsdk__button_icon.inboxsdk__active,
.inboxsdk__appButton.inboxsdk__button_icon:focus {
  outline: none;
}
.inboxsdk__compose_actionToolbar .inboxsdk__button_icon::before,
.inboxsdk__list_toolbar > .inboxsdk__button_icon::before,
.inboxsdk__navItem_accessory > .inboxsdk__button_icon::before,
.inboxsdk__appButton.inboxsdk__button_icon::before {
  content: ' ';
  position: absolute;
  top: -4px;
  bottom: -4px;
  left: -4px;
  right: -4px;
  margin: auto;
  padding: 4px;
  border-radius: 50%;
}
.inboxsdk__appButton.inboxsdk__button_icon.inboxsdk__active::before,
.inboxsdk__appButton.inboxsdk__button_icon:focus::before {
  background-color: rgba(0, 0, 0, 0.1);
}
.inboxsdk__list_toolbar > .inboxsdk__button_icon.inboxsdk__active::before,
.inboxsdk__navItem_accessory > .inboxsdk__button_icon:focus::before,
.inboxsdk__navItem_accessory > .inboxsdk__button_icon.inboxsdk__active::before,
.inboxsdk__list_toolbar > .inboxsdk__button_icon:focus::before {
  background-color: rgba(0, 0, 0, 0.12);
}

.inboxsdk__appButton_tooltip_container {
  outline: none;
  right: 30px;
  position: fixed;
  z-index: 25;
  text-align: center;
}

.inboxsdk__appButton_tooltip {
  display: inline-block;
  max-width: 500px;
  white-space: initial;
  text-align: center;
  font: normal normal normal normal 16px / normal arial, sans-serif;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(0, 0, 0, 0.2);
  background: white;
}

.inboxsdk__compose_actionToolbar {
  display: inline-block;
}

/* custom view */

.inboxsdk__custom_view {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  /* needs to take up the whole screen so that it blocks clicks to elements behind it. */
  display: flex;
  display: -webkit-flex;
  min-height: 100%;
  background: rgb(242, 242, 242);
}

.IDMAP_custom_view_container {
  margin-top: 56px;
}

.IDMAP_custom_view_min_margins {
  flex: 1;
  -webkit-flex: 1;
  min-width: 0;
}

/* sidebar */

.IDMAP_app_sidebar {
  background: #f2f2f2;
  position: fixed;
  top: 56px;
  bottom: 0;
  right: 0;
  width: 232px;
  z-index: 5;
}

.IDMAP_app_sidebar_main {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  overflow-y: auto;
}

.IDMAP_app_sidebar_content_area {
  padding: 12px 8px;
}

.IDMAP_app_sidebar_container[data-open='false'] {
  display: none;
}

.IDMAP_app_sidebar_content_area_padding {
  -webkit-flex: 1;
  flex: 1;
}

.IDMAP_app_sidebar_content_panel {
  background: #f2f2f2;
}

/* thread sidebar icon */

.IDMAP_sidebar_iconArea {
  position: absolute;
  right: -16px;

  /* needed to prevent rendering bug in chrome where the element is
  visibly duplicated when the parent becomes position:fixed. */
  will-change: top;
}

.IDMAP_sidebar_iconArea .IDMAP_sidebar_button_container {
  position: relative;
}

.IDMAP_sidebar_iconArea .inboxsdk__button_icon {
  margin-top: 10px;
  transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  transition-delay: 0.01s;
  box-shadow: 0 0 4px rgba(0, 0, 0, 0.14), 0 4px 8px rgba(0, 0, 0, 0.28);
  border: none;
  border-radius: 50%;
  background: #fff;
  height: 26px;
  width: 26px;
  overflow: hidden;
  padding: 0;
}

.IDMAP_sidebar_iconArea .inboxsdk__button_icon:focus,
.IDMAP_sidebar_iconArea .inboxsdk__button_icon:hover {
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.16), 0 6px 12px rgba(0, 0, 0, 0.32);
}

.IDMAP_sidebar_iconArea .inboxsdk__button_iconImg {
  width: 26px;
  height: 26px;
}

.inboxsdk__button_icon {
  -moz-user-select: none;
  -webkit-user-select: none;
  user-select: none;
  cursor: pointer;
  position: relative;
}

.inboxsdk__button_iconImg {
  user-drag: none;
  -moz-user-select: none;
  -webkit-user-drag: none;
}

.inboxsdk__compose_actionToolbar .inboxsdk__button_icon {
  display: inline-block;
  position: relative;
  width: 24px;
  height: 24px;
  opacity: 0.6;
  margin: 8px 12px 4px 2px;
  vertical-align: middle;
}
.inboxsdk__compose_actionToolbar .inboxsdk__button_icon.inboxsdk__active,
.inboxsdk__compose_actionToolbar .inboxsdk__button_icon:hover,
.inboxsdk__compose_actionToolbar .inboxsdk__button_icon:focus {
  opacity: 1;
  outline: none;
}
.inboxsdk__compose_actionToolbar
  .inboxsdk__button_icon.inboxsdk__active::before,
.inboxsdk__compose_actionToolbar .inboxsdk__button_icon:focus::before {
  background-color: rgba(0, 0, 0, 0.1);
}

.inboxsdk__compose_actionToolbar .inboxsdk__button_iconImg {
  width: 24px;
  height: 24px;
  vertical-align: middle;
}

.inboxsdk__compose_customSendContainer {
  display: inline-block;
  margin: 0;
  line-height: 2.8;
}

.inboxsdk__recipient_row {
  padding: 0 20px;
  display: -webkit-flex;
  display: flex;
  -webkit-flex: 0 0 auto;
  flex: 0 0 auto;
}

.inboxsdk__recipient_row > .inboxsdk__recipient_label {
  color: #757575;
  display: inline-block;
  padding-right: 6px;
  padding-top: 9px;
  min-width: 34px;
  -webkit-flex-grow: 0;
  flex-grow: 0;
}

.inboxsdk__recipient_row > .inboxsdk__recipient_content {
  display: flex;
  -webkit-flex: 1;
  flex: 1;
  -webkit-flex-direction: column;
  flex-direction: column;
  position: relative;
  padding: 7px 0;
  min-height: 35px;
  box-sizing: border-box;
}

.inboxsdk__compose_forceRecipientRowHidden {
  display: none !important;
}

.inboxsdk__list_toolbar > .inboxsdk__button_icon {
  display: inline-block;
  margin-left: 8px;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  opacity: 0.6;
  background-position: center;
  -webkit-mask-position: center;
  mask-position: center;
}

.inboxsdk__list_toolbar > .inboxsdk__button_icon.inboxsdk__active,
.inboxsdk__list_toolbar > .inboxsdk__button_icon:focus,
.inboxsdk__list_toolbar > .inboxsdk__button_icon:hover {
  outline: none;
  opacity: 1;
}

.inboxsdk__list_toolbar > .inboxsdk__button_icon > img {
  max-width: 24px;
  max-height: 24px;
}

.inboxsdk__dropdown {
  padding: 0;
  margin: 0;
  overflow: visible;
  z-index: 100;
  outline: none;
}
.inboxsdk__dropdown_content {
  background: #fff;
  color: #212121;
  min-width: 1em;
  min-height: 1em;
  padding: 0;
  margin: 0;
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.16), 0 6px 12px rgba(0, 0, 0, 0.32);
  border-radius: 2px;
  position: relative;
}

.inboxsdk__tooltip {
  z-index: 1300;
  position: fixed;
  /*transition: left 200ms ease, top 200ms ease;*/
  background: white;
  min-width: 1em;
  min-height: 1em;
  padding: 29px 36px 32px;
  text-align: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(0, 0, 0, 0.2);
  font: normal normal normal normal 16px / normal arial, sans-serif;
}

.inboxsdk__tooltip.inboxsdk__tooltip_chromeless {
  padding: 0;
}

.inboxsdk__tooltip > .inboxsdk__close_button {
  position: absolute;
  top: 4px;
  right: 4px;
}

.inboxsdk__tooltip h1 {
  color: #333;
  font-size: 18px;
  font-weight: normal;
  margin: 13px 0 0;
}

.inboxsdk__tooltip .inboxsdk__subtitle {
  color: #777;
  font-size: 13px;
  margin: 3px 0 14px 0;
}

.inboxsdk__tooltip_arrow {
  z-index: 1301;
  position: fixed;
  width: 0;
  height: 0;
  border: none;
  border-color: white; /* You can override this to change the tooltip's color! */
}
.inboxsdk__tooltip_arrow::before {
  content: ' ';
  position: absolute;
  border: 8px solid;
}
.inboxsdk__tooltip_arrow::after {
  content: ' ';
  position: absolute;
  border: 7px solid;
  border-color: transparent;
}
.inboxsdk__tooltip_arrow.inboxsdk__top::before {
  border-bottom-width: 0;
  border-color: rgba(0, 0, 0, 0.2) transparent;
  left: -9px;
}
.inboxsdk__tooltip_arrow.inboxsdk__top::after {
  border-bottom-width: 0;
  border-top-color: inherit;
  border-bottom-color: inherit;
  left: -8px;
}
.inboxsdk__tooltip_arrow.inboxsdk__bottom::before {
  border-top-width: 0;
  border-color: rgba(0, 0, 0, 0.2) transparent;
  top: -8px;
  left: -9px;
}
.inboxsdk__tooltip_arrow.inboxsdk__bottom::after {
  border-top-width: 0;
  border-top-color: inherit;
  border-bottom-color: inherit;
  top: -7px;
  left: -8px;
}
.inboxsdk__tooltip_arrow.inboxsdk__left {
}
.inboxsdk__tooltip_arrow.inboxsdk__left::before {
  border-right-width: 0;
  border-color: transparent rgba(0, 0, 0, 0.2);
  top: -8px;
}
.inboxsdk__tooltip_arrow.inboxsdk__left::after {
  border-right-width: 0;
  border-left-color: inherit;
  border-right-color: inherit;
  top: -7px;
}
.inboxsdk__tooltip_arrow.inboxsdk__right {
}
.inboxsdk__tooltip_arrow.inboxsdk__right::before {
  border-left-width: 0;
  border-color: transparent rgba(0, 0, 0, 0.2);
  top: -8px;
  left: -8px;
}
.inboxsdk__tooltip_arrow.inboxsdk__right::after {
  border-left-width: 0;
  border-left-color: inherit;
  border-right-color: inherit;
  top: -7px;
  left: -7px;
}

.inboxsdk__tooltip_img {
  max-width: 500px;
  max-height: 300px;
}

/* modal */
.inboxsdk__modal_fullscreen {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 503;
  display: -webkit-flex;
  display: flex;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  align-items: center;
  padding: 110px 50px 50px 50px;
  pointer-events: none;
}
.inboxsdk__modal_container {
  position: relative;
  background: #fff;
  color: #000;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(0, 0, 0, 0.333);
  outline: 0;
  padding: 30px 42px;
  pointer-events: auto;
}
.inboxsdk__modal_toprow [role='heading'] {
  font-size: 16px;
  line-height: 24px;
  margin: 0 0 16px;
  font: bold 1em arial, sans-serif;
  padding-right: 20px;
}
.inboxsdk__modal_content {
  margin: 30px 0;
  line-height: 1.4em;
  word-wrap: break-word;
  font: normal 0.8em arial, sans-serif;
}
.inboxsdk__modal_fullscreen.inboxsdk__modal_chromeless
  .inboxsdk__modal_container {
  padding-left: 0;
  padding-right: 0;
}
.inboxsdk__modal_fullscreen.inboxsdk__modal_chromeless
  .inboxsdk__modal_content {
  margin-left: 0;
  margin-right: 0;
}
.inboxsdk__modal_fullscreen.inboxsdk__modal_chromeless:not(.inboxsdk__modal_showCloseButton)
  .inboxsdk__modal_container {
  padding-top: 0;
}
.inboxsdk__modal_fullscreen.inboxsdk__modal_chromeless:not(.inboxsdk__modal_showCloseButton)
  .inboxsdk__modal_content {
  margin-top: 0;
}
.inboxsdk__modal_fullscreen.inboxsdk__modal_chromeless:not(.inboxsdk__modal_hasButtons)
  .inboxsdk__modal_container {
  padding-bottom: 0;
}
.inboxsdk__modal_fullscreen:not(.inboxsdk__modal_hasButtons)
  .inboxsdk__modal_content {
  margin-bottom: 0;
}
.inboxsdk__modal_buttons input {
  margin-right: 5px;
}
.inboxsdk__modal_buttons input.inboxsdk__primary {
  margin-right: 7px;
}
.inboxsdk__modal_toprow .inboxsdk__close_button {
  position: absolute;
  right: 0;
  top: 0;
  margin: 17px;
}
.inboxsdk__modal_fullscreen.inboxsdk__modal_chromeless:not(.inboxsdk__modal_showCloseButton)
  .inboxsdk__modal_toprow
  .inboxsdk__close_button {
  display: none;
}
.inboxsdk__modal_toprow.inboxsdk__modal_toprow--constrain-title-width {
  display: -webkit-flex;
  display: flex;
}

.inboxsdk__modal_toprow--constrain-title-width > span[role='heading'] {
  -webkit-flex: 1;
  flex: 1;
  width: 0;
  word-wrap: break-word;
}

.inboxsdk__attachment_card {
  cursor: pointer;
  display: inline-block;
  position: relative;
  text-decoration: none;
  vertical-align: top;
  margin-right: 12px;
  margin-bottom: 12px;

  box-shadow: 0 0 1px rgba(0, 0, 0, 0.11), 0 1px 2px rgba(0, 0, 0, 0.22);
  box-sizing: border-box;
  overflow: hidden;
  height: 88px;
  width: 132px;
  z-index: 0;
  justify-content: center;
  background: rgba(0, 0, 0, 0.03);
  border-radius: 2px;
  transition: background-color 0.15s cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 0.15s cubic-bezier(0.4, 0, 0.2, 1),
    outline-color 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid transparent;
  outline: 1px solid transparent;
}
.inboxsdk__attachment_card:hover {
  box-shadow: 0 0 3px rgba(0, 0, 0, 0.13), 0 3px 6px rgba(0, 0, 0, 0.26);
}
.inboxsdk__attachment_card:active,
.inboxsdk__attachment_card:focus {
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.15), 0 5px 10px rgba(0, 0, 0, 0.3);
  border-color: #f2f2f2;
  outline-color: #4285f4;
}
.inboxsdk__attachment_card_nohover,
.inboxsdk__attachment_card_hover_overlay {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 12px;
}
.inboxsdk__attachment_card .inboxsdk__attachment_card_hover_overlay {
  background: rgba(255, 255, 255, 0.7);
}
.inboxsdk__attachment_card .inboxsdk__attachment_card_hover_overlay,
.inboxsdk__attachment_card:hover .inboxsdk__attachment_card_nohover {
  display: none;
}
.inboxsdk__attachment_card:hover .inboxsdk__attachment_card_hover_overlay {
  display: block;
}
.inboxsdk__attachment_card_buttons {
  line-height: normal;
  position: absolute;
  bottom: 6px;
  left: 12px;
  right: 6px;
}
.inboxsdk__attachment_card_button {
  cursor: pointer;
  background: rgba(0, 0, 0, 0.6);
  border: 1px solid #c6c6c6;
  border-radius: 3px;
  margin-right: 3px;
  box-sizing: content-box;
  width: 30px;
  height: 24px;
  padding: 0;
  color: #333;
  vertical-align: top;
  text-align: center;
}
.inboxsdk__attachment_card_button:hover {
  background: rgba(0, 0, 0, 0.8);
  border-color: rgba(0, 0, 0, 0.8);
}
.inboxsdk__attachment_card_button > div {
  height: 21px;
  width: 21px;
  display: inline-block;
  vertical-align: middle;
}
.inboxsdk__attachment_card_button > img {
  max-height: 16px;
  max-width: 16px;
}
.inboxsdk__attachment_card_title {
  margin-top: 2px;
  line-height: 20px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: #212121;
}
.inboxsdk__attachment_card_description {
  color: #757575;
  line-height: 16px;
  margin-top: 23px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.inboxsdk__attachment_card_description > img {
  display: inline-block;
  margin-right: 8px;
  vertical-align: middle;
  background-position: center;
  background-repeat: no-repeat;
  background-size: 16px;
  height: 16px;
  width: 16px;
}
.inboxsdk__attachment_card_description > span {
  vertical-align: middle;
}

.inboxsdk__attachment_overlay_button {
  border: none;
  cursor: pointer;
  margin-left: 8px;
  background-color: rgba(255, 255, 255, 0);
  box-sizing: border-box;
  border-radius: 2px;
  height: 40px;
  min-width: 40px;
  padding: 8px 0;
  color: #333;
  vertical-align: middle;
  text-align: center;
  opacity: 0.87;
  transition: background-color 0.1s, opacity 0.1s;
}
.inboxsdk__attachment_overlay_button:hover,
.inboxsdk__attachment_overlay_button:focus {
  outline: none;
  opacity: 1;
  color: rgba(255, 255, 255, 1);
  background-color: rgba(255, 255, 255, 0.25);
}
.inboxsdk__attachment_overlay_button > img {
  display: inline-block;
  vertical-align: middle;
  height: 24px;
  width: 24px;
}

.inboxsdk__search_suggestion_group {
  border-top: 1px solid #ddd;
  margin-top: 6px;
  padding-top: 6px;
}

/*
When we're displaying custom results alongside Inbox's native results,
we need to put some padding/margin/border above the first group of custom results
to separate them from the native ones. When Inbox doesn't have any results to show,
however, we need to remove all that visual separation. Since the first group
of custom results will also be the first element in the container in that case
first-child will do the trick.
*/
.inboxsdk__search_suggestion_group:first-child {
  border-top: 0;
  margin-top: 0;
  padding-top: 0;
}

.inboxsdk__search_suggestion {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  min-height: 37px;
  padding: 5px 24px;
  box-sizing: border-box;
  cursor: pointer;
  overflow: hidden;
}

.inboxsdk__search_suggestion.inboxsdk__selected {
  background-color: rgba(0, 0, 0, 0.03);
}

.inboxsdk__search_suggestion > img {
  opacity: 0.6;
  flex-shrink: 0;
  border-radius: 12px;
  height: 24px;
  width: 24px;
  margin-right: 24px;
  -webkit-user-drag: none;
}

.inboxsdk__search_suggestion > span {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.inboxsdk__search_suggestion_name {
  font-weight: bold;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.inboxsdk__search_suggestion_desc {
  color: #757575;
  font-size: 0.95em;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

.inboxsdk__thread_row_force_toolbar_visible {
  display: block !important;
}

.inboxsdk__inbox_thread_row_label {
  border-radius: 2px;
  display: -webkit-flex;
  font-size: 11px;
  display: flex;
  margin-right: 0.333em;
  outline: 1px solid transparent;
  padding: 0 8px;
  -webkit-flex: 0 0 auto;
  flex: 0 0 auto;
  -webkit-align-items: center;
  align-items: center;
}

.inboxsdk__inbox_thread_row_label .inboxsdk__button_icon,
.inboxsdk__inbox_thread_row_label .inboxsdk__button_iconImg {
  height: 11px;
  width: 11px;
}

.inboxsdk__inbox_thread_row_label .inboxsdk__button_icon {
  margin-right: 5px;
}

.inboxsdk__inbox_thread_row_label .inboxsdk__button_iconImg {
  position: absolute;
}

.inboxsdk__thread_row_icon_wrapper {
  width: 20px;
  min-width: 20px;
  min-height: 20px;
  margin-right: 5px;
  position: relative;
}

.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_icon {
  height: 20px;
  width: 20px;
  margin-top: -10px;
  position: absolute;
  top: 50%;
  overflow: hidden;
}

.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_iconImg {
  height: 20px;
  width: 20px;
}

.inboxsdk__thread_row_draft_label_replaced
  > span:not(.inboxsdk__thread_row_custom_draft_label) {
  display: none;
}

.inboxsdk__thread_row_custom_draft_label {
  color: rgb(210, 63, 49);
}

.inboxsdk__thread_row_draft_count_replaced
  span:not(.inboxsdk__thread_row_custom_draft_count) {
  display: none;
}

.inboxsdk__thread_row_custom_draft_count {
  color: rgb(117, 117, 117);
  font-weight: normal;
  -webkit-flex-shrink: 0;
  flex-shrink: 0;
}

.inboxsdk__navItem_appContainer {
  border-bottom: 1px solid #ddd;
  box-sizing: border-box;
  list-style: none;
  padding: 0 0 8px 0;
  margin: 13px 0;
  position: relative;
}

.inboxsdk__navItem_appContainer:empty {
  display: none;
}

.inboxsdk__navItem_appContainer:focus,
.inboxsdk__navItem_wrapper:focus,
.inboxsdk__navItem_name:focus,
.inboxsdk__navItem_subNav:focus {
  outline: none;
}

.inboxsdk__navItem_wrapper:not(.inboxsdk__navItem_hasChildren)
  > .inboxsdk__navItem_subNav,
.inboxsdk__navItem_wrapper:not(.inboxsdk__navItem_hasChildren):not(.inboxsdk__navItem_hasColor)
  > .inboxsdk__navItem
  > .inboxsdk__navItem_expander,
.inboxsdk__navItem_wrapper:not(.inboxsdk__navItem_hasChildren)
  > .inboxsdk__navItem
  > .inboxsdk__navItem_expander
  > svg {
  display: none;
}

.inboxsdk__navItem {
  cursor: pointer;
  align-items: center;
  -webkit-align-items: center;
  display: -webkit-flex;
  display: flex;
  padding-left: 16px;
  padding-right: 12px;
}

.inboxsdk__navItem:not(.inboxsdk__navItem_link):hover {
  background-color: rgba(0, 0, 0, 0.03);
  border-radius: 2px;
}

.inboxsdk__navItem:focus {
  background-color: rgba(0, 0, 0, 0.05);
  outline: 2px solid transparent;
}

.inboxsdk__navItem.inboxsdk__navItem_active {
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 2px;
  color: #212121;
  font-weight: bold;
}

.inboxsdk__navItem_expander {
  position: relative;
  width: 24px;
  height: 24px;
  margin-right: 24px;
  border-radius: 50%;
  -moz-user-select: none;
  -webkit-user-select: none;
  user-select: none;
}

.inboxsdk__navItem_expander:hover {
  background-color: rgba(0, 0, 0, 0.12);
}

.inboxsdk__navItem_expander > svg {
  width: 100%;
  height: 100%;
  transition: transform 150ms ease-out;
}

.inboxsdk__navItem_expander > svg > polygon {
  fill: #616161;
}

.inboxsdk__navItem_wrapper.inboxsdk__navItem_collapsed
  > .inboxsdk__navItem
  > .inboxsdk__navItem_expander
  > svg {
  transform: rotate(-90deg);
}

.inboxsdk__navItem_name {
  display: inline-block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  -webkit-flex: 1;
  flex: 1;
}

.inboxsdk__navItem_hasIcon > .inboxsdk__navItem_name {
  padding-left: 24px;
}

.inboxsdk__navItem_level0:not(.inboxsdk__navItem_disabled):not(.inboxsdk__navItem_hasChildren):not(.inboxsdk__navItem_hasColor)
  > .inboxsdk__navItem:not(.inboxsdk__navItem_hasIcon),
.inboxsdk__navItem_level1:not(.inboxsdk__navItem_hasChildren):not(.inboxsdk__navItem_hasColor)
  > .inboxsdk__navItem:not(.inboxsdk__navItem_hasIcon) {
  padding-left: 64px;
}

.inboxsdk__navItem_link > .inboxsdk__navItem_name {
  color: #3c80f6;
}

.inboxsdk__navItem_link:hover > .inboxsdk__navItem_name,
.inboxsdk__navItem_link:focus > .inboxsdk__navItem_name,
.inboxsdk__navItem_link:active > .inboxsdk__navItem_name {
  color: #1c3aa9;
}

.inboxsdk__navItem .inboxsdk__button_icon,
.inboxsdk__navItem .inboxsdk__button_iconImg {
  width: 24px;
  height: 24px;
}

.inboxsdk__navItem > .inboxsdk__navItem_accessory .inboxsdk__button_icon,
.inboxsdk__navItem > .inboxsdk__navItem_accessory .inboxsdk__button_iconImg {
  width: 18px;
  height: 18px;
}

.inboxsdk__navItem > .inboxsdk__navItem_accessory {
  line-height: 18px;
  display: none;
}

.inboxsdk__navItem_accessory > .inboxsdk__button_icon:focus {
  outline: 2px solid transparent;
}

.inboxsdk__navItem_level0.inboxsdk__navItem_disabled > .inboxsdk__navItem,
.inboxsdk__navItem_level0.inboxsdk__navItem_disabled > .inboxsdk__navItem:hover,
.inboxsdk__navItem_level0.inboxsdk__navItem_disabled > .inboxsdk__navItem:focus,
.inboxsdk__navItem_level0.inboxsdk__navItem_disabled
  > .inboxsdk__navItem:active {
  background-color: transparent;
  border-radius: 0;
  outline: none;
  font-size: 0.9em;
  font-weight: normal;
  line-height: 24px;
  white-space: normal;
  outline: none;
  cursor: default;
  padding-left: 16px;
}

.inboxsdk__navItem_level0.inboxsdk__navItem_disabled {
  border-top: 1px solid #ddd;
  margin: 13px 0;
  padding-top: 13px;
}

.inboxsdk__navItem_level0.inboxsdk__navItem_disabled:first-child {
  border-top: none;
  margin-top: 0;
  padding-top: 0;
}

.inboxsdk__navItem_level0.inboxsdk__navItem_disabled:last-child {
  margin-bottom: 0;
}

.inboxsdk__navItem_level0.inboxsdk__navItem_disabled
  > .inboxsdk__navItem
  > .inboxsdk__button_icon {
  display: none;
}

.inboxsdk__navItem_level0.inboxsdk__navItem_hasChildren
  > .inboxsdk__navItem
  > .inboxsdk__navItem_expander {
  display: none;
}

.inboxsdk__navItem_level0.inboxsdk__navItem_hasChildren
  > .inboxsdk__navItem
  > .inboxsdk__navItem_name,
.inboxsdk__navItem_level0.inboxsdk__navItem_hasChildren
  > .inboxsdk__navItem:hover
  > .inboxsdk__navItem_name,
.inboxsdk__navItem_level0.inboxsdk__navItem_hasChildren
  > .inboxsdk__navItem:focus
  > .inboxsdk__navItem_name,
.inboxsdk__navItem_level0.inboxsdk__navItem_hasChildren
  > .inboxsdk__navItem:active
  > .inboxsdk__navItem_name {
  color: #616161;
}

.inboxsdk__navItem_wrapper.inboxsdk__navItem_hasAccessory
  > .inboxsdk__navItem
  > .inboxsdk__navItem_accessory {
  display: block;
  position: relative;
}

.inboxsdk__navItem_accessory > .inboxsdk__button_icon {
  opacity: 0;
}

.inboxsdk__navItem:hover
  > .inboxsdk__navItem_accessory
  > .inboxsdk__button_icon,
.inboxsdk__navItem.inboxsdk__navItem_active
  > .inboxsdk__navItem_accessory
  > .inboxsdk__button_icon {
  opacity: 0.6;
}

.inboxsdk__navItem
  > .inboxsdk__navItem_accessory
  > .inboxsdk__button_icon:hover,
.inboxsdk__navItem
  > .inboxsdk__navItem_accessory
  > .inboxsdk__button_icon:focus,
.inboxsdk__navItem
  > .inboxsdk__navItem_accessory
  > .inboxsdk__button_icon.inboxsdk__active {
  opacity: 1;
}

.inboxsdk__navItem_subNav,
.inboxsdk__navItem_subNavInner {
  overflow: hidden;
}

.inboxsdk__navItem_subNav {
  transition: height 150ms ease-in-out;
}

.inboxsdk__navItem_level1.inboxsdk__navItem_hasChildren
  .inboxsdk__navItem_subNav {
  padding-left: 48px;
}

.inboxsdk__navItem_level2.inboxsdk__navItem_hasChildren
  .inboxsdk__navItem_subNav {
  padding-left: 34px;
}

.inboxsdk__navItem_level1.inboxsdk__navItem_hasChildren
  > .inboxsdk__navItem_subNav {
  padding-left: 48px;
}

.inboxsdk__navItem_level2 {
  line-height: 26px;
}

.inboxsdk__navItem_level2 .inboxsdk__navItem_expander {
  margin-right: 10px;
}

.inboxsdk__navItem_level1.inboxsdk__navItem_hasChildren
  > .inboxsdk__navItem_hasIcon
  > .inboxsdk__navItem_name,
.inboxsdk__navItem_level2
  > .inboxsdk__navItem_hasIcon
  > .inboxsdk__navItem_name,
.inboxsdk__navItem_level3
  > .inboxsdk__navItem_hasIcon
  > .inboxsdk__navItem_name {
  padding-left: 10px;
}

.inboxsdk__navItem_level2 > .inboxsdk__navItem .inboxsdk__button_icon,
.inboxsdk__navItem_level2 > .inboxsdk__navItem .inboxsdk__button_iconImg,
.inboxsdk__navItem_level3 > .inboxsdk__navItem .inboxsdk__button_icon,
.inboxsdk__navItem_level3 > .inboxsdk__navItem .inboxsdk__button_iconImg {
  width: 18px;
  height: 18px;
}

/* appid warning inbox specific parts */
.inboxsdk__appid_warning {
  margin: 68px 240px -68px;
}
.inboxsdk__appid_warning .inboxsdk__close_button {
  float: right;
}

/* mole */

.inboxsdk__mole_view {
  box-sizing: border-box;
  direction: ltr;
  margin-right: 15px;
  display: table-cell;
}

.inboxsdk__mole_view_mid {
  position: relative;
}

.inboxsdk__mole_view_inner {
  position: absolute;
  bottom: 0;
  right: 0;
  outline: none;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.45);
  border-top-left-radius: 7.5px;
  border-top-right-radius: 7.5px;
  transform: translateZ(0);
  background: white;
  /* copied from the compose's CSS */
  max-height: calc(100vh - 56px - 20px - 24px - 1px - 8px);
}

.inboxsdk__mole_view_titlebar {
  background: #424242;
  color: #fff;
  height: 18px;
  line-height: 18px;
  outline: none;
  padding: 11px 20px;
  transform: translateZ(0);
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
  display: -webkit-flex;
  display: flex;
}

.inboxsdk__mole_view_title {
  display: inline-block;
  flex: 1;
  -webkit-flex: 1;
  height: 18px;
  overflow: hidden;
  padding: 0 10px 0 0;
  text-overflow: ellipsis;
  vertical-align: top;
  white-space: nowrap;

  /* Because of flex, the title can become wider than this if the mole contents are */
  width: 98px;
}

.inboxsdk__mole_title_buttons > button {
  height: 24px;
  width: 24px;
  opacity: 0.6;
  padding: 0 0 3px 7px;

  margin-right: 4px;
  vertical-align: top;

  user-drag: none;
  -webkit-user-drag: none;
  user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  -moz-user-select: none;

  outline: none;
  background-color: transparent;
  border: none;
  cursor: pointer;
}

.inboxsdk__mole_title_buttons > button:focus,
.inboxsdk__mole_title_buttons > button:hover {
  opacity: 1;
  outline: none;
}

.inboxsdk__mole_title_buttons
  > button.inboxsdk__mole_custom_title_button
  > img {
  width: 18px;
  height: 18px;
}

.inboxsdk__mole_view.inboxsdk__minimized .inboxsdk__mole_view_content {
  display: none;
}
`)},{"../../lib/rewriteCssWithIdMap":897,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"ud-kefir":624}],781:[function(e,l,i){"use strict";function a(s){var f=new u.default("appToolbarLocation");return f.run("children check",function(){if(s.childElementCount<2)throw new Error("expected more children")}),f.run("position check",function(){var d=s.getBoundingClientRect();if(d.top>100)throw new Error("expected element to border top of screen");if(window.innerWidth-d.right>100)throw new Error("expected element to border right side of screen");if(d.width>500)throw new Error("expected element to span only the right of the screen");if(d.height>150)throw new Error("expected element to span only the right of the screen")}),{elements:{chatSidebarButton:f.run("chatSidebarButton",function(){return(0,n.default)(s,'div[role=button][jsaction*="global.toggle_chat_roster"]')})},score:1-f.errorCount()/f.runCount(),errors:f.getErrorLogs()}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("../../../../lib/ErrorCollector")),n=o(e("../../../../lib/dom/querySelectorOne"))},{"../../../../lib/ErrorCollector":844,"../../../../lib/dom/querySelectorOne":868,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],782:[function(e,l,i){"use strict";function a(n){var s=new u.default("attachmentCard");return s.run("tabindex",function(){if(!n.hasAttribute("tabindex"))throw new Error("expected tabindex")}),{elements:{},attributes:{type:"FILE"},score:1-s.errorCount()/s.runCount(),errors:s.getErrorLogs()}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("../../../../lib/ErrorCollector"));o(e("../../../../lib/dom/querySelectorOne")),o(e("bignumber.js"))},{"../../../../lib/ErrorCollector":844,"../../../../lib/dom/querySelectorOne":868,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"bignumber.js":99}],783:[function(e,l,i){(function(a){(function(){"use strict";function t(m){var h=new s.default("attachmentOverlay");h.run("tabindex",function(){if(!m.hasAttribute("tabindex"))throw new Error("expected tabindex")});var _=h.run("downloadButton",function(){var y=n.default.toArray(Array.prototype.slice.call(m.querySelectorAll("div[role=button][tabindex][data-tooltip]:not([aria-disabled=true]):not([aria-pressed]):not([aria-expanded])")),n.default.compose(n.default.filter(function(S){return S.childElementCount===1&&S.firstElementChild.childElementCount===0}),n.default.filter(function(S){return a.document?!(S.getBoundingClientRect().top>100):S.parentElement.classList.contains("ndfHFb-c4YZDc-Wrql6b-C7uZwb-b0t70b")}),n.default.filter(function(S){var v=Array.prototype.indexOf.call(S.parentElement.children,S),T=Array.prototype.filter.call(S.parentElement.children,function(E,I){return I>v&&E.nodeName==="DIV"})[0];return T&&T.getAttribute("aria-haspopup")==="true"}),n.default.take(1)))[0];if(!y)throw new Error("Failed to find element");if(y.getAttribute("aria-label")==="Print")throw new Error("Found print button instead");return y});return{elements:{downloadButton:_,buttonContainer:_?_.parentElement:null},attributes:{},score:1-h.errorCount()/h.runCount(),errors:h.getErrorLogs()}}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=u(e("transducers.js")),s=u(e("../../../../lib/ErrorCollector")),f=(u(e("../../../../lib/dom/querySelectorOne")),e("ud")),d=(0,f.defn)(l,t);i.default=d}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../../lib/ErrorCollector":844,"../../../../lib/dom/querySelectorOne":868,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"transducers.js":623,ud:625}],784:[function(e,l,i){"use strict";function a(f){var d=new u.default("chatSidebar");return d.run("position:fixed",function(){if(getComputedStyle(f.parentElement).position!=="fixed")throw new Error("expected position:fixed in parent")}),d.run("id",function(){if(!f.id)throw new Error("expected id")}),{elements:{},attributes:{},score:1-d.errorCount()/d.runCount(),errors:d.getErrorLogs()}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("../../../../lib/ErrorCollector")),n=(o(e("../../../../lib/dom/querySelectorOne")),e("ud")),s=(0,n.defn)(l,a);i.default=s},{"../../../../lib/ErrorCollector":844,"../../../../lib/dom/querySelectorOne":868,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,ud:625}],785:[function(e,l,i){"use strict";function a(h){var _=new n.default("compose"),y=h.getAttribute("role")!=="dialog",S=_.run("send button",function(){return(0,s.default)(h,'div[jstcache] > div[role=button][jsaction$=".send"], div[jstcache] > div[role=button][disabled]:not([title]):not([data-tooltip])')}),v=_.run("attach button",function(){return(0,s.default)(h,'div[role=button][jsaction$=".attach"]')}),T=_.run("body",function(){return(0,s.default)(h,'div[contenteditable][g_editable], div[id][tabindex][aria-label][jsaction*=".quick_compose_handle_input"]')}),E=y?null:_.run("subject",function(){var ne=(0,s.default)(h,'div[jstcache][jsan] > div > input[type=text][title][placeholder][jsaction*="input:"]');if(!(ne instanceof HTMLInputElement))throw new Error("Wrong type");return ne}),I=y?_.run("pop-out button",function(){return(0,s.default)(h,'button[jsaction$=".quick_compose_popout_mole"]')}):null,g=_.run("discard button",function(){return(0,s.default)(h,'button[jsaction$=".discard_draft"]')}),k=y?null:_.run("title bar",function(){return(0,s.default)(h,'div[jsaction$=".focus_mole"]')}),j=y?null:_.run("fullscreen button",function(){return(0,s.default)(h,'button[jsaction$=".toggle_full_screen"]')}),x=y?null:_.run("fullscreen button image",function(){return(0,s.default)(h,'button[jsaction$=".toggle_full_screen"] img')}),A=y?null:_.run("close button",function(){return(0,s.default)(h,'div[jstcache][jsan][jsaction] > button[jsaction$=".close_mole"]')}),w=y?null:_.run("minimize button",function(){return(0,s.default)(h,'div[jstcache][jsan][jsaction] > button[jsaction$=".minimize_mole"]')}),C=y?null:_.run("minimize button image",function(){return(0,s.default)(h,'div[jstcache][jsan][jsaction] > button[jsaction$=".minimize_mole"] img')}),O=y?null:_.run("body placeholder",function(){var ne=T&&T.previousElementSibling;if(!(ne instanceof HTMLElement)||ne.nodeName!=="LABEL")throw new Error("compose body placeholder wrong type ".concat(ne?ne.nodeName:"undefined"));return ne}),V=h.querySelector("div[role=button][jsaction*=toggle_custom_from_menu]"),R=V?_.run("from picker email span",function(){return(0,s.default)(V,"span")}):null,P=y?null:_.run("recipient fields",function(){var ne=h.querySelectorAll("input[type=text][role=combobox]");if(ne.length!=3)throw new Error("Found ".concat(ne.length," recipient fields, expected 3"));return ne}),B=P||[],z=(0,u.default)(B,3),Q=z[0],N=z[1],K=z[2],U=y?null:_.run("toggle cc/bcc button",function(){return(0,s.default)(h,'button[jsaction*=".toggle_cc_bcc"]')}),F=y?null:_.run("to row",function(){if(!Q)throw new Error("Could not locate To input");var ne=(0,f.default)(Q,'div > button[jsaction$=".toggle_cc_bcc"] + div'),H=ne&&ne.parentElement;if(!(H instanceof HTMLElement))throw new Error("Could not locate To row");return H}),Z=y?null:_.run("cc row",function(){if(!N)throw new Error("Could not locate CC input");var ne=(0,f.default)(N,"div[class] > label + div"),H=ne&&ne.parentElement;if(!(H instanceof HTMLElement))throw new Error("Could not locate CC row");return H}),$=y?null:_.run("bcc row",function(){if(!K)throw new Error("Could not locate BCC input");var ne=(0,f.default)(K,"div[class] > label + div"),H=ne&&ne.parentElement;if(!(H instanceof HTMLElement))throw new Error("Could not locate BCC row");return H});return{elements:{sendBtn:S,attachBtn:v,body:T,subject:E,popOutBtn:I,discardBtn:g,titleBar:k,toggleFullscreenButton:j,toggleFullscreenButtonImage:x,closeBtn:A,minimizeBtn:w,minimizeBtnImage:C,bodyPlaceholder:O,fromPicker:V,fromPickerEmailSpan:R,toInput:Q,ccInput:N,bccInput:K,toRow:F,ccRow:Z,bccRow:$,toggleCcBccButton:U},attributes:{isInline:y},score:1-_.errorCount()/_.runCount(),errors:_.getErrorLogs()}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/helpers/slicedToArray")),n=o(e("../../../../lib/ErrorCollector")),s=o(e("../../../../lib/dom/querySelectorOne")),f=o(e("closest-ng")),d=e("ud"),m=(0,d.defn)(l,a);i.default=m},{"../../../../lib/ErrorCollector":844,"../../../../lib/dom/querySelectorOne":868,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,"closest-ng":105,ud:625}],786:[function(e,l,i){"use strict";function a(f){var d=new n.default("compose");d.run("tabindex",function(){if(!f.hasAttribute("tabindex"))throw new Error("expected tabindex")});var m=d.run("message id",function(){var k=/msg-[^:]+:[^:\d]*\d+/.exec(f.getAttribute("data-msg-id")||"");if(!k)throw new Error("message id regex failed");return k[0]}),h=d.run("heading",function(){var k=f.querySelector("div[role=heading]");if(!k)throw new Error("failed to find heading");return k}),_=f.querySelector("div[role=heading] ~ div:not(:empty)"),y=f.querySelector('div[jsaction$=".message_toggle_collapse"]'),S=_!=null&&(y==null||y.getAttribute("role")==="heading"),v=S?"EXPANDED":_!=null?"COLLAPSED":"HIDDEN",T=S&&h&&!h.querySelector("span[email]"),E=!T&&h&&_?d.run("sender",function(){return(0,s.default)(h,"[email]:first-child")}):null,I=T?null:f.querySelectorAll("[role=heading] [email]:not(:first-child), [role=heading] + div [email]"),g=T||!_||v!=="EXPANDED"?null:d.run("attachments area",function(){var k=(0,u.default)(_.parentElement.querySelectorAll("section:last-child"));if(!k)throw new Error("element not found");return k});return{elements:{heading:h,body:_,sender:E,toggleCollapse:y,attachmentsArea:g},attributes:{loaded:S,viewState:v,inboxMessageId:m,recipientElements:I,isDraft:T},score:1-d.errorCount()/d.runCount(),errors:d.getErrorLogs()}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("lodash/last")),n=o(e("../../../../lib/ErrorCollector")),s=o(e("../../../../lib/dom/querySelectorOne"))},{"../../../../lib/ErrorCollector":844,"../../../../lib/dom/querySelectorOne":868,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/last":511}],787:[function(e,l,i){"use strict";function a(u){var n=[];u.childElementCount<2&&n.push("expected more children");var s=u.getBoundingClientRect();return s.top>100&&n.push("expected element to border top of screen"),window.innerWidth-s.right>100&&n.push("expected element to border right side of screen"),window.innerHeight-s.bottom>100&&n.push("expected element to border bottom side of screen"),{elements:{},score:n.length===0?1:0,errors:n}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a,o(e("../../../../lib/ErrorCollector")),o(e("../../../../lib/dom/querySelectorOne"))},{"../../../../lib/ErrorCollector":844,"../../../../lib/dom/querySelectorOne":868,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],788:[function(e,l,i){"use strict";function a(s){var f=new u.default("searchBar"),d=s.getBoundingClientRect();return f.run("position check",function(){if(d.top>100)throw new Error("expected element to border top of screen")}),{elements:{searchInput:f.run("searchInput",function(){return(0,n.default)(s,"div[role=search] input[role=combobox]")})},score:1-f.errorCount()/f.runCount(),errors:f.getErrorLogs()}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("../../../../lib/ErrorCollector")),n=o(e("../../../../lib/dom/querySelectorOne"))},{"../../../../lib/ErrorCollector":844,"../../../../lib/dom/querySelectorOne":868,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],789:[function(e,l,i){"use strict";function a(m){var h=new s.default("threadRow"),_=!m.hasAttribute("aria-multiselectable");h.run("tabindex",function(){if(!m.hasAttribute("tabindex"))throw new Error("expected tabindex")});var y=h.run("subject",function(){return(0,f.default)(m,'div[jsaction][jslog] > div:not(:first-child):not(:last-child) > div > div[class]:not([style]):not(:first-child) > div:not(:first-child):not(:last-child) > div:not([style]):not(:first-child):not(:last-child):not([class*="inboxsdk"])')}),S=h.run("checkbox",function(){return(0,f.default)(m,"div[jsaction] > div > div[jsaction] > div[role=checkbox]")}),v=h.run("recipients",function(){return m.querySelectorAll("div[jsaction] > div:not(:first-child):not(:last-child) > div > div > span[email]")}),T=h.run("isOnlyDraft",function(){return!(v&&v.length>0)}),E=h.run("draftLabels",function(){var R=m.querySelectorAll("div[jsaction] > div:not(:first-child):not(:last-child) > div > div > span");return(0,u.default)(R).filter(function(P){var B=getComputedStyle(P).getPropertyValue("color"),z=d.exec(B);if(!z)throw new Error("Failed to read color string");var Q=+z[1],N=+z[2],K=+z[3];return Q>200&&N<100&&K<100})}),I=h.run("recipientParent",function(){if(v&&v.length>0)return v[0].parentElement;if(!(E&&E.length>0))throw new Error("Could not locate draft labels");return E[0].parentElement}),g=h.run("thread id",function(){var R=/thread-[^:]+:[^:\d]*(\d+)/.exec(m.getAttribute("data-item-id")||"");if(!R)throw new Error("thread row id regex failed");return R[0]}),k=h.run("messageCountParent",function(){return I&&I.nextElementSibling}),j=h.run("visibleMessageCount",function(){var R=k&&k.querySelector("span"),P=R&&/^\((\d+)\)$/.exec(R.textContent);return P?(0,n.default)(P[1]):1}),x=h.run("visibleDraftCount",function(){if(T&&j)return j;if(!E)throw new Error("Could not locate draft labels");return E.length}),A=h.run("contacts",function(){return v?(0,u.default)(v).map(function(R){var P=R.getAttribute("email");return P?{name:null,emailAddress:P}:null}).filter(Boolean):null}),w=h.run("labelParent",function(){return(0,f.default)(m,"div[jsaction][jslog] > div:not(:first-child):not(:last-child) > div > div[class]:not([style]):not(:first-child) > div:not(:first-child):not(:last-child)")}),C=h.run("toolbar",function(){return(0,f.default)(m,"div[jsaction] div[jsaction] > ul[aria-label]")}),O={subject:y,checkbox:S,labelParent:w,toolbar:C,recipientParent:I,messageCountParent:k},V=1-h.errorCount()/h.runCount();return{elements:O,attributes:{isOnlyDraft:T,inBundle:_,inboxThreadId:g,visibleMessageCount:j,visibleDraftCount:x,contacts:A},score:V,errors:h.getErrorLogs()}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/array/from")),n=o(e("@babel/runtime-corejs2/core-js/parse-int")),s=o(e("../../../../lib/ErrorCollector")),f=o(e("../../../../lib/dom/querySelectorOne")),d=/^rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)/},{"../../../../lib/ErrorCollector":844,"../../../../lib/dom/querySelectorOne":868,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],790:[function(e,l,i){"use strict";function a(s){var f=new u.default("thread"),d=!s.hasAttribute("aria-multiselectable");f.run("tabindex",function(){if(!s.hasAttribute("tabindex"))throw new Error("expected tabindex")});var m=f.run("thread id",function(){var v=/thread-[^:]+:[^:\d]*(\d+)/.exec(s.getAttribute("data-item-id")||"");if(!v)throw new Error("thread id regex failed");return v[0]}),h=f.run("heading",function(){return s.querySelector("div[role=heading]")}),_=h?f.run("stickyHeading",function(){var v=h.firstElementChild;if(v instanceof HTMLDivElement)return v;throw new Error("child missing")}):null,y=_?f.run("toolbar",function(){return(0,n.default)(_,"ul")}):null,S=f.run("list",function(){return s.querySelector("div[role=list]")});return{elements:{heading:h,stickyHeading:_,toolbar:y,list:S},attributes:{inBundle:d,inboxThreadId:m},score:1-f.errorCount()/f.runCount(),errors:f.getErrorLogs()}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("../../../../lib/ErrorCollector")),n=o(e("../../../../lib/dom/querySelectorOne"))},{"../../../../lib/ErrorCollector":844,"../../../../lib/dom/querySelectorOne":868,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],791:[function(e,l,i){"use strict";function a(S,v){var T=function(x){var A=x.el,w=x.removalStream;return{el:A.getValue(),removalStream:w}},E=(0,h.default)(v.getAllByTag("inlineCompose")).map(T),I=(0,h.default)(v.getAllByTag("regularCompose")).map(T),g=(0,h.default)(v.getAllByTag("fullscreenCompose")).map(T),k=s.default.merge([E,I.merge(g).flatMap((0,_.default)())]),j=k.map(function(x){var A=x.el,w=x.removalStream,C=(0,y.default)(A);C.errors.length&&S.getLogger().errorSite(new Error("parse errors (compose)"),{score:C.score,errors:C.errors,html:(0,d.default)(A)});var O=new m.default(S,A,C);return w.take(1).onValue(function(){return O.removedFromDOM()}),O});return new f.default({scheduler:v.getAllByTag("inlineCompose").getScheduler(),read:function(){return new u.default},listen:function(x,A){x(new u.default);var w=j.observe({value:function(C){A.add(C),C.getStopper().onValue(function(){A.remove(C)})},error:function(C){function O(){return{mainLength:document.querySelectorAll("[role=main]").length,regularLength:document.querySelectorAll("body > div[id][jsaction] > div[id][class]:not([role]) > div[class] > div[id]").length,noJsActionLength:document.querySelectorAll("body > div[id] > div[id][class]:not([role]) > div[class] > div[id]").length,noNotLength:document.querySelectorAll("body > div[id][jsaction] > div[id][class] > div[class] > div[id]").length,noBodyDirectChildLength:document.querySelectorAll("body div[id][jsaction] > div[id][class]:not([role]) > div[class] > div[id]").length,noBodyLength:document.querySelectorAll("div[id][jsaction] > div[id][class]:not([role]) > div[class] > div[id]").length,classLength:document.querySelectorAll("div.ek div.md > div").length,classEkLength:document.querySelectorAll(".ek").length,classMdLength:document.querySelectorAll(".md").length,composeHtml:(0,n.default)(document.querySelectorAll("body > div[id][jsaction] > div[id][class]:not([role]) > div[class] > div[id], div.ek div.md > div")).map(function(R){return(0,d.default)(R)})}}var V=O();S.getLogger().error(C,V),setTimeout(function(){var R=O();S.getLogger().eventSdkPassive("waitfor compose data",{startStatus:V,waitTime:18e4,laterStatus:R})},18e4)}});return function(){w.unsubscribe()}}})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/set")),n=o(e("@babel/runtime-corejs2/core-js/array/from")),s=o(e("kefir")),f=o(e("live-set")),d=o(e("../../../common/censorHTMLtree")),m=o(e("./views/inbox-compose-view")),h=o(e("../../lib/toItemWithLifetimeStream")),_=o(e("../../lib/dom/make-element-stream-merger")),y=o(e("./detection/compose/parser"))},{"../../../common/censorHTMLtree":637,"../../lib/dom/make-element-stream-merger":861,"../../lib/toItemWithLifetimeStream":903,"./detection/compose/parser":785,"./views/inbox-compose-view":816,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"live-set":332}],792:[function(e,l,i){"use strict";function a(v,T){return t.apply(this,arguments)}function t(){return t=(0,d.default)(n.default.mark(function v(T,E){var I,g,k,j,x;return n.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.t0=h.default,A.t1="https://inbox.google.com/sync".concat((0,_.default)(),"/i/fd"),A.next=4,T.getPageCommunicator().getXsrfToken();case 4:return A.t2=A.sent,A.next=7,T.getPageCommunicator().getBtaiHeader();case 7:return A.t3=A.sent,A.t4={"Content-Type":"application/json","X-Framework-Xsrf-Token":A.t2,"X-Gmail-BTAI":A.t3,"X-Google-BTD":"1"},A.t5=(0,s.default)({1:[{1:E,3:[]}]}),A.t6={method:"POST",url:A.t1,headers:A.t4,data:A.t5},A.next=13,(0,A.t0)(A.t6);case 13:if(I=A.sent,g=I.text,k=(0,y.extractMessageIdsFromThreadResponse)(g),j=(0,f.default)(k,1),x=j[0],x){A.next=18;break}throw new Error("Failed to find inbox message ID for thread");case 18:return A.abrupt("return",x);case 19:case"end":return A.stop()}},v)})),t.apply(this,arguments)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/core-js/json/stringify")),f=u(e("@babel/runtime-corejs2/helpers/slicedToArray")),d=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),m=e("ud"),h=u(e("../../driver-common/inboxAjax")),_=u(e("../../driver-common/getAccountUrlPart")),y=e("./inboxResponseProcessor"),S=(0,m.defn)(l,a);i.default=S},{"../../driver-common/getAccountUrlPart":831,"../../driver-common/inboxAjax":838,"./inboxResponseProcessor":798,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,"@babel/runtime-corejs2/regenerator":59,ud:625}],793:[function(e,l,i){"use strict";function a(I){return I instanceof window.CSSMediaRule?(0,d.default)(I.cssRules,a):I instanceof window.CSSStyleRule?[I]:[]}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/core-js/array/from")),n=o(e("@babel/runtime-corejs2/core-js/parse-float")),s=o(e("lodash/difference")),f=o(e("lodash/once")),d=o(e("lodash/flatMap")),m=o(e("lodash/last")),h=o(e("transducers.js")),_=o(e("postcss-selector-parser")),y=o(e("../../lib/logger")),S=o(e("../../lib/dom/querySelectorOrFail")),v=(0,_.default)(),T=(0,f.default)(function(){function I(P){switch(P.type){case"root":case"selector":return(0,d.default)(P.nodes,I);case"class":return[P.value];default:return[]}}var g=(0,u.default)((0,S.default)(document,"[role=application]").classList).map(function(P){return new RegExp("\\."+P+"\\b")});if(g.length===0)throw new Error("no class names on element");var k=h.default.toArray(Array.prototype.slice.call(document.styleSheets),h.default.compose(h.default.filter(function(P){try{return P.cssRules&&P.cssRules.length}catch(B){return!1}}),h.default.mapcat(function(P){return Array.prototype.slice.call(P.cssRules||[])}),h.default.mapcat(a),h.default.filter(function(P){return g.some(function(B){return B.test(P.selectorText)})}),h.default.filter(function(P){return P.style["margin-left"]&&P.style["margin-right"]}))),j=h.default.toArray(Array.prototype.slice.call(k),h.default.compose(h.default.filter(function(P){return(0,n.default)(P.style["margin-left"])>(0,n.default)(P.style["margin-right"])}),h.default.take(1)))[0],x=h.default.toArray(Array.prototype.slice.call(k),h.default.compose(h.default.filter(function(P){return(0,n.default)(P.style["margin-left"])<(0,n.default)(P.style["margin-right"])}),h.default.take(1)))[0];if(!j||!x){var A=new Error("Failed to parse element CSS rules");throw y.default.error(A,{rulesCount:k.length,hasOnlyNavSidebarRule:!!j,hasOnlyChatSidebarRule:!!x}),A}var w=I(v.process(j.selectorText).res),C=I(v.process(x.selectorText).res),O=(0,s.default)(C,w),V=(0,s.default)(w,C),R=(0,m.default)(w)===(0,m.default)(C)?(0,m.default)(w):null;return O.length===1&&V.length===1&&R||y.default.error(new Error("Failed to find sidebar classnames"),{onlyNavSidebarRuleClassNames:w,onlyChatSidebarRuleClassNames:C,chatSidebarClassNames:O,navSidebarClassNames:V,centerListClassName:R}),{chat:O[0],nav:V[0],centerList:R}}),E=T;i.default=E},{"../../lib/dom/querySelectorOrFail":869,"../../lib/logger":892,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-float":22,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/difference":480,"lodash/flatMap":487,"lodash/last":511,"lodash/once":516,"postcss-selector-parser":547,"transducers.js":623}],794:[function(e,l,i){"use strict";function a(E,I){var g=s!==void 0&&E[f]||E["@@iterator"];if(!g){if(d(E)||(g=t(E))||I&&E&&typeof E.length=="number"){g&&(E=g);var k=0,j=function(){};return{s:j,n:function(){return k>=E.length?{done:!0}:{done:!1,value:E[k++]}},e:function(C){throw C},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,A=!0,w=!1;return{s:function(){g=g.call(E)},n:function(){var C=g.next();return A=C.done,C},e:function(C){w=!0,x=C},f:function(){try{A||g.return==null||g.return()}finally{if(w)throw x}}}}function t(E,I){if(E){if(typeof E=="string")return o(E,I);var g=Object.prototype.toString.call(E).slice(8,-1);return g==="Object"&&E.constructor&&(g=E.constructor.name),g==="Map"||g==="Set"?n(E):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?o(E,I):void 0}}function o(E,I){(I==null||I>E.length)&&(I=E.length);for(var g=0,k=new Array(I);g<I;g++)k[g]=E[g];return k}function u(E,I,g){if((0,y.default)((0,_.default)(T.NATIVE_ROUTE_IDS),I))throw new Error("NativeRouteIDs are not currently supported in Inbox");if(!E.getCustomRouteIDs().has(I)){var k=I[0]==="#";k&&(I=I.slice(1));var j=!1;if(!g){var x,A=a(E.getCustomRouteIDs());try{for(A.s();!(x=A.n()).done;){var w=x.value;if((0,v.default)(w,I)){j=!0;break}}}catch(C){A.e(C)}finally{A.f()}}if(!j)throw new Error("Invalid routeID: ".concat(I));k||E.getLogger().deprecationWarning('Router.goto resolved routeID without "#" prefix')}document.location.hash=(0,S.default)(I,g)}var n=e("@babel/runtime-corejs2/core-js/array/from"),s=e("@babel/runtime-corejs2/core-js/symbol"),f=e("@babel/runtime-corejs2/core-js/symbol/iterator"),d=e("@babel/runtime-corejs2/core-js/array/is-array"),m=e("@babel/runtime-corejs2/core-js/object/define-property"),h=e("@babel/runtime-corejs2/helpers/interopRequireDefault");m(i,"__esModule",{value:!0}),i.default=u;var _=h(e("@babel/runtime-corejs2/core-js/object/values")),y=h(e("lodash/includes")),S=h(e("../../lib/populateRouteID")),v=h(e("../../lib/routeIDmatchesHash")),T=e("../../constants/router")},{"../../constants/router":658,"../../lib/populateRouteID":895,"../../lib/routeIDmatchesHash":898,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/values":21,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/includes":493}],795:[function(e,l,i){"use strict";function a(I,g,k){(0,s.default)(k.style,{opacity:"0",transform:"",transition:"opacity 100ms"}),k.removeAttribute("data-inboxsdk-id"),m.default.fromEvents(k,"transitionend").merge(m.default.later(200)).takeUntilBy(S.filter(function(j){return j!=null})).onValue(function(){(0,s.default)(k.style,{display:"none",opacity:"",transition:""})})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=o(e("@babel/runtime-corejs2/helpers/createClass")),s=o(e("@babel/runtime-corejs2/core-js/object/assign")),f=o(e("@babel/runtime-corejs2/core-js/json/stringify")),d=o(e("@babel/runtime-corejs2/core-js/date/now")),m=o(e("kefir")),h=o(e("../../lib/stream-wait-for")),_=(o(e("../../lib/dom/querySelectorOrFail")),o(e("../../lib/dom/make-mutation-observer-chunked-stream"))),y=(0,h.default)(function(){return document.querySelector("body > div[id][jsaction] > div[id] > div[class][jsaction][aria-hidden]")}).map(function(I){var g=I.parentElement;if(!g)throw new Error("Should not happen");var k=g.querySelector(".inboxsdk__butterbar");return k||(k=document.createElement("div"),k.className=I.className+" inboxsdk__butterbar",k.style.display="none",g.insertBefore(k,I.nextSibling)),{noticeContainer:g,googleNotice:I,sdkNotice:k}}).toProperty(),S=y.flatMapLatest(function(I){var g=I.sdkNotice;return(0,_.default)(g,{attributes:!0,attributeFilter:["data-inboxsdk-id"]}).map(function(){return g.getAttribute("data-inboxsdk-id")})}),v=S.filter(function(I){return I==null}),T=v,E=function(){function I(){(0,u.default)(this,I),T.onValue(function(){})}return(0,n.default)(I,[{key:"getNoticeAvailableStream",value:function(){return T}},{key:"getSharedMessageQueue",value:function(){var g=document.head.getAttribute("data-inboxsdk-butterbar-queue");return g?JSON.parse(g):[]}},{key:"setSharedMessageQueue",value:function(g){var k=(0,f.default)(g);document.head.setAttribute("data-inboxsdk-butterbar-queue",k)}},{key:"showMessage",value:function(g){var k=(0,d.default)()+"-"+Math.random();return y.take(1).onValue(function(j){var x=(j.noticeContainer,j.googleNotice),A=j.sdkNotice;A.className=x.className,A.classList.add("inboxsdk__butterbar"),g.html?A.innerHTML=g.html:g.el?(A.innerHTML="",A.appendChild(g.el)):A.textContent=g.text,g.className&&A.classList.add(g.className),A.style.display==="block"&&getComputedStyle(A).opacity==="1"?((0,s.default)(A.style,{opacity:"0",transform:"none",transition:"none"}),A.offsetHeight,(0,s.default)(A.style,{opacity:"1",transition:""})):((0,s.default)(A.style,{opacity:"0",transform:"",transition:"",display:"block"}),A.offsetHeight,(0,s.default)(A.style,{opacity:"1",transform:"none"})),A.setAttribute("data-inboxsdk-id",k)}),{destroy:function(){y.take(1).onValue(function(j){var x=j.noticeContainer,A=j.googleNotice,w=j.sdkNotice;w.getAttribute("data-inboxsdk-id")===k&&(g.className&&w.classList.remove(g.className),a(x,A,w))})}}}},{key:"hideGmailMessage",value:function(){}}]),I}();i.default=E},{"../../lib/dom/make-mutation-observer-chunked-stream":863,"../../lib/dom/querySelectorOrFail":869,"../../lib/stream-wait-for":902,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],796:[function(e,l,i){(function(a){(function(){"use strict";function t(Rt,Ae){var De=v!==void 0&&Rt[T]||Rt["@@iterator"];if(!De){if(E(Rt)||(De=o(Rt))||Ae&&Rt&&typeof Rt.length=="number"){De&&(Rt=De);var et=0,ae=function(){};return{s:ae,n:function(){return et>=Rt.length?{done:!0}:{done:!1,value:Rt[et++]}},e:function(Ee){throw Ee},f:ae}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,_e=!0,he=!1;return{s:function(){De=De.call(Rt)},n:function(){var Ee=De.next();return _e=Ee.done,Ee},e:function(Ee){he=!0,de=Ee},f:function(){try{_e||De.return==null||De.return()}finally{if(he)throw de}}}}function o(Rt,Ae){if(Rt){if(typeof Rt=="string")return u(Rt,Ae);var De=Object.prototype.toString.call(Rt).slice(8,-1);return De==="Object"&&Rt.constructor&&(De=Rt.constructor.name),De==="Map"||De==="Set"?S(Rt):De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De)?u(Rt,Ae):void 0}}function u(Rt,Ae){(Ae==null||Ae>Rt.length)&&(Ae=Rt.length);for(var De=0,et=new Array(Ae);De<Ae;De++)et[De]=Rt[De];return et}function n(Rt,Ae){var De=f(Rt);if(d){var et=d(Rt);Ae&&(et=et.filter(function(ae){return m(Rt,ae).enumerable})),De.push.apply(De,et)}return De}function s(Rt){for(var Ae=1;Ae<arguments.length;Ae++){var De=arguments[Ae]!=null?arguments[Ae]:{};Ae%2?n(Object(De),!0).forEach(function(et){(0,R.default)(Rt,et,De[et])}):h?_(Rt,h(De)):n(Object(De)).forEach(function(et){y(Rt,et,m(De,et))})}return Rt}var f=e("@babel/runtime-corejs2/core-js/object/keys"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),m=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),h=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),_=e("@babel/runtime-corejs2/core-js/object/define-properties"),y=e("@babel/runtime-corejs2/core-js/object/define-property"),S=e("@babel/runtime-corejs2/core-js/array/from"),v=e("@babel/runtime-corejs2/core-js/symbol"),T=e("@babel/runtime-corejs2/core-js/symbol/iterator"),E=e("@babel/runtime-corejs2/core-js/array/is-array"),I=e("@babel/runtime-corejs2/helpers/interopRequireDefault");y(i,"__esModule",{value:!0}),i.default=void 0;var g=I(e("@babel/runtime-corejs2/regenerator")),k=I(e("@babel/runtime-corejs2/core-js/weak-map")),j=I(e("@babel/runtime-corejs2/core-js/set")),x=I(e("@babel/runtime-corejs2/core-js/object/assign")),A=I(e("@babel/runtime-corejs2/core-js/array/from")),w=I(e("@babel/runtime-corejs2/core-js/promise")),C=I(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),O=I(e("@babel/runtime-corejs2/helpers/classCallCheck")),V=I(e("@babel/runtime-corejs2/helpers/createClass")),R=I(e("@babel/runtime-corejs2/helpers/defineProperty")),P=I(e("lodash/once")),B=(I(e("lodash/constant")),I(e("lodash/includes"))),z=(I(e("auto-html")),I(e("kefir"))),Q=I(e("kefir-bus")),N=I(e("kefir-stopper")),K=e("ud"),U=I(e("live-set")),F=(I(e("live-set/filter")),I(e("live-set/merge"))),Z=I(e("live-set/flatMap")),$=I(e("live-set/mapWithRemoval")),ne=I(e("live-set/toValueObservable")),H=I(e("./makePageParserTree")),X=(I(e("../../lib/logger")),I(e("../../lib/toItemWithLifetimeStream"))),oe=e("../../lib/inject-script"),Y=I(e("../../lib/from-event-target-capture")),se=I(e("bimapcache")),ie=I(e("./getInboxMessageIdForInboxThreadId")),L=I(e("../../driver-common/getGmailMessageIdForSyncMessageId")),G=I(e("../../driver-common/getThreadIdFromMessageId")),le=I(e("../../driver-common/gmailAjax")),pe=I(e("../../driver-common/getAccountUrlPart")),we=I(e("../../lib/dom/simulate-key")),ye=I(e("../../lib/dom/set-css")),W=I(e("../../lib/dom/querySelectorOrFail")),te=I(e("./custom-style")),ce=(I(e("../../../common/censorHTMLstring")),I(e("../../../common/censorHTMLtree"))),je=I(e("./getComposeViewDriverLiveSet")),be=I(e("./addNavItem")),Ne=I(e("../../lib/dom/querySelectorOne")),He=I(e("../../lib/idMap")),Qe=I(e("../../lib/dom/make-mutation-observer-chunked-stream")),Be=I(e("./getSidebarClassnames")),Je=I(e("./inbox-butter-bar-driver")),_t=I(e("./createLink")),pt=I(e("./gotoView")),Et=I(e("./detection/thread/parser")),It=I(e("./detection/thread-row/parser")),Qt=I(e("./detection/message/parser")),jt=I(e("./detection/attachmentCard/parser")),Pt=I(e("./detection/attachmentOverlay/parser")),At=I(e("./detection/nativeDrawer/parser")),Ce=I(e("./detection/searchBar/parser")),Oe=I(e("./detection/chatSidebar/parser")),at=I(e("./detection/appToolbarLocation/parser")),bt=I(e("./setupRouteViewDriverStream")),Gt=I(e("./views/inbox-thread-view")),Vt=I(e("./views/inbox-thread-row-view")),dn=I(e("./views/inbox-message-view")),Cn=I(e("./views/inbox-attachment-card-view")),Tt=I(e("./views/inbox-attachment-overlay-view")),In=I(e("./views/inbox-chat-sidebar-view")),$e=I(e("./views/InboxToolbarView")),St=I(e("./views/InboxMoleViewDriver")),Yt=I(e("./views/inbox-app-sidebar-view")),Ht=I(e("./registerSearchSuggestionsProvider")),Wt=I(e("./views/inbox-app-toolbar-button-view")),Pn=I(e("./inbox-page-communicator")),Sn=I(e("./views/inbox-modal-view")),sr=I(e("./views/inbox-drawer-view")),lr=I(e("./views/inbox-backdrop")),Un=function(){function Rt(Ae,De,et,ae,de,_e){var he=this;(0,O.default)(this,Rt),(0,R.default)(this,"_appId",void 0),(0,R.default)(this,"_logger",void 0),(0,R.default)(this,"_opts",void 0),(0,R.default)(this,"_envData",void 0),(0,R.default)(this,"_stopper",void 0),(0,R.default)(this,"onready",void 0),(0,R.default)(this,"_page",void 0),(0,R.default)(this,"_routeViewDriverStream",void 0),(0,R.default)(this,"_rowListViewDriverStream",void 0),(0,R.default)(this,"_composeViewDriverLiveSet",void 0),(0,R.default)(this,"_threadRowViewDriverLiveSet",void 0),(0,R.default)(this,"_threadViewDriverLiveSet",void 0),(0,R.default)(this,"_messageViewDriverLiveSet",void 0),(0,R.default)(this,"_attachmentCardViewDriverLiveSet",void 0),(0,R.default)(this,"_attachmentOverlayViewDriverLiveSet",void 0),(0,R.default)(this,"_chatSidebarViewLiveSet",void 0),(0,R.default)(this,"_toolbarViewDriverLiveSet",void 0),(0,R.default)(this,"_currentRouteViewDriver",void 0),(0,R.default)(this,"_threadViewElements",new k.default),(0,R.default)(this,"_messageViewElements",new k.default),(0,R.default)(this,"_butterBarDriver",new Je.default),(0,R.default)(this,"_butterBar",void 0),(0,R.default)(this,"_pageCommunicator",void 0),(0,R.default)(this,"_lastInteractedAttachmentCardView",null),(0,R.default)(this,"_lastInteractedAttachmentCardViewSet",(0,Q.default)()),(0,R.default)(this,"_appSidebarView",null),(0,R.default)(this,"_customRouteIDs",new j.default),(0,R.default)(this,"_navMenuContainer",void 0),(0,R.default)(this,"_threadIdStats",void 0),(0,R.default)(this,"getGmailMessageIdForSyncMessageId",void 0),(0,R.default)(this,"getInboxMessageIdForInboxThreadId",void 0),(0,R.default)(this,"getThreadIdFromMessageId",void 0),(0,R.default)(this,"getGmailActionToken",(0,P.default)((0,C.default)(g.default.mark(function qe(){var Me,We;return g.default.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.next=2,(0,le.default)({url:"https://mail.google.com/mail".concat((0,pe.default)(),"/"),xhrFields:{withCredentials:!0},canRetry:!0});case 2:if(Me=rt.sent,We=Me.text.match(/var GM_ACTION_TOKEN=("[^"]+")/)){rt.next=6;break}throw new Error("Could not find GM_ACTION_TOKEN");case 6:return rt.abrupt("return",JSON.parse(We[1]));case 7:case"end":return rt.stop()}},qe)})))),(0,te.default)(),this._appId=Ae,this._logger=ae,this._opts=de,this._envData=_e,this._stopper=(0,N.default)(),this._pageCommunicator=new Pn.default,this._page=(0,H.default)(this,document),this._stopper.onValue(function(){return he._page.dump()}),this.onready=(0,oe.injectScript)().then(function(){he._logger.setUserEmailAddress(he.getUserEmailAddress())}),this._setupThreadIdStats(),a.localStorage&&a.localStorage.removeItem("inboxsdk__cached_gmail_and_inbox_message_ids");var Ee=new se.default({key:"inboxsdk__cached_gmail_and_inbox_message_ids_2",getAfromB:function(qe){return(0,L.default)(he,qe)},getBfromA:function(){throw new Error("should not happen")}});this.getGmailMessageIdForSyncMessageId=function(qe){return Ee.getAfromB(qe)};var ke=new se.default({key:"inboxsdk__cached_inbox_message_and_inbox_thread_ids",getAfromB:function(qe){return he._threadIdStats.threadRows.threadsWithFetch+=1,(0,ie.default)(he,qe)},getBfromA:function(){throw new Error("should not happen")}});this.getInboxMessageIdForInboxThreadId=function(qe){return ke.getAfromB(qe)};var Ve=new se.default({key:"inboxsdk__cached_thread_and_message_ids",getAfromB:function(qe){return(0,G.default)(he,qe)},getBfromA:function(){throw new Error("should not happen")}});this.getThreadIdFromMessageId=function(qe){return Ve.getAfromB(qe)},this._threadRowViewDriverLiveSet=(0,$.default)(this._page.tree.getAllByTag("collapsedThreadRow"),function(qe,Me){var We=qe.getValue(),rt=(0,It.default)(We);rt.errors.length&&he._logger.errorSite(new Error("parse errors (threadRow)"),{score:rt.score,errors:rt.errors,html:(0,ce.default)(We)});var gt=new Vt.default(We,he,rt);return Me.then(function(){gt.destroy()}),gt}),this._threadViewDriverLiveSet=(0,Z.default)(this._page.tree.getAllByTag("thread"),function(qe){var Me=qe.getValue(),We=(0,Et.default)(Me);return We.errors.length&&he._logger.errorSite(new Error("parse errors (thread)"),{score:We.score,errors:We.errors,html:(0,ce.default)(Me)}),new U.default({read:function(){throw new Error},listen:function(rt,gt){rt(new j.default);var $t=(0,N.default)();return function Zt(mn){mn||(We=(0,Et.default)(Me),We.errors.length>0&&he._logger.errorSite(new Error("thread reparse errors"),{score:We.score,errors:We.errors,html:(0,ce.default)(Me)}));var hn=new Gt.default(Me,he,We);hn.getStopper().takeUntilBy($t).onValue(function(){gt.remove(hn),Zt(!1)}),$t.takeUntilBy(hn.getStopper()).onValue(function(){hn.destroy()}),gt.add(hn)}(!0),function(){$t.destroy()}}})}),this._messageViewDriverLiveSet=(0,Z.default)(this._page.tree.getAllByTag("message"),function(qe){var Me=qe.getValue(),We=(0,Qt.default)(Me);return We.errors.length>0&&he._logger.errorSite(new Error("parse errors (message)"),{score:We.score,errors:We.errors,html:(0,ce.default)(Me)}),We.attributes.isDraft?U.default.constant(new j.default):new U.default({read:function(){throw new Error},listen:function(rt,gt){rt(new j.default);var $t=(0,N.default)();return function Zt(mn){mn||(We=(0,Qt.default)(Me),We.errors.length>0&&he._logger.errorSite(new Error("message reparse errors"),{score:We.score,errors:We.errors,html:(0,ce.default)(Me)}));var hn=new dn.default(Me,he,We);hn.getStopper().takeUntilBy($t).onValue(function(){gt.remove(hn),Zt(!1)}),$t.takeUntilBy(hn.getStopper()).onValue(function(){hn.destroy()}),gt.add(hn)}(!0),function(){$t.destroy()}}})}),this._attachmentCardViewDriverLiveSet=(0,$.default)(this._page.tree.getAllByTag("attachmentCard"),function(qe,Me){var We=qe.getValue(),rt=(0,jt.default)(We);rt.errors.length&&he._logger.errorSite(new Error("parse errors (attachmentCard)"),{score:rt.score,errors:rt.errors,html:(0,ce.default)(We)});var gt=new Cn.default({element:We,parsed:rt},he);return Me.then(function(){gt.destroy()}),gt}),this._attachmentOverlayViewDriverLiveSet=(0,Z.default)(this._page.tree.getAllByTag("attachmentOverlay"),function(qe){var Me=qe.getValue(),We=(0,Pt.default)(Me);We.errors.length&&he._logger.errorSite(new Error("parse errors (attachmentOverlay)"),{score:We.score,errors:We.errors,html:(0,ce.default)(Me)});var rt=he.getLastInteractedAttachmentCardView();return rt?new U.default({read:function(){throw new Error},listen:function(gt){var $t=new Tt.default(he,Me,We,rt);return gt(new j.default([$t])),function(){$t.destroy()}}}):(he._logger.error(new Error("Encountered overlay without knowing cardView")),U.default.constant(new j.default))}),this._attachmentOverlayViewDriverLiveSet.subscribe({}),this._composeViewDriverLiveSet=(0,je.default)(this,this._page.tree),this._chatSidebarViewLiveSet=(0,$.default)(this._page.tree.getAllByTag("chatSidebar"),function(qe,Me){var We=qe.getValue(),rt=(0,Oe.default)(We);rt.errors.length&&he._logger.errorSite(new Error("parse errors (chatSidebar)"),{score:rt.score,errors:rt.errors,html:(0,ce.default)(We)});var gt=new In.default(We,rt);return Me.then(function(){gt.destroy()}),gt}),this._chatSidebarViewLiveSet.subscribe({}),this._routeViewDriverStream=(0,bt.default)(this),this._routeViewDriverStream.takeUntilBy(this._stopper).onValue(function(qe){he._currentRouteViewDriver=qe}),this._rowListViewDriverStream=z.default.never(),z.default.later(3e4).takeUntilBy((0,X.default)(this._page.tree.getAllByTag("appToolbarLocation"))).onValue(function(){he._logger.errorSite(new Error("Failed to find appToolbarLocation"))}),(0,ne.default)(this._page.tree.getAllByTag("searchBar")).subscribe(function(qe){var Me=qe.value,We=Me.getValue(),rt=(0,Ce.default)(We);rt.errors.length&&he._logger.errorSite(new Error("parse errors (searchBar)"),{score:rt.score,errors:rt.errors,html:(0,ce.default)(We)})}),z.default.later(3e4).takeUntilBy((0,X.default)(this._page.tree.getAllByTag("searchBar"))).onValue(function(){he._logger.errorSite(new Error("Failed to find searchBar"))}),(0,ne.default)(this._page.tree.getAllByTag("nativeDrawer")).subscribe(function(qe){var Me=qe.value,We=Me.getValue(),rt=(0,At.default)(We);rt.errors.length&&he._logger.errorSite(new Error("parse errors (nativeDrawer)"),{score:rt.score,errors:rt.errors,html:(0,ce.default)(We)})});var ze=null;this._threadViewDriverLiveSet.subscribe(function(qe){qe.forEach(function(Me){if(Me.type==="add"){var We=Me.value;ze&&ze.removePanels(),ze=We}})}),this._toolbarViewDriverLiveSet=(0,F.default)([(0,$.default)(this._page.tree.getAllByTag("listToolBar"),function(qe,Me){var We=qe.getValue(),rt=new $e.default(We,he,null);return Me.then(function(){rt.destroy()}),rt}),(0,$.default)(this._threadViewDriverLiveSet,function(qe,Me){var We=qe.getToolbarElement(),rt=new $e.default(We,he,qe);return Me.then(function(){rt.destroy()}),rt})])}return(0,V.default)(Rt,[{key:"_setupThreadIdStats",value:function(){var Ae=this;this._resetThreadIdStats(),setInterval(function(){if(Ae._threadIdStats.threadRows.totalCalls!==0){var De=Ae._threadIdStats.threadRows,et={};et.threadRows=(0,x.default)({},De,{totalThreads:De.totalThreads.size,threadsWithoutGmailId:De.threadsWithoutGmailId.size}),Ae._logger.eventSdkPassive("inboxThreadIdStats",et),Ae._resetThreadIdStats()}},36e5)}},{key:"_resetThreadIdStats",value:function(){this._threadIdStats={threadRows:{totalThreads:new j.default,totalCalls:0,threadsWithoutGmailId:new j.default,callsWithoutGmailId:0,threadsWithFetch:0}}}},{key:"trackThreadRowIdCall",value:function(Ae,De){this._threadIdStats.threadRows.totalCalls+=1,this._threadIdStats.threadRows.totalThreads.add(De),Ae||(this._threadIdStats.threadRows.callsWithoutGmailId+=1,this._threadIdStats.threadRows.threadsWithoutGmailId.add(De))}},{key:"destroy",value:function(){this._stopper.destroy()}},{key:"getAppId",value:function(){return this._appId}},{key:"getOpts",value:function(){return this._opts}},{key:"getLogger",value:function(){return this._logger}},{key:"getStopper",value:function(){return this._stopper}},{key:"getRouteViewDriverStream",value:function(){return this._routeViewDriverStream}},{key:"getCurrentRouteViewDriver",value:function(){return this._currentRouteViewDriver}},{key:"getRowListViewDriverStream",value:function(){return z.default.never()}},{key:"getComposeViewDriverLiveSet",value:function(){return this._composeViewDriverLiveSet}},{key:"getComposeViewDriverStream",value:function(){return(0,X.default)(this._composeViewDriverLiveSet).map(function(Ae){return Ae.el})}},{key:"getThreadRowViewDriverLiveSet",value:function(){return this._threadRowViewDriverLiveSet}},{key:"getThreadRowViewDriverStream",value:function(){return(0,X.default)(this._threadRowViewDriverLiveSet).map(function(Ae){return Ae.el})}},{key:"getThreadViewDriverStream",value:function(){return(0,X.default)(this._threadViewDriverLiveSet).map(function(Ae){return Ae.el})}},{key:"getMessageViewDriverStream",value:function(){return(0,X.default)(this._messageViewDriverLiveSet).map(function(Ae){return Ae.el})}},{key:"getAttachmentCardViewDriverStream",value:function(){return(0,X.default)(this._attachmentCardViewDriverLiveSet).map(function(Ae){return Ae.el})}},{key:"getButterBarDriver",value:function(){return this._butterBarDriver}},{key:"getButterBar",value:function(){return this._butterBar}},{key:"setButterBar",value:function(Ae){this._butterBar=Ae}},{key:"getPageCommunicator",value:function(){return this._pageCommunicator}},{key:"getThreadViewElementsMap",value:function(){return this._threadViewElements}},{key:"getMessageViewElementsMap",value:function(){return this._messageViewElements}},{key:"getTagTree",value:function(){return this._page.tree}},{key:"getCustomRouteIDs",value:function(){return this._customRouteIDs}},{key:"getCurrentChatSidebarView",value:function(){var Ae=(0,A.default)(this._chatSidebarViewLiveSet.values())[0];if(!Ae)throw new Error("No chat sidebar found");return Ae}},{key:"getAppSidebarView",value:function(){return this._appSidebarView||(this._appSidebarView=new Yt.default(this)),this._appSidebarView}},{key:"getChatSidebarButton",value:function(){var Ae=(0,A.default)(this._page.tree.getAllByTag("appToolbarLocation").values())[0],De=Ae?(0,at.default)(Ae.getValue()):null,et=De?De.elements.chatSidebarButton:null;if(!et)throw new Error("No chat sidebar button found");return et}},{key:"getLastInteractedAttachmentCardView",value:function(){return this._lastInteractedAttachmentCardView}},{key:"setLastInteractedAttachmentCardView",value:function(Ae){var De=this;this._lastInteractedAttachmentCardViewSet.emit(),this._lastInteractedAttachmentCardView=Ae,Ae&&Ae.getStopper().merge((0,Y.default)(document.body,"click")).take(1).takeUntilBy(this._lastInteractedAttachmentCardViewSet).takeUntilBy(this._stopper).onValue(function(){De._lastInteractedAttachmentCardView=null})}},{key:"openNewComposeViewDriver",value:function(){var Ae=this.getNextComposeViewDriver();return(0,Ne.default)(document.body,'nav[role=banner] ~ div[aria-expanded] button:not([tabindex="-1"])').click(),Ae}},{key:"getNextComposeViewDriver",value:function(){var Ae=this,De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1e4;return z.default.stream(function(et){var ae=Ae._composeViewDriverLiveSet.subscribe({next:function(de){var _e=de.filter(function(he){return he.type==="add"})[0];if(_e){if(_e.type!=="add")throw new Error("should not happen");et.value(_e.value)}},complete:et.end});return function(){return ae.unsubscribe()}}).merge(z.default.later(De,new Error("Reached timeout while waiting for getNextComposeViewDriver"))).beforeEnd(function(){return new Error("Driver was shut down before a new compose was found")}).flatMap(function(et){return et instanceof Error?z.default.constantError(et):z.default.constant(et)}).take(1).takeErrors(1).toPromise()}},{key:"activateShortcut",value:function(Ae,De,et){console.warn("activateShortcut not implemented")}},{key:"getUserEmailAddress",value:function(){var Ae=document.head.getAttribute("data-inboxsdk-user-email-address");if(Ae==null)throw new Error("should not happen");return Ae}},{key:"isConversationViewDisabled",value:function(){return w.default.resolve(!1)}},{key:"getUserLanguage",value:function(){return this._pageCommunicator.getUserLanguage()}},{key:"getUserContact",value:function(){return{emailAddress:this.getUserEmailAddress(),name:this.getUserEmailAddress()}}},{key:"getAccountSwitcherContactList",value:function(){return console.log("getAccountSwitcherContactList not implemented"),[this.getUserContact()]}},{key:"registerThreadButton",value:function(Ae){var De=this,et=(0,N.default)(),ae=function(he){et.takeUntilBy(he.getStopper()).onValue(function(){he.destroy()})},de=(0,ne.default)(this._toolbarViewDriverLiveSet).subscribe(function(he){var Ee=he.value;if(Ee.isForThread()){if(!Ae.positions||(0,B.default)(Ae.positions,"THREAD")){if(Ae.threadSection==="OTHER")return void console.warn("registerThreadButton does not support OTHER section items in Inbox yet.");ae(Ee.addButton(s(s({},Ae),{},{onClick:function(ke){Ae.onClick({position:"THREAD",dropdown:ke.dropdown,selectedThreadViewDrivers:[Ee.getThreadViewDriver()],selectedThreadRowViewDrivers:[]})}})))}}else if(Ee.isForRowList()&&(!Ae.positions||(0,B.default)(Ae.positions,"LIST"))){if(Ae.listSection==="OTHER")return void console.warn("registerThreadButton does not support OTHER section items in Inbox yet.");ae(Ee.addButton(s(s({},Ae),{},{onClick:function(ke){Ae.onClick({position:"LIST",dropdown:ke.dropdown,selectedThreadViewDrivers:[],selectedThreadRowViewDrivers:De.getSelectedThreadRowViewDrivers()})}})))}});if(et.onValue(function(){de.unsubscribe()}),!Ae.positions||(0,B.default)(Ae.positions,"ROW")){var _e=(0,ne.default)(this._threadRowViewDriverLiveSet).subscribe(function(he){var Ee=he.value;ae(Ee.addToolbarButton(s(s({},Ae),{},{onClick:function(ke){Ae.onClick({position:"ROW",dropdown:ke.dropdown,selectedThreadViewDrivers:[],selectedThreadRowViewDrivers:[Ee]})}})))});et.onValue(function(){_e.unsubscribe()})}return function(){et.destroy()}}},{key:"getSelectedThreadRowViewDrivers",value:function(){return(0,A.default)(this.getThreadRowViewDriverLiveSet().values()).filter(function(Ae){return Ae.isSelected()})}},{key:"addNavItem",value:function(){function Ae(et,ae){return De.apply(this,arguments)}var De=(0,C.default)(g.default.mark(function et(ae,de){return g.default.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return this._navMenuContainer||(this._navMenuContainer=document.createElement("div"),this._navMenuContainer.classList.add("inboxsdk__navItem_appContainer")),_e.abrupt("return",(0,be.default)(de,this._page.tree.getAllByTag("leftNav"),this._navMenuContainer));case 2:case"end":return _e.stop()}},et,this)}));return Ae}()},{key:"addSupportItem",value:function(Ae){}},{key:"getSentMailNativeNavItem",value:function(){return new w.default(function(Ae,De){})}},{key:"createLink",value:function(Ae,De){return(0,_t.default)(this,Ae,De)}},{key:"goto",value:function(){function Ae(et,ae){return De.apply(this,arguments)}var De=(0,C.default)(g.default.mark(function et(ae,de){return g.default.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:(0,pt.default)(this,ae,de);case 1:case"end":return _e.stop()}},et,this)}));return Ae}()},{key:"addCustomRouteID",value:function(Ae){var De=this;return this._customRouteIDs.add(Ae),this._pageCommunicator.registerAllowedHashLinkStartTerm(Ae.split("/")[0]),function(){De._customRouteIDs.delete(Ae)}}},{key:"addCustomListRouteID",value:function(Ae,De){return console.log("addCustomListRouteID not implemented"),function(){}}},{key:"showCustomRouteView",value:function(Ae){var De=document.querySelector("body > .inboxsdk__custom_view");if(!De){var et=De=document.createElement("div");De.className="inboxsdk__custom_view";var ae=(0,Be.default)(),de=ae.chat,_e=ae.nav;(0,ye.default)("custom_view_base_margins",`
        .inboxsdk__custom_view.`.concat(_e||"nav_sidebar",` >
        .`).concat((0,He.default)("custom_view_container"),".").concat((0,He.default)("custom_view_min_margins"),` {
          margin-left: 232px;
        }
        .inboxsdk__custom_view.`).concat(de||"chat_sidebar",` >
        .`).concat((0,He.default)("custom_view_container"),".").concat((0,He.default)("custom_view_min_margins"),` {
          margin-right: 232px;
        }
      `));var he=(0,W.default)(document,"body > div[class][id][jsaction][jslog]");(0,Qe.default)(he,{attributes:!0,attributeFilter:["class"]}).toProperty(function(){return null}).onValue(function(){[de,_e].filter(Boolean).forEach(function(ke){he.classList.contains(ke)?et.classList.add(ke):et.classList.remove(ke)})}),document.body.appendChild(De)}De.innerHTML="",De.appendChild(Ae),De.style.display="",document.body.classList.add("inboxsdk__custom_view_active");var Ee=document.querySelector("[id][jsaction] > div[token][class]");Ee&&(Ee.style.display="none")}},{key:"showNativeRouteView",value:function(){document.body.classList.remove("inboxsdk__custom_view_active");var Ae=document.querySelector("body > .inboxsdk__custom_view");Ae&&(Ae.style.display="none",Ae.innerHTML="");var De=document.querySelector("[id][jsaction] > div[token][class]");De&&(De.style.display="")}},{key:"setShowNativeNavMarker",value:function(Ae){}},{key:"setShowNativeAddonSidebar",value:function(Ae){}},{key:"registerSearchSuggestionsProvider",value:function(Ae){(0,Ht.default)(this,Ae)}},{key:"registerSearchQueryRewriter",value:function(Ae){console.log("registerSearchQueryRewriter not implemented")}},{key:"addToolbarButtonForApp",value:function(Ae){return new Wt.default(Ae,this._page.tree.getAllByTag("appToolbarLocation"),this._page.tree.getAllByTag("searchBar")).waitForReady()}},{key:"addGlobalSidebarContentPanel",value:function(Ae){return w.default.resolve(null)}},{key:"isRunningInPageContext",value:function(){return!(!a.gbar||!a.gbar._CONFIG)}},{key:"showAppIdWarning",value:function(){var Ae=document.createElement("div");Ae.className="inboxsdk__appid_warning",Ae.innerHTML=`
  <button type="button" value="" title="Close" class="inboxsdk__close_button"></button>
  <div class="inboxsdk__appid_warning_main">
    <div class="topline">InboxSDK Developer Warning: Invalid AppId</div>
    <div>You've loaded the InboxSDK with an unregistered appId. Registration is free but necessary to load the SDK.</div>
  </div>
  <a class="inboxsdk__appid_register" target="_blank" href="https://www.inboxsdk.com/register">Register Your App</a>
  `,document.body.insertBefore(Ae,document.body.firstChild);var De=Ae.querySelector(".inboxsdk__close_button");if(!De)throw new Error("Should not happen");De.addEventListener("click",function(et){Ae.remove()})}},{key:"openDraftByMessageID",value:function(Ae){throw new Error("Not implemented")}},{key:"createMoleViewDriver",value:function(Ae){return new St.default(Ae,this)}},{key:"createModalViewDriver",value:function(Ae){return new Sn.default(Ae)}},{key:"createTopMessageBarDriver",value:function(Ae){throw new Error("Not implemented")}},{key:"createDrawerViewDriver",value:function(Ae){var De=new sr.default(Ae);return z.default.fromESObservable(this._page.tree.getAllByTag("nativeDrawer")).takeUntilBy(De.getClosingStream()).onValue(function(et){var ae,de=t(et);try{for(de.s();!(ae=de.n()).done;)if(ae.value.type==="add"){De.close();break}}catch(_e){de.e(_e)}finally{de.f()}}),De}},{key:"createBackdrop",value:function(Ae,De){return new lr.default(Ae,De)}},{key:"closeOpenThread",value:function(){(0,we.default)(document.body,27,27)}},{key:"registerThreadRowViewSelectionHandler",value:function(Ae){return function(){}}}]),Rt}(),xt=(0,K.defn)(l,Un);i.default=xt}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../common/censorHTMLstring":636,"../../../common/censorHTMLtree":637,"../../driver-common/getAccountUrlPart":831,"../../driver-common/getGmailMessageIdForSyncMessageId":832,"../../driver-common/getThreadIdFromMessageId":836,"../../driver-common/gmailAjax":837,"../../lib/dom/make-mutation-observer-chunked-stream":863,"../../lib/dom/querySelectorOne":868,"../../lib/dom/querySelectorOrFail":869,"../../lib/dom/set-css":871,"../../lib/dom/simulate-key":874,"../../lib/from-event-target-capture":879,"../../lib/idMap":883,"../../lib/inject-script":886,"../../lib/logger":892,"../../lib/toItemWithLifetimeStream":903,"./addNavItem":777,"./createLink":779,"./custom-style":780,"./detection/appToolbarLocation/parser":781,"./detection/attachmentCard/parser":782,"./detection/attachmentOverlay/parser":783,"./detection/chatSidebar/parser":784,"./detection/message/parser":786,"./detection/nativeDrawer/parser":787,"./detection/searchBar/parser":788,"./detection/thread-row/parser":789,"./detection/thread/parser":790,"./getComposeViewDriverLiveSet":791,"./getInboxMessageIdForInboxThreadId":792,"./getSidebarClassnames":793,"./gotoView":794,"./inbox-butter-bar-driver":795,"./inbox-page-communicator":797,"./makePageParserTree":799,"./registerSearchSuggestionsProvider":801,"./setupRouteViewDriverStream":803,"./views/InboxMoleViewDriver":805,"./views/InboxToolbarView":807,"./views/inbox-app-sidebar-view":808,"./views/inbox-app-toolbar-button-view":809,"./views/inbox-attachment-card-view":811,"./views/inbox-attachment-overlay-view":812,"./views/inbox-backdrop":813,"./views/inbox-chat-sidebar-view":814,"./views/inbox-drawer-view":818,"./views/inbox-message-view":821,"./views/inbox-modal-view":822,"./views/inbox-thread-row-view":824,"./views/inbox-thread-view":825,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,"auto-html":89,bimapcache:100,kefir:327,"kefir-bus":324,"kefir-stopper":326,"live-set":332,"live-set/filter":329,"live-set/flatMap":330,"live-set/mapWithRemoval":333,"live-set/merge":334,"live-set/toValueObservable":335,"lodash/constant":477,"lodash/includes":493,"lodash/once":516,ud:625}],797:[function(e,l,i){"use strict";function a(T){var E=t();return function(){var I,g=(0,_.default)(T);if(E){var k=(0,_.default)(this).constructor;I=o(g,arguments,k)}else I=g.apply(this,arguments);return(0,h.default)(this,I)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(T){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/core-js/object/assign")),f=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=n(e("@babel/runtime-corejs2/helpers/createClass")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("kefir")),S=n(e("../../lib/common-page-communicator")),v=function(T){function E(){return(0,f.default)(this,E),I.apply(this,arguments)}(0,m.default)(E,T);var I=a(E);return(0,d.default)(E,[{key:"getDraftIDForComposeView",value:function(g){g.hasAttribute("data-inboxsdk-draft-id")||g.dispatchEvent(new CustomEvent("inboxSDKgetDraftIDforComposeView",{bubbles:!0,cancelable:!1,detail:null}));var k=g.getAttribute("data-inboxsdk-draft-id");if(!k)throw new Error("could not find draft ID");return k}},{key:"notifyEmailSending",value:function(){document.dispatchEvent(new CustomEvent("inboxSDKcomposeViewIsSending",{bubbles:!1,cancelable:!1,detail:null}))}},{key:"notifyEmailSendCanceled",value:function(){document.dispatchEvent(new CustomEvent("inboxSDKcomposeViewSendCanceled",{bubbles:!1,cancelable:!1,detail:null}))}},{key:"clickAndGetNewIframeSrc",value:function(g){var k=y.default.fromEvents(g,"inboxSDKclickAndGetNewIframeSrcResult").take(1).flatMap(function(j){var x=j.detail;return x.type==="success"?y.default.constant(x.src):y.default.constantError((0,s.default)(new Error(x.message),{stack:x.stack}))}).toPromise();return g.dispatchEvent(new CustomEvent("inboxSDKclickAndGetNewIframeSrc",{bubbles:!0,cancelable:!1,detail:null})),k}},{key:"fakeWindowResize",value:function(){document.dispatchEvent(new CustomEvent("inboxSDKinboxFakeWindowResize",{bubbles:!1,cancelable:!1,detail:null}))}}]),E}(S.default);i.default=v},{"../../lib/common-page-communicator":848,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,kefir:327}],798:[function(e,l,i){"use strict";function a(t){var o=JSON.parse(t),u=o&&o[2]&&o[2][0]&&o[2][0][3];if(!u)throw new Error("Failed to process thread response");return u.map(function(n){return n[1]}).filter(Boolean)}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.extractMessageIdsFromThreadResponse=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],799:[function(e,l,i){"use strict";function a(I,g){var k=u(I);if(n){var j=n(I);g&&(j=j.filter(function(x){return s(I,x).enumerable})),k.push.apply(k,j)}return k}function t(I){for(var g=1;g<arguments.length;g++){var k=arguments[g]!=null?arguments[g]:{};g%2?a(Object(k),!0).forEach(function(j){(0,_.default)(I,j,k[j])}):f?d(I,f(k)):a(Object(k)).forEach(function(j){m(I,j,s(k,j))})}return I}function o(I,g){function k(A){return j?t(t({},A),{},{logError:function(w,C){var O={el:C,html:C?(0,T.default)(C):null};j.getLogger().errorSite(w,O)}}):A}var j=I,x=new y.default(g,k(v.default));return E.changes().onValue(function(A){console.log("replacing PageParserTree options"),x.replaceOptions(k(A))}),x}var u=e("@babel/runtime-corejs2/core-js/object/keys"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),d=e("@babel/runtime-corejs2/core-js/object/define-properties"),m=e("@babel/runtime-corejs2/core-js/object/define-property"),h=e("@babel/runtime-corejs2/helpers/interopRequireDefault");m(i,"__esModule",{value:!0}),i.default=o;var _=h(e("@babel/runtime-corejs2/helpers/defineProperty")),y=h(e("page-parser-tree")),S=h(e("ud-kefir")),v=h(e("./pageParserOptions")),T=h(e("../../../common/censorHTMLtree")),E=(0,S.default)(l,v.default)},{"../../../common/censorHTMLtree":637,"./pageParserOptions":800,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"page-parser-tree":543,"ud-kefir":624}],800:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("../../lib/logger")),u=t(e("../../../common/censorHTMLtree")),n=t(e("transducers.js")),s=t(e("lodash/find")),f=t(e("lodash/uniq")),d=t(e("closest-ng")),m={tags:{message:{ownedBy:["thread"]},attachmentCard:{ownedBy:["message","threadRow","bundleRow"]},inlineCompose:{ownedBy:["thread"]}},finders:{leftNav:{interval:function(_,y){return _===0&&y<6e4?300:12e4},fn:function(_){return _.querySelectorAll("nav[aria-hidden]:not([role]) div[role=menu]")}},thread:{fn:function(_){return _.querySelectorAll('div[aria-expanded=true][data-item-id*="thread-"], div.scroll-list-item-open[data-item-id*="thread-"]')}},message:{fn:function(_){return _.querySelectorAll('div[role=listitem][aria-expanded][data-msg-id*="msg-"]')}},attachmentCard:{fn:function(_){return _.querySelectorAll(`
          div[data-msg-id] section > div > div[tabindex][title],
          div[jsaction*="update_chip_carousel_arrows"] div[role=listitem][tabindex][jsaction]
        `)}},attachmentOverlay:{fn:function(){var _=n.default.compose(n.default.filter(function(y){return y.style.display!=="none"}),n.default.mapcat(function(y){return Array.prototype.slice.call(y.contentDocument.querySelectorAll("div[role=dialog]:not([aria-hidden=true])"))}));return function(y){return n.default.toArray(Array.prototype.slice.call(y.querySelectorAll("iframe[frameborder]:not([src])")),_)}}()},nativeDrawer:{fn:function(_){var y=_.querySelector('div[jsaction="global.exit_full_screen"] div[role=dialog][aria-busy=true] div[role=link][jsaction$=".open_local_file_picker"]');if(y){var S=(0,d.default)(y,"[role=dialog]");if(S)return[S]}return[]}},searchBar:{interval:function(_,y){return _===0&&y<6e4?300:12e4},fn:function(_){return _.querySelectorAll('nav[role=banner] div[jsaction*="scroll_to_top"] > :last-child > div:empty + div:not(:empty)')}},searchAutocompleteResults:{fn:function(_){return _.querySelectorAll('div[jsaction*="clickonly:global.empty_space_click"] div[role=listbox] ul:last-of-type')}},chatSidebar:{interval:function(_){return _===0?5e3:12e4},fn:function(_){return[_.querySelector("#in")].filter(Boolean)}},appToolbarLocation:{interval:function(_,y){return _===0&&y<6e4?300:12e4},fn:function(_){var y=_.querySelector('div[role=button][jsaction*="global.toggle_chat_roster"]'),S=y?y.parentElement.parentElement.parentElement:null;return S?[S]:[]}},inlineCompose:{fn:function(_){var y=Array.prototype.filter.call(_.querySelectorAll('div[role=main] div[role=list] div[role=listitem] div[jsvs] button[jsaction$=".quick_compose_popout_mole"]'),function(v){return v.style.display!=="none"}).map(function(v){return(0,d.default)(v,"[jsvs]")}),S=Array.prototype.map.call(_.querySelectorAll('div[role=main] div[role=list] ~ div div[jsvs] div[role=textbox][contenteditable=true][tabindex="0"], div[role=main] div[role=listitem][aria-multiselectable] div[jsvs] div[role=textbox][contenteditable=true][tabindex="0"]'),function(v){return(0,d.default)(v,"[jsvs]")});return(0,f.default)(y.concat(S))}},regularCompose:{fn:function(_){return Array.prototype.filter.call(_.querySelectorAll("div[role=dialog]:not(.inboxsdk__mole_view)"),function(y){return y.querySelector('div[jsaction^="compose"][jsaction$=".focus_mole"]')&&!(0,d.default)(y,'div[tabindex][jsaction*="exit_full_screen"]')})}},fullscreenCompose:{fn:function(_){return Array.prototype.filter.call(_.querySelectorAll('div[tabindex][jsaction*="exit_full_screen"] div[role=dialog]'),function(y){return y.querySelector('div[jsaction^="compose"][jsaction$=".focus_mole"]')})}}},watchers:[{sources:[null],tag:"leftNav",selectors:["body","[id][jsaction]","nav[aria-hidden]:not([role])","div[role=menu]"]},{sources:[null],tag:"topRow",selectors:["body","[id][jsaction]","div[jsaction]:not([role])","*",{$or:[["[role=main]"],[":not([role])","*","[role=main]"]]},"[role=application]","[role=list]","*","*",".scroll-list-section-body","[role=listitem]"]},{sources:["topRow"],tag:"bundleRow",selectors:[{$filter:function(_){return!/thread-/.test(_.getAttribute("data-item-id")||"")}}]},{sources:["topRow"],tag:"threadRow",selectors:[{$filter:function(_){return/thread-/.test(_.getAttribute("data-item-id")||"")}}]},{sources:["bundleRow"],tag:"threadRow",selectors:[{$watch:{attributeFilter:["aria-expanded"],cond:"[aria-expanded=true]"}},"[role=list]","*",":not([id])","*","*","[role=listitem]"]},{sources:["threadRow"],tag:"collapsedThreadRow",selectors:[{$watch:{attributeFilter:["class"],cond:":not(.scroll-list-item-open), .scroll-list-item-measuring-open"}},":first-child",{$map:function(_){return _.parentElement}}]},{sources:["threadRow"],tag:"thread",selectors:[{$watch:{attributeFilter:["class"],cond:".scroll-list-item-open"}}]},{sources:["thread"],tag:"message",selectors:["*",":not([role=heading])","[role=list]","div",{$watch:{attributeFilter:["role","data-msg-id"],cond:"[role=listitem][data-msg-id]"}}]},{sources:["message"],tag:"attachmentCard",selectors:["*","*","section","*",{$filter:function(_){return _.style.display!=="none"}},"div[tabindex]",{$filter:function(_){return _.style.display!=="none"}}]},{sources:["bundleRow","threadRow"],tag:"attachmentCard",selectors:["*","[jsaction]","[role=list][jsaction]","*","div[role=listitem]",{$watch:{attributeFilter:["tabindex"],cond:"[tabindex]"}},{$filter:function(_){return _.style.display!=="none"}}]},{sources:[null],tag:"attachmentOverlay",selectors:["body","iframe[id][frameborder]:not([src])",{$map:function(_){return _.contentDocument&&_.contentDocument.body}},"div[aria-label][role=dialog]",{$watch:{attributeFilter:["aria-hidden"],cond:":not([aria-hidden=true])"}}]},{sources:[null],tag:"chatSidebar",selectors:["body","[id][jsaction]","div[id]","div[class]","div.in#in"]},{sources:[null],tag:"searchAutocompleteResults",selectors:["body","[id][jsaction]","[id][jsaction]","div[class]","div[class]","[role=listbox]","ul:last-of-type"]},{sources:["thread"],tag:"inlineCompose",selectors:["*",":not([role=heading])",":not([role=list])","*","[jsvs]",{$map:function(_){var y=(0,s.default)(_.children,function(v){return v.nodeName==="BUTTON"});if(y)return y;var S=_.querySelector('div[jsaction="global.none"] > div[role=button]');if(S)return S.parentElement;o.default.error(new Error("inline compose button not found"),{el:_,html:(0,u.default)(_)})}},{$watch:{attributeFilter:["style"],cond:function(_){return _.style.display!=="none"}}},{$map:function(_){return _.parentElement}}]},{sources:[null],tag:"regularCompose",selectors:["body","div[id][jsaction]","div[id][class]:not([role])","div[class]","div[id]","div[jstcache][class]:not([aria-hidden]):not([tabindex])",{$map:function(_){var y=_.querySelector("div[role=dialog]:not(.inboxsdk__mole_view)");return y||o.default.error(new Error("compose dialog element not found"),{html:(0,u.default)(_)}),y}}]},{sources:[null],tag:"fullscreenCompose",selectors:["body","[id][jsaction]","div[id]:not([jsaction])",'div[tabindex][jsaction*="exit_full_screen"]',"*","*","*","*","*","[role=dialog]:not(.inboxsdk__drawer_view)"]},{sources:["searchBar"],tag:"listToolBar",selectors:[{$map:function(_){return _.parentElement}},"div:empty + div:not(:empty) + div","ul[jsaction]"]}]},h=m;i.default=h},{"../../../common/censorHTMLtree":637,"../../lib/logger":892,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"closest-ng":105,"lodash/find":484,"lodash/uniq":528,"transducers.js":623}],801:[function(e,l,i){"use strict";function a(z,Q){var N=u(z);if(n){var K=n(z);Q&&(K=K.filter(function(U){return s(z,U).enumerable})),N.push.apply(N,K)}return N}function t(z){for(var Q=1;Q<arguments.length;Q++){var N=arguments[Q]!=null?arguments[Q]:{};Q%2?a(Object(N),!0).forEach(function(K){(0,S.default)(z,K,N[K])}):f?d(z,f(N)):a(Object(N)).forEach(function(K){m(z,K,s(N,K))})}return z}function o(z,Q){var N=(0,k.default)(),K=R();return(0,j.default)(z.getTagTree().getAllByTag("searchBar")).flatMap(function(U){var F=U.el,Z=U.removalStream,$=(0,w.default)(F.getValue()).elements.searchInput;return $ instanceof HTMLInputElement?g.default.constant({searchInput:$,searchInputRemovalStream:Z}):g.default.never()}).flatMap(function(U){var F=U.searchInput,Z=U.searchInputRemovalStream;return(0,j.default)(z.getTagTree().getAllByTag("searchAutocompleteResults")).takeUntilBy(Z).map(function($){var ne=$.el,H=$.removalStream;return{searchInput:F,searchInputRemovalStream:Z,resultsEl:ne.getValue(),resultsElRemovalStream:H}})}).flatMap(function(U){var F=U.searchInput,Z=U.searchInputRemovalStream,$=U.resultsEl,ne=U.resultsElRemovalStream,H=g.default.fromEvents(F,"input").takeUntilBy(Z).takeUntilBy(ne),X=g.default.fromEvents(F,"keydown").filter(function(oe){var Y=oe.keyCode;return Y===13||Y===9}).takeUntilBy(Z).takeUntilBy(ne);return H.map(function(oe){return{event:oe,searchInput:F,resultsEl:$,inputStream:H,enterAndTabPresses:X,resultsElRemovalStream:ne}})}).flatMapLatest(function(U){var F=z.getPageCommunicator().ajaxInterceptStream.filter(function($){return $.type==="searchSuggestionsReceieved"}),Z=g.default.merge([U.inputStream.take(1).flatMap(function(){return F}),U.inputStream.filter(function($){return $.target.value===""}),U.resultsElRemovalStream]).take(1);return g.default.combine([g.default.fromPromise(I.default.resolve(Q(U.event.target.value))),F.take(1)]).takeUntilBy(Z).map(function($){var ne=(0,v.default)($,2),H=ne[0];return ne[1],t(t({},U),{},{removalStream:Z,results:H})})}).takeUntilBy(N).flatMap(function(U){var F=U.resultsEl,Z=U.searchInput,$=U.resultsElRemovalStream,ne=U.removalStream,H=U.enterAndTabPresses,X=U.results;try{var oe=(0,C.default)(z,X);return g.default.constant({resultsEl:F,searchInput:Z,resultsElRemovalStream:$,removalStream:ne,enterAndTabPresses:H,results:oe})}catch(Y){return g.default.constantError(Y)}}).filter(function(U){return U.results.length>0}).onError(function(U){return z.getLogger().error(U)}).onValue(function(U){var F=U.resultsEl,Z=U.searchInput,$=U.resultsElRemovalStream,ne=U.removalStream,H=U.enterAndTabPresses,X=U.results;(0,O.default)({resultsEl:F,resultsElRemovalStream:$,searchInput:Z});var oe=B({driver:z,searchInput:Z,removalStream:ne,results:X,providerOrder:K});(0,A.default)(F,oe),F.style.display="block",F.style.padding="6px 0",ne.onValue(function(){oe.remove(),(Z.value===""||F.matches(":empty"))&&(F.style.display="none")}),H.takeUntilBy(ne).take(1).onValue(function(){F.style.display="none"}),(0,x.default)(F,{childList:!0}).takeUntilBy(H).takeUntilBy(ne).onValue(function(){F.style.display="block",oe.parentElement!==F&&(0,A.default)(F,oe)})}),function(){return N.destroy()}}var u=e("@babel/runtime-corejs2/core-js/object/keys"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),d=e("@babel/runtime-corejs2/core-js/object/define-properties"),m=e("@babel/runtime-corejs2/core-js/object/define-property"),h=e("@babel/runtime-corejs2/helpers/interopRequireDefault");m(i,"__esModule",{value:!0}),i.default=o;var _,y,S=h(e("@babel/runtime-corejs2/helpers/defineProperty")),v=h(e("@babel/runtime-corejs2/helpers/slicedToArray")),T=h(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),E=h(e("@babel/runtime-corejs2/core-js/parse-int")),I=h(e("@babel/runtime-corejs2/core-js/promise")),g=h(e("kefir")),k=(h(e("kefir-bus")),h(e("kefir-stopper"))),j=h(e("../../lib/toItemWithLifetimeStream")),x=h(e("../../lib/dom/make-mutation-observer-chunked-stream")),A=(h(e("../../lib/from-event-target-capture")),h(e("../../lib/dom/insert-element-in-order"))),w=h(e("./detection/searchBar/parser")),C=h(e("../../lib/copyAndValidateAutocompleteResults")),O=h(e("./setupCustomAutocompleteSelectionHandling")),V=h(e("auto-html")),R=function(){var z=document,Q=z.documentElement;if(!Q)throw new Error;var N=Q.getAttribute("data-inboxsdk-search-provider-count"),K=(N?(0,E.default)(N)+1:0).toString();return Q.setAttribute("data-inboxsdk-search-provider-count",K),K},P=function(z){var Q=z.driver,N=z.searchInput,K=z.result;z.event,typeof K.onClick=="function"&&K.onClick(),typeof K.externalURL=="string"&&window.open(K.externalURL),K.routeName&&K.routeParams&&Q.goto(K.routeName,K.routeParams),typeof K.searchTerm=="string"&&(N.value=K.searchTerm,N.dispatchEvent(new Event("input")))},B=function(z){var Q=z.driver,N=z.searchInput,K=z.removalStream,U=z.results,F=z.providerOrder,Z=document.createElement("div");return Z.setAttribute("data-order-hint",F),Z.classList.add("inboxsdk__search_suggestion_group"),U.forEach(function($){var ne=document.createElement("li"),H=$.description||$.descriptionHTML?(0,V.default)(_||(_=(0,T.default)([`
      <span class="inboxsdk__search_suggestion_desc">
        `,`
      </span>
    `])),$.description||{__html:$.descriptionHTML}):"";ne.classList.add("inboxsdk__search_suggestion"),ne.innerHTML=(0,V.default)(y||(y=(0,T.default)([`
      <img src="`,`">
      <span>
        <span class="inboxsdk__search_suggestion_name" role="option">
          `,`
        </span>
        `,`
      </span>
    `])),$.iconUrl||"//www.gstatic.com/images/icons/material/system/2x/search_black_24dp.png",$.name||{__html:$.nameHTML},{__html:H}),g.default.fromEvents(ne,"click").takeUntilBy(K).onValue(function(X){return P({driver:Q,searchInput:N,result:$,event:X})}),Z.appendChild(ne)}),Z}},{"../../lib/copyAndValidateAutocompleteResults":849,"../../lib/dom/insert-element-in-order":857,"../../lib/dom/make-mutation-observer-chunked-stream":863,"../../lib/from-event-target-capture":879,"../../lib/toItemWithLifetimeStream":903,"./detection/searchBar/parser":788,"./setupCustomAutocompleteSelectionHandling":802,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"auto-html":89,kefir:327,"kefir-bus":324,"kefir-stopper":326}],802:[function(e,l,i){"use strict";function a(T){var E=T.resultsEl,I=T.resultsElRemovalStream,g=T.searchInput;if(!E.hasAttribute(m)){E.setAttribute(m,"true");var k=g.parentElement;if(!k)throw new Error;var j=(0,f.default)(k,"keydown").takeUntilBy(I),x=j.filter(function(C){return C.keyCode===38}),A=j.filter(function(C){return C.keyCode===40}),w=j.filter(function(C){return C.keyCode===13});x.onValue(function(C){var O=y(E),V=E.querySelector(".inboxsdk__search_suggestion.inboxsdk__selected"),R=V&&(0,d.default)(V,".inboxsdk__search_suggestion_group");if(!O){if(V&&R&&V.matches(":first-child")&&R.matches(":first-of-type"))V.classList.remove("inboxsdk__selected");else if(_(E)&&!V){C.stopPropagation();var P=E.querySelector(".inboxsdk__search_suggestion_group:last-of-type > .inboxsdk__search_suggestion:last-child");P&&P.classList.add("inboxsdk__selected")}else if(V&&R)if(C.stopPropagation(),V.classList.remove("inboxsdk__selected"),V.matches(":first-child")){var B=R.previousElementSibling,z=B&&B.querySelector(".inboxsdk__search_suggestion:last-child");z&&z.classList.add("inboxsdk__selected")}else{var Q=V.previousElementSibling;Q&&Q.classList.add("inboxsdk__selected")}}}),A.onValue(function(C){var O=y(E),V=E.querySelector(".inboxsdk__search_suggestion.inboxsdk__selected"),R=V&&(0,d.default)(V,".inboxsdk__search_suggestion_group");if(!O||O.matches(":last-of-type"))if(O)S(E);else if(V&&R&&V.matches(":last-child")&&R.matches(":last-of-type"))C.stopPropagation(),V.classList.remove("inboxsdk__selected");else if(V){if(V&&R)if(C.stopPropagation(),V.classList.remove("inboxsdk__selected"),V.matches(":last-child")){var P=R.nextElementSibling,B=P&&P.querySelector(".inboxsdk__search_suggestion:first-child");B&&B.classList.add("inboxsdk__selected")}else{var z=V.nextElementSibling;z&&z.classList.add("inboxsdk__selected")}}else{if(h(E))return;S(E)}}),w.onValue(function(C){var O=E.querySelector(".inboxsdk__search_suggestion.inboxsdk__selected");O&&(C.stopPropagation(),O.dispatchEvent(new MouseEvent("click")))}),j.onEnd(function(){return E.removeAttribute(m)}),v(E,I)}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/array/from")),n=o(e("@babel/runtime-corejs2/core-js/parse-float")),s=o(e("kefir")),f=o(e("../../lib/from-event-target-capture")),d=o(e("closest-ng")),m="data-inboxsdk-selection-master-claimed",h=function(T){return T.querySelectorAll("li:not(.inboxsdk__search_suggestion)").length>0},_=function(T){return T.querySelectorAll(".inboxsdk__search_suggestion").length>0},y=function(T){var E=T.querySelectorAll("li:not(.inboxsdk__search_suggestion)");return(0,u.default)(E).find(function(I){var g=getComputedStyle(I),k=g.backgroundColor,j=k.match(/([\d.]+)/g);return j&&(0,n.default)(j[3])>0})},S=function(T){var E=T.querySelector(".inboxsdk__search_suggestion_group:first-of-type > .inboxsdk__search_suggestion:first-child");E&&E.classList.add("inboxsdk__selected")},v=function(T,E){s.default.fromEvents(T,"mouseover").takeUntilBy(E).map(function(I){var g=I.target;return(0,d.default)(g,".inboxsdk__search_suggestion:not(.inboxsdk__selected)")}).filter(Boolean).onValue(function(I){var g=T.querySelectorAll(".inboxsdk__search_suggestion.inboxsdk__selected");(0,u.default)(g).forEach(function(k){return k.classList.remove("inboxsdk__selected")}),I.classList.add("inboxsdk__selected")}),s.default.fromEvents(T,"mouseout").takeUntilBy(E).map(function(I){var g=I.target;return(0,d.default)(g,".inboxsdk__search_suggestion.inboxsdk__selected")}).filter(Boolean).onValue(function(I){return I.classList.remove("inboxsdk__selected")})}},{"../../lib/from-event-target-capture":879,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-float":22,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"closest-ng":105,kefir:327}],803:[function(e,l,i){"use strict";function a(T,E){var I=s!==void 0&&T[f]||T["@@iterator"];if(!I){if(d(T)||(I=t(T))||E&&T&&typeof T.length=="number"){I&&(T=I);var g=0,k=function(){};return{s:k,n:function(){return g>=T.length?{done:!0}:{done:!1,value:T[g++]}},e:function(w){throw w},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,x=!0,A=!1;return{s:function(){I=I.call(T)},n:function(){var w=I.next();return x=w.done,w},e:function(w){A=!0,j=w},f:function(){try{x||I.return==null||I.return()}finally{if(A)throw j}}}}function t(T,E){if(T){if(typeof T=="string")return o(T,E);var I=Object.prototype.toString.call(T).slice(8,-1);return I==="Object"&&T.constructor&&(I=T.constructor.name),I==="Map"||I==="Set"?n(T):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?o(T,E):void 0}}function o(T,E){(E==null||E>T.length)&&(E=T.length);for(var I=0,g=new Array(E);I<E;I++)g[I]=T[I];return g}function u(T){var E=T.getCustomRouteIDs(),I=null;return T.getStopper().onValue(function(){I&&I.destroy()}),_.default.merge([_.default.merge([_.default.fromEvents(document,"inboxSDKpushState"),_.default.fromEvents(window,"popstate")]).map(function(g){return document.location.href}),_.default.fromEvents(window,"hashchange").map(function(g){return g.newURL}).filter(function(g){return/#/.test(g)})]).toProperty(function(){return document.location.href}).map(function(g){var k=/#([^?]*)/.exec(g);if(!k)return{type:"NATIVE"};var j,x=k[1],A=a(E);try{for(A.s();!(j=A.n()).done;){var w=j.value,C=(0,v.default)(w,x);if(C)return{hash:x,type:"CUSTOM",routeID:C}}}catch(O){A.e(O)}finally{A.f()}return{type:"OTHER_APP_CUSTOM"}}).map(function(g){return g.type==="CUSTOM"?new y.default(g.routeID,g.hash):g.type==="NATIVE"?(T.showNativeRouteView(),new S.default("NATIVE")):g.type==="OTHER_APP_CUSTOM"?new S.default("OTHER_APP_CUSTOM"):(T.getLogger().error(new Error("should not happen")),new S.default("UNKNOWN"))}).map(function(g){return I&&I.destroy(),I=g,g})}var n=e("@babel/runtime-corejs2/core-js/array/from"),s=e("@babel/runtime-corejs2/core-js/symbol"),f=e("@babel/runtime-corejs2/core-js/symbol/iterator"),d=e("@babel/runtime-corejs2/core-js/array/is-array"),m=e("@babel/runtime-corejs2/core-js/object/define-property"),h=e("@babel/runtime-corejs2/helpers/interopRequireDefault");m(i,"__esModule",{value:!0}),i.default=u;var _=h(e("kefir")),y=(h(e("./inbox-driver")),h(e("./views/inbox-route-view")),h(e("./views/inbox-custom-route-view"))),S=h(e("./views/inbox-dummy-route-view")),v=h(e("../../lib/routeIDmatchesHash"))},{"../../lib/routeIDmatchesHash":898,"./inbox-driver":796,"./views/inbox-custom-route-view":817,"./views/inbox-dummy-route-view":820,"./views/inbox-route-view":823,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],804:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/object/assign")),u=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(e("@babel/runtime-corejs2/helpers/createClass")),s=t(e("@babel/runtime-corejs2/helpers/defineProperty")),f=e("ud"),d=t(e("lodash/isEqual")),m=t(e("../../../driver-common/update-icon")),h=t(e("../../../lib/dom/querySelectorOrFail")),_=function(){function S(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,u.default)(this,S),(0,s.default)(this,"_element",void 0),(0,s.default)(this,"_labelDescriptor",void 0),(0,s.default)(this,"_iconSettings",void 0),this._element=document.createElement("div"),this._element.className="inboxsdk__inbox_thread_row_label "+(v.classes||[]).join(" "),this._element.innerHTML="<span></span>",this._labelDescriptor={},this._iconSettings={}}return(0,n.default)(S,[{key:"getElement",value:function(){return this._element}},{key:"updateLabelDescriptor",value:function(v){this._handleNewLabelDescriptor(v)}},{key:"_handleNewLabelDescriptor",value:function(v){if(!v)return void(this._labelDescriptor={});v=(0,o.default)({foregroundColor:"rgb(102, 102, 102)",backgroundColor:"rgb(221, 221, 221)"},v),(0,d.default)(this._labelDescriptor,v)||((0,m.default)(this._iconSettings,this._element,!1,v.iconClass,v.iconUrl),v.iconClass||v.iconUrl?this._element.classList.add("inboxsdk__label_has_icon"):this._element.classList.remove("inboxsdk__label_has_icon"),this._updateBackgroundColor(v.backgroundColor),this._updateForegroundColor(v.foregroundColor),this._updateIconBackgroundColor(v.iconBackgroundColor),this._updateTitle(v.title),this._labelDescriptor=v)}},{key:"_updateBackgroundColor",value:function(v){this._labelDescriptor.backgroundColor!==v&&(this._element.style.backgroundColor=v)}},{key:"_updateForegroundColor",value:function(v){this._labelDescriptor.foregroundColor!==v&&(this._element.style.color=v)}},{key:"_updateIconBackgroundColor",value:function(v){var T=this.getElement().querySelector(".inboxsdk__button_icon");T&&(T.style.backgroundColor=v||"")}},{key:"_updateTitle",value:function(v){this._labelDescriptor.title!==v&&((0,h.default)(this._element,"span").textContent=v)}}]),S}(),y=(0,f.defn)(l,_);i.default=y},{"../../../driver-common/update-icon":843,"../../../lib/dom/querySelectorOrFail":869,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/isEqual":501,ud:625}],805:[function(e,l,i){"use strict";function a(B){var z=t();return function(){var Q,N=(0,m.default)(B);if(z){var K=(0,m.default)(this).constructor;Q=u(N,arguments,K)}else Q=N.apply(this,arguments);return(0,d.default)(this,Q)}}function t(){if(typeof Reflect=="undefined"||!u||u.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!0}catch(B){return!1}}function o(B){return!B.classList.contains("inboxsdk__mole_view")&&B.hasAttribute("jsaction")}var u=e("@babel/runtime-corejs2/core-js/reflect/construct"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/inherits")),d=s(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),m=s(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),h=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),_=s(e("@babel/runtime-corejs2/helpers/createClass")),y=s(e("@babel/runtime-corejs2/helpers/defineProperty")),S=s(e("asap")),v=e("ud"),T=s(e("lodash/find")),E=s(e("react")),I=s(e("react-dom")),g=s(e("kefir")),k=s(e("kefir-stopper")),j=s(e("../../../lib/dom/make-mutation-observer-chunked-stream")),x=s(e("../../../lib/dom/querySelectorOrFail")),A=s(e("../../../lib/from-event-target-capture")),w=s(e("../../../lib/react/ElementContainer")),C=s(e("../../../lib/dom/reemitClickEventForReact")),O=s(e("kefir-bus")),V=function(){function B(z,Q){(0,h.default)(this,B),(0,y.default)(this,"_driver",void 0),(0,y.default)(this,"_options",void 0),(0,y.default)(this,"_stopper",(0,k.default)()),(0,y.default)(this,"_eventStream",(0,O.default)()),(0,y.default)(this,"_element",void 0),(0,y.default)(this,"_title",void 0),this._options=z,this._driver=Q,this._element=document.createElement("div"),this._element.className="inboxsdk__mole_view "+(z.className||""),this._element.setAttribute("jsaction","global.none"),this._title=String(this._options.title||""),this._render(),this._element.firstElementChild.style.zIndex="1",g.default.fromEvents(this._element,"click").takeUntilBy(this._stopper).onValue(function(N){(0,C.default)(N)})}return(0,_.default)(B,[{key:"_render",value:function(){var z=this;I.default.render(E.default.createElement(P,{title:this._title,titleEl:this._options.titleEl,el:this._options.el,chrome:this._options.chrome,titleButtons:this._options.titleButtons,minimized:this.getMinimized(),onClose:function(){(0,S.default)(function(){z.destroy()})},onSetMinimize:function(Q){return z.setMinimized(Q)}}),this._element)}},{key:"show",value:function(){var z=this;if(this._element.parentElement)throw new Error("show was called twice");var Q=document.getElementById("OPOhoe");if(!Q){var N=new Error("could find element to insert moleview into");throw this._driver.getLogger().error(N),N}Q.insertBefore(this._element,Q.firstElementChild),(0,S.default)(function(){z._setupWidth()}),(0,j.default)(Q,{childList:!0}).takeUntilBy(this._stopper).onValue(function(K){K.some(function(U){return Array.prototype.some.call(U.addedNodes,function(F){return F.nodeType===1&&!F.classList.contains("inboxsdk__mole_view")})})&&Q.insertBefore(z._element,Q.firstElementChild),z._setupWidth()}),(0,j.default)(this._options.el,{attributes:!0,attributeFilter:["class","style"]}).takeUntilBy(this._stopper).onValue(function(){z._setupWidth()}),g.default.fromEvents(this._element,"click").merge((0,A.default)(this._element,"focus")).takeUntilBy(this._stopper).onValue(function(){z._bringToFront()})}},{key:"_setupWidth",value:function(){var z=this,Q=(0,x.default)(this._element,".inboxsdk__mole_view_inner").getBoundingClientRect().width;(0,S.default)(function(){z._element.style.width=Q+"px";var N=z._element.parentElement;N&&Array.prototype.indexOf.call(N.children,z._element)===N.children.length-2?z._element.style.paddingLeft=Q+"px":z._element.style.paddingLeft=""})}},{key:"_bringToFront",value:function(){var z=this;if(!this._element.classList.contains("inboxsdk__mole_at_front")){this._element.classList.add("inboxsdk__mole_at_front");var Q=this._element.parentElement;if(!(Q instanceof HTMLElement))throw new Error("mole not in document");var N=Array.prototype.indexOf.call(Q.children,this._element);if(N<0)throw new Error("should not happen");var K=Q.children.length,U=(0,T.default)(Q.children,o);U&&U.dispatchEvent(new FocusEvent("focus")),Array.prototype.forEach.call(Q.children,function(F,Z){if(F.classList.contains("inboxsdk__mole_view")){F!==z._element&&F.classList.remove("inboxsdk__mole_at_front");var $=(0,T.default)(F.children,function(ne){return ne.style.zIndex});$&&($.style.zIndex=String(Z>N?K-(Z-N):K))}}),g.default.merge([U?(0,A.default)(U,"focus"):null,(0,j.default)(Q,{childList:!0}).filter(function(F){return F.some(function(Z){return Z.addedNodes.length>0})})].concat(Array.prototype.map.call(Q.children,function(F){var Z=(0,T.default)(F.children,function(ne){return ne.style.zIndex});if(!Z)return null;var $=Z.style.zIndex;return(0,j.default)(Z,{attributes:!0,attributeFilter:["style"]}).filter(function(){return Z.style.zIndex!==$})})).filter(Boolean)).takeUntilBy(this._stopper).take(1).onValue(function(){z._element.classList.contains("inboxsdk__mole_at_front")&&(z._element.classList.remove("inboxsdk__mole_at_front"),Array.prototype.forEach.call(Q.children,function(F){if(!o(F)){var Z=(0,T.default)(F.children,function($){return $.style.zIndex});Z&&(Z.style.zIndex="1")}}))})}}},{key:"setTitle",value:function(z){this._title=String(z),this._render()}},{key:"setMinimized",value:function(z){z?(this._element.classList.add("inboxsdk__minimized"),this._render(),this._eventStream.emit({eventName:"minimize"})):(this._element.classList.remove("inboxsdk__minimized"),this._render(),this._eventStream.emit({eventName:"restore"}))}},{key:"getMinimized",value:function(){return this._element.classList.contains("inboxsdk__minimized")}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"destroy",value:function(){I.default.unmountComponentAtNode(this._element),this._stopper.destroy(),this._eventStream.end(),this._element.remove()}}]),B}(),R=(0,v.defn)(l,V);i.default=R;var P=function(B){function z(){return(0,h.default)(this,z),Q.apply(this,arguments)}(0,f.default)(z,B);var Q=a(z);return(0,_.default)(z,[{key:"render",value:function(){var N=this,K=null;if(this.props.chrome!==!1){var U;U=this.props.minimized&&this.props.minimizedTitleEl?E.default.createElement(w.default,{className:"inboxsdk__mole_view_title",el:this.props.minimizedTitleEl}):this.props.titleEl?E.default.createElement(w.default,{className:"inboxsdk__mole_view_title",el:this.props.titleEl}):E.default.createElement("div",{className:"inboxsdk__mole_view_title"},this.props.title);var F=(this.props.titleButtons||[]).map(function(Z,$){return E.default.createElement("button",{type:"button",key:$,title:Z.title,className:"inboxsdk__mole_custom_title_button",onClick:function(ne){ne.stopPropagation(),Z.onClick()}},E.default.createElement("img",{className:Z.iconClass,src:Z.iconUrl,alt:"","aria-hidden":"true"}))});K=E.default.createElement("div",{className:"inboxsdk__mole_view_titlebar",onClick:function(){N.props.minimized&&N.props.onSetMinimize(!1)}},U,E.default.createElement("div",{className:"inboxsdk__mole_title_buttons"},E.default.createElement("button",{type:"button",style:{display:this.props.minimized?"none":""},title:"Minimize",onClick:function(){return N.props.onSetMinimize(!0)}},E.default.createElement("img",{srcSet:"//ssl.gstatic.com/bt/C3341AA7A1A076756462EE2E5CD71C11/2x/btw_ic_minimize_white_18dp_2x.png 2x",alt:"","aria-hidden":"true",src:"//ssl.gstatic.com/bt/C3341AA7A1A076756462EE2E5CD71C11/1x/btw_ic_minimize_white_18dp.png"})),E.default.createElement("button",{type:"button",style:{display:this.props.minimized?"":"none"},title:"Expand",onClick:function(){return N.props.onSetMinimize(!1)}},E.default.createElement("img",{srcSet:"//ssl.gstatic.com/bt/C3341AA7A1A076756462EE2E5CD71C11/2x/btw_ic_maximize_white_18dp_2x.png 2x",alt:"","aria-hidden":"true",src:"//ssl.gstatic.com/bt/C3341AA7A1A076756462EE2E5CD71C11/1x/btw_ic_maximize_white_18dp.png"})),F,E.default.createElement("button",{type:"button",title:"Close",onClick:function(){return N.props.onClose()}},E.default.createElement("img",{srcSet:"//ssl.gstatic.com/bt/C3341AA7A1A076756462EE2E5CD71C11/2x/btw_ic_close_white_12dp_2x.png 2x",alt:"","aria-hidden":"true",src:"//ssl.gstatic.com/bt/C3341AA7A1A076756462EE2E5CD71C11/1x/btw_ic_close_white_12dp.png"}))))}return E.default.createElement("div",{className:"inboxsdk__mole_view_mid"},E.default.createElement("div",{className:"inboxsdk__mole_view_inner"},K,E.default.createElement(w.default,{className:"inboxsdk__mole_view_content",el:this.props.el})))}}]),z}(E.default.Component)},{"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/dom/reemitClickEventForReact":870,"../../../lib/from-event-target-capture":879,"../../../lib/react/ElementContainer":896,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,asap:83,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/find":484,react:606,"react-dom":584,ud:625}],806:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=e("ud"),f=t(e("lodash/includes")),d=t(e("kefir")),m=t(e("kefir-stopper")),h=t(e("../../../lib/from-event-target-capture")),_=t(e("../../../widgets/buttons/dropdown-view")),y=t(e("./inbox-dropdown-view")),S=t(e("../../../lib/dom/insert-element-in-order")),v=0,T=function(){function I(g,k,j){var x=this;(0,o.default)(this,I),(0,n.default)(this,"_stopper",(0,m.default)()),(0,n.default)(this,"_buttonEl",void 0);var A=this._buttonEl=document.createElement("li");A.setAttribute("role","button"),A.setAttribute("data-insertion-order-hint",String(v++)),A.setAttribute("data-group-order-hint",k),A.tabIndex=0,A.className="inboxsdk__button_icon";var w=document.createElement("img");w.className="inboxsdk__button_iconImg";var C=function(B){},O=!1,V=null;d.default.merge([d.default.fromEvents(A,"click"),(0,h.default)(A,"keyup").filter(function(B){return(0,f.default)([32,13],B.which)})]).onValue(function(B){if(B.preventDefault(),B.stopPropagation(),O){if(V)return void V.close();x._buttonEl.classList.add("inboxsdk__active"),V=new _.default(new y.default,A),V.setPlacementOptions({position:"bottom",hAlign:"right",vAlign:"top",buffer:10}),V.on("destroy",function(){x._buttonEl.classList.remove("inboxsdk__active"),V=null})}C({dropdown:V})});var R=null;O=g.hasDropdown,A.title=g.title,A.className="inboxsdk__button_icon "+(g.iconClass||""),C=g.onClick,g.iconUrl?(w.src=g.iconUrl,A.appendChild(w)):w.remove();var P=g.orderHint||0;R!==P&&(R=P,A.setAttribute("data-order-hint",String(P)),(0,S.default)(j,A,void 0,!0)),this._stopper.onValue(function(){A.remove(),V&&V.close()})}return(0,u.default)(I,[{key:"destroy",value:function(){this._stopper.destroy()}},{key:"getStopper",value:function(){return this._stopper}}]),I}(),E=(0,s.defn)(l,T);i.default=E},{"../../../lib/dom/insert-element-in-order":857,"../../../lib/from-event-target-capture":879,"../../../widgets/buttons/dropdown-view":942,"./inbox-dropdown-view":819,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-stopper":326,"lodash/includes":493,ud:625}],807:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=e("ud"),f=(t(e("kefir")),t(e("kefir-stopper"))),d=t(e("./InboxToolbarButtonView")),m=function(){function _(y,S,v){(0,o.default)(this,_),(0,n.default)(this,"_stopper",(0,f.default)()),(0,n.default)(this,"_el",void 0),(0,n.default)(this,"_driver",void 0),(0,n.default)(this,"_inboxThreadView",void 0),this._el=y,this._driver=S,this._inboxThreadView=v,this._el.classList.add("inboxsdk__list_toolbar")}return(0,u.default)(_,[{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._stopper.destroy()}},{key:"getThreadRowViewDrivers",value:function(){return this._driver.getThreadRowViewDriverLiveSet().values()}},{key:"getRouteViewDriver",value:function(){return this._driver.getCurrentRouteViewDriver()}},{key:"isForRowList",value:function(){return this._inboxThreadView==null}},{key:"isForThread",value:function(){return this._inboxThreadView!=null}},{key:"getThreadViewDriver",value:function(){if(!this._inboxThreadView)throw new Error("this toolbarview is not for a thread");return this._inboxThreadView}},{key:"addButton",value:function(y,S){var v=new d.default(y,this._driver.getAppId(),this._el);return this._stopper.takeUntilBy(v.getStopper()).onValue(function(){v.destroy()}),v}}]),_}(),h=(0,s.defn)(l,m);i.default=h},{"./InboxToolbarButtonView":806,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-stopper":326,ud:625}],808:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/set")),u=t(e("@babel/runtime-corejs2/core-js/json/stringify")),n=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),s=t(e("@babel/runtime-corejs2/helpers/createClass")),f=t(e("@babel/runtime-corejs2/helpers/defineProperty")),d=t(e("lodash/findIndex")),m=e("ud"),h=(t(e("auto-html")),t(e("kefir"))),_=t(e("kefir-stopper")),y=t(e("react")),S=t(e("react-dom")),v=(t(e("../../../lib/fake-window-resize")),t(e("../../../../common/find-parent"))),T=t(e("../getSidebarClassnames")),E=(t(e("../../../lib/delay-asap")),t(e("../waitForAnimationClickBlockerGone"))),I=t(e("../../../lib/dom/make-mutation-observer-chunked-stream")),g=t(e("../../../lib/from-event-target-capture")),k=t(e("order-manager")),j=t(e("../../../lib/idMap")),x=t(e("../../../lib/dom/querySelectorOrFail")),A=t(e("../../../lib/incrementName")),w=t(e("../../../driver-common/sidebar/AppSidebar")),C=t(e("../../../driver-common/sidebar/ContentPanelViewDriver")),O=function(){function R(P){var B=this;(0,n.default)(this,R),(0,f.default)(this,"_stopper",(0,_.default)()),(0,f.default)(this,"_driver",void 0),(0,f.default)(this,"_el",void 0),(0,f.default)(this,"_mainParent",void 0),(0,f.default)(this,"_openOrOpeningProp",void 0),this._driver=P;var z=document.querySelector("."+(0,j.default)("app_sidebar_container"));z?this._el=z:this._createElement();var Q=(0,v.default)((0,x.default)(document,"[role=application]"),function(K){return K.parentElement===document.body});if(!Q){var N=new Error("Failed to find main parent");throw this._driver.getLogger().errorSite(N),N}this._mainParent=Q,this._openOrOpeningProp=(0,I.default)(this._el,{attributes:!0,attributeFilter:["data-open","data-is-opening"]}).toProperty(function(){return null}).map(function(){return B._el.getAttribute("data-open")==="true"||B._el.getAttribute("data-is-opening")==="true"}).skipDuplicates()}return(0,s.default)(R,[{key:"destroy",value:function(){this._stopper.destroy()}},{key:"open",value:function(){this._setShouldAppSidebarOpen(!0),this._setOpenedNow(!0)}},{key:"close",value:function(){this._setShouldAppSidebarOpen(!1),this._setOpenedNow(!1)}},{key:"getOpenOrOpeningStream",value:function(){return this._openOrOpeningProp}},{key:"_getShouldAppSidebarOpen",value:function(){return localStorage.getItem("inboxsdk__app_sidebar_should_open")==="true"}},{key:"_setShouldAppSidebarOpen",value:function(P){try{localStorage.setItem("inboxsdk__app_sidebar_should_open",String(P))}catch(B){console.error("error saving",B)}}},{key:"_createElement",value:function(){var P=this,B=this._el=document.createElement("div");if(B.className=(0,j.default)("app_sidebar_container"),B.setAttribute("data-open","false"),B.setAttribute("data-is-opening","false"),document.body.appendChild(B),!document.body.querySelector("."+(0,j.default)("app_sidebar_waiting_platform"))){var z=document.createElement("div");z.className=(0,j.default)("app_sidebar_waiting_platform"),document.body.appendChild(z)}(0,g.default)(this._driver.getChatSidebarButton(),"click").filter(function(){return B.getAttribute("data-open")==="true"&&P._driver.getCurrentChatSidebarView().getMode()==="SIDEBAR"}).takeUntilBy(this._stopper).onValue(function(Z){Z.stopImmediatePropagation(),P._setShouldAppSidebarOpen(!1),P._setOpenedNow(!1)}),this._driver.getCurrentChatSidebarView().getModeStream().changes().takeUntilBy(this._stopper).onValue(function(Z){Z==="SIDEBAR"?(P._setShouldAppSidebarOpen(!1),P._setOpenedNow(!1)):B.getAttribute("data-open")==="true"&&P._setOpenedNow(!0)});var Q,N=new o.default,K=new k.default({get:function(){try{return JSON.parse(localStorage.getItem("inboxsdk__sidebar_ordering")||"null")}catch(Z){console.error("failed to read sidebar order data",Z)}},set:function(Z){try{localStorage.setItem("inboxsdk__sidebar_ordering",(0,u.default)(Z))}catch($){console.error("failed to set sidebar order data",$)}}}),U=function(Z){Z&&(Q=Z)},F=function Z(){S.default.render(y.default.createElement(w.default,{ref:U,panels:K.getOrderedItems().map(function($){return $.value}),onClose:function(){P._setShouldAppSidebarOpen(!1),P._setOpenedNow(!1)},onOutsideClick:function(){P._driver.closeOpenThread()},onMoveEnd:function($,ne,H,X){K.moveItem(H,X),Z()}}),B)};F(),h.default.fromEvents(window,"storage").filter(function(Z){return Z.key==="inboxsdk__sidebar_ordering"}).takeUntilBy(this._stopper).onValue(function(){K.reload(),F()}),this._stopper.onValue(function(){S.default.unmountComponentAtNode(B),B.remove()}),h.default.fromEvents(document.body,"inboxsdkNewSidebarPanel").takeUntilBy(this._stopper).onValue(function(Z){for(var $=Z.detail.id;N.has($);)$=(0,A.default)($);N.add($),K.addItem({groupId:Z.detail.appId,id:$,orderHint:Z.detail.orderHint,value:{id:$,appId:Z.detail.appId,instanceId:Z.detail.instanceId,title:Z.detail.title,iconClass:Z.detail.iconClass,iconUrl:Z.detail.iconUrl,hideTitleBar:Z.detail.hideTitleBar,el:Z.target}}),F()}),h.default.fromEvents(document.body,"inboxsdkUpdateSidebarPanel").takeUntilBy(this._stopper).onValue(function(Z){var $=K.getOrderedItems(),ne=(0,d.default)($,function(H){return H.value.instanceId===Z.detail.instanceId});if(ne===-1)throw new Error("should not happen: failed to find orderItem");K.updateItemValueByIndex(ne,{id:$[ne].value.id,appId:Z.detail.appId,instanceId:Z.detail.instanceId,title:Z.detail.title,iconClass:Z.detail.iconClass,iconUrl:Z.detail.iconUrl,hideTitleBar:Z.detail.hideTitleBar,el:Z.target}),F()}),h.default.fromEvents(document.body,"inboxsdkRemoveSidebarPanel").takeUntilBy(this._stopper).onValue(function(Z){var $=K.getOrderedItems(),ne=(0,d.default)($,function(H){return H.value.instanceId===Z.detail.instanceId});if(ne===-1)throw new Error("should not happen: failed to find orderItem");N.delete($[ne].id),K.removeItemByIndex(ne),K.getOrderedItems().length===0&&P._setOpenedNow(!1),F()}),h.default.fromEvents(document.body,"inboxsdkSidebarPanelScrollIntoView").takeUntilBy(this._stopper).onValue(function(Z){Q.scrollPanelIntoView(Z.detail.instanceId)})}},{key:"_setOpenedNow",value:function(P){this._el.setAttribute("data-open",String(P));var B=(0,T.default)(),z=B.chat;z&&(P?this._driver.getCurrentChatSidebarView().getMode()==="SIDEBAR"||this._mainParent.classList.contains(z)||(this._mainParent.classList.add(z),this._driver.getPageCommunicator().fakeWindowResize()):this._driver.getCurrentChatSidebarView().getMode()!=="SIDEBAR"&&this._mainParent.classList.contains(z)&&(this._mainParent.classList.remove(z),this._driver.getPageCommunicator().fakeWindowResize()))}},{key:"_setOpenedAfterAnimation",value:function(P){var B=this;this._el.setAttribute("data-is-opening","true"),(0,E.default)().takeUntilBy(this._stopper).takeUntilBy((0,I.default)(this._el,{attributes:!0,attributeFilter:["data-open"]})).onValue(function(){B._setOpenedNow(P)}).onEnd(function(){B._el.setAttribute("data-is-opening","false")})}},{key:"addSidebarContentPanel",value:function(P){var B=new C.default(this._driver,P,"inbox");return(this._driver.getCurrentChatSidebarView().getMode()==="SIDEBAR"||this._getShouldAppSidebarOpen())&&this._setOpenedAfterAnimation(!0),this._stopper.takeUntilBy(B.getStopper()).onValue(function(){B.remove()}),B}}]),R}(),V=(0,m.defn)(l,O);i.default=V},{"../../../../common/find-parent":640,"../../../driver-common/sidebar/AppSidebar":841,"../../../driver-common/sidebar/ContentPanelViewDriver":842,"../../../lib/delay-asap":851,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/fake-window-resize":878,"../../../lib/from-event-target-capture":879,"../../../lib/idMap":883,"../../../lib/incrementName":885,"../getSidebarClassnames":793,"../waitForAnimationClickBlockerGone":828,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"auto-html":89,kefir:327,"kefir-stopper":326,"lodash/findIndex":485,"order-manager":537,react:606,"react-dom":584,ud:625}],809:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/parse-int")),u=t(e("@babel/runtime-corejs2/core-js/promise")),n=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),s=t(e("@babel/runtime-corejs2/helpers/createClass")),f=t(e("@babel/runtime-corejs2/helpers/defineProperty")),d=t(e("lodash/find")),m=t(e("lodash/includes")),h=e("ud"),_=t(e("kefir")),y=t(e("kefir-stopper")),S=t(e("../../../widgets/buttons/dropdown-view")),v=t(e("./inbox-app-toolbar-tooltip-view")),T=t(e("../../../lib/toItemWithLifetimeStream")),E=t(e("../../../lib/dom/set-css")),I=function(){function k(j,x,A){var w=this;(0,n.default)(this,k),(0,f.default)(this,"_buttonDescriptor",null),(0,f.default)(this,"_buttonDescriptorStream",void 0),(0,f.default)(this,"_buttonEl",null),(0,f.default)(this,"_activeDropdown",null),(0,f.default)(this,"_stopper",(0,y.default)()),(0,f.default)(this,"_ready",(0,y.default)()),this._buttonDescriptorStream=j.toProperty().takeUntilBy(this._stopper),_.default.combine([(0,T.default)(A).take(1),(0,T.default)(x).take(1)],[],function(C){return C}).map(function(C){return C.el.getValue()}).takeUntilBy(this._stopper).onValue(function(C){return w._adjustSearchBarMargin(C)}),(0,T.default)(x).take(1).map(function(C){return C.el.getValue()}).takeUntilBy(this._stopper).onValue(function(C){return w._setupButton(C)})}return(0,s.default)(k,[{key:"_setupButton",value:function(j){var x=this,A=(0,d.default)(j.children,function(O){return O.classList.contains("inboxsdk__appButton_container")});A||(A=document.createElement("div"),A.className="inboxsdk__appButton_container",j.insertBefore(A,j.firstChild));var w=document.createElement("div");w.tabIndex=0,w.setAttribute("role","button"),w.className="inboxsdk__appButton inboxsdk__button_icon";var C=document.createElement("img");C.className="inboxsdk__button_iconImg",w.appendChild(C),this._buttonDescriptorStream.onValue(function(O){w.title=O.title,C.src=O.iconUrl,C.className="inboxsdk__button_iconImg ".concat(O.iconClass||""),x._buttonDescriptor=O}),_.default.merge([_.default.fromEvents(w,"click"),_.default.fromEvents(w,"keypress").filter(function(O){return(0,m.default)([32,13],O.which)})]).takeUntilBy(this._stopper).onValue(function(O){O.preventDefault(),O.stopPropagation(),x._activeDropdown?x.close():x._buttonDescriptor&&x._buttonDescriptor.hasDropdown===!1?x._buttonDescriptor&&x._buttonDescriptor.onClick&&x._buttonDescriptor.onClick():x.open()}),A.insertBefore(w,A.firstChild),this._buttonEl=w,this._ready.destroy(),this._stopper.onValue(function(){w.remove()})}},{key:"_adjustSearchBarMargin",value:function(j){function x(R){if(document.documentElement.setAttribute(w,String(R)),R<=0)return void(0,E.default)("dynamic_resize_searchbar","");var P=R>A?"!important":"",B=1394+3.575*R,z=`
@media (max-width: `.concat(B,`px) {
  .`).concat(O,` {
    margin-right: `).concat(R,"px").concat(P,`;
  }
}
.inboxsdk__appButton_container + * + * ~ *:not(.inboxsdk_escape_mod) {
  margin-right: `).concat(R,"px").concat(P,`;
}
`);(0,E.default)("dynamic_resize_searchbar",z)}var A=70,w="data-inboxsdk-searchbar-min-margin-right",C=40+(0,o.default)(document.documentElement.getAttribute(w)||"0"),O="inboxsdk__dynamic_resize_searchbar";x(C),j.classList.add(O);var V=j.nextElementSibling;V&&V.classList.add(O),this._stopper.onValue(function(){x((0,o.default)(document.documentElement.getAttribute(w)||"0")-40)})}},{key:"open",value:function(){var j=this;if(!this._activeDropdown){var x=this._buttonEl;if(!x)throw new Error("should not happen");x.classList.add("inboxsdk__active");var A=this._buttonDescriptor||{},w=A.arrowColor,C=this._activeDropdown=new S.default(new v.default(x,w),x);C.once("destroy",function(){j._activeDropdown=null,x.classList.remove("inboxsdk__active")});var O={dropdown:C};this._buttonDescriptor&&this._buttonDescriptor.onClick&&this._buttonDescriptor.onClick.call(null,O)}}},{key:"close",value:function(){this._activeDropdown&&this._activeDropdown.close()}},{key:"waitForReady",value:function(){var j=this;return this._ready.map(function(){return j}).merge(this._stopper.flatMap(function(){return _.default.constantError(new Error("InboxAppToolbarButtonView was destroyed early"))})).take(1).takeErrors(1).toPromise(u.default)}},{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._stopper.destroy()}}]),k}(),g=(0,h.defn)(l,I);i.default=g},{"../../../lib/dom/set-css":871,"../../../lib/toItemWithLifetimeStream":903,"../../../widgets/buttons/dropdown-view":942,"./inbox-app-toolbar-tooltip-view":810,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-stopper":326,"lodash/find":484,"lodash/includes":493,ud:625}],810:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=e("ud"),f=(t(e("kefir")),t(e("kefir-stopper"))),d=function(){function h(_,y){(0,o.default)(this,h),(0,n.default)(this,"_stopper",(0,f.default)()),(0,n.default)(this,"_anchorElement",void 0),(0,n.default)(this,"_el",void 0),(0,n.default)(this,"_containerEl",void 0),(0,n.default)(this,"_arrowEl",void 0),this._anchorElement=_,this._arrowEl=document.createElement("div"),this._arrowEl.className="inboxsdk__tooltip_arrow inboxsdk__bottom",document.body.appendChild(this._arrowEl),y&&(this._arrowEl.style.borderColor=y),this._containerEl=document.createElement("div"),this._containerEl.className="inboxsdk__appButton_tooltip_container",this._el=document.createElement("div"),this._el.className="inboxsdk__appButton_tooltip",this._el.setAttribute("role","region"),this._containerEl.appendChild(this._el),document.body.appendChild(this._containerEl),this._reposition()}return(0,u.default)(h,[{key:"_reposition",value:function(){var _=this._anchorElement.getBoundingClientRect(),y=_.left+_.width/2;this._arrowEl.style.top="".concat(_.bottom+18,"px"),this._arrowEl.style.right="".concat(window.innerWidth-_.right+_.width/2-this._arrowEl.offsetWidth/2-1,"px"),this._containerEl.style.top="".concat(_.bottom+17,"px"),this._containerEl.style.minWidth="".concat(2*(window.innerWidth-y-30),"px")}},{key:"getDropdownOptions",value:function(){return{manualPosition:!0,extraElementsToIgnore:[this._arrowEl]}}},{key:"getContentElement",value:function(){return this._el}},{key:"getContainerElement",value:function(){return this._containerEl}},{key:"destroy",value:function(){this._containerEl.remove(),this._arrowEl.remove(),this._stopper.destroy()}}]),h}(),m=(0,s.defn)(l,d);i.default=m},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-stopper":326,ud:625}],811:[function(e,l,i){"use strict";function a(P,B){var z=o(P);if(u){var Q=u(P);B&&(Q=Q.filter(function(N){return n(P,N).enumerable})),z.push.apply(z,Q)}return z}function t(P){for(var B=1;B<arguments.length;B++){var z=arguments[B]!=null?arguments[B]:{};B%2?a(Object(z),!0).forEach(function(Q){(0,g.default)(P,Q,z[Q])}):s?f(P,s(z)):a(Object(z)).forEach(function(Q){d(P,Q,n(z,Q))})}return P}var o=e("@babel/runtime-corejs2/core-js/object/keys"),u=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),f=e("@babel/runtime-corejs2/core-js/object/define-properties"),d=e("@babel/runtime-corejs2/core-js/object/define-property"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");d(i,"__esModule",{value:!0}),i.default=void 0;var h,_,y,S=m(e("@babel/runtime-corejs2/regenerator")),v=m(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),T=m(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),E=m(e("@babel/runtime-corejs2/helpers/classCallCheck")),I=m(e("@babel/runtime-corejs2/helpers/createClass")),g=m(e("@babel/runtime-corejs2/helpers/defineProperty")),k=m(e("lodash/includes")),j=e("ud"),x=m(e("auto-html")),A=m(e("kefir")),w=(m(e("kefir-bus")),m(e("kefir-stopper"))),C=m(e("../../../../common/find-parent")),O=m(e("../../../lib/dom/querySelectorOrFail")),V=function(){function P(B,z){var Q=this;(0,E.default)(this,P),(0,g.default)(this,"_stopper",(0,w.default)()),(0,g.default)(this,"_previewClicks",A.default.pool()),(0,g.default)(this,"_element",void 0),(0,g.default)(this,"_driver",void 0),(0,g.default)(this,"_type",void 0),(0,g.default)(this,"_p",void 0),(0,g.default)(this,"_messageViewDriver",void 0),(0,g.default)(this,"_addedButtonDescriptors",[]),(0,g.default)(this,"_overlayView",null),this._driver=z,B.element?(this._element=B.element,this._p=B.parsed,this._type=B.parsed.attributes.type,A.default.merge([A.default.fromEvents(this._element,"click"),A.default.fromEvents(this._element,"keydown")]).takeUntilBy(this._stopper).onValue(function(){Q._driver.setLastInteractedAttachmentCardView(Q)})):(this._type="CUSTOM",this._createNewElement(B)),this._messageViewDriver=this._findMessageView(),this._messageViewDriver&&this._messageViewDriver.addAttachmentCardViewDriver(this)}return(0,I.default)(P,[{key:"destroy",value:function(){this._p||this._element.remove(),this._stopper.destroy()}},{key:"_findMessageView",value:function(){var B=this._driver.getMessageViewElementsMap(),z=(0,C.default)(this._element,function(Q){return B.has(Q)});return z?B.get(z):null}},{key:"_createNewElement",value:function(B){var z=this;B.previewUrl?(this._element=document.createElement("a"),this._element.href=B.previewUrl):(this._element=document.createElement("div"),this._element.tabIndex=0),this._element.title=B.title,function Q(N){N.previewThumbnailUrl?(z._element.className="inboxsdk__attachment_card inboxsdk__attachment_card_with_preview",z._element.innerHTML=(0,x.default)(h||(h=(0,T.default)([`
          <img alt="" aria-hidden="true"
            style="width: 100%"
            src="`,`"
            >
          <div class="inboxsdk__attachment_card_hover_overlay">
            <div class="inboxsdk__attachment_card_title">`,`</div>
            <div class="inboxsdk__attachment_card_buttons"></div>
          </div>
        `])),N.previewThumbnailUrl,N.title),N.failoverPreviewIconUrl&&A.default.fromEvents((0,O.default)(z._element,"img"),"error").take(1).takeUntilBy(z._stopper).onValue(function(){Q(t(t({},N),{},{previewThumbnailUrl:null,iconThumbnailUrl:N.failoverPreviewIconUrl}))})):(z._element.className="inboxsdk__attachment_card",z._element.innerHTML=(0,x.default)(_||(_=(0,T.default)([`
          <div class="inboxsdk__attachment_card_nohover">
            <div class="inboxsdk__attachment_card_title">`,`</div>
            <div class="inboxsdk__attachment_card_description">
              <img alt="" aria-hidden="true" src="`,`">
              <span>`,`</span>
            </div>
          </div>
          <div class="inboxsdk__attachment_card_hover_overlay">
            <div class="inboxsdk__attachment_card_title">`,`</div>
            <div class="inboxsdk__attachment_card_buttons"></div>
          </div>
        `])),N.title,N.fileIconImageUrl,N.description||"",N.title)),N.buttons.forEach(function(K){z.addButton(K)})}(B),this._previewClicks.plug(A.default.merge([A.default.fromEvents(this._element,"click"),A.default.fromEvents(this._element,"keypress").filter(function(Q){return(0,k.default)([32,13],Q.which)})])),B.container.appendChild(this._element)}},{key:"getElement",value:function(){return this._element}},{key:"getMessageViewDriver",value:function(){return this._messageViewDriver}},{key:"getStopper",value:function(){return this._stopper}},{key:"getPreviewClicks",value:function(){return this._previewClicks.takeUntilBy(this._stopper)}},{key:"getAttachmentType",value:function(){return this._type}},{key:"getAddedButtonDescriptors",value:function(){return this._addedButtonDescriptors}},{key:"addButton",value:function(B){if(this._addedButtonDescriptors.push(B),!this._p){var z=(0,O.default)(this._element,".inboxsdk__attachment_card_buttons"),Q=document.createElement("button");Q.className="inboxsdk__attachment_card_button",B.downloadUrl?(Q.setAttribute("data-inboxsdk-download-url",B.downloadUrl),Q.addEventListener("click",function(N){N.stopPropagation(),N.preventDefault();var K=!1;if(B.onClick&&B.onClick({preventDefault:function(){K=!0}}),!K){var U=document.createElement("a");U.href=B.downloadUrl,B.downloadFilename&&(U.download=B.downloadFilename),U.addEventListener("click",function(F){F.stopPropagation()},!0),B.openInNewTab&&U.setAttribute("target","_blank"),document.body.appendChild(U),U.click(),U.remove()}}),Q.innerHTML=`
          <div style="background: no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAYElEQVQ4y+2UMQ6AQAgEwfhQnnJP4adjc4UxB0ehhXqbULE7BRAUkLu1yQP6OXQveEab1DXTD0O9b53kIui+QReicnJ5lM2gArQA2LLcDCqAXYA2y1SgZ7BV/Lr+6TugB0K2GxxDXjEZAAAAAElFTkSuQmCC)"></div>
        `):(Q.addEventListener("click",function(N){N.stopPropagation(),N.preventDefault(),B.onClick&&B.onClick({getDownloadURL:function(){throw new Error("not implemented for artificial sdk-added cardViews!")}})}),Q.innerHTML=(0,x.default)(y||(y=(0,T.default)([`
          <img src="`,`">
        `])),B.iconUrl),Q.title=B.tooltip),z.appendChild(Q)}}},{key:"getTitle",value:function(){return this._element.title}},{key:"getDownloadURL",value:function(){function B(){return z.apply(this,arguments)}var z=(0,v.default)(S.default.mark(function Q(){var N;return S.default.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(N=this._overlayView){K.next=3;break}throw new Error("This method only works during a button onClick callback in Inbox");case 3:return K.abrupt("return",N.getDownloadURL());case 4:case"end":return K.stop()}},Q,this)}));return B}()},{key:"setOverlay",value:function(B){this._overlayView=B}}]),P}(),R=(0,j.defn)(l,V);i.default=R},{"../../../../common/find-parent":640,"../../../lib/dom/querySelectorOrFail":869,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"@babel/runtime-corejs2/regenerator":59,"auto-html":89,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/includes":493,ud:625}],812:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o,u=t(e("@babel/runtime-corejs2/regenerator")),n=t(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),s=t(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),f=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=t(e("@babel/runtime-corejs2/helpers/createClass")),m=t(e("@babel/runtime-corejs2/helpers/defineProperty")),h=e("ud"),_=(t(e("kefir")),t(e("kefir-stopper"))),y=t(e("auto-html")),S=t(e("../../../lib/shared-style")),v=t(e("../../../dom-driver/inbox/custom-style")),T=(e("../../../lib/dom/simulate-mouse-event"),t(e("../../../../common/ajax"))),E=function(){function g(k,j,x,A){var w=this;(0,f.default)(this,g),(0,m.default)(this,"_driver",void 0),(0,m.default)(this,"_el",void 0),(0,m.default)(this,"_p",void 0),(0,m.default)(this,"_cardView",void 0),(0,m.default)(this,"_stopper",(0,_.default)()),this._driver=k,this._el=j,this._p=x,this._cardView=A,(0,S.default)(j.ownerDocument),(0,v.default)(j.ownerDocument),this._cardView.setOverlay(this),this._cardView.getAddedButtonDescriptors().forEach(function(C){w.addButton(C)})}return(0,d.default)(g,[{key:"destroy",value:function(){this._cardView.setOverlay(null),this._stopper.destroy()}},{key:"getStopper",value:function(){return this._stopper}},{key:"addButton",value:function(k){var j=this,x=this._p.elements,A=x.downloadButton,w=x.buttonContainer;if(!w)throw new Error("Missing buttonContainer, can not add button");var C=document.createElement("button");C.className="inboxsdk__attachment_overlay_button",C.addEventListener("click",function(O){O.stopPropagation(),O.preventDefault(),k.onClick&&k.onClick({getDownloadURL:function(){return j.getDownloadURL()}})}),C.innerHTML=(0,y.default)(o||(o=(0,s.default)([`
      <img src="`,`">
    `])),k.iconUrl),C.setAttribute("data-tooltip-delay","500"),C.setAttribute("data-tooltip-unhoverable","true"),A&&(C.setAttribute("data-tooltip-class",A.getAttribute("data-tooltip-class")||""),C.setAttribute("data-tooltip-align",A.getAttribute("data-tooltip-align")||"")),C.setAttribute("aria-label",k.tooltip),C.setAttribute("data-tooltip",k.tooltip),w.insertBefore(C,w.lastElementChild),this._stopper.onValue(function(){C.remove()})}},{key:"getDownloadURL",value:function(){function k(){return j.apply(this,arguments)}var j=(0,n.default)(u.default.mark(function x(){var A,w,C,O,V;return u.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(A=this._p.elements.downloadButton){R.next=3;break}throw new Error("Could not find download button element");case 3:return R.next=5,this._driver.getPageCommunicator().clickAndGetNewIframeSrc(A);case 5:return w=R.sent,R.next=8,(0,T.default)({url:w,method:"HEAD"});case 8:return C=R.sent,O=C.xhr,V=O.responseURL,R.abrupt("return",V);case 12:case"end":return R.stop()}},x,this)}));return k}()}]),g}(),I=(0,h.defn)(l,E);i.default=I},{"../../../../common/ajax":634,"../../../dom-driver/inbox/custom-style":780,"../../../lib/dom/simulate-mouse-event":875,"../../../lib/shared-style":900,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"@babel/runtime-corejs2/regenerator":59,"auto-html":89,kefir:327,"kefir-stopper":326,ud:625}],813:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=e("ud"),f=t(e("kefir")),d=t(e("kefir-bus")),m=t(e("kefir-stopper")),h=function(){function y(){var S=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:500,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;(0,o.default)(this,y),(0,n.default)(this,"_preAutoCloseStream",(0,d.default)()),(0,n.default)(this,"_stopper",(0,m.default)()),(0,n.default)(this,"_el",void 0);var E=this._el=document.createElement("div");if(E.className="inboxsdk__inbox_backdrop",E.style.zIndex=String(v),f.default.fromEvents(E,"click").filter(function(I){var g=!1,k={type:"outsideInteraction",cause:I,cancel:function(){g=!0}};return S._preAutoCloseStream.emit(k),!g}).onValue(function(I){S.destroy()}),!T)throw new Error("no target");T.appendChild(E),this._stopper.onValue(function(){E.classList.remove("inboxsdk__active"),f.default.fromEvents(E,"transitionend").merge(f.default.later(200)).take(1).onValue(function(){E.remove()})}),E.offsetHeight,E.classList.add("inboxsdk__active")}return(0,u.default)(y,[{key:"getElement",value:function(){return this._el}},{key:"getPreAutoCloseStream",value:function(){return this._preAutoCloseStream}},{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._preAutoCloseStream.end(),this._stopper.destroy()}}]),y}(),_=(0,s.defn)(l,h);i.default=_},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-bus":324,"kefir-stopper":326,ud:625}],814:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/parse-int")),u=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(e("@babel/runtime-corejs2/helpers/createClass")),s=t(e("@babel/runtime-corejs2/helpers/defineProperty")),f=e("ud"),d=t(e("lodash/once")),m=(t(e("kefir")),t(e("kefir-stopper"))),h=t(e("../../../lib/dom/make-mutation-observer-chunked-stream")),_=function(){function S(v,T){var E=this;(0,u.default)(this,S),(0,s.default)(this,"_el",void 0),(0,s.default)(this,"_p",void 0),(0,s.default)(this,"_stopper",(0,m.default)()),(0,s.default)(this,"getModeStream",(0,d.default)(function(){var I=E._el.parentElement;return(0,h.default)(I,{attributes:!0,attributeFilter:["class"]}).toProperty(function(){return null}).map(function(){return E.getMode()}).skipDuplicates().takeUntilBy(E._stopper)})),this._el=v,this._p=T}return(0,n.default)(S,[{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._stopper.destroy()}},{key:"getMode",value:function(){var v=this._el.parentElement,T=window.getComputedStyle(v);return(0,o.default)(T.bottom)===0?"SIDEBAR":(0,o.default)(T.top)>0?"DROPDOWN":"HIDDEN"}}]),S}(),y=(0,f.defn)(l,_);i.default=y},{"../../../lib/dom/make-mutation-observer-chunked-stream":863,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-stopper":326,"lodash/once":516,ud:625}],815:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/object/assign")),u=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(e("@babel/runtime-corejs2/helpers/createClass")),s=t(e("@babel/runtime-corejs2/helpers/defineProperty")),f=t(e("lodash/includes")),d=e("ud"),m=t(e("kefir")),h=t(e("../../../lib/from-event-target-capture")),_=t(e("../../../lib/dom/insert-element-in-order")),y=t(e("../../../widgets/buttons/dropdown-view")),S=t(e("./inbox-dropdown-view")),v=t(e("./inbox-tooltip-view")),T=0,E=function(){function g(k,j,x,A){var w=this;(0,u.default)(this,g),(0,s.default)(this,"_composeView",void 0),(0,s.default)(this,"_buttonEl",void 0),(0,s.default)(this,"_tooltip",void 0),this._tooltip=null,this._composeView=k;var C=this._buttonEl=document.createElement("div");C.setAttribute("role","button"),C.setAttribute("data-insertion-order-hint",String(T++)),C.setAttribute("data-group-order-hint",x),C.tabIndex=0,C.className="inboxsdk__button_icon";var O=document.createElement("img");O.className="inboxsdk__button_iconImg";var V=function(z){},R=!1,P=null;m.default.merge([m.default.fromEvents(C,"click"),(0,h.default)(C,"keyup").filter(function(z){return(0,f.default)([32,13],z.which)})]).onValue(function(z){if(z.preventDefault(),z.stopPropagation(),w.closeTooltip(),R){if(P)return void P.close();w._buttonEl.classList.add("inboxsdk__active"),P=new y.default(new S.default,C),P.setPlacementOptions({position:"top",hAlign:"left",vAlign:"bottom",buffer:5}),P.on("destroy",function(){w._buttonEl.classList.remove("inboxsdk__active"),P=null})}V((0,o.default)({dropdown:P},A))});var B=null;j.takeUntilBy(k.getStopper()).onValue(function(z){if(!z)return C.remove(),void(B=null);R=z.hasDropdown,C.title=z.title,C.className="inboxsdk__button_icon "+(z.iconClass||""),V=z.onClick,z.iconUrl?(O.src=z.iconUrl,C.appendChild(O)):O.remove();var Q=z.orderHint||0;B!==Q&&(B=Q,C.setAttribute("data-order-hint",String(Q)),(0,_.default)(k.getModifierButtonContainer(),C))}),k.getStopper().onValue(function(){w.closeTooltip(),C.remove(),P&&P.close()})}return(0,n.default)(g,[{key:"showTooltip",value:function(k){var j=this;this._composeView.isInlineReplyForm()&&this._composeView.getElement().focus(),this._tooltip&&this.closeTooltip();var x=this._tooltip=new v.default(this._buttonEl,k);x.getStopper().onValue(function(){j._tooltip===x&&(j._tooltip=null)})}},{key:"closeTooltip",value:function(){this._tooltip&&this._tooltip.destroy()}}]),g}(),I=(0,d.defn)(l,E);i.default=I},{"../../../lib/dom/insert-element-in-order":857,"../../../lib/from-event-target-capture":879,"../../../widgets/buttons/dropdown-view":942,"./inbox-dropdown-view":819,"./inbox-tooltip-view":826,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"lodash/includes":493,ud:625}],816:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o,u=t(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),n=t(e("@babel/runtime-corejs2/core-js/object/define-property")),s=t(e("@babel/runtime-corejs2/core-js/array/from")),f=t(e("@babel/runtime-corejs2/core-js/promise")),d=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),m=t(e("@babel/runtime-corejs2/helpers/createClass")),h=t(e("@babel/runtime-corejs2/helpers/defineProperty")),_=t(e("lodash/escape")),y=t(e("lodash/find")),S=e("ud"),v=(t(e("closest-ng")),t(e("kefir"))),T=t(e("kefir-stopper")),E=t(e("kefir-bus")),I=t(e("auto-html")),g=(t(e("../../../../common/censorHTMLstring")),t(e("../../../lib/delay-asap"))),k=t(e("../../../lib/array-to-lifetimes")),j=t(e("../../../lib/dom/querySelectorOrFail")),x=t(e("../../../lib/dom/make-mutation-observer-chunked-stream")),A=e("../../../lib/dom/simulate-mouse-event"),w=t(e("../../../lib/dom/simulate-key")),C=t(e("../../../lib/dom/insert-html-at-cursor")),O=(t(e("../../../lib/dom/querySelectorOne")),t(e("../../../lib/ErrorCollector")),t(e("../../../lib/handle-compose-link-chips"))),V=t(e("../../../lib/insert-link-chip-into-body")),R=t(e("../../../driver-common/compose/getPresendingStream")),P=t(e("../../../driver-common/compose/getDiscardStream")),B=t(e("../addRecipientRow")),z=t(e("./inbox-compose-button-view")),Q=e("../../../lib/dom/get-selection"),N=t(e("../../../driver-common/getGmailThreadIdForRfcMessageId")),K=null,U=function(){function Z($,ne,H){var X=this;(0,d.default)(this,Z),(0,h.default)(this,"_element",void 0),(0,h.default)(this,"_driver",void 0),(0,h.default)(this,"_eventStream",(0,E.default)()),(0,h.default)(this,"_ajaxInterceptStream",void 0),(0,h.default)(this,"_sendingStream",void 0),(0,h.default)(this,"_stopper",(0,T.default)()),(0,h.default)(this,"_queueDraftSave",void 0),(0,h.default)(this,"_modifierButtonContainer",void 0),(0,h.default)(this,"_lastBodySelectionRange",void 0),(0,h.default)(this,"_draftID",void 0),(0,h.default)(this,"_isMinimized",!1),(0,h.default)(this,"_isFullscreenMode",!1),(0,h.default)(this,"_isPresending",!1),(0,h.default)(this,"_closedProgrammatically",!1),(0,h.default)(this,"_p",void 0),(0,h.default)(this,"_els",void 0),this._element=ne,this._driver=$,this._modifierButtonContainer=null,this._lastBodySelectionRange=null,this._p=H,this._els=H.elements;var oe=this._els.sendBtn&&this._els.sendBtn.parentElement&&this._els.sendBtn.parentElement.childElementCount;this._driver.getLogger().eventSite("compose open",{errorCount:this._p.errors.length,bottomAreaElementCount:oe,isInline:this._p.attributes.isInline});var Y=(0,E.default)();this._queueDraftSave=function(){Y.emit(null)};var se=this._els.body;se&&(Y.bufferBy(Y.flatMap(function(){return(0,g.default)(null)})).filter(function(W){return W.length>0}).takeUntilBy(this._stopper).onValue(function(){var W=X._driver.getPageCommunicator().silenceGmailErrorsForAMoment();try{(0,w.default)(se,13,0)}finally{W()}}),v.default.merge([v.default.fromEvents(document.body,"mousedown"),v.default.fromEvents(document.body,"keydown")]).takeUntilBy(this.getStopper()).onValue(function(W){var te=document.getSelection();te.rangeCount>0&&se.contains(te.anchorNode)&&(X._lastBodySelectionRange=te.getRangeAt(0))}),this._eventStream.plug((0,x.default)(se,{childList:!0,subtree:!0,characterData:!0}).map(function(){return{eventName:"bodyChanged"}}))),v.default.fromEvents(this._element,"closedProgrammatically").takeUntilBy(this._stopper).onValue(function(){X._closedProgrammatically=!0}),this._draftID=this._driver.getPageCommunicator().getDraftIDForComposeView(this.getElement()),this._ajaxInterceptStream=this._driver.getPageCommunicator().ajaxInterceptStream.takeUntilBy(this._stopper).filter(function(W){return W.draftID===X._draftID}),this._setupStreams(),this.getEventStream().takeUntilBy(this._stopper).onValue(function(W){var te=W.eventName;if(te==="presending"){X._isPresending=!0;var ce=X.getEventStream().filter(function(je){return je.eventName==="sendCanceled"});X._sendingStream=v.default.merge([v.default.combine([X.getEventStream().filter(function(je){return je.eventName==="sending"}),X.getEventStream().filter(function(je){return je.eventName==="sent"})]),X._ajaxInterceptStream.filter(function(je){return je.type==="emailSendFailed"}),v.default.later(6e4).flatMap(function(){return v.default.constantError(new Error("Timed out waiting for ComposeView send"))})]).takeUntilBy(ce).takeUntilBy(X._stopper).take(1).takeErrors(1),X._sendingStream.onValue(function(){X._isPresending=!1}).onError(function(je){X._driver.getLogger().error(je)}),X._driver.getPageCommunicator().notifyEmailSending(),X._p.attributes.isInline||v.default.later(5e3).takeUntilBy(X.getEventStream().filter(function(je){return["sendCanceled","presending"].indexOf(je.eventName)!==-1})).onValue(function(){document.contains(X._element)&&X._eventStream.emit({eventName:"sendCanceled"})})}else te==="sendCanceled"&&(X._isPresending=!1,X._driver.getPageCommunicator().notifyEmailSendCanceled())}),(0,O.default)(this);var ie=this._els.fromPickerEmailSpan;ie&&this._eventStream.plug((0,x.default)(ie,{childList:!0,subtree:!0,characterData:!0}).map(function(){return{eventName:"fromContactChanged",data:{contact:X.getFromContact()}}}));var L=this._els.minimizeBtnImage;if(L){var G=function(){return/_maximize_/.test(L.src)},le=(0,x.default)(L,{attributes:!0});le.toProperty(function(){return null}).takeUntilBy(this._stopper).onValue(function(){X._isMinimized=G()}),this._eventStream.plug(le.map(function(){return{eventName:G()?"minimized":"restored"}}))}var pe=this._els.toggleFullscreenButtonImage;if(pe){var we=function(){return!/_enter_full_screen/.test(pe.src)},ye=(0,x.default)(pe,{attributes:!0});ye.toProperty(function(){return null}).takeUntilBy(this._stopper).onValue(function(){X._isFullscreenMode=we()}),this._eventStream.plug(ye.map(function(){return{eventName:"fullscreenChanged",data:{fullscreen:we()}}}))}}return(0,m.default)(Z,[{key:"removedFromDOM",value:function(){var $=this;this._element.removeAttribute("data-inboxsdk-draft-id");var ne=function(){$._eventStream.emit({eventName:"destroy",data:{closedByInboxSDK:$._closedProgrammatically}}),$._eventStream.end(),$._stopper.destroy()};this._isPresending?this._sendingStream&&this._sendingStream.onEnd(ne):ne()}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getStopper",value:function(){return this._stopper}},{key:"getElement",value:function(){return this._element}},{key:"_informBodyChanged",value:function(){this._els.bodyPlaceholder&&this._els.body&&this._els.body.textContent.length>0&&(this._els.bodyPlaceholder.style.display="none"),this._queueDraftSave()}},{key:"_getAddressChangesStream",value:function(){function $(se,ie,L){if(!ie)return v.default.never();var G=(0,x.default)(ie.parentElement,{childList:!0,attributes:!0,subtree:!0}).merge(v.default.later(0)).map(L);return(0,k.default)(G,function(le){return le.emailAddress}).flatMap(function(le){var pe=le.el,we=le.removalStream;return v.default.constant({eventName:se+"ContactAdded",data:{contact:pe}}).merge(we.map(function(){return{eventName:se+"ContactRemoved",data:{contact:pe}}}))})}var ne=this,H=this._els,X=H.toInput,oe=H.ccInput,Y=H.bccInput;return v.default.merge([$("to",X,function(){return ne.getToRecipients()}),$("cc",oe,function(){return ne.getCcRecipients()}),$("bcc",Y,function(){return ne.getBccRecipients()})]).takeUntilBy(this._stopper)}},{key:"_setupStreams",value:function(){var $=this;this._eventStream.plug(this._getAddressChangesStream()),this._eventStream.plug((0,R.default)({element:this.getElement(),sendButton:this.getSendButton()})),this._eventStream.plug((0,P.default)({element:this.getElement(),discardButton:this.getDiscardButton()})),this._eventStream.plug(v.default.fromEvents(this.getElement(),"inboxSDKsendCanceled").map(function(){return{eventName:"sendCanceled"}})),this._eventStream.plug(v.default.fromEvents(this.getElement(),"inboxSDKdiscardCanceled").map(function(){return{eventName:"discardCanceled"}})),this._eventStream.plug(this._ajaxInterceptStream.filter(function(ne){return ne.type==="emailSending"}).map(function(){return{eventName:"sending"}})),this._eventStream.plug(this._ajaxInterceptStream.filter(function(ne){return ne.type==="emailSent"}).map(function(ne){var H={getThreadID:function(){return(0,N.default)($._driver,ne.rfcID)},getMessageID:function(){return $._driver.getGmailMessageIdForSyncMessageId("msg-a:".concat(ne.draftID))}};return["gmailThreadId","gmailMessageId","threadID","messageID"].forEach(function(X){(0,n.default)(H,X,{get:function(){throw $._driver.getLogger().deprecationWarning("ComposeView sent event.".concat(X),"ComposeView sent event.getThreadID() or event.getMessageID()"),new Error("Not supported")}})}),{eventName:"sent",data:H}}))}},{key:"getFromContact",value:function(){var $=this._els.fromPickerEmailSpan;if(!$)return this._driver.getUserContact();var ne=$.textContent,H=(0,y.default)(this.getFromContactChoices(),function(X){return X.emailAddress===ne});if(!H)throw new Error("Failed to find from contact");return H}},{key:"getFromContactChoices",value:function(){if(this._p.attributes.isInline)throw new Error("Can't get from values of inline compose");if(K)return K;var $=this._els.fromPicker;if(!$)return K=[this._driver.getUserContact()];var ne=document.activeElement,H=this._element.parentElement.parentElement.firstElementChild,X=H.querySelectorAll('li[role=menuitem][data-jsaction*=".switch_custom_from"]'),oe=X.length===0;try{if(oe&&((0,A.simulateClick)($),X=H.querySelectorAll('li[role=menuitem][data-jsaction*=".switch_custom_from"]')),X.length===0)return K=[this._driver.getUserContact()];K=(0,s.default)(X).map(function(Y){return{name:(0,j.default)(Y,"span[title]").title,emailAddress:(0,j.default)(Y,"span:not([title])").textContent}})}finally{oe&&(0,A.simulateClick)(document.body),ne&&ne.focus()}return K}},{key:"setFromEmail",value:function($){if(this._p.attributes.isInline)throw new Error("Can't set from value of inline compose");if(this.getFromContact().emailAddress!==$){var ne=this._els.fromPicker;if(!ne)throw new Error("from picker element not found");var H=document.activeElement,X=this._element.parentElement.parentElement.firstElementChild,oe=X.querySelectorAll('li[role=menuitem][data-jsaction*=".switch_custom_from"]'),Y=oe.length===0;try{Y&&((0,A.simulateClick)(ne),oe=X.querySelectorAll('li[role=menuitem][data-jsaction*=".switch_custom_from"]'));var se=(0,y.default)(oe,function(ie){return ie.querySelector("span:not([title])").textContent===$});if(!se)throw new Error("Failed to find from contact to set");(0,A.simulateClick)(se)}finally{Y&&(0,A.simulateClick)(ne),H&&H.focus()}}}},{key:"focus",value:function(){if(!this._els.body)throw new Error("Compose View missing body element");this._els.body.focus();var $=document.getSelection(),ne=this._lastBodySelectionRange;ne&&$&&($.removeAllRanges(),$.addRange(ne))}},{key:"insertBodyTextAtCursor",value:function($){return this.insertBodyHTMLAtCursor((0,_.default)($).replace(/\n/g,"<br>"))}},{key:"insertBodyHTMLAtCursor",value:function($){var ne=(0,C.default)(this.getBodyElement(),$,this._lastBodySelectionRange);return this._informBodyChanged(),ne}},{key:"insertLinkIntoBody",value:function($,ne){var H=(0,I.default)(o||(o=(0,u.default)(['<a href="','">',"</a>"])),ne,$);return this.insertBodyHTMLAtCursor(H)}},{key:"insertLinkChipIntoBody",value:function($){var ne=(0,V.default)(this,$);return this._informBodyChanged(),ne}},{key:"setBodyHTML",value:function($){if(!this._els.body)throw new Error("Compose View missing body element");this._els.body.innerHTML=$,this._informBodyChanged()}},{key:"setBodyText",value:function($){if(!this._els.body)throw new Error("Compose View missing body element");this._els.body.textContent=$,this._informBodyChanged()}},{key:"_setRecipients",value:function($,ne){var H=$.parentElement;if(!H)throw new Error("Should not happen");for(var X=document.activeElement,oe=H.querySelectorAll('[role=button][jsaction*="remove_chip"]').length,Y=0;Y<oe;Y++){var se=H.querySelector('[role=button][jsaction*="remove_chip"]');if(!se)break;(0,A.simulateClick)(se)}ne.forEach(function(ie){$.value=ie,$.dispatchEvent(new window.FocusEvent("blur"))}),X&&X.focus()}},{key:"setToRecipients",value:function($){if(this._p.attributes.isInline)throw new Error("Can't set recipients of inline compose");var ne=this._els.toInput;if(!ne)throw new Error("Compose View missing recipient input");this._setRecipients(ne,$)}},{key:"setCcRecipients",value:function($){if(this._p.attributes.isInline)throw new Error("Can't set recipients of inline compose");var ne=this._els.ccInput;if(!ne)throw new Error("Compose View missing recipient input");this._setRecipients(ne,$);var H=this._els.toggleCcBccButton;$.length&&H&&H.style.display!=="none"&&(0,A.simulateClick)(H)}},{key:"setBccRecipients",value:function($){if(this._p.attributes.isInline)throw new Error("Can't set recipients of inline compose");var ne=this._els.bccInput;if(!ne)throw new Error("Compose View missing recipient input");this._setRecipients(ne,$);var H=this._els.toggleCcBccButton;$.length&&H&&H.style.display!=="none"&&(0,A.simulateClick)(H)}},{key:"replaceSendButton",value:function($){var ne=this,H=this._p.elements.sendBtn;if(!H)throw new Error("Could not locate send button");H.style.display="none";var X=document.createElement("div");X.classList.add("inboxsdk__compose_customSendContainer"),X.appendChild($),this._element.setAttribute("data-inboxsdk-send-replaced",""),H.insertAdjacentElement("afterend",X);var oe=(0,T.default)();return function(){oe.destroy(),X.remove(),ne._element.removeAttribute("data-inboxsdk-send-replaced"),H.style.display=""}}},{key:"hideDiscardButton",value:function(){var $=this._p.elements.discardBtn;if(!$)throw new Error("Could not locate discard button");var ne=$.previousElementSibling;if(!(ne instanceof HTMLElement))throw new Error("Could not locate discard button divider");return $.style.display="none",ne.style.display="none",function(){$.style.display="",ne.style.display=""}}},{key:"close",value:function(){if(this._p.attributes.isInline)throw new Error("Not implemented for inline compose");var $=this._els.closeBtn;$&&(this._element.dispatchEvent(new CustomEvent("closedProgrammatically",{bubbles:!1,cancelable:!1,detail:null})),(0,A.simulateClick)($))}},{key:"send",value:function($){if($.sendAndArchive,!this._els.sendBtn)throw new Error("Compose View missing send element");(0,A.simulateClick)(this._els.sendBtn)}},{key:"discard",value:function(){(0,A.simulateClick)(this.getDiscardButton())}},{key:"setMinimized",value:function($){if($!==this.isMinimized()){if(this._p.attributes.isInline)throw new Error("Not implemented for inline compose views");var ne=this._els.minimizeBtn;if(!ne)throw new Error("Could not find minimize button");ne.click()}}},{key:"setFullscreen",value:function($){if($!==this.isFullscreen()){if(this._p.attributes.isInline)throw new Error("Not implemented for inline compose views");var ne=this._els.toggleFullscreenButton;if(!ne)throw new Error("Could not find fullscreen button");ne.click()}}},{key:"setTitleBarColor",value:function($){if(this._p.attributes.isInline)throw new Error("Cannot set title bar of inline compose");var ne=this._p.elements.titleBar;if(!ne)throw new Error("Could not locate compose title bar");return ne.style.backgroundColor=$,function(){ne.style.backgroundColor=""}}},{key:"setTitleBarText",value:function($){throw new Error("Not supported in Inbox")}},{key:"addButton",value:function($,ne,H){var X=new z.default(this,$,ne,H);return f.default.resolve({buttonViewController:X,buttonDescriptor:{}})}},{key:"getModifierButtonContainer",value:function(){if(this._modifierButtonContainer)return this._modifierButtonContainer;if(this._modifierButtonContainer=this._element.querySelector(".inboxsdk__compose_actionToolbar"),this._modifierButtonContainer)return this._modifierButtonContainer;var $=document.createElement("div");if($.className="inboxsdk__compose_actionToolbar",!this._p.attributes.isInline){var ne=this._els.attachBtn?this._els.attachBtn.nextSibling:null;ne instanceof HTMLElement&&ne.style.position==="absolute"?ne.style.display="none":this._driver.getLogger().error(new Error("Didn't find hiddenAttachBtn"))}var H=this._els.sendBtn;if(!H)throw new Error("Compose View missing send element");var X=H.parentElement;if(!X)throw new Error("Could not find send button parent");return X.insertBefore($,H.nextSibling),this._modifierButtonContainer=$,$}},{key:"addRecipientRow",value:function($){if(this._p.attributes.isInline)throw new Error("Cannot add recipient rows to inline compose views");return(0,B.default)(this,$)}},{key:"forceRecipientRowsOpen",value:function(){return console.warn("ComposeView.forceRecipientRowsOpen() is a no-op in Inbox"),function(){}}},{key:"hideNativeRecipientRows",value:function(){if(this._p.attributes.isInline)throw new Error("Cannot hide recipient rows on inline compose views");var $=[this.getToRow(),this.getCCRow(),this.getBCCRow()];return $.forEach(function(ne){ne.classList.add("inboxsdk__compose_forceRecipientRowHidden")}),function(){$.forEach(function(ne){ne.classList.remove("inboxsdk__compose_forceRecipientRowHidden")})}}},{key:"hideRecipientArea",value:function(){throw new Error("Not implemented")}},{key:"addOuterSidebar",value:function($){throw new Error("Not implemented")}},{key:"addInnerSidebar",value:function($){throw new Error("Not implemented")}},{key:"addComposeNotice",value:function($){throw new Error("Not implemented")}},{key:"addStatusBar",value:function($){throw new Error("Not implemented")}},{key:"hideNativeStatusBar",value:function(){throw new Error("Not Implemented")}},{key:"isForward",value:function(){throw new Error("Not Implemented")}},{key:"isReply",value:function(){if(this._p.attributes.isInline)return!0;throw new Error("Not implemented")}},{key:"isInlineReplyForm",value:function(){return this._p.attributes.isInline}},{key:"popOut",value:function(){if(!this._p.attributes.isInline)throw new Error("Can only pop out inline reply compose views");if(!this._els.popOutBtn)throw new Error("Should not happen");(0,A.simulateClick)(this._els.popOutBtn)}},{key:"registerRequestModifier",value:function($){throw new Error("Not implemented")}},{key:"attachFiles",value:function($){throw new Error("Not implemented")}},{key:"attachInlineFiles",value:function($){throw new Error("Not implemented")}},{key:"isFullscreen",value:function(){return this._isFullscreenMode}},{key:"isMinimized",value:function(){return this._isMinimized}},{key:"getSubjectInput",value:function(){return this._els.subject}},{key:"getMetadataFormElement",value:function(){throw new Error("Not supported in Inbox.")}},{key:"getToRow",value:function(){var $=this._els.toRow;if(!$)throw new Error("Could not locate To row");return $}},{key:"getCCRow",value:function(){var $=this._els.ccRow;if(!$)throw new Error("Could not locate CC row");return $}},{key:"getBCCRow",value:function(){var $=this._els.bccRow;if(!$)throw new Error("Could not locate BCC row");return $}},{key:"getBodyElement",value:function(){if(!this._els.body)throw new Error("Compose View missing body element");return this._els.body}},{key:"getHTMLContent",value:function(){return this.getBodyElement().innerHTML}},{key:"getTextContent",value:function(){return this.getBodyElement().textContent}},{key:"getSelectedBodyHTML",value:function(){return(0,Q.getSelectedHTMLInElement)(this.getBodyElement(),this._lastBodySelectionRange)}},{key:"getSelectedBodyText",value:function(){return(0,Q.getSelectedTextInElement)(this.getBodyElement(),this._lastBodySelectionRange)}},{key:"getSubject",value:function(){var $=this._els.subject;if(!$)throw new Error("InboxSDK: Could not locate subject field");return $.value}},{key:"setSubject",value:function($){if(this._p.attributes.isInline)throw new Error("setSubject is not supported for inline compose views");if(!this._els.subject)throw new Error("InboxSDK: Could not locate subject field");this._els.subject.value=$}},{key:"_getRecipients",value:function($){var ne=$.parentElement;if(!ne)throw new Error("Should not happen");return(0,s.default)(ne.children).filter(function(H){return H.nodeName==="DIV"&&H.hasAttribute("email")&&H.style.display!=="none"}).map(function(H){return{emailAddress:H.getAttribute("email")||"",name:H.textContent}})}},{key:"getToRecipients",value:function(){if(this._p.attributes.isInline)throw new Error("Can't get recipients of inline compose");var $=this._els.toInput;if(!$)throw new Error("Compose View missing recipient input");return this._getRecipients($)}},{key:"getCcRecipients",value:function(){if(this._p.attributes.isInline)throw new Error("Can't get recipients of inline compose");var $=this._els.ccInput;if(!$)throw new Error("Compose View missing recipient input");return this._getRecipients($)}},{key:"getBccRecipients",value:function(){if(this._p.attributes.isInline)throw new Error("Can't get recipients of inline compose");var $=this._els.bccInput;if(!$)throw new Error("Compose View missing recipient input");return this._getRecipients($)}},{key:"getComposeID",value:function(){throw new Error("This method was discontinued")}},{key:"getInitialMessageID",value:function(){throw new Error("composeView.getInitialMessageID is not implemented in Inbox")}},{key:"getMessageID",value:function(){throw new Error("composeView.getMessageID is not implemented in Inbox")}},{key:"getThreadID",value:function(){return null}},{key:"getCurrentDraftID",value:function(){return f.default.resolve(this._draftID)}},{key:"getDraftID",value:function(){return f.default.resolve(this._draftID)}},{key:"addTooltipToButton",value:function($,ne,H){$.showTooltip(H)}},{key:"closeButtonTooltip",value:function($){$.closeTooltip()}},{key:"getDiscardButton",value:function(){if(!this._els.discardBtn)throw new Error("Compose View missing discard button");return this._els.discardBtn}},{key:"getSendButton",value:function(){if(!this._els.sendBtn)throw new Error("Compose View missing send button");return this._els.sendBtn}},{key:"ensureAppButtonToolbarsAreClosed",value:function(){}},{key:"ensureFormattingToolbarIsHidden",value:function(){}}]),Z}(),F=(0,S.defn)(l,U);i.default=F},{"../../../../common/censorHTMLstring":636,"../../../driver-common/compose/getDiscardStream":829,"../../../driver-common/compose/getPresendingStream":830,"../../../driver-common/getGmailThreadIdForRfcMessageId":833,"../../../lib/ErrorCollector":844,"../../../lib/array-to-lifetimes":847,"../../../lib/delay-asap":851,"../../../lib/dom/get-selection":856,"../../../lib/dom/insert-html-at-cursor":858,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/querySelectorOne":868,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/dom/simulate-key":874,"../../../lib/dom/simulate-mouse-event":875,"../../../lib/handle-compose-link-chips":881,"../../../lib/insert-link-chip-into-body":887,"../addRecipientRow":778,"./inbox-compose-button-view":815,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"auto-html":89,"closest-ng":105,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/escape":482,"lodash/find":484,ud:625}],817:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=(t(e("kefir")),t(e("kefir-stopper"))),f=t(e("kefir-bus")),d=t(e("classnames")),m=t(e("../../../lib/idMap")),h=t(e("../../../lib/parseParamsFromRouteID")),_=t(e("../getSidebarClassnames")),y=function(){function S(v,T){(0,o.default)(this,S),(0,n.default)(this,"_routeID",void 0),(0,n.default)(this,"_params",void 0),(0,n.default)(this,"_eventStream",(0,f.default)()),(0,n.default)(this,"_stopper",(0,s.default)()),(0,n.default)(this,"_customViewElement",void 0),this._routeID=v,this._params=(0,h.default)(v,T),this._customViewElement=document.createElement("div"),this.setFullWidth(!0)}return(0,u.default)(S,[{key:"setFullWidth",value:function(v){var T,E=(0,_.default)().centerList||"UNKNOWN_centerList";this._customViewElement.className=(0,d.default)((0,m.default)("custom_view_container"),(T={},(0,n.default)(T,(0,m.default)("custom_view_min_margins"),v),(0,n.default)(T,E,!v),T))}},{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._eventStream.end(),this._stopper.destroy(),this._customViewElement.remove()}},{key:"getElement",value:function(){throw new Error("should not happen")}},{key:"getType",value:function(){return"CUSTOM"}},{key:"getRouteType",value:function(){return"CUSTOM"}},{key:"getRouteID",value:function(){return this._routeID}},{key:"getParams",value:function(){return this._params}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getCustomViewElement",value:function(){return this._customViewElement}},{key:"refresh",value:function(){throw new Error("should not happen")}},{key:"getHash",value:function(){throw new Error("should not happen")}},{key:"addCollapsibleSection",value:function(v,T){throw new Error("should not happen")}},{key:"addSection",value:function(v,T){throw new Error("should not happen")}}]),S}();i.default=y},{"../../../lib/idMap":883,"../../../lib/parseParamsFromRouteID":893,"../getSidebarClassnames":793,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,classnames:104,kefir:327,"kefir-bus":324,"kefir-stopper":326}],818:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/parse-int")),u=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(e("@babel/runtime-corejs2/helpers/createClass")),s=t(e("@babel/runtime-corejs2/helpers/defineProperty")),f=e("ud"),d=t(e("kefir")),m=t(e("kefir-stopper")),h=t(e("kefir-bus")),_=t(e("./inbox-backdrop")),y=t(e("../../../lib/from-event-target-capture")),S=t(e("../../../../common/find-parent")),v="inboxSDKdrawerViewTakingOver",T=function(){function I(g){var k=this;(0,u.default)(this,I),(0,s.default)(this,"_chrome",void 0),(0,s.default)(this,"_exitEl",void 0),(0,s.default)(this,"_containerEl",void 0),(0,s.default)(this,"_el",void 0),(0,s.default)(this,"_backdrop",null),(0,s.default)(this,"_slideAnimationDone",void 0),(0,s.default)(this,"_closing",(0,m.default)()),(0,s.default)(this,"_closed",(0,m.default)()),(0,s.default)(this,"_composeChanges",(0,h.default)()),(0,s.default)(this,"_preAutoCloseStream",(0,h.default)()),this._chrome=typeof g.chrome!="boolean"||g.chrome;var j=document.body,x=null,A=g.composeView,w=g.closeWithCompose;if(A){var C=this._setupComposeInsertionTarget(A,w);j=C.insertionTarget,x=C.composeRect}this._setupElement(g,j);var O=0;if(A){if(!x)throw new Error("should not happen");O=this._setupComposeAnimation(A,x,!0)}this._el.offsetHeight,this._el.classList.add("inboxsdk__active"),this._slideAnimationDone=d.default.fromEvents(this._el,"transitionend").take(1).takeUntilBy(this._closing).map(function(){return null}),A&&this._positionCompose(A,O),(0,y.default)(document,"keydown").filter(function(V){return V.key?V.key==="Escape":V.which===27}).takeUntilBy(this._closing).onValue(function(V){var R=V.preventDefault;V.preventDefault=function(){return this._defaultPreventedInContext=!0,R.call(this)}}),d.default.fromEvents(document,"keydown").filter(function(V){return V.key?V.key==="Escape":V.which===27}).filter(function(V){return!V._defaultPreventedInContext}).filter(function(V){var R=!1,P={type:"escape",cause:V,cancel:function(){R=!0}};return k._preAutoCloseStream.emit(P),!R}).takeUntilBy(this._closing).onValue(function(){k.close()})}return(0,n.default)(I,[{key:"_setupComposeInsertionTarget",value:function(g,k){var j=this;if(g.isMinimized())throw new Error("Can't attach DrawerView to minimized ComposeView");if(g.isInlineReplyForm())throw new Error("Can't attach DrawerView to inline ComposeView");g.isFullscreen()&&g.setFullscreen(!1);var x=[d.default.fromEvents(g,"restored"),d.default.later(10).flatMap(function(){return d.default.fromEvents(g,"fullscreenChanged")})];k&&x.push(d.default.fromEvents(g,"destroy"),d.default.fromEvents(g,"minimized")),d.default.merge(x).takeUntilBy(this._closing.merge(this._composeChanges)).onValue(function(){return j.close()});var A=g.getElement(),w=A.getBoundingClientRect(),C=A.offsetParent;if(!(C instanceof HTMLElement))throw new Error("should not happen");var O=(0,S.default)(C,function(V){return window.getComputedStyle(V).getPropertyValue("z-index")!=="auto"&&V.getBoundingClientRect().left===0})||document.body;return A.dispatchEvent(new CustomEvent(v,{bubbles:!1,cancelable:!1,detail:null})),C.dispatchEvent(new CustomEvent(v,{bubbles:!1,cancelable:!1,detail:null})),O.dispatchEvent(new CustomEvent(v,{bubbles:!1,cancelable:!1,detail:null})),O.classList.add("inboxsdk__drawers_in_use"),O.style.zIndex=String(500),C.hasAttribute("data-drawer-old-zindex")||C.setAttribute("data-drawer-old-zindex",C.style.zIndex),C.style.zIndex=String(502),this._closed.takeUntilBy(d.default.fromEvents(O,v)).onValue(function(){O.style.zIndex=""}),this._closed.merge(this._composeChanges).takeUntilBy(d.default.fromEvents(C,v)).onValue(function(){C.style.zIndex=C.getAttribute("data-drawer-old-zindex")||"",C.removeAttribute("data-drawer-old-zindex")}),{composeRect:w,insertionTarget:O}}},{key:"_setupElement",value:function(g,k){var j=this,x=this._backdrop=new _.default(500,k);if(this._preAutoCloseStream.plug(x.getPreAutoCloseStream()),x.getStopper().takeUntilBy(this._closing).onValue(function(){j.close()}),this._containerEl=document.createElement("div"),this._containerEl.className="inboxsdk__drawer_view_container",this._containerEl.style.zIndex=String(501),this._el=document.createElement("div"),this._el.setAttribute("role","dialog"),this._el.tabIndex=0,this._el.className="inboxsdk__drawer_view",g.matchSidebarContentPanelWidth&&this._el.classList.add("inboxsdk__match_sidebar_content_panel_width"),this._containerEl.appendChild(this._el),this._chrome){var A=document.createElement("div");A.className="inboxsdk__drawer_title_bar";var w=document.createElement("button");w.type="button",w.title="Close",w.className="inboxsdk__close_button",w.addEventListener("click",function(O){j.close()}),A.appendChild(w);var C=document.createElement("div");C.className="inboxsdk__drawer_title",C.setAttribute("role","heading"),C.textContent=g.title||"",A.appendChild(C),this._el.appendChild(A)}this._el.appendChild(g.el),k.appendChild(this._containerEl),this._closing.onValue(function(){j._backdrop&&j._backdrop.destroy(),j._el.classList.remove("inboxsdk__active"),d.default.fromEvents(j._el,"transitionend").merge(d.default.later(200)).take(1).onValue(function(){j._closed.destroy(),j._containerEl.remove()})})}},{key:"_setupComposeAnimation",value:function(g,k,j){var x=g.getElement(),A=x.parentElement,w=this._el.getBoundingClientRect(),C=(0,o.default)(A.style.left)||0,O=k.right-C-(window.innerWidth-w.width-24);return O>0&&(A.style.position="relative",A.style.transition="left 150ms cubic-bezier(.4,0,.2,1)",A.style.left="0",j&&A.offsetHeight),O}},{key:"_positionCompose",value:function(g,k){if(k>0){var j=g.getElement(),x=j.parentElement;x.style.left="".concat(-k,"px"),this._closing.takeUntilBy(this._composeChanges).takeUntilBy(d.default.fromEvents(j,v)).onValue(function(){x.style.left="0"}).flatMap(function(){return d.default.fromEvents(x,"transitionend").merge(d.default.later(200))}).merge(this._composeChanges).take(1).takeUntilBy(d.default.fromEvents(j,v)).onValue(function(){x.style.position="",x.style.left="",x.style.transition=""})}}},{key:"associateComposeView",value:function(g,k){this._composeChanges.emit(null);var j=this._setupComposeInsertionTarget(g,k),x=j.insertionTarget,A=j.composeRect;this._backdrop&&x.appendChild(this._backdrop.getElement()),this._containerEl.parentElement!==x&&x.appendChild(this._containerEl);var w=this._setupComposeAnimation(g,A,!1);this._positionCompose(g,w)}},{key:"disassociateComposeView",value:function(){this._composeChanges.emit(null)}},{key:"getSlideAnimationDone",value:function(){return this._slideAnimationDone}},{key:"getClosingStream",value:function(){return this._closing}},{key:"getClosedStream",value:function(){return this._closed}},{key:"getPreAutoCloseStream",value:function(){return this._preAutoCloseStream}},{key:"close",value:function(){this._closing.destroy()}}]),I}(),E=(0,f.defn)(l,T);i.default=E},{"../../../../common/find-parent":640,"../../../lib/from-event-target-capture":879,"./inbox-backdrop":813,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-int":23,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-bus":324,"kefir-stopper":326,ud:625}],819:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=function(){function f(d){(0,o.default)(this,f),(0,n.default)(this,"_containerEl",void 0),(0,n.default)(this,"_contentEl",void 0),this._containerEl=document.createElement("div"),this._containerEl.className="inboxsdk__dropdown "+(d||""),this._contentEl=document.createElement("div"),this._contentEl.className="inboxsdk__dropdown_content",this._containerEl.appendChild(this._contentEl)}return(0,u.default)(f,[{key:"getContentElement",value:function(){return this._contentEl}},{key:"getContainerElement",value:function(){return this._containerEl}},{key:"destroy",value:function(){this._containerEl.remove()}}]),f}();i.default=s},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],820:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=(t(e("kefir")),t(e("kefir-stopper"))),f=t(e("kefir-bus")),d=function(){function m(h){(0,o.default)(this,m),(0,n.default)(this,"_type",void 0),(0,n.default)(this,"_eventStream",(0,f.default)()),(0,n.default)(this,"_stopper",(0,s.default)()),this._type=h}return(0,u.default)(m,[{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._eventStream.end(),this._stopper.destroy()}},{key:"getElement",value:function(){throw new Error("Should not happen")}},{key:"getType",value:function(){return this._type}},{key:"getRouteType",value:function(){return"UNKNOWN"}},{key:"getRouteID",value:function(){return"UNKNOWN"}},{key:"getParams",value:function(){return{}}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getCustomViewElement",value:function(){return null}},{key:"refresh",value:function(){}},{key:"getHash",value:function(){throw new Error("should not happen")}},{key:"addCollapsibleSection",value:function(h,_){throw new Error("should not happen")}},{key:"addSection",value:function(h,_){throw new Error("should not happen")}},{key:"setFullWidth",value:function(h){throw new Error("should not happen")}}]),m}();i.default=d},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-bus":324,"kefir-stopper":326}],821:[function(e,l,i){"use strict";function a(se,ie){var L=S(se);if(v){var G=v(se);ie&&(G=G.filter(function(le){return T(se,le).enumerable})),L.push.apply(L,G)}return L}function t(se){for(var ie=1;ie<arguments.length;ie++){var L=arguments[ie]!=null?arguments[ie]:{};ie%2?a(Object(L),!0).forEach(function(G){(0,C.default)(se,G,L[G])}):E?I(se,E(L)):a(Object(L)).forEach(function(G){g(se,G,T(L,G))})}return se}function o(se,ie){var L=h!==void 0&&se[_]||se["@@iterator"];if(!L){if(y(se)||(L=u(se))||ie&&se&&typeof se.length=="number"){L&&(se=L);var G=0,le=function(){};return{s:le,n:function(){return G>=se.length?{done:!0}:{done:!1,value:se[G++]}},e:function(W){throw W},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pe,we=!0,ye=!1;return{s:function(){L=L.call(se)},n:function(){var W=L.next();return we=W.done,W},e:function(W){ye=!0,pe=W},f:function(){try{we||L.return==null||L.return()}finally{if(ye)throw pe}}}}function u(se,ie){if(se){if(typeof se=="string")return n(se,ie);var L=Object.prototype.toString.call(se).slice(8,-1);return L==="Object"&&se.constructor&&(L=se.constructor.name),L==="Map"||L==="Set"?m(se):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?n(se,ie):void 0}}function n(se,ie){(ie==null||ie>se.length)&&(ie=se.length);for(var L=0,G=new Array(ie);L<ie;L++)G[L]=se[L];return G}function s(se){var ie=f();return function(){var L,G=(0,P.default)(se);if(ie){var le=(0,P.default)(this).constructor;L=d(G,arguments,le)}else L=G.apply(this,arguments);return(0,R.default)(this,L)}}function f(){if(typeof Reflect=="undefined"||!d||d.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(d(Boolean,[],function(){})),!0}catch(se){return!1}}var d=e("@babel/runtime-corejs2/core-js/reflect/construct"),m=e("@babel/runtime-corejs2/core-js/array/from"),h=e("@babel/runtime-corejs2/core-js/symbol"),_=e("@babel/runtime-corejs2/core-js/symbol/iterator"),y=e("@babel/runtime-corejs2/core-js/array/is-array"),S=e("@babel/runtime-corejs2/core-js/object/keys"),v=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),T=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),E=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),I=e("@babel/runtime-corejs2/core-js/object/define-properties"),g=e("@babel/runtime-corejs2/core-js/object/define-property"),k=e("@babel/runtime-corejs2/helpers/interopRequireDefault");g(i,"__esModule",{value:!0}),i.default=void 0;var j=k(e("@babel/runtime-corejs2/regenerator")),x=k(e("@babel/runtime-corejs2/core-js/array/from")),A=k(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),w=k(e("@babel/runtime-corejs2/helpers/createClass")),C=k(e("@babel/runtime-corejs2/helpers/defineProperty")),O=k(e("@babel/runtime-corejs2/helpers/classCallCheck")),V=k(e("@babel/runtime-corejs2/helpers/inherits")),R=k(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),P=k(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),B=e("ud"),z=(k(e("asap")),k(e("kefir"))),Q=k(e("kefir-bus")),N=k(e("bignumber.js")),K=k(e("../../../lib/delay-asap")),U=k(e("../../../../common/censorHTMLtree")),F=k(e("../../../lib/dom/make-mutation-observer-chunked-stream")),Z=k(e("./inbox-attachment-card-view")),$=k(e("../../../../common/find-parent")),ne=k(e("../detection/message/parser")),H=k(e("../../../lib/safe-event-emitter")),X=function(se){function ie(){return(0,O.default)(this,ie),L.apply(this,arguments)}(0,V.default)(ie,se);var L=s(ie);return ie}(H.default),oe=function(){function se(ie,L,G){var le=this;(0,O.default)(this,se),(0,C.default)(this,"_element",void 0),(0,C.default)(this,"_driver",void 0),(0,C.default)(this,"_p",void 0),(0,C.default)(this,"_stopper",void 0),(0,C.default)(this,"_eventStream",(0,Q.default)()),(0,C.default)(this,"_threadViewDriver",void 0),(0,C.default)(this,"_attachmentCardViews",[]),this._element=ie,this._driver=L,this._p=G,this._stopper=this._eventStream.ignoreValues().beforeEnd(function(){return null}),(0,F.default)(this._element,{attributes:!0,attributeFilter:["data-msg-id"]}).toProperty(function(){return null}).map(function(){return le._element.getAttribute("data-msg-id")}).skipDuplicates().changes().onValue(function(){le.destroy()}),(0,F.default)(this._element,{attributes:!0,attributeFilter:["aria-expanded"]}).toProperty(function(){return null}).map(function(){return le._element.getAttribute("aria-expanded")==="true"}).skipDuplicates().changes().takeUntilBy(this._stopper).onValue(function(pe){pe?le._reparse():le.destroy()}),this._threadViewDriver=this._findThreadView(),this._threadViewDriver&&this._threadViewDriver.addMessageViewDriver(this),this._driver.getMessageViewElementsMap().set(this._element,this),this._monitorEmailAddressHovering()}return(0,w.default)(se,[{key:"_findThreadView",value:function(){var ie=this._driver.getThreadViewElementsMap(),L=(0,$.default)(this._element,function(G){return ie.has(G)});return L?ie.get(L):null}},{key:"_reparse",value:function(){var ie=this._p;this._p=(0,ne.default)(this._element),this._p.errors.length>0&&this._driver.getLogger().errorSite(new Error("message reparse errors"),{score:this._p.score,errors:this._p.errors,html:(0,U.default)(this._element)}),!ie.attributes.loaded&&this._p.attributes.loaded&&this._eventStream.emit({type:"internal",eventName:"messageLoad"}),ie.attributes.viewState!==this._p.attributes.viewState&&this._eventStream.emit({eventName:"viewStateChange",oldValue:ie.attributes.viewState,newValue:this._p.attributes.viewState})}},{key:"_monitorEmailAddressHovering",value:function(){var ie=this;this._eventStream.plug(z.default.fromEvents(this._element,"mouseover").map(function(L){return L.target}).filter(function(L){return L&&L.getAttribute("email")}).map(function(L){var G,le={name:L.textContent,emailAddress:L.getAttribute("email")};if(ie._p.elements.sender&&ie._p.elements.sender.contains(L))G="sender";else{if(!ie._p.attributes.recipientElements||!(0,x.default)(ie._p.attributes.recipientElements).some(function(pe){return pe.contains(L)}))return null;G="recipient"}return{eventName:"contactHover",messageViewDriver:ie,contact:le,contactType:G}}).filter())}},{key:"addAttachmentCardViewDriver",value:function(ie){var L=this;this._attachmentCardViews.push(ie),ie.getStopper().takeUntilBy(this._stopper).onValue(function(){L._attachmentCardViews=L._attachmentCardViews.filter(function(G){return G!==ie})})}},{key:"getStopper",value:function(){return this._stopper}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"isLoaded",value:function(){return this._p.attributes.loaded}},{key:"hasOpenReply",value:function(){return!1}},{key:"getMessageID",value:function(){var ie=this._p.attributes.inboxMessageId;if(!ie)throw new Error("Failed to find message id");/^msg-a:/.test(ie)&&console.warn("MessageView.getMessageID() returned an incorrect message ID. This method will be deprecated soon. Use getMessageIDAsync() instead which does not have this problem.");var L=/\d+$/.exec(ie);if(!L)throw new Error("Should not happen");return new N.default(L[0]).toString(16)}},{key:"getMessageIDAsync",value:function(){function ie(){return L.apply(this,arguments)}var L=(0,A.default)(j.default.mark(function G(){var le,pe,we,ye,W,te;return j.default.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(le=this._p.attributes.inboxMessageId){ce.next=3;break}throw new Error("Failed to find message id");case 3:if(!/^msg-a:/.test(le)){ce.next=31;break}pe=o(this._driver.getComposeViewDriverLiveSet().values()),ce.prev=5,pe.s();case 7:if((we=pe.n()).done){ce.next=18;break}return ye=we.value,ce.next=11,ye.getDraftID();case 11:if(!(W=ce.sent)||"msg-a:".concat(W)!==le){ce.next=16;break}return ce.next=15,ye.getStopper().take(1).toPromise();case 15:return ce.abrupt("break",18);case 16:ce.next=7;break;case 18:ce.next=23;break;case 20:ce.prev=20,ce.t0=ce.catch(5),pe.e(ce.t0);case 23:return ce.prev=23,pe.f(),ce.finish(23);case 26:return ce.next=28,this._driver.getGmailMessageIdForSyncMessageId(le);case 28:return ce.abrupt("return",ce.sent);case 31:if(te=/\d+$/.exec(le)){ce.next=34;break}throw new Error("Should not happen");case 34:return ce.abrupt("return",new N.default(te[0]).toString(16));case 35:case"end":return ce.stop()}},G,this,[[5,20,23,26]])}));return ie}()},{key:"getContentsElement",value:function(){if(!this._p.elements.body)throw new Error("Could not find body element");return this._p.elements.body}},{key:"getLinks",value:function(){throw new Error("not implemented yet")}},{key:"isElementInQuotedArea",value:function(ie){return(0,$.default)(ie,function(L){return L.classList.contains("gmail_extra")})!=null}},{key:"addMoreMenuItem",value:function(ie){throw new Error("not implemented yet")}},{key:"addAttachmentIcon",value:function(ie){return console.warn("MessageView.addAttachmentIcon is not implemented yet in Inbox"),new X}},{key:"getAttachmentCardViewDrivers",value:function(){return this._attachmentCardViews}},{key:"addAttachmentCard",value:function(ie){var L=this._p.elements.attachmentsArea;if(!L)throw new Error("Could not find attachments area");var G=L.lastElementChild;return G||(L.style.display="",L.style.margin="16px 0 0",L.style.paddingTop="16px",G=document.createElement("div"),L.appendChild(G)),new Z.default(t(t({},ie),{},{element:null,container:G}),this._driver)}},{key:"addButtonToDownloadAllArea",value:function(ie){}},{key:"getViewState",value:function(){return this._p.attributes.viewState}},{key:"getDateString",value:function(){throw new Error("not implemented yet")}},{key:"getSender",value:function(){var ie=this._p.elements.sender;if(!ie)throw new Error("could not find sender element");var L=ie.getAttribute("email");if(!L)throw new Error("could not find email address");return{emailAddress:L,name:ie.textContent}}},{key:"getRecipients",value:function(){var ie=this._driver.getUserContact();return Array.prototype.map.call(this._p.attributes.recipientElements,function(L){var G=L.getAttribute("email");return G===ie.emailAddress?ie:{emailAddress:G,name:L.textContent}})}},{key:"getRecipientEmailAddresses",value:function(){return this.getRecipients().map(function(ie){return ie.emailAddress})}},{key:"getRecipientsFull",value:function(){function ie(){return L.apply(this,arguments)}var L=(0,A.default)(j.default.mark(function G(){return j.default.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.abrupt("return",this.getRecipients());case 1:case"end":return le.stop()}},G,this)}));return ie}()},{key:"getThreadViewDriver",value:function(){if(!this._threadViewDriver)throw new Error("failed to find threadView");return this._threadViewDriver}},{key:"getReadyStream",value:function(){return z.default.repeat(function(ie){return ie>10?null:(0,K.default)(null)}).ignoreValues().beforeEnd(function(){return null})}},{key:"destroy",value:function(){this._eventStream.end(),this._attachmentCardViews.slice().forEach(function(ie){ie.destroy()})}}]),se}(),Y=(0,B.defn)(l,oe);i.default=Y},{"../../../../common/censorHTMLtree":637,"../../../../common/find-parent":640,"../../../lib/delay-asap":851,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/safe-event-emitter":899,"../detection/message/parser":786,"./inbox-attachment-card-view":811,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,"@babel/runtime-corejs2/regenerator":59,asap:83,"bignumber.js":99,kefir:327,"kefir-bus":324,ud:625}],822:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=e("ud"),f=t(e("lodash/sortBy")),d=(t(e("kefir")),t(e("kefir-bus"))),m=(t(e("../../../lib/dom/insert-element-in-order")),t(e("../../../lib/dom/querySelectorOrFail"))),h=function(){function y(S){var v=this;(0,o.default)(this,y),(0,n.default)(this,"_eventStream",(0,d.default)()),(0,n.default)(this,"_modalContainerElement",void 0),this._setupModalContainerElement(S),this._processOptions(S),(0,m.default)(this._modalContainerElement,".inboxsdk__close_button").addEventListener("click",function(T){v._eventStream.emit({eventName:"closeClick",domEvent:T})})}return(0,u.default)(y,[{key:"destroy",value:function(){this._modalContainerElement.remove(),this._eventStream.end()}},{key:"getModalContainerElement",value:function(){return this._modalContainerElement}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"_processOptions",value:function(S){this.setTitle(S.title),this.setContentElement(S.el),this.setButtons(S.buttons||[]),this.setChromeClasses(S.chrome,S.showCloseButton)}},{key:"setTitle",value:function(S){var v=(0,m.default)(this._modalContainerElement,"[role=heading]");S?(v.style.display="",v.textContent=S):v.style.display="none"}},{key:"setContentElement",value:function(S){var v=(0,m.default)(this._modalContainerElement,".inboxsdk__modal_content");v.innerHTML="",typeof S=="string"?v.innerHTML=S:S instanceof Element&&v.appendChild(S)}},{key:"setButtons",value:function(S){var v=(0,m.default)(this._modalContainerElement,".inboxsdk__modal_buttons");S.length>0?this._modalContainerElement.classList.add("inboxsdk__modal_hasButtons"):this._modalContainerElement.classList.remove("inboxsdk__modal_hasButtons"),v.innerHTML="",(0,f.default)(S,[function(T){return T.type==="PRIMARY_ACTION"?0:1},function(T){return T.orderHint||0}]).forEach(function(T){var E=document.createElement("input");E.className=T.type==="PRIMARY_ACTION"?"inboxsdk__primary":"",E.type="button",E.value=T.text,E.addEventListener("click",function(I){I.preventDefault(),T.onClick.call(null)}),v.appendChild(E)})}},{key:"setChromeClasses",value:function(S,v){S===!1?this._modalContainerElement.classList.add("inboxsdk__modal_chromeless"):this._modalContainerElement.classList.remove("inboxsdk__modal_chromeless"),v?this._modalContainerElement.classList.add("inboxsdk__modal_showCloseButton"):this._modalContainerElement.classList.remove("inboxsdk__modal_showCloseButton")}},{key:"_setupModalContainerElement",value:function(S){var v=S.constrainTitleWidth?"inboxsdk__modal_toprow--constrain-title-width":"";this._modalContainerElement=document.createElement("div"),this._modalContainerElement.className="inboxsdk__modal_fullscreen";var T=`
    <div class="inboxsdk__modal_container" tabindex="0" role="alertdialog">
      <div class="inboxsdk__modal_toprow `.concat(v,`">
        <span role="heading"></span>
        <button title="Close" class="inboxsdk__close_button"></button>
      </div>
      <div class="inboxsdk__modal_content">
      </div>
      <div class="inboxsdk__modal_buttons"></div>
    </div>
    `);this._modalContainerElement.innerHTML=T}}]),y}(),_=(0,s.defn)(l,h);i.default=_},{"../../../lib/dom/insert-element-in-order":857,"../../../lib/dom/querySelectorOrFail":869,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-bus":324,"lodash/sortBy":519,ud:625}],823:[function(e,l,i){"use strict";function a(S){return S===""?_.NATIVE_ROUTE_IDS.INBOX:(0,d.default)(["snoozed","reminders","done","spam","trash"],S)?_.NATIVE_ROUTE_IDS[S.toUpperCase()]:/search\//.test(S)?_.NATIVE_ROUTE_IDS.SEARCH:"UNKNOWN"}function t(S){var v=S.split("/");return v.length<2?{}:{query:decodeURIComponent(v[1])}}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=u(e("@babel/runtime-corejs2/helpers/classCallCheck")),s=u(e("@babel/runtime-corejs2/helpers/createClass")),f=u(e("@babel/runtime-corejs2/helpers/defineProperty")),d=u(e("lodash/includes")),m=(u(e("kefir")),u(e("kefir-stopper"))),h=u(e("kefir-bus")),_=e("../../../constants/router"),y=function(){function S(v,T){(0,n.default)(this,S),(0,f.default)(this,"_element",void 0),(0,f.default)(this,"_type",void 0),(0,f.default)(this,"_routeType",void 0),(0,f.default)(this,"_routeID",void 0),(0,f.default)(this,"_params",void 0),(0,f.default)(this,"_eventStream",(0,h.default)()),(0,f.default)(this,"_stopper",(0,m.default)()),this._element=v,this._type=T;var E=document.location.pathname.slice(1);this._routeID=a(E),this._params=t(E),this._routeType=this._routeID==="UNKNOWN"?"UNKNOWN":"LIST"}return(0,s.default)(S,[{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._eventStream.end(),this._stopper.destroy()}},{key:"getElement",value:function(){return this._element}},{key:"getType",value:function(){return this._type}},{key:"getRouteType",value:function(){return this._routeType}},{key:"getRouteID",value:function(){return this._routeID}},{key:"getParams",value:function(){return this._params}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"refresh",value:function(){}},{key:"getHash",value:function(){throw new Error("should not happen")}},{key:"getCustomViewElement",value:function(){throw new Error("should not happen")}},{key:"addCollapsibleSection",value:function(v,T){throw new Error("not implemented yet")}},{key:"addSection",value:function(v,T){throw new Error("not implemented yet")}},{key:"setFullWidth",value:function(v){throw new Error("should not happen")}}]),S}();i.default=y},{"../../../constants/router":658,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/includes":493}],824:[function(e,l,i){"use strict";function a(z,Q){var N=o(z);if(u){var K=u(z);Q&&(K=K.filter(function(U){return n(z,U).enumerable})),N.push.apply(N,K)}return N}function t(z){for(var Q=1;Q<arguments.length;Q++){var N=arguments[Q]!=null?arguments[Q]:{};Q%2?a(Object(N),!0).forEach(function(K){(0,g.default)(z,K,N[K])}):s?f(z,s(N)):a(Object(N)).forEach(function(K){d(z,K,n(N,K))})}return z}var o=e("@babel/runtime-corejs2/core-js/object/keys"),u=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),f=e("@babel/runtime-corejs2/core-js/object/define-properties"),d=e("@babel/runtime-corejs2/core-js/object/define-property"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");d(i,"__esModule",{value:!0}),i.default=void 0;var h,_,y=m(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),S=m(e("@babel/runtime-corejs2/core-js/array/is-array")),v=m(e("@babel/runtime-corejs2/regenerator")),T=m(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),E=m(e("@babel/runtime-corejs2/helpers/classCallCheck")),I=m(e("@babel/runtime-corejs2/helpers/createClass")),g=m(e("@babel/runtime-corejs2/helpers/defineProperty")),k=e("ud"),j=m(e("../../../driver-common/update-icon")),x=m(e("auto-html")),A=m(e("kefir")),w=m(e("kefir-bus")),C=(m(e("kefir-stopper")),m(e("kefir-cast"))),O=m(e("bignumber.js")),V=m(e("./InboxLabelView")),R=m(e("./InboxToolbarButtonView")),P=function(){function z(Q,N,K){(0,E.default)(this,z),(0,g.default)(this,"_element",void 0),(0,g.default)(this,"_driver",void 0),(0,g.default)(this,"_p",void 0),(0,g.default)(this,"_userView",void 0),(0,g.default)(this,"_eventStream",(0,w.default)()),(0,g.default)(this,"_stopper",void 0),(0,g.default)(this,"_isDestroyed",!1),this._element=Q,this._driver=N,this._p=K,this._stopper=this._eventStream.ignoreValues().beforeEnd(function(){return null}).toProperty()}return(0,I.default)(z,[{key:"getEventStream",value:function(){return this._eventStream}},{key:"getStopper",value:function(){return this._stopper}},{key:"setUserView",value:function(Q){this._userView=Q}},{key:"isSelected",value:function(){if(!this._p.elements.checkbox)throw new Error("Did not find checkbox element");return this._p.elements.checkbox.getAttribute("aria-checked")==="true"}},{key:"addToolbarButton",value:function(Q){var N=this._p.elements.toolbar;if(!N)throw new Error("could not find toolbar element");N.classList.add("inboxsdk__list_toolbar");var K=new R.default(t(t({},Q),{},{onClick:function(U){U.dropdown&&(N.classList.add("inboxsdk__thread_row_force_toolbar_visible"),U.dropdown.once("destroy",function(){N.classList.remove("inboxsdk__thread_row_force_toolbar_visible")})),Q.onClick&&Q.onClick(U)}}),this._driver.getAppId(),N);return this._stopper.takeUntilBy(K.getStopper()).onValue(function(){K.destroy()}),K}},{key:"addAttachmentIcon",value:function(Q){throw new Error("Not supported in Inbox")}},{key:"addButton",value:function(Q){throw new Error("Not supported in Inbox")}},{key:"addActionButton",value:function(Q){throw new Error("not yet implemented")}},{key:"addImage",value:function(Q){if(this._isDestroyed)return void console.warn("addImage called on destroyed thread row");var N=this._p.elements.labelParent;if(!N)throw new Error("Could not find label parent element");var K=(0,C.default)(A.default,Q).takeUntilBy(this._stopper).toProperty(),U=null;K.onValue(function(F){if(F){U||(U={iconSettings:{},iconWrapper:document.createElement("div"),remove:function(){this.iconWrapper.remove()}},U.iconWrapper.className="inboxsdk__thread_row_icon_wrapper");var Z=U,$=Z.iconSettings,ne=Z.iconWrapper;if((0,j.default)($,ne,!1,F.imageClass,F.imageUrl),F.tooltip&&ne.setAttribute("title",F.tooltip),N!==ne.parentElement){var H=N.querySelectorAll(".inboxsdk__inbox_thread_row_label"),X=H.length>0?H[H.length-1].nextElementSibling:N.firstChild;N.insertBefore(ne,X)}}else U&&(U.remove(),U=null)}),this._stopper.onEnd(function(){U&&U.remove()})}},{key:"addLabel",value:function(Q){if(this._isDestroyed)return void console.warn("addLabel called on destroyed thread row");var N=this._p.elements.labelParent;if(!N)throw new Error("Could not find label parent element");var K=(0,C.default)(A.default,Q).takeUntilBy(this._stopper).toProperty(),U=null;K.onValue(function(F){if(F){if(!U){var Z=new V.default,$=Z.getElement();U={inboxLabelView:Z,remove:$.remove.bind($)}}if(U.inboxLabelView.updateLabelDescriptor(F),N!==U.inboxLabelView.getElement().parentElement){var ne=N.querySelectorAll(".inboxsdk__inbox_thread_row_label"),H=ne.length>0?ne[ne.length-1].nextElementSibling:N.firstChild;N.insertBefore(U.inboxLabelView.getElement(),H)}}else U&&(U.remove(),U=null)}),this._stopper.onEnd(function(){U&&U.remove()})}},{key:"getDateString",value:function(){throw new Error("Not supported in Inbox")}},{key:"getSubject",value:function(){if(!this._p.elements.subject)throw new Error("Failed to find subject");return this._p.elements.subject.textContent}},{key:"getThreadID",value:function(){throw new Error("Not supported in Inbox. Please use getThreadIDAsync() instead")}},{key:"getThreadIDAsync",value:function(){function Q(){return N.apply(this,arguments)}var N=(0,T.default)(v.default.mark(function K(){var U,F,Z,$;return v.default.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(U=this._p.attributes.inboxThreadId){ne.next=3;break}throw new Error("Failed to find thread id");case 3:if(!/^thread-a:/.test(U)){ne.next=16;break}return this._driver.trackThreadRowIdCall(!1,U),ne.next=7,this._driver.getInboxMessageIdForInboxThreadId(U);case 7:return F=ne.sent,ne.next=10,this._driver.getGmailMessageIdForSyncMessageId(F);case 10:return Z=ne.sent,ne.next=13,this._driver.getThreadIdFromMessageId(Z);case 13:return ne.abrupt("return",ne.sent);case 16:if(this._driver.trackThreadRowIdCall(!0,U),$=/\d+$/.exec(U)){ne.next=20;break}throw new Error("Should not happen");case 20:return ne.abrupt("return",new O.default($[0]).toString(16));case 21:case"end":return ne.stop()}},K,this)}));return Q}()},{key:"getDraftID",value:function(){function Q(){return N.apply(this,arguments)}var N=(0,T.default)(v.default.mark(function K(){var U,F,Z,$;return v.default.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(U=this._p.attributes,F=U.isOnlyDraft,Z=U.inboxThreadId,!F||!Z){ne.next=8;break}if($=/\d+$/.exec(Z)){ne.next=5;break}throw new Error("Should not happen");case 5:return ne.abrupt("return",$[0]);case 8:return ne.abrupt("return",null);case 9:case"end":return ne.stop()}},K,this)}));return Q}()},{key:"getVisibleDraftCount",value:function(){var Q=this._p.attributes.visibleDraftCount;if(typeof Q!="number")throw new Error("Failed to find visible draft count");return Q}},{key:"getVisibleMessageCount",value:function(){var Q=this._p.attributes.visibleMessageCount;if(typeof Q!="number")throw new Error("Failed to find visible message count");return Q}},{key:"getContacts",value:function(){var Q=this._p.attributes.contacts;if(!(0,S.default)(Q))throw new Error("Failed to find contacts");return Q}},{key:"replaceDate",value:function(Q){throw new Error("Not supported in Inbox")}},{key:"replaceDraftLabel",value:function(Q){var N=this;if(this._isDestroyed)return void console.warn("addLabel called on destroyed thread row");if(this._p.attributes.visibleDraftCount!==0){var K=this._p.elements,U=K.recipientParent,F=K.messageCountParent;if(!U||!F)throw new Error("Could not find necessary parent elements");var Z=(0,C.default)(A.default,Q).takeUntilBy(this._stopper).toProperty(),$=null;Z.onValue(function(ne){if(ne){var H=ne.text,X=ne.count;$||($={countEl:document.createElement("span"),draftEl:document.createElement("span"),remove:function(){this.countEl.remove(),this.draftEl.remove(),U.classList.remove("inboxsdk__thread_row_draft_label_replaced"),F.classList.remove("inboxsdk__thread_row_draft_count_replaced"),F.querySelector("span:not(.inboxsdk__thread_row_custom_draft_count)")||(F.style.display="none")}},$.draftEl.className="inboxsdk__thread_row_custom_draft_label",$.countEl.className="inboxsdk__thread_row_custom_draft_count",U.classList.add("inboxsdk__thread_row_draft_label_replaced")),$.draftEl.textContent=H,U!==$.draftEl.parentElement&&U.appendChild($.draftEl);var oe=F.querySelector("span:not(.inboxsdk__thread_row_custom_draft_count)");X&&X>1?(F.classList.add("inboxsdk__thread_row_draft_count_replaced"),F.style.display="inline",$.countEl.innerHTML=oe?(0,x.default)(h||(h=(0,y.default)(["(",")"])),X):(0,x.default)(_||(_=(0,y.default)(["&nbsp;(",")"])),X),F!==$.countEl.parentElement&&F.appendChild($.countEl)):(F.classList.remove("inboxsdk__thread_row_draft_count_replaced"),oe||(F.style.display="none"),$.countEl.remove())}else $&&($.remove(),$=null);N._stopper.onEnd(function(){$&&$.remove()})})}}},{key:"destroy",value:function(){this._isDestroyed=!0,this._eventStream.end()}}]),z}(),B=(0,k.defn)(l,P);i.default=B},{"../../../driver-common/update-icon":843,"./InboxLabelView":804,"./InboxToolbarButtonView":806,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"@babel/runtime-corejs2/regenerator":59,"auto-html":89,"bignumber.js":99,kefir:327,"kefir-bus":324,"kefir-cast":325,"kefir-stopper":326,ud:625}],825:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o,u=t(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),n=t(e("@babel/runtime-corejs2/regenerator")),s=t(e("@babel/runtime-corejs2/core-js/set")),f=t(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),d=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),m=t(e("@babel/runtime-corejs2/helpers/createClass")),h=t(e("@babel/runtime-corejs2/helpers/defineProperty")),_=t(e("lodash/find")),y=e("ud"),S=t(e("auto-html")),v=t(e("kefir")),T=t(e("kefir-bus")),E=t(e("kefir-stopper")),I=t(e("bignumber.js")),g=t(e("../../../lib/delay-asap")),k=t(e("../../../lib/idMap")),j=t(e("../../../lib/dom/querySelectorOrFail")),x=t(e("../../../lib/dom/make-mutation-observer-chunked-stream")),A=t(e("../../../views/SimpleElementView")),w=(t(e("../../../views/conversations/custom-message-view")),t(e("../detection/thread/parser"))),C=function(){function V(R,P,B){var z=this;(0,d.default)(this,V),(0,h.default)(this,"_element",void 0),(0,h.default)(this,"_driver",void 0),(0,h.default)(this,"_p",void 0),(0,h.default)(this,"_eventStream",(0,T.default)()),(0,h.default)(this,"_messageViews",[]),(0,h.default)(this,"_receivedMessageView",(0,E.default)()),(0,h.default)(this,"_stopper",void 0),(0,h.default)(this,"_ready",void 0),(0,h.default)(this,"_sidebarPanels",new s.default),this._element=R,this._driver=P,this._p=B,this._stopper=this._eventStream.ignoreValues().beforeEnd(function(){return null}).toProperty(),this._driver.getThreadViewElementsMap().set(this._element,this),this._ready=this._receivedMessageView.flatMap(function(){return(0,g.default)()}).onValue(function(){z._p=(0,w.default)(z._element)}).toProperty(),this.isLoadingStub()&&(0,x.default)(this._element,{attributes:!0,attributeFilter:["aria-busy"]}).takeUntilBy(this._stopper).onValue(function(){z.isLoadingStub()||z.destroy()})}return(0,m.default)(V,[{key:"isLoadingStub",value:function(){return this._element.getAttribute("aria-busy")==="true"}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getStopper",value:function(){return this._stopper}},{key:"addMessageViewDriver",value:function(R){var P=this;this._messageViews.push(R),this._eventStream.plug(R.getEventStream().filter(function(B){return B.eventName==="contactHover"})),R.getStopper().takeUntilBy(this._stopper).onValue(function(){P._messageViews=P._messageViews.filter(function(B){return B!==R})}),this._receivedMessageView.destroy()}},{key:"getMessageViewDrivers",value:function(){return this._messageViews}},{key:"getToolbarElement",value:function(){if(!this._p.elements.toolbar)throw new Error("Failed to find toolbar");return this._p.elements.toolbar}},{key:"getSubject",value:function(){if(!this._p.elements.heading)throw new Error("Failed to find subject");return this._p.elements.heading.textContent}},{key:"getThreadID",value:function(){var R=this._p.attributes.inboxThreadId;if(!R)throw new Error("Failed to find thread id");/^msg-a:/.test(R)&&console.warn("ThreadView.getThreadID() returned an incorrect thread ID. This method will be deprecated soon. Use getThreadIDAsync() instead which does not have this problem.");var P=/\d+$/.exec(R);if(!P)throw new Error("Should not happen");return new I.default(P[0]).toString(16)}},{key:"getThreadIDAsync",value:function(){function R(){return P.apply(this,arguments)}var P=(0,f.default)(n.default.mark(function B(){var z,Q,N,K;return n.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(z=this._p.attributes.inboxThreadId){U.next=3;break}throw new Error("Failed to find message id");case 3:if(!/^thread-a:/.test(z)){U.next=15;break}if(Q=this._messageViews[0]){U.next=7;break}throw new Error("Should not happen");case 7:return U.next=9,Q.getMessageIDAsync();case 9:return N=U.sent,U.next=12,this._driver.getThreadIdFromMessageId(N);case 12:return U.abrupt("return",U.sent);case 15:if(K=/\d+$/.exec(z)){U.next=18;break}throw new Error("Should not happen");case 18:return U.abrupt("return",new I.default(K[0]).toString(16));case 19:case"end":return U.stop()}},B,this)}));return R}()},{key:"registerHiddenCustomMessageNoticeProvider",value:function(R){throw new Error("not supported")}},{key:"addCustomMessage",value:function(R){throw new Error("not supported")}},{key:"addSidebarContentPanel",value:function(R){var P=this,B=this._driver.getAppSidebarView().addSidebarContentPanel(R);return this._sidebarPanels.add(B),B.getStopper().onValue(function(){P._sidebarPanels.delete(B)}),this._stopper.takeUntilBy(B.getStopper()).onValue(function(){B.remove()}),R.takeUntilBy(this._stopper).takeUntilBy(B.getStopper()).take(1).onValue(function(z){var Q=P._p.elements.stickyHeading;if(Q){var N=Q.querySelector("."+(0,k.default)("sidebar_iconArea"));if(!N){var K=N=document.createElement("div");N.className=(0,k.default)("sidebar_iconArea"),P._driver.getAppSidebarView().getOpenOrOpeningStream().takeUntilBy(P._stopper).onValue(function(H){K.style.display=H?"none":""}),Q.appendChild(N)}var U,F=z.appName||P._driver.getOpts().appName||z.title,Z=z.appIconUrl||P._driver.getOpts().appIconUrl||z.iconUrl,$=(0,_.default)(N.querySelectorAll("."+(0,k.default)("sidebar_button_container")),function(H){var X=H.querySelector("button");if(!X||X.title!==F)return!1;var oe=X.querySelector("img");return!(!oe||oe.src!==Z)});if($){var ne=Number($.getAttribute("data-count"))||1;$.setAttribute("data-count",ne+1),U=$}else U=document.createElement("div"),U.className=(0,k.default)("sidebar_button_container"),U.innerHTML=(0,S.default)(o||(o=(0,u.default)([`
            <button class="inboxsdk__button_icon" type="button" title="`,`">
              <img class="inboxsdk__button_iconImg" src="`,`">
            </button>
          `])),F,Z),(0,j.default)(U,"button").addEventListener("click",function(H){H.stopPropagation(),P._driver.getAppSidebarView().open(),B.scrollIntoView()},!0),N.appendChild(U);B.getStopper().onValue(function(){var H=Number(U.getAttribute("data-count"));H<=1?U.remove():H===2?U.removeAttribute("data-count"):U.setAttribute("data-count",String(H-1))})}}),B}},{key:"removePanels",value:function(){this._sidebarPanels.forEach(function(R){R.remove()})}},{key:"addNoticeBar",value:function(){var R=document.createElement("div");R.className=(0,k.default)("thread_noticeBar");var P=this._p.elements.heading;if(!P)throw new Error("Failed to find subject");P.insertAdjacentElement("afterend",R);var B=new A.default(R);return this._stopper.takeUntilBy(v.default.fromEvents(B,"destroy")).onValue(function(){return B.destroy()}),B}},{key:"addLabel",value:function(){throw new Error("not supported")}},{key:"getReadyStream",value:function(){return this._ready}},{key:"destroy",value:function(){this._driver.getThreadViewElementsMap().delete(this._element),this._eventStream.end()}}]),V}(),O=(0,y.defn)(l,C);i.default=O},{"../../../lib/delay-asap":851,"../../../lib/dom/make-mutation-observer-chunked-stream":863,"../../../lib/dom/querySelectorOrFail":869,"../../../lib/idMap":883,"../../../views/SimpleElementView":921,"../../../views/conversations/custom-message-view":928,"../detection/thread/parser":790,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"@babel/runtime-corejs2/regenerator":59,"auto-html":89,"bignumber.js":99,kefir:327,"kefir-bus":324,"kefir-stopper":326,"lodash/find":484,ud:625}],826:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=e("ud"),f=t(e("kefir")),d=t(e("kefir-stopper")),m=t(e("contain-by-screen")),h=function(){function y(S,v){var T=this;if((0,o.default)(this,y),(0,n.default)(this,"_target",void 0),(0,n.default)(this,"_el",void 0),(0,n.default)(this,"_contentEl",void 0),(0,n.default)(this,"_arrowEl",void 0),(0,n.default)(this,"_stopper",(0,d.default)()),this._target=S,this._arrowEl=document.createElement("div"),this._arrowEl.className="inboxsdk__tooltip_arrow",this._contentEl=document.createElement("div"),this._contentEl.className="inboxsdk__tooltip_content",this._el=document.createElement("div"),this._el.style.position="fixed",this._el.className="inboxsdk__tooltip",this._el.appendChild(this._contentEl),v.el)this._contentEl.appendChild(v.el),this._el.classList.add("inboxsdk__tooltip_chromeless");else{var E=document.createElement("button");if(E.type="button",E.title="Close",E.className="inboxsdk__close_button",E.addEventListener("click",function(O){T.destroy()}),this._el.appendChild(E),v.imageUrl){var I=v.imageUrl,g=document.createElement("img");g.className="inboxsdk__tooltip_img",g.src=I,this._contentEl.appendChild(g)}if(v.title){var k=v.title,j=document.createElement("h1");j.textContent=k,this._contentEl.appendChild(j)}if(v.subtitle){var x=v.subtitle,A=document.createElement("div");A.className="inboxsdk__subtitle",A.textContent=x,this._contentEl.appendChild(A)}if(v.button){var w=v.button,C=document.createElement("input");C.type="button",C.value=w.title,C.addEventListener("click",function(O){O.preventDefault(),O.stopPropagation(),w.onClick&&w.onClick.call(null)}),this._contentEl.appendChild(C)}}document.body.appendChild(this._el),document.body.appendChild(this._arrowEl),this._updatePosition(!0),this._el.addEventListener("load",function(O){T._updatePosition(!0)},!0),f.default.interval(200).takeUntilBy(this._stopper).map(function(){return S.getBoundingClientRect()}).skipDuplicates(function(O,V){return O.top===V.top&&O.left===V.left&&O.right===V.right&&O.bottom===V.bottom}).onValue(function(){T._updatePosition()})}return(0,u.default)(y,[{key:"destroy",value:function(){this._el.remove(),this._arrowEl.remove(),this._stopper.destroy()}},{key:"getStopper",value:function(){return this._stopper}},{key:"_updatePosition",value:function(){var S=this,v=arguments.length>0&&arguments[0]!==void 0&&arguments[0];v&&(this._el.classList.add("inboxsdk__notransition"),this._arrowEl.classList.add("inboxsdk__notransition"));var T=(0,m.default)(this._el,this._target,{position:"top",hAlign:"center",vAlign:"center",buffer:10}),E=T.position;(0,m.default)(this._arrowEl,this._target,{position:E,forcePosition:!0,hAlign:"center",forceHAlign:!0,vAlign:"center",forceVAlign:!0,buffer:11}),["top","bottom","left","right"].forEach(function(I){S._arrowEl.classList.remove("inboxsdk__"+I)}),this._arrowEl.classList.add("inboxsdk__"+E),v&&(this._el.offsetHeight,this._arrowEl.offsetHeight,this._el.classList.remove("inboxsdk__notransition"),this._arrowEl.classList.remove("inboxsdk__notransition"))}}]),y}(),_=(0,s.defn)(l,h);i.default=_},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"contain-by-screen":138,kefir:327,"kefir-stopper":326,ud:625}],827:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/number/max-safe-integer")),u=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(e("@babel/runtime-corejs2/helpers/createClass")),s=t(e("@babel/runtime-corejs2/helpers/defineProperty")),f=t(e("kefir")),d=t(e("kefir-bus")),m=t(e("kefir-stopper")),h=t(e("../../../lib/dom/insert-element-in-order")),_=t(e("../../../lib/dom/querySelectorOrFail")),y=t(e("../../../widgets/buttons/dropdown-view")),S=t(e("./inbox-dropdown-view")),v=t(e("../../../constants/nav-item-types")),T=t(e("../../../driver-common/update-icon")),E=function(){function I(g,k){var j=this;(0,u.default)(this,I),(0,s.default)(this,"_eventStream",(0,d.default)()),(0,s.default)(this,"_level",void 0),(0,s.default)(this,"_stopper",void 0),(0,s.default)(this,"_transitionResetter",(0,d.default)()),(0,s.default)(this,"_navItemDescriptor",void 0),(0,s.default)(this,"_children",0),(0,s.default)(this,"_name",""),(0,s.default)(this,"_type",null),(0,s.default)(this,"_orderHint",o.default),(0,s.default)(this,"_disabled",!1),(0,s.default)(this,"_isCollapsed",!1),(0,s.default)(this,"_iconSettings",{}),(0,s.default)(this,"_accessory",null),(0,s.default)(this,"_accessoryView",null),(0,s.default)(this,"_elements",void 0),this._level=k||0,this._elements={wrapper:document.createElement("div"),expander:document.createElement("div"),navItem:document.createElement("div"),name:document.createElement("span"),subNav:document.createElement("div"),subNavInner:document.createElement("div"),accessory:document.createElement("div")},this._level>2&&console.warn("Adding NavItems more than 3 levels deep is not supported"),this._stopper=this._eventStream.ignoreValues().beforeEnd(function(){return null}).toProperty(),this._setupElements(),g.takeUntilBy(this._stopper).onValue(function(x){j._update(x),j._navItemDescriptor=x})}return(0,n.default)(I,[{key:"addNavItem",value:function(g,k){var j=this,x=new I(k,this._level+1);return x.getEventStream().filter(function(A){return A.eventName==="orderChanged"}).onValue(function(){return(0,h.default)(j._elements.subNavInner,x.getElement())}),(0,h.default)(this._elements.subNavInner,x.getElement()),this._children+=1,x.getStopper().onValue(function(){j._children-=1,j._updateChildrenClass(),j._updateDisabledState(j._navItemDescriptor||{}),j._updateAccessory(j._accessory,!0)}),this._updateChildrenClass(),this._updateDisabledState(this._navItemDescriptor||{}),this._updateAccessory(this._accessory,!0),x}},{key:"setActive",value:function(g){this._elements.navItem.classList.toggle("inboxsdk__navItem_active",g)}},{key:"toggleCollapse",value:function(){this._isCollapsed=!this._isCollapsed,this._isCollapsed?this._collapse():this._expand()}},{key:"setCollapsed",value:function(g){this._isCollapsed!==g&&(this._isCollapsed=g,this._isCollapsed?this._collapse():this._expand())}},{key:"isCollapsed",value:function(){return this._isCollapsed}},{key:"getElement",value:function(){return this._elements.wrapper}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._eventStream.end(),this._elements.wrapper.remove()}},{key:"_setupElements",value:function(){var g=this,k=this._elements,j=k.wrapper,x=k.expander,A=k.navItem,w=k.name,C=k.subNav,O=k.subNavInner,V=k.accessory;j.className="inboxsdk__navItem_wrapper inboxsdk__navItem_level".concat(this._level),j.setAttribute("tabindex","-1"),j.setAttribute("data-order-hint",String(this._orderHint)),A.setAttribute("role","menuitem"),x.classList.add("inboxsdk__navItem_expander"),A.classList.add("inboxsdk__navItem"),w.classList.add("inboxsdk__navItem_name"),V.classList.add("inboxsdk__navItem_accessory"),C.classList.add("inboxsdk__navItem_subNav"),O.classList.add("inboxsdk__navItem_subNavInner"),x.innerHTML='<svg><polygon points="16.59 8.59 12 13.17 7.41 8.59 6 10 12 16 18 10"></polygon></svg>',A.appendChild(x),A.appendChild(w),A.appendChild(V),j.appendChild(A),C.appendChild(O),j.appendChild(C),this._eventStream.plug(f.default.fromEvents(A,"click").filter(function(){return!g._disabled}).map(function(R){return R.stopPropagation(),R.preventDefault(),{eventName:"click",domEvent:R}})),f.default.fromEvents(x,"click").takeUntilBy(this._stopper).filter(function(){return g._children>0}).onValue(function(R){g.toggleCollapse(),R.stopPropagation()})}},{key:"_collapse",value:function(){var g=this._elements,k=g.subNav,j=g.subNavInner;this._transitionResetter.emit(null),this._elements.wrapper.classList.add("inboxsdk__navItem_collapsed"),k.style.height="".concat(j.clientHeight,"px"),k.clientHeight,k.style.height="0",f.default.merge([f.default.fromEvents(k,"transitionend"),f.default.later(750)]).takeUntilBy(this._transitionResetter).take(1).onValue(function(){k.style.display="none"}),this._eventStream.emit({eventName:"collapsed"})}},{key:"_expand",value:function(){var g=this._elements,k=g.subNav,j=g.subNavInner;this._transitionResetter.emit(null),this._elements.wrapper.classList.remove("inboxsdk__navItem_collapsed"),k.style.display="",k.style.height="".concat(j.clientHeight,"px"),f.default.merge([f.default.fromEvents(k,"transitionend"),f.default.later(750)]).takeUntilBy(this._transitionResetter).take(1).onValue(function(){k.style.height=""}),this._eventStream.emit({eventName:"expanded"})}},{key:"_update",value:function(g){this._updateName(g.name),this._updateType(g.type),this._updateExpander(g),this._updateDisabledState(g),this._updateIcon(g),this._updateAccessory(g.accessory),this._updateOrder(g.orderHint||g.orderHint===0?g.orderHint:o.default)}},{key:"_updateName",value:function(g){this._name!==g&&(this._elements.name.textContent=g,this._elements.name.setAttribute("title",g),this._name=g)}},{key:"_updateType",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.NAVIGATION;this._type!==g&&(this._elements.navItem.classList.toggle("inboxsdk__navItem_link",g===v.default.LINK),this._type=g)}},{key:"_updateExpander",value:function(g){var k=g.backgroundColor,j=g.expanderForegroundColor;this._elements.expander.style.backgroundColor=k||"",(0,_.default)(this._elements.expander,"polygon").style.fill=j||"",this._elements.wrapper.classList.toggle("inboxsdk__navItem_hasColor",typeof k=="string")}},{key:"_updateIcon",value:function(g){this._elements.navItem.classList.toggle("inboxsdk__navItem_hasIcon",(!this._disabled||this._level>0)&&Boolean(g.iconUrl||g.iconClass)),(0,T.default)(this._iconSettings,this._elements.navItem,!1,g.iconClass,g.iconUrl,this._elements.name)}},{key:"_updateAccessory",value:function(g){(arguments.length>1&&arguments[1]!==void 0&&arguments[1]||this._accessory!==g)&&(this._accessoryView&&(this._accessoryView.destroy(),this._accessoryView=null),g&&!this._disabled&&(this._accessoryView=this._createAccessory(g)),this._accessory=g)}},{key:"_updateDisabledState",value:function(g){this._disabled=!(g.routeID||g.onClick)||this._level===0&&this._children>0,this._elements.wrapper.classList.toggle("inboxsdk__navItem_disabled",this._disabled)}},{key:"_updateOrder",value:function(g){this._orderHint!==g&&(this._elements.wrapper.setAttribute("data-order-hint",String(g)),this._orderHint=g,this._eventStream.emit({eventName:"orderChanged"}))}},{key:"_updateChildrenClass",value:function(){this._elements.wrapper.classList.toggle("inboxsdk__navItem_hasChildren",this._children>0)}},{key:"_createAccessory",value:function(g){switch(g.type){case"CREATE":return this._createCreateAccessory(g);case"ICON_BUTTON":return this._createIconButtonAccessory(g);case"DROPDOWN_BUTTON":return this._createDropdownButtonAccessory(g);default:throw new Error("A type must be specified for NavItem accessories")}}},{key:"_createCreateAccessory",value:function(g){var k=g.onClick;return this._createIconButtonAccessory({onClick:k,iconUrl:"//ssl.gstatic.com/bt/C3341AA7A1A076756462EE2E5CD71C11/2x/ic_add-cluster_24px_g60_r3_2x.png"})}},{key:"_createDropdownButtonAccessory",value:function(g){var k=g.onClick;return this._createIconButtonAccessory({onClick:k,iconUrl:"//www.gstatic.com/images/icons/material/system/2x/settings_black_18dp.png"},!0)}},{key:"_createIconButtonAccessory",value:function(g){var k=this,j=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!g.onClick)throw new Error("An onClick handler is required");this._elements.wrapper.classList.add("inboxsdk__navItem_hasAccessory"),(0,T.default)({},this._elements.accessory,!1,g.iconClass,g.iconUrl);var x=(0,_.default)(this._elements.accessory,".inboxsdk__button_icon");x.setAttribute("tabindex","-1");var A=(0,m.default)(),w=null;return f.default.fromEvents(this._elements.accessory,"click").takeUntilBy(this._stopper).takeUntilBy(A).onValue(function(C){if(C.preventDefault(),C.stopPropagation(),j){if(w)return void w.close();x.classList.add("inboxsdk__active"),w=new y.default(new S.default,k._elements.accessory),w.setPlacementOptions({position:"right",hAlign:"left",vAlign:"top",buffer:10}),w.on("destroy",function(){x.classList.remove("inboxsdk__active"),w=null})}g.onClick({dropdown:w})}),f.default.merge([this._stopper,A]).take(1).onValue(function(){w&&w.close()}),{destroy:function(){k._elements.wrapper.classList.remove("inboxsdk__navItem_hasAccessory"),k._elements.accessory.innerHTML="",A.destroy()}}}}]),I}();i.default=E},{"../../../constants/nav-item-types":657,"../../../driver-common/update-icon":843,"../../../lib/dom/insert-element-in-order":857,"../../../lib/dom/querySelectorOrFail":869,"../../../widgets/buttons/dropdown-view":942,"./inbox-dropdown-view":819,"@babel/runtime-corejs2/core-js/number/max-safe-integer":6,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-bus":324,"kefir-stopper":326}],828:[function(e,l,i){"use strict";function a(){var h=m();return(0,d.default)(h,{attributes:!0}).toProperty(function(){}).filter(function(){return window.getComputedStyle(h).display!=="none"}).merge(f.default.later(150)).take(1).flatMap(function(){return(0,d.default)(h,{attributes:!0}).toProperty(function(){})}).filter(function(){return window.getComputedStyle(h).display==="none"}).map(function(){}).take(1)}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/parse-float")),n=o(e("lodash/once")),s=o(e("lodash/find")),f=o(e("kefir")),d=o(e("../../lib/dom/make-mutation-observer-chunked-stream")),m=(0,n.default)(function(){return(0,s.default)(document.body.children,function(h){var _=window.getComputedStyle(h);return _.position==="fixed"&&(0,u.default)(_.top)===0&&(0,u.default)(_.bottom)===0&&(0,u.default)(_.left)===0&&(0,u.default)(_.right)===0})})},{"../../lib/dom/make-mutation-observer-chunked-stream":863,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-float":22,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"lodash/find":484,"lodash/once":516}],829:[function(e,l,i){"use strict";function a(d){var m=d.element,h=d.discardButton;return n.default.merge([(0,s.default)(m,"keydown").filter(function(_){return[13,32].indexOf(_.which)>-1||[13,32].indexOf(_.keyCode)>-1}).filter(function(_){return h&&h.contains(_.target)}),(0,s.default)(m,"click").filter(function(_){return h&&h.contains(_.target)})]).map(function(_){return{eventName:"discard",data:{cancel:function(){_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation(),f(m)}}}})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("asap")),n=o(e("kefir")),s=o(e("../../lib/from-event-target-capture")),f=function(d){return(0,u.default)(function(){return d.dispatchEvent(new CustomEvent("inboxSDKdiscardCanceled",{bubbles:!1,cancelable:!1,detail:null}))})}},{"../../lib/from-event-target-capture":879,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,asap:83,kefir:327}],830:[function(e,l,i){"use strict";function a(d){var m=d.element,h=d.sendButton,_=d.sendAndArchive;return n.default.merge([(0,s.default)(m,"keydown").filter(function(y){return y.ctrlKey||y.metaKey}).filter(function(y){return y.which===13||y.keyCode===13}),(0,s.default)(m,"keydown").filter(function(y){return[13,32].indexOf(y.which)>-1||[13,32].indexOf(y.keyCode)>-1}).filter(function(y){return h&&h.contains(y.target)||_&&_.contains(y.target)}),(0,s.default)(m,"click").filter(function(y){return h&&h.contains(y.target)||_&&_.contains(y.target)})]).filter(function(y){return!m.hasAttribute("data-inboxsdk-send-replaced")||(y.preventDefault(),y.stopPropagation(),y.stopImmediatePropagation(),!1)}).map(function(y){return{eventName:"presending",data:{cancel:function(){y.preventDefault(),y.stopPropagation(),y.stopImmediatePropagation(),f(m)}}}})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("asap")),n=o(e("kefir")),s=o(e("../../lib/from-event-target-capture")),f=function(d){return(0,u.default)(function(){return d.dispatchEvent(new CustomEvent("inboxSDKsendCanceled",{bubbles:!1,cancelable:!1,detail:null}))})}},{"../../lib/from-event-target-capture":879,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,asap:83,kefir:327}],831:[function(e,l,i){"use strict";function a(){var t=document.location.pathname.match(/\/b\/(.+?)\/u\/(\d+)/);if(t){var o=t[1];return"/u/".concat(t[2],"/d/").concat(o)}var u=document.location.pathname.match(/(\/u\/\d+)\//i);return u?u[1]:"/u/0"}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],832:[function(e,l,i){"use strict";function a(h,_){return t.apply(this,arguments)}function t(){return t=(0,s.default)(n.default.mark(function h(_,y){var S,v;return n.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,d.default)(_,{syncMessageID:y});case 2:if(S=T.sent,v=S.match(/<a\b[^<>]+\bhref="\/mail[^"]*(?:\?|&(?:amp;)?)view=att&(?:amp;)?th=([a-f0-9]+)&/i)){T.next=6;break}throw new Error("Failed to find gmail message id for inbox message id");case 6:return T.abrupt("return",v[1]);case 7:case"end":return T.stop()}},h)})),t.apply(this,arguments)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),f=e("ud"),d=u(e("./getOriginalMessagePage")),m=(0,f.defn)(l,a);i.default=m},{"./getOriginalMessagePage":834,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,ud:625}],833:[function(e,l,i){"use strict";function a(T,E){return t.apply(this,arguments)}function t(){return t=(0,d.default)(f.default.mark(function T(E,I){var g,k;return f.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!E.isUsingSyncAPI||!E.isUsingSyncAPI()){j.next=8;break}return j.next=3,(0,_.default)(E,"rfc822msgid:"+I);case 3:return g=j.sent,k=g.threads,j.abrupt("return",k[0].oldGmailThreadID);case 8:return j.abrupt("return",o(E,I));case 9:case"end":return j.stop()}},T)})),t.apply(this,arguments)}function o(T,E){return u.apply(this,arguments)}function u(){return u=(0,d.default)(f.default.mark(function T(E,I){var g,k;return f.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.t0=y.default,j.t1="https://mail.google.com/mail".concat((0,S.default)(),"/"),j.t2=E.getPageCommunicator().getIkValue(),j.next=5,E.getGmailActionToken();case 5:return j.t3=j.sent,j.t4="rfc822msgid:".concat(I),j.t5={ik:j.t2,at:j.t3,ui:"2",view:"tl",start:"0",num:"1",rt:"c",search:"query",q:j.t4},j.t6={withCredentials:!0},j.t7={"content-type":"application/x-www-form-urlencoded;charset=UTF-8"},j.t8={method:"POST",url:j.t1,data:j.t5,xhrFields:j.t6,canRetry:!0,headers:j.t7},j.next=13,(0,j.t0)(j.t8);case 13:if(g=j.sent,k=(0,h.extractThreads)(g.text),k.length===1){j.next=17;break}throw new Error("Failed to find gmail thread id for rfc message id. Message may not exist in user's account.");case 17:return j.abrupt("return",k[0].gmailThreadId);case 18:case"end":return j.stop()}},T)})),u.apply(this,arguments)}var n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/regenerator")),d=s(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),m=e("ud"),h=e("../dom-driver/gmail/gmail-response-processor"),_=s(e("./getSyncThreadsForSearch")),y=s(e("./gmailAjax")),S=s(e("./getAccountUrlPart")),v=(0,m.defn)(l,a);i.default=v},{"../dom-driver/gmail/gmail-response-processor":700,"./getAccountUrlPart":831,"./getSyncThreadsForSearch":835,"./gmailAjax":837,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,ud:625}],834:[function(e,l,i){"use strict";function a(h,_){return t.apply(this,arguments)}function t(){return t=(0,s.default)(n.default.mark(function h(_,y){var S,v,T,E,I,g,k;return n.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return S={ik:_.getPageCommunicator().getIkValue(),view:"om"},y.oldGmailMessageID?S.th=y.oldGmailMessageID:y.syncMessageID&&(S.permmsgid=y.syncMessageID),T=document.location.pathname.match(/\/b\/(.+?)\/u\/(\d+)/),T?v=document.location.origin+document.location.pathname:(E=document.location.pathname.match(/(\/u\/\d+)\//i),I=E?E[1]:"/u/0",v="https://mail.google.com/mail".concat(I)),j.next=6,(0,d.default)({url:v,method:"GET",canRetry:!0,data:S});case 6:return g=j.sent,k=g.text,j.abrupt("return",k);case 9:case"end":return j.stop()}},h)})),t.apply(this,arguments)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),f=e("ud"),d=u(e("./gmailAjax")),m=(0,f.defn)(l,a);i.default=m},{"./gmailAjax":837,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,ud:625}],835:[function(e,l,i){"use strict";function a(S,v){return t.apply(this,arguments)}function t(){return t=(0,f.default)(n.default.mark(function S(v,T){var E,I,g,k,j;return n.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return E=null,x.prev=1,x.t0=h.default,x.t1="https://mail.google.com/sync".concat((0,_.default)(),"/i/bv"),x.next=6,v.getPageCommunicator().getXsrfToken();case 6:return x.t2=x.sent,x.next=9,v.getPageCommunicator().getBtaiHeader();case 9:return x.t3=x.sent,x.t4={"Content-Type":"application/json","X-Framework-Xsrf-Token":x.t2,"X-Gmail-BTAI":x.t3,"X-Google-BTD":"1"},x.t5=(0,s.default)({1:{2:1,4:T}}),x.t6={method:"POST",url:x.t1,headers:x.t4,data:x.t5},x.next=15,(0,x.t0)(x.t6);case 15:I=x.sent,g=I.text,E=g,x.next=38;break;case 20:return x.prev=20,x.t7=x.catch(1),x.t8=h.default,x.t9="https://mail.google.com/sync".concat((0,_.default)(),"/i/bv?rt=r&pt=ji"),x.next=26,v.getPageCommunicator().getXsrfToken();case 26:return x.t10=x.sent,x.next=29,v.getPageCommunicator().getBtaiHeader();case 29:return x.t11=x.sent,x.t12={"Content-Type":"application/json","X-Framework-Xsrf-Token":x.t10,"X-Gmail-BTAI":x.t11,"X-Google-BTD":"1"},x.t13=(0,s.default)([[null,51,null,T]]),x.t14={method:"POST",url:x.t9,headers:x.t12,data:x.t13},x.next=35,(0,x.t8)(x.t14);case 35:k=x.sent,j=k.text,E=j;case 38:return x.abrupt("return",{threads:(0,m.extractThreadsFromSearchResponse)(E),_text:E});case 39:case"end":return x.stop()}},S,null,[[1,20]])})),t.apply(this,arguments)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/core-js/json/stringify")),f=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),d=e("ud"),m=e("../dom-driver/gmail/gmail-sync-response-processor"),h=u(e("./gmailAjax")),_=u(e("./getAccountUrlPart")),y=(0,d.defn)(l,a);i.default=y},{"../dom-driver/gmail/gmail-sync-response-processor":701,"./getAccountUrlPart":831,"./gmailAjax":837,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,ud:625}],836:[function(e,l,i){"use strict";function a(_,y){return t.apply(this,arguments)}function t(){return t=(0,s.default)(n.default.mark(function _(y,S){var v,T,E;return n.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return v=y.getPageCommunicator().getIkValue(),I.next=3,(0,d.default)(v,S);case 3:if(T=I.sent,E=(0,m.extractGmailThreadIdFromMessageIdSearch)(T)){I.next=7;break}throw new Error("Failed to find thread id for given message id");case 7:return I.abrupt("return",E);case 8:case"end":return I.stop()}},_)})),t.apply(this,arguments)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),f=e("ud"),d=u(e("./requestGmailThread")),m=e("../dom-driver/gmail/gmail-response-processor"),h=(0,f.defn)(l,a);i.default=h},{"../dom-driver/gmail/gmail-response-processor":700,"./requestGmailThread":840,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,ud:625}],837:[function(e,l,i){"use strict";function a(w,C){var O=n(w);if(s){var V=s(w);C&&(V=V.filter(function(R){return f(w,R).enumerable})),O.push.apply(O,V)}return O}function t(w){for(var C=1;C<arguments.length;C++){var O=arguments[C]!=null?arguments[C]:{};C%2?a(Object(O),!0).forEach(function(V){(0,S.default)(w,V,O[V])}):d?m(w,d(O)):a(Object(O)).forEach(function(V){h(w,V,f(O,V))})}return w}function o(w){return u.apply(this,arguments)}function u(){return u=(0,v.default)(y.default.mark(function w(C){return y.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(/^https:\/\/mail\.google\.com(?:$|\/)/.test(C.url)){O.next=2;break}throw new Error("Should not happen: gmailAjax called with non-gmail url");case 2:if(document.location.origin!=="https://mail.google.com"){O.next=6;break}return O.next=5,x(C);case 5:return O.abrupt("return",O.sent);case 6:return O.prev=6,O.next=9,x(t(t({},C),{},{canRetry:!1}));case 9:return O.abrupt("return",O.sent);case 12:if(O.prev=12,O.t0=O.catch(6),!O.t0||O.t0.status!==0){O.next=27;break}return O.prev=15,O.next=18,E.default.fromPromise((0,I.default)("https://mail.google.com/mail/u/0/")).merge(E.default.later(j,void 0)).take(1).takeErrors(1).toPromise();case 18:O.next=22;break;case 20:O.prev=20,O.t1=O.catch(15);case 22:return O.next=24,x(C);case 24:return O.abrupt("return",O.sent);case 27:if(!(O.t0&&typeof O.t0.status=="number"&&O.t0.status>=500)){O.next=33;break}return O.next=30,x(C);case 30:return O.abrupt("return",O.sent);case 33:throw O.t0;case 34:case"end":return O.stop()}},w,null,[[6,12],[15,20]])})),u.apply(this,arguments)}var n=e("@babel/runtime-corejs2/core-js/object/keys"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),m=e("@babel/runtime-corejs2/core-js/object/define-properties"),h=e("@babel/runtime-corejs2/core-js/object/define-property"),_=e("@babel/runtime-corejs2/helpers/interopRequireDefault");h(i,"__esModule",{value:!0}),i.default=void 0;var y=_(e("@babel/runtime-corejs2/regenerator")),S=_(e("@babel/runtime-corejs2/helpers/defineProperty")),v=_(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),T=e("ud"),E=_(e("kefir")),I=_(e("../lib/imageRequest")),g=_(e("../../common/rate-limit-queuer")),k=_(e("../../common/ajax")),j=6e4,x=(0,g.default)((0,g.default)(k.default,1e3,7),1e4,50),A=(0,T.defn)(l,o);i.default=A},{"../../common/ajax":634,"../../common/rate-limit-queuer":649,"../lib/imageRequest":884,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,kefir:327,ud:625}],838:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=e("ud"),u=t(e("../../common/rate-limit-queuer")),n=t(e("../../common/ajax")),s=(0,o.defn)(l,(0,u.default)(n.default,1e3,7)),f=s;i.default=f},{"../../common/ajax":634,"../../common/rate-limit-queuer":649,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,ud:625}],839:[function(e,l,i){"use strict";function a(t,o,u,n){var s=t.querySelector(".inboxsdk__button_icon");s||(s=document.createElement("div"),s.classList.add("inboxsdk__button_icon"),s.appendChild(o)),u?t.appendChild(s):t.insertBefore(t,n||t.firstElementChild)}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],840:[function(e,l,i){"use strict";function a(y,S){return t.apply(this,arguments)}function t(){return t=(0,s.default)(n.default.mark(function y(S,v){var T,E,I;return n.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return T={ui:2,ik:S,view:"cv",th:v,pcd:1,mb:0,rt:"c",search:"inbox",type:v},g.next=3,(0,m.default)({method:"POST",url:"https://mail.google.com/mail".concat((0,h.default)(),"?").concat(d.default.stringify(T)),canRetry:!0});case 3:return E=g.sent,I=E.text,g.abrupt("return",I);case 6:case"end":return g.stop()}},y)})),t.apply(this,arguments)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=void 0;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),f=e("ud"),d=u(e("querystring")),m=u(e("./gmailAjax")),h=u(e("./getAccountUrlPart")),_=(0,f.defn)(l,a);i.default=_},{"./getAccountUrlPart":831,"./gmailAjax":837,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,querystring:579,ud:625}],841:[function(e,l,i){(function(a){(function(){"use strict";function t(N){var K=o();return function(){var U,F=(0,I.default)(N);if(K){var Z=(0,I.default)(this).constructor;U=u(F,arguments,Z)}else U=F.apply(this,arguments);return(0,E.default)(this,U)}}function o(){if(typeof Reflect=="undefined"||!u||u.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!0}catch(N){return!1}}var u=e("@babel/runtime-corejs2/core-js/reflect/construct"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/core-js/date/now")),d=s(e("@babel/runtime-corejs2/core-js/object/keys")),m=s(e("@babel/runtime-corejs2/core-js/json/stringify")),h=s(e("@babel/runtime-corejs2/helpers/extends")),_=s(e("@babel/runtime-corejs2/helpers/slicedToArray")),y=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),S=s(e("@babel/runtime-corejs2/helpers/createClass")),v=s(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),T=s(e("@babel/runtime-corejs2/helpers/inherits")),E=s(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),I=s(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),g=s(e("@babel/runtime-corejs2/helpers/defineProperty")),k=s(e("lodash/flatMap")),j=s(e("lodash/sortBy")),x=s(e("classnames")),A=s(e("kefir")),w=s(e("kefir-stopper")),C=s(e("react")),O=s(e("react-draggable-list")),V=s(e("react-smooth-collapse")),R=(s(e("../../../common/get-or-fail")),s(e("../../lib/idMap"))),P=s(e("../../lib/react/ElementContainer")),B={stiffness:400,damping:50},z=function(N){function K(F){var Z;return(0,y.default)(this,K),Z=U.call(this,F),(0,g.default)((0,v.default)(Z),"_list",void 0),(0,g.default)((0,v.default)(Z),"_main",void 0),(0,g.default)((0,v.default)(Z),"_stopper",(0,w.default)()),Z.state={expansionSettings:Z._readExpansionSettings()},Z}(0,T.default)(K,N);var U=t(K);return(0,S.default)(K,[{key:"componentDidMount",value:function(){var F=this;A.default.fromEvents(window,"storage").filter(function(Z){return Z.key==="inboxsdk__sidebar_expansion_settings"}).takeUntilBy(this._stopper).onValue(function(){F.setState({expansionSettings:F._readExpansionSettings()})})}},{key:"componentWillUnmount",value:function(){this._stopper.destroy()}},{key:"scrollPanelIntoView",value:function(F){var Z=arguments.length>1&&arguments[1]!==void 0&&arguments[1],$=this._list.getItemInstance(F),ne=this.props.container;$.scrollIntoView(Z,ne&&ne())}},{key:"closePanel",value:function(F){var Z=this.props.panels.find(function($){return $.instanceId===F});Z&&this._expandedToggle(Z.appId,Z.id,!1)}},{key:"openPanel",value:function(F){var Z=this.props.panels.find(function($){return $.instanceId===F});Z&&this._expandedToggle(Z.appId,Z.id,!0)}},{key:"shouldComponentUpdate",value:function(F,Z){return this.props.panels!==F.panels||this.state.expansionSettings!==Z.expansionSettings}},{key:"_expandedToggle",value:function(F,Z,$){var ne=this._readExpansionSettings();Object.prototype.hasOwnProperty.call(ne.apps,F)||(ne.apps[F]={ids:{}}),ne.apps[F].ids[Z]={lastUse:(0,f.default)(),expanded:$},this.setState({expansionSettings:ne},this.props.onExpandedToggle),this._saveExpansionSettings(ne)}},{key:"_readExpansionSettings",value:function(){var F;try{F=JSON.parse(a.localStorage.getItem("inboxsdk__sidebar_expansion_settings")||"null")}catch(Z){console.error("Failed to read sidebar settings",Z)}return F||{apps:{}}}},{key:"_saveExpansionSettings",value:function(F){var Z=(0,k.default)((0,d.default)(F.apps),function($){return(0,d.default)(F.apps[$].ids).map(function(ne){return[$,ne]})});Z.length>200&&(0,j.default)(Z,function($){var ne=(0,_.default)($,2),H=ne[0],X=ne[1];return F.apps[H].ids[X].lastUse}).slice(0,Z.length-200).forEach(function($){var ne=(0,_.default)($,2),H=ne[0],X=ne[1];delete F.apps[H].ids[X],(0,d.default)(F.apps[H].ids).length===0&&delete F.apps[H]});try{a.localStorage.setItem("inboxsdk__sidebar_expansion_settings",(0,m.default)(F))}catch($){console.error("Failed to save sidebar settings",$)}}},{key:"render",value:function(){var F=this,Z=this.state.expansionSettings,$=this.props,ne=$.panels,H=$.onClose,X=$.onOutsideClick,oe=$.onMoveEnd,Y=$.container,se=ne.length>1,ie=ne.length===1&&ne[0].hideTitleBar,L=ne.map(function(G){var le=Object.prototype.hasOwnProperty.call(Z.apps,G.appId)?Z.apps[G.appId]:null,pe=le?le.ids[G.id]:null,we=!pe||pe.expanded;return{panelDescriptor:G,showControls:se,expanded:we,onExpandedToggle:function(ye){F._expandedToggle(G.appId,G.id,ye)}}});return C.default.createElement("div",{className:(0,x.default)((0,R.default)("app_sidebar"),(0,g.default)({},(0,R.default)("hideTitleBar"),ie))},C.default.createElement("div",{className:(0,R.default)("app_sidebar_main"),ref:function(G){G&&(F._main=G)}},C.default.createElement("div",{className:(0,R.default)("app_sidebar_content_area")},C.default.createElement(O.default,{padding:0,ref:function(G){G&&(F._list=G)},itemKey:function(G){return G.panelDescriptor.instanceId},template:Q,list:L,onMoveEnd:function(G,le,pe,we){oe(G.map(function(ye){return ye.panelDescriptor}),le.panelDescriptor,pe,we)},springConfig:B,container:Y||function(){return F._main}})),X&&C.default.createElement("div",{className:(0,R.default)("app_sidebar_content_area_padding"),onClick:function(G){G.preventDefault(),X()}})),H&&C.default.createElement("button",{className:"inboxsdk__close_button",type:"button",title:"Close",onClick:H}))}}]),K}(C.default.Component);i.default=z;var Q=function(N){function K(){var F;(0,y.default)(this,K);for(var Z=arguments.length,$=new Array(Z),ne=0;ne<Z;ne++)$[ne]=arguments[ne];return F=U.call.apply(U,[this].concat($)),(0,g.default)((0,v.default)(F),"_el",void 0),F}(0,T.default)(K,N);var U=t(K);return(0,S.default)(K,[{key:"scrollIntoView",value:function(F,Z){if(F&&Z){var $=this._el.parentElement;$&&Z.scrollTo({top:$.offsetTop,behavior:"smooth"})}else this._el.scrollIntoView({behavior:"smooth"})}},{key:"getDragHeight",value:function(){return 40}},{key:"componentDidMount",value:function(){(!this.props.item.showControls||this.props.item.expanded)&&document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelActivated",{bubbles:!0,cancelable:!1,detail:{instanceId:this.props.item.panelDescriptor.instanceId}}))}},{key:"componentDidUpdate",value:function(F){var Z=!F.item.showControls||F.item.expanded,$=!this.props.item.showControls||this.props.item.expanded;!Z&&$?document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelActivated",{bubbles:!0,cancelable:!1,detail:{instanceId:this.props.item.panelDescriptor.instanceId}})):Z&&!$&&document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelDeactivated",{bubbles:!0,cancelable:!1,detail:{instanceId:this.props.item.panelDescriptor.instanceId}}))}},{key:"shouldComponentUpdate",value:function(F){return this.props.itemSelected!==F.itemSelected||this.props.item.panelDescriptor!==F.item.panelDescriptor||this.props.item.showControls!==F.item.showControls||this.props.item.expanded!==F.item.expanded}},{key:"render",value:function(){var F,Z=this,$=this.props,ne=$.dragHandleProps,H=$.itemSelected,X=$.item,oe=X.panelDescriptor,Y=oe.title,se=oe.appName,ie=oe.iconClass,L=oe.iconUrl,G=oe.el,le=X.showControls,pe=X.expanded,we=X.onExpandedToggle,ye=.01*H+1,W=4*H;return C.default.createElement("div",{ref:function(te){te&&(Z._el=te)},className:(0,x.default)((0,R.default)("app_sidebar_content_panel"),(F={},(0,g.default)(F,(0,R.default)("dragged"),H>.2),(0,g.default)(F,(0,R.default)("expanded"),pe),(0,g.default)(F,(0,R.default)("showControls"),le),F)),style:{transform:ye===1?"none":"scale(".concat(ye,")"),boxShadow:W===0?"none":"0px 0px ".concat(W,"px 0px rgba(0, 0, 0, 0.3)")}},C.default.createElement("div",{className:(0,R.default)("app_sidebar_content_panel_top_line"),"data-app-name":se},C.default.createElement("span",(0,h.default)({className:(0,R.default)("app_sidebar_content_panel_title")},le?ne:null),C.default.createElement("div",{className:(0,R.default)("app_sidebar_content_panel_grip")}),C.default.createElement("span",{className:(0,R.default)("app_sidebar_content_panel_title_icon_container")},C.default.createElement("span",{className:(0,x.default)((0,R.default)("app_sidebar_content_panel_title_icon"),ie)},L&&C.default.createElement("img",{src:L}))),C.default.createElement("span",{className:(0,R.default)("app_sidebar_content_panel_title_text")},Y)),C.default.createElement("span",{className:(0,R.default)("app_sidebar_content_panel_toggle"),onClick:function(){return we(!pe)}},C.default.createElement("button",{type:"button",className:(0,R.default)("app_sidebar_content_panel_toggle_button")}))),C.default.createElement(V.default,{expanded:!le||pe,heightTransition:".15s ease"},C.default.createElement(P.default,{className:(0,R.default)("app_sidebar_content_panel_content"),el:G})))}}]),K}(C.default.Component)}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../common/get-or-fail":642,"../../lib/idMap":883,"../../lib/react/ElementContainer":896,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/extends":40,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,"@babel/runtime-corejs2/helpers/slicedToArray":53,classnames:104,kefir:327,"kefir-stopper":326,"lodash/flatMap":487,"lodash/sortBy":519,react:606,"react-draggable-list":588,"react-smooth-collapse":603}],842:[function(e,l,i){(function(a){(function(){"use strict";var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/core-js/date/now")),n=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),s=o(e("@babel/runtime-corejs2/helpers/createClass")),f=o(e("@babel/runtime-corejs2/helpers/defineProperty")),d=e("ud"),m=(o(e("auto-html")),o(e("kefir"))),h=o(e("kefir-bus")),_=(o(e("kefir-stopper")),o(e("../../lib/delay-asap"))),y=o(e("../../lib/idMap")),S=o(e("../../lib/dom/querySelectorOrFail")),v=function(){function E(I,g,k,j){var x=this;(0,n.default)(this,E),(0,f.default)(this,"_driver",void 0),(0,f.default)(this,"_stopper",void 0),(0,f.default)(this,"_eventStream",(0,h.default)()),(0,f.default)(this,"_isActive",!1),(0,f.default)(this,"_instanceId","".concat((0,u.default)(),"-").concat(Math.random())),(0,f.default)(this,"_sidebarId",void 0),(0,f.default)(this,"_isGlobal",void 0),this._driver=I,this._sidebarId=k,this._isGlobal=Boolean(j),this._stopper=this._eventStream.ignoreValues().beforeEnd(function(){return null}).toProperty();var A=a.document;this._eventStream.plug(m.default.fromEvents(A.body,"inboxsdkSidebarPanelActivated").filter(function(R){return R.detail.instanceId===x._instanceId}).map(function(){return x._isActive=!0,{eventName:"activate"}})),this._eventStream.plug(m.default.fromEvents(A.body,"inboxsdkSidebarPanelDeactivated").filter(function(R){return R.detail.instanceId===x._instanceId}).map(function(){return x._isActive=!1,{eventName:"deactivate"}}));var w,C=(0,_.default)().toProperty().onValue(function(){}),O=!1,V=(0,S.default)(A.body,"."+(0,y.default)("app_sidebar_waiting_platform"));g.flatMap(function(R){return C.map(function(){return R})}).takeUntilBy(this._stopper).onValue(function(R){var P=R.el,B=R.iconUrl,z=R.iconClass,Q=R.title,N=R.orderHint,K=R.id,U=R.hideTitleBar,F=R.appIconUrl,Z=R.primaryColor,$=R.secondaryColor;w=R.appName||I.getOpts().appName||R.title,A.body.contains(P)||V.appendChild(P);var ne=O?"inboxsdkUpdateSidebarPanel":"inboxsdkNewSidebarPanel";O=!0,P.dispatchEvent(new CustomEvent(ne,{bubbles:!0,cancelable:!1,detail:{appIconUrl:F||x._driver.getOpts().appIconUrl||B,appId:x._driver.getAppId(),appName:w,hideTitleBar:Boolean(U),iconClass:z,iconUrl:B,id:String(K||Q),instanceId:x._instanceId,isGlobal:j,orderHint:typeof N=="number"?N:0,primaryColor:Z||x._driver.getOpts().primaryColor,secondaryColor:$||x._driver.getOpts().secondaryColor,sidebarId:x._sidebarId,title:Q}}))}),this._stopper.onValue(function(){O&&A.body.dispatchEvent(new CustomEvent("inboxsdkRemoveSidebarPanel",{bubbles:!0,cancelable:!1,detail:{appName:w,sidebarId:x._sidebarId,instanceId:x._instanceId}}))})}return(0,s.default)(E,[{key:"getStopper",value:function(){return this._stopper}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"scrollIntoView",value:function(){document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelScrollIntoView",{bubbles:!0,cancelable:!1,detail:{instanceId:this._instanceId,sidebarId:this._sidebarId}}))}},{key:"close",value:function(){document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelClose",{bubbles:!0,cancelable:!1,detail:{instanceId:this._instanceId,isGlobal:this._isGlobal,sidebarId:this._sidebarId}}))}},{key:"open",value:function(){document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelOpen",{bubbles:!0,cancelable:!1,detail:{instanceId:this._instanceId,isGlobal:this._isGlobal,sidebarId:this._sidebarId}}))}},{key:"isActive",value:function(){return this._isActive}},{key:"remove",value:function(){this._eventStream.end()}}]),E}(),T=(0,d.defn)(l,v);i.default=T}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../lib/delay-asap":851,"../../lib/dom/querySelectorOrFail":869,"../../lib/idMap":883,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"auto-html":89,kefir:327,"kefir-bus":324,"kefir-stopper":326,ud:625}],843:[function(e,l,i){"use strict";function a(u,n,s){var f=document.createElement("div");return f.classList.add("inboxsdk__button_icon"),f.innerHTML="&nbsp;",n?u.appendChild(f):u.insertBefore(f,s||u.firstElementChild),f}function t(u,n,s,f){var d=a(n,s,f);d.innerHTML="";var m=document.createElement("img");return m.classList.add("inboxsdk__button_iconImg"),m.src=u,d.appendChild(m),d}function o(u,n,s,f,d,m,h){if(s&&m)throw new Error("append and insertBeforeEl should not be used together");if(h&&(f||d))throw new Error("iconHtml can not be used together with iconClass or iconUrl");h?(u.iconHtmlElement||(u.iconHtmlElement=a(n,s,m)),u.iconHtmlElement.innerHTML=h,u.iconImgElement&&(u.iconImgElement.remove(),u.iconImgElement=null),u.iconElement&&(u.iconElement.remove(),u.iconElement=null)):d?(u.iconImgElement?u.iconImgElement.firstElementChild.src=d:u.iconImgElement=t(d,n,s,m),u.iconImgElement.setAttribute("class","inboxsdk__button_icon ".concat(f||"")),u.iconHtmlElement&&(u.iconHtmlElement.remove(),u.iconHtmlElement=null),u.iconElement&&(u.iconElement.remove(),u.iconElement=null)):f?(u.iconElement||(u.iconElement=a(n,s,m)),u.iconElement.setAttribute("class","inboxsdk__button_icon "+f),u.iconHtmlElement&&(u.iconHtmlElement.remove(),u.iconHtmlElement=null),u.iconImgElement&&(u.iconImgElement.remove(),u.iconImgElement=null)):(u.iconElement&&(u.iconElement.remove(),u.iconElement=null),u.iconHtmlElement&&(u.iconHtmlElement.remove(),u.iconHtmlElement=null),u.iconImgElement&&(u.iconImgElement.remove(),u.iconImgElement=null))}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=o},{"@babel/runtime-corejs2/core-js/object/define-property":11}],844:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=t(e("./logger")),f=function(){function d(m){(0,o.default)(this,d),(0,n.default)(this,"_name",void 0),(0,n.default)(this,"_runCount",0),(0,n.default)(this,"_errorLogs",[]),(0,n.default)(this,"_hasReported",!1),this._name=m}return(0,u.default)(d,[{key:"run",value:function(m,h){if(this._hasReported)throw new Error("Has already reported");this._runCount++;try{return h()}catch(_){return this._errorLogs.push({name:m,message:_.message}),null}}},{key:"report",value:function(m){if(this._hasReported)throw new Error("Has already reported");this._hasReported=!0,this._errorLogs.length&&s.default.error(new Error("Error Collector: ".concat(this._name)),{errorLogs:this._errorLogs,extra:m()})}},{key:"getErrorLogs",value:function(){return this._errorLogs}},{key:"runCount",value:function(){return this._runCount}},{key:"errorCount",value:function(){return this._errorLogs.length}}]),d}();i.default=f},{"./logger":892,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],845:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/weak-map")),u=t(e("@babel/runtime-corejs2/core-js/map")),n=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),s=t(e("@babel/runtime-corejs2/helpers/createClass")),f=t(e("@babel/runtime-corejs2/helpers/defineProperty")),d=function(){function m(h){(0,n.default)(this,m),(0,f.default)(this,"_mappers",void 0),(0,f.default)(this,"_map",new o.default),this._mappers=new u.default(h)}return(0,s.default)(m,[{key:"get",value:function(h){var _=this._map.get(h);if(!_){var y=this._mappers.get(h.constructor);if(!y)throw new Error("Unknown class ".concat(h.constructor.name));_=y(h),this._map.set(h,_)}return _}}]),m}();i.default=d},{"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],846:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=t(e("contain-by-screen")),f=t(e("kefir")),d=t(e("kefir-bus")),m=t(e("kefir-stopper")),h=t(e("./fromEventsWithOptions")),_=function(){function y(S,v,T){(0,o.default)(this,y),(0,n.default)(this,"_manualRepositions",(0,d.default)()),(0,n.default)(this,"_stopper",(0,m.default)()),f.default.merge([this._manualRepositions,f.default.fromEvents(window,"resize"),(0,h.default)(window,"scroll",{capture:!0,passive:!0}).filter(function(E){return E.target.contains(v)})]).toProperty(function(){return null}).takeUntilBy(this._stopper).onValue(function(){(0,s.default)(S,v,T)})}return(0,u.default)(y,[{key:"reposition",value:function(){this._manualRepositions.emit(null)}},{key:"destroy",value:function(){this._stopper.destroy()}}]),y}();i.default=_},{"./fromEventsWithOptions":880,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"contain-by-screen":138,kefir:327,"kefir-bus":324,"kefir-stopper":326}],847:[function(e,l,i){"use strict";function a(f,d){return n.default.stream(function(m){function h(y){switch(y.type){case"value":var S=y.value,v=d?Array.prototype.map.call(S,d):S;_.forEach(function(x,A){var w=(x.el,x.removalStream);Array.prototype.indexOf.call(v,A)<0&&(_.delete(A),w.destroy())});for(var T=0,E=S.length;T<E;T++){var I=S[T],g=v[T];if(!_.has(g)){var k=(0,s.default)(),j={el:I,removalStream:k};_.set(g,j),m.emit(j)}}break;case"error":m.error(y.value);break;case"end":m.end()}}var _=new u.default;return f.onAny(h),function(){_.forEach(function(y){y.removalStream.destroy()}),f.offAny(h)}})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/map")),n=o(e("kefir")),s=o(e("kefir-stopper"))},{"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-stopper":326}],848:[function(e,l,i){"use strict";function a(k){if(typeof o!="function")return null;var j=new o,x=new o;return(a=function(A){return A?x:j})(k)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/core-js/date/now")),d=s(e("@babel/runtime-corejs2/core-js/object/assign")),m=s(e("@babel/runtime-corejs2/regenerator")),h=s(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),_=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),y=s(e("@babel/runtime-corejs2/helpers/createClass")),S=s(e("@babel/runtime-corejs2/helpers/defineProperty")),v=s(e("asap")),T=s(e("lodash/once")),E=function(k,j){if(!j&&k&&k.__esModule)return k;if(k===null||t(k)!=="object"&&typeof k!="function")return{default:k};var x=a(j);if(x&&x.has(k))return x.get(k);var A={},w=u&&n;for(var C in k)if(C!=="default"&&Object.prototype.hasOwnProperty.call(k,C)){var O=w?n(k,C):null;O&&(O.get||O.set)?u(A,C,O):A[C]=k[C]}return A.default=k,x&&x.set(k,A),A}(e("kefir")),I=s(e("./logger")),g=function(){function k(){(0,_.default)(this,k),(0,S.default)(this,"ajaxInterceptStream",void 0),this.ajaxInterceptStream=E.fromEvents(document,"inboxSDKajaxIntercept").map(function(j){return j.detail})}return(0,y.default)(k,[{key:"getUserEmailAddress",value:function(){var j=document.head.getAttribute("data-inboxsdk-user-email-address");if(typeof j!="string")throw new Error("should not happen");return j}},{key:"getUserLanguage",value:function(){var j=document.head.getAttribute("data-inboxsdk-user-language");if(typeof j!="string")throw new Error("should not happen");return j}},{key:"getIkValue",value:function(){var j=document.head.getAttribute("data-inboxsdk-ik-value");if(j)return j;if(window.opener){var x=window.opener.document.head.getAttribute("data-inboxsdk-ik-value");if(x)return x;throw new Error("Failed to look up parent window 'ik' value")}throw new Error("Failed to look up 'ik' value")}},{key:"isUsingSyncAPI",value:function(){return!1}},{key:"getXsrfToken",value:function(){function j(){return x.apply(this,arguments)}var x=(0,h.default)(m.default.mark(function A(){var w,C;return m.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(w=document.head.getAttribute("data-inboxsdk-xsrf-token"))){O.next=5;break}return O.abrupt("return",w);case 5:return O.next=7,this.ajaxInterceptStream.filter(function(V){return V.type==="xsrfTokenHeaderReceived"}).take(1).toPromise();case 7:if(C=document.head.getAttribute("data-inboxsdk-xsrf-token")){O.next=10;break}throw new Error("Failed to look up XSRF token");case 10:return O.abrupt("return",C);case 11:case"end":return O.stop()}},A,this)}));return j}()},{key:"getBtaiHeader",value:function(){function j(){return x.apply(this,arguments)}var x=(0,h.default)(m.default.mark(function A(){var w,C;return m.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(w=document.head.getAttribute("data-inboxsdk-btai-header"))){O.next=5;break}return O.abrupt("return",w);case 5:return O.next=7,this.ajaxInterceptStream.filter(function(V){return V.type==="btaiHeaderReceived"}).take(1).toPromise();case 7:if(C=document.head.getAttribute("data-inboxsdk-btai-header")){O.next=10;break}throw new Error("Failed to look up BTAI header");case 10:return O.abrupt("return",C);case 11:case"end":return O.stop()}},A,this)}));return j}()},{key:"resolveUrlRedirects",value:function(j){return this.pageAjax({url:j,method:"HEAD"}).then(function(x){return x.responseURL})}},{key:"pageAjax",value:function(j){var x="".concat((0,f.default)(),"-").concat(Math.random()),A=E.fromEvents(document,"inboxSDKpageAjaxDone").filter(function(w){return w.detail&&w.detail.id===x}).take(1).flatMap(function(w){if(w.detail.error){var C=(0,d.default)(new Error(w.detail.message||"Connection error"),{status:w.detail.status});return w.detail.stack&&(C.stack=w.detail.stack),E.constantError(C)}return E.constant({text:w.detail.text,responseURL:w.detail.responseURL})}).toPromise();return document.dispatchEvent(new CustomEvent("inboxSDKpageAjax",{bubbles:!1,cancelable:!1,detail:(0,d.default)({},j,{id:x})})),A}},{key:"silenceGmailErrorsForAMoment",value:function(){document.dispatchEvent(new CustomEvent("inboxSDKsilencePageErrors",{bubbles:!1,cancelable:!1,detail:null}));var j=new Error("Forgot to unsilence page errors"),x=!1,A=(0,T.default)(function(){x=!0,document.dispatchEvent(new CustomEvent("inboxSDKunsilencePageErrors",{bubbles:!1,cancelable:!1,detail:null}))});return(0,v.default)(function(){x||(I.default.error(j),A())}),A}},{key:"registerAllowedHashLinkStartTerm",value:function(j){document.dispatchEvent(new CustomEvent("inboxSDKregisterAllowedHashLinkStartTerm",{bubbles:!1,cancelable:!1,detail:{term:j}}))}}]),k}();i.default=g},{"./logger":892,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,"@babel/runtime-corejs2/regenerator":59,asap:83,kefir:327,"lodash/once":516}],849:[function(e,l,i){"use strict";function a(S,v){var T=u(S);if(n){var E=n(S);v&&(E=E.filter(function(I){return s(S,I).enumerable})),T.push.apply(T,E)}return T}function t(S){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?a(Object(T),!0).forEach(function(E){(0,_.default)(S,E,T[E])}):f?d(S,f(T)):a(Object(T)).forEach(function(E){m(S,E,s(T,E))})}return S}function o(S,v){if(!(0,y.default)(v))throw new Error("suggestions must be an array");return v.map(function(T){var E=t({},T);if(typeof E.name!="string"&&typeof E.nameHTML!="string")throw new Error("suggestion must have name or nameHTML property");if(typeof E.routeName!="string"&&typeof E.externalURL!="string"&&typeof E.searchTerm!="string"&&typeof E.onClick!="function")throw new Error("suggestion must have routeName, externalURL, searchTerm, or onClick property");if(typeof E.iconURL=="string"){var I=E.iconURL;S.getLogger().deprecationWarning('AutocompleteSearchResult "iconURL" property',"AutocompleteSearchResult.iconUrl"),E.iconUrl||(S.getOpts().REQUESTED_API_VERSION===1?E.iconUrl=I:console.error("Support for iconURL property was dropped after API version 1")),delete E.iconURL}return E})}var u=e("@babel/runtime-corejs2/core-js/object/keys"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),d=e("@babel/runtime-corejs2/core-js/object/define-properties"),m=e("@babel/runtime-corejs2/core-js/object/define-property"),h=e("@babel/runtime-corejs2/helpers/interopRequireDefault");m(i,"__esModule",{value:!0}),i.default=o;var _=h(e("@babel/runtime-corejs2/helpers/defineProperty")),y=h(e("@babel/runtime-corejs2/core-js/array/is-array"))},{"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],850:[function(e,l,i){"use strict";function a(t){if(t.length===0||/^-?[0-9]/.test(t))throw new Error("Invalid CSS selector");return t.replace(/[^a-z0-9]/g,"\\$&")}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],851:[function(e,l,i){"use strict";function a(h){if(typeof u!="function")return null;var _=new u,y=new u;return(a=function(S){return S?y:_})(h)}function t(h){return m.stream(function(_){(0,d.default)(function(){_.emit(h),_.end()})})}var o=e("@babel/runtime-corejs2/helpers/typeof"),u=e("@babel/runtime-corejs2/core-js/weak-map"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=t;var d=f(e("asap")),m=function(h,_){if(!_&&h&&h.__esModule)return h;if(h===null||o(h)!=="object"&&typeof h!="function")return{default:h};var y=a(_);if(y&&y.has(h))return y.get(h);var S={},v=n&&s;for(var T in h)if(T!=="default"&&Object.prototype.hasOwnProperty.call(h,T)){var E=v?s(h,T):null;E&&(E.get||E.set)?n(S,T,E):S[T]=h[T]}return S.default=h,y&&y.set(h,S),S}(e("kefir"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,asap:83,kefir:327}],852:[function(e,l,i){"use strict";function a(s){n.default.merge([n.default.fromEvents(s,"keypress"),n.default.fromEvents(s,"keydown"),n.default.fromEvents(s,"keyup")]).onValue(function(f){f.stopPropagation();var d=new KeyboardEvent(f.type,{bubbles:!0});(0,u.default)(d,{cancelable:{value:f.cancelable},bubbles:{value:f.bubbles},target:{value:f.target},detail:{value:f.detail},key:{value:f.key},code:{value:f.code},location:{value:f.location},ctrlKey:{value:f.ctrlKey},shiftKey:{value:f.shiftKey},altKey:{value:f.altKey},metaKey:{value:f.metaKey},repeat:{value:f.repeat},isComposing:{value:f.isComposing},charCode:{value:f.charCode},keyCode:{value:f.keyCode},which:{value:f.which}}),document.dispatchEvent(d)})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/object/define-properties")),n=o(e("kefir"))},{"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],853:[function(e,l,i){"use strict";function a(t){return function(o){var u=t(o.el);return o.removalStream.take(1).onValue(function(){u.destroy()}),u}}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],854:[function(e,l,i){"use strict";function a(S){if(typeof o!="function")return null;var v=new o,T=new o;return(a=function(E){return E?T:v})(S)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/defineProperty")),h=function(S,v){if(!v&&S&&S.__esModule)return S;if(S===null||t(S)!=="object"&&typeof S!="function")return{default:S};var T=a(v);if(T&&T.has(S))return T.get(S);var E={},I=u&&n;for(var g in S)if(g!=="default"&&Object.prototype.hasOwnProperty.call(S,g)){var k=I?n(S,g):null;k&&(k.get||k.set)?u(E,g,k):E[g]=S[g]}return E.default=S,T&&T.set(S,E),E}(e("kefir")),_=s(e("kefir-bus")),y=function(){function S(v){(0,f.default)(this,S),(0,m.default)(this,"_eventStream",(0,_.default)()),(0,m.default)(this,"_element",void 0),this._element=v,this._setupEventStream()}return(0,d.default)(S,[{key:"destroy",value:function(){this._element.remove(),this._eventStream.end()}},{key:"getElement",value:function(){return this._element}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"activate",value:function(){}},{key:"deactivate",value:function(){}},{key:"_setupEventStream",value:function(){var v=h.fromEvents(this._element,"click");v.onValue(function(T){T.stopPropagation(),T.preventDefault()}),this._eventStream.plug(v.map(function(T){return{eventName:"click",domEvent:T}}))}}]),S}();i.default=y},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,"kefir-bus":324}],855:[function(e,l,i){"use strict";function a(f,d,m){var h={};m.forEach(function(S){var v,T=f.getAttribute(S);h[S]=T==null?null:(v=o(T))!==null&&v!==void 0?v:T});for(var _=0;_<d.length;_++){var y=d[_];if(t(h,y,m))return y}return null}function t(f,d,m){for(var h=0;h<m.length;h++){var _,y=m[h],S=d.getAttribute(y),v=S==null?null:(_=o(S))!==null&&_!==void 0?_:S;if(v>f[y])return!0;if(v<f[y])return!1}return!1}function o(f){var d=(0,s.default)(f);return!isNaN(d)&&isFinite(d)?d:null}var u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=a;var s=n(e("@babel/runtime-corejs2/core-js/parse-float"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-float":22,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],856:[function(e,l,i){"use strict";function a(m){return m.startContainer===m.endContainer&&m.startOffset===m.endOffset}function t(m,h){return h.contains(m.startContainer)||h.contains(m.endContainer)}function o(m,h){return!a(m)&&t(m,h)}function u(m,h){var _=document.getSelection();return d.default.toArray([_&&_.rangeCount?_.getRangeAt(0):null,h],d.default.compose(d.default.keep(),d.default.filter(function(y){return o(y,m)}),d.default.map(function(y){return y.toString()}),d.default.take(1)))[0]}function n(m,h){var _=document.getSelection();return d.default.toArray([_&&_.rangeCount?_.getRangeAt(0):null,h],d.default.compose(d.default.keep(),d.default.filter(function(y){return o(y,m)}),d.default.map(function(y){var S=document.createElement("div");return S.appendChild(y.cloneContents()),S.innerHTML}),d.default.take(1)))[0]}var s=e("@babel/runtime-corejs2/core-js/object/define-property"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");s(i,"__esModule",{value:!0}),i.getSelectedTextInElement=u,i.getSelectedHTMLInElement=n;var d=f(e("transducers.js"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"transducers.js":623}],857:[function(e,l,i){"use strict";function a(v,T){var E=s!==void 0&&v[f]||v["@@iterator"];if(!E){if(d(v)||(E=t(v))||T&&v&&typeof v.length=="number"){E&&(v=E);var I=0,g=function(){};return{s:g,n:function(){return I>=v.length?{done:!0}:{done:!1,value:v[I++]}},e:function(A){throw A},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,j=!0,x=!1;return{s:function(){E=E.call(v)},n:function(){var A=E.next();return j=A.done,A},e:function(A){x=!0,k=A},f:function(){try{j||E.return==null||E.return()}finally{if(x)throw k}}}}function t(v,T){if(v){if(typeof v=="string")return o(v,T);var E=Object.prototype.toString.call(v).slice(8,-1);return E==="Object"&&v.constructor&&(E=v.constructor.name),E==="Map"||E==="Set"?n(v):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?o(v,T):void 0}}function o(v,T){(T==null||T>v.length)&&(T=v.length);for(var E=0,I=new Array(T);E<T;E++)I[E]=v[E];return I}function u(v,T){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,I=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=y.default.toArray(Array.prototype.slice.call(v.children),y.default.compose(y.default.filter(function(k){var j,x=!1,A=a(E);try{for(A.s();!(j=A.n()).done;){var w=j.value,C=T.getAttribute(w),O=k.getAttribute(w);if(C!=null&&O!=null){x=!0;var V=void 0;if((V=isNaN((0,_.default)(C))||isNaN((0,_.default)(O))?O.localeCompare(C):(0,_.default)(O)-(0,_.default)(C))>0)return!0;if(V<0)return!1}}}catch(R){A.e(R)}finally{A.f()}return!!I&&!x}),y.default.take(1)))[0];v.insertBefore(T,g)}var n=e("@babel/runtime-corejs2/core-js/array/from"),s=e("@babel/runtime-corejs2/core-js/symbol"),f=e("@babel/runtime-corejs2/core-js/symbol/iterator"),d=e("@babel/runtime-corejs2/core-js/array/is-array"),m=e("@babel/runtime-corejs2/core-js/object/define-property"),h=e("@babel/runtime-corejs2/helpers/interopRequireDefault");m(i,"__esModule",{value:!0}),i.default=u;var _=h(e("@babel/runtime-corejs2/core-js/parse-float")),y=h(e("transducers.js")),S=["data-group-order-hint","data-order-hint","data-insertion-order-hint"]},{"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/parse-float":22,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"transducers.js":623}],858:[function(e,l,i){"use strict";function a(_){if(typeof o!="function")return null;var y=new o,S=new o;return(a=function(v){return v?S:y})(_)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=function(_,y){if(!y&&_&&_.__esModule)return _;if(_===null||t(_)!=="object"&&typeof _!="function")return{default:_};var S=a(y);if(S&&S.has(_))return S.get(_);var v={},T=u&&n;for(var E in _)if(E!=="default"&&Object.prototype.hasOwnProperty.call(_,E)){var I=T?n(_,E):null;I&&(I.get||I.set)?u(v,E,I):v[E]=_[E]}return v.default=_,S&&S.set(_,v),v}(e("ud")),d=s(e("kefir")),m=f.defn(l,function(_,y,S){if(_.focus(),_ instanceof HTMLTextAreaElement){var v=_.selectionStart;_.selectionStart<_.selectionEnd&&(_.value=_.value.substring(0,_.selectionStart)+_.value.substring(_.selectionEnd)),_.value=_.value.substring(0,v)+y+_.value.substring(v),_.selectionStart=v+y.length,_.selectionEnd=v+y.length}else{var T=null;if(_.getSelection?T=_:_.ownerDocument&&_.ownerDocument.getSelection&&(T=_.ownerDocument),T){var E=T.getSelection();if(E.getRangeAt&&E.rangeCount){var I=S||E.getRangeAt(0);I.deleteContents();var g;if(y instanceof DocumentFragment)g=y;else if(g=document.createDocumentFragment(),y instanceof HTMLElement)g.appendChild(y);else{var k=document.createElement("div");k.innerHTML=y;for(var j;j=k.firstChild;)g.appendChild(j)}var x=g.firstElementChild;I.insertNode(g);var A=document.createEvent("MouseEvents");A.initMouseEvent("mousedown",!1,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),A.preventDefault(),_.dispatchEvent(A),I.collapse(!1),E.removeAllRanges(),E.addRange(I);var w=d.default.merge([d.default.fromEvents(_,"mousedown"),d.default.fromEvents(_,"keypress")]);return d.default.fromEvents(_,"focus").takeUntilBy(w).onValue(function(){E.removeAllRanges(),E.addRange(I)}),x}}}}),h=m;i.default=h},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327,ud:625}],859:[function(e,l,i){"use strict";function a(_){if(typeof u!="function")return null;var y=new u,S=new u;return(a=function(v){return v?S:y})(_)}function t(_){return d.stream(function(y){return h&&h.bind(_,function(S){return y.emit(S),!1},"keydown")})}var o=e("@babel/runtime-corejs2/helpers/typeof"),u=e("@babel/runtime-corejs2/core-js/weak-map"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=t;var d=function(_,y){if(!y&&_&&_.__esModule)return _;if(_===null||o(_)!=="object"&&typeof _!="function")return{default:_};var S=a(y);if(S&&S.has(_))return S.get(_);var v={},T=n&&s;for(var E in _)if(E!=="default"&&Object.prototype.hasOwnProperty.call(_,E)){var I=T?s(_,E):null;I&&(I.get||I.set)?n(v,E,I):v[E]=_[E]}return v.default=_,S&&S.set(_,v),v}(e("kefir")),m=f(e("combokeys-capture")),h=typeof document!="undefined"&&new m.default(document.body,!0)},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,"combokeys-capture":137,kefir:327}],860:[function(e,l,i){"use strict";function a(S){if(typeof n!="function")return null;var v=new n,T=new n;return(a=function(E){return E?T:v})(S)}function t(S){if(!S||!S.nodeType)throw new Error("Expected element, got "+String(S));return _.stream(function(v){function T(j){if(j.nodeType===1){I.has(j)&&o(new Error("Already had removalStream for element with class "+j.className));var x=(0,y.default)();I.set(j,x);try{v.emit({el:j,removalStream:x})}catch(A){o(A)}}}function E(j){if(j.nodeType===1){var x=I.get(j);if(I.delete(j),x)try{x.destroy()}catch(A){o(A)}else o(new Error("Could not find removalStream for element with class "+j.className))}}var I=new m.default,g=!1,k=new MutationObserver(function(j){j.forEach(function(x){Array.prototype.forEach.call(x.addedNodes,T),Array.prototype.forEach.call(x.removedNodes,E)})});return(0,h.default)(function(){g||(k.observe(S,{childList:!0}),Array.prototype.slice.call(S.children).forEach(T))}),function(){g=!0,k.disconnect(),(0,h.default)(function(){I.forEach(function(j){j.destroy()})})}})}function o(S){setTimeout(function(){throw S},1)}var u=e("@babel/runtime-corejs2/helpers/typeof"),n=e("@babel/runtime-corejs2/core-js/weak-map"),s=e("@babel/runtime-corejs2/core-js/object/define-property"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),d=e("@babel/runtime-corejs2/helpers/interopRequireDefault");s(i,"__esModule",{value:!0}),i.default=t;var m=d(e("@babel/runtime-corejs2/core-js/map")),h=d(e("asap")),_=function(S,v){if(!v&&S&&S.__esModule)return S;if(S===null||u(S)!=="object"&&typeof S!="function")return{default:S};var T=a(v);if(T&&T.has(S))return T.get(S);var E={},I=s&&f;for(var g in S)if(g!=="default"&&Object.prototype.hasOwnProperty.call(S,g)){var k=I?f(S,g):null;k&&(k.get||k.set)?s(E,g,k):E[g]=S[g]}return E.default=S,T&&T.set(S,E),E}(e("kefir")),y=d(e("kefir-stopper"))},{"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,asap:83,kefir:327,"kefir-stopper":326}],861:[function(e,l,i){"use strict";function a(y){if(typeof u!="function")return null;var S=new u,v=new u;return(a=function(T){return T?v:S})(y)}function t(){var y=new d.default;return function(S){var v=y.get(S.el);return v?(v.getSize()>1&&console.warn("element is part of multiple element streams",v.getSize(),S.el),v.add(S.removalStream.flatMap(_.default)),m.never()):(v=new h.default(S.removalStream.flatMap(_.default)),v.stream.onValue(function(){y.delete(S.el)}),y.set(S.el,v),m.constant({el:S.el,removalStream:v.stream}))}}var o=e("@babel/runtime-corejs2/helpers/typeof"),u=e("@babel/runtime-corejs2/core-js/weak-map"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=t;var d=f(e("@babel/runtime-corejs2/core-js/map")),m=function(y,S){if(!S&&y&&y.__esModule)return y;if(y===null||o(y)!=="object"&&typeof y!="function")return{default:y};var v=a(S);if(v&&v.has(y))return v.get(y);var T={},E=n&&s;for(var I in y)if(I!=="default"&&Object.prototype.hasOwnProperty.call(y,I)){var g=E?s(y,I):null;g&&(g.get||g.set)?n(T,I,g):T[I]=y[I]}return T.default=y,v&&v.set(y,T),T}(e("kefir")),h=f(e("../stopper-pool")),_=f(e("../delay-asap"))},{"../delay-asap":851,"../stopper-pool":901,"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327}],862:[function(e,l,i){"use strict";function a(d){if(typeof u!="function")return null;var m=new u,h=new u;return(a=function(_){return _?h:m})(d)}function t(d){return function(m){var h=d(m.el);return h?(m.removalStream.take(1).onValue(function(){h.destroy()}),f.constant(h)):f.never()}}var o=e("@babel/runtime-corejs2/helpers/typeof"),u=e("@babel/runtime-corejs2/core-js/weak-map"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor");n(i,"__esModule",{value:!0}),i.default=t;var f=function(d,m){if(!m&&d&&d.__esModule)return d;if(d===null||o(d)!=="object"&&typeof d!="function")return{default:d};var h=a(m);if(h&&h.has(d))return h.get(d);var _={},y=n&&s;for(var S in d)if(S!=="default"&&Object.prototype.hasOwnProperty.call(d,S)){var v=y?s(d,S):null;v&&(v.get||v.set)?n(_,S,v):_[S]=d[S]}return _.default=d,h&&h.set(d,_),_}(e("kefir"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327}],863:[function(e,l,i){"use strict";function a(h){if(typeof u!="function")return null;var _=new u,y=new u;return(a=function(S){return S?y:_})(h)}function t(h,_){return m.stream(function(y){var S=new MutationObserver(function(v){y.emit(v instanceof Array?v:(0,d.default)(v))});return S.observe(h,_),function(){S.disconnect()}})}var o=e("@babel/runtime-corejs2/helpers/typeof"),u=e("@babel/runtime-corejs2/core-js/weak-map"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=t;var d=f(e("@babel/runtime-corejs2/core-js/array/from")),m=function(h,_){if(!_&&h&&h.__esModule)return h;if(h===null||o(h)!=="object"&&typeof h!="function")return{default:h};var y=a(_);if(y&&y.has(h))return y.get(h);var S={},v=n&&s;for(var T in h)if(T!=="default"&&Object.prototype.hasOwnProperty.call(h,T)){var E=v?s(h,T):null;E&&(E.get||E.set)?n(S,T,E):S[T]=h[T]}return S.default=h,y&&y.set(h,S),S}(e("kefir"))},{"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327}],864:[function(e,l,i){"use strict";function a(n,s){return(0,u.default)(n,s).flatten()}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("./make-mutation-observer-chunked-stream"))},{"./make-mutation-observer-chunked-stream":863,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],865:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("../from-event-target-capture")),u=e("ud"),n=(e("kefir"),(0,o.default)(document.body,"mouseup")),s=(0,u.defn)(l,function(d){return(0,o.default)(d,"mousedown").flatMapLatest(function(){return n.take(1).filter(function(m){return d.contains(m.target)})})}),f=s;i.default=f},{"../from-event-target-capture":879,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,ud:625}],866:[function(e,l,i){"use strict";function a(g){if(typeof _!="function")return null;var k=new _,j=new _;return(a=function(x){return x?j:k})(g)}function t(g,k){var j=d!==void 0&&g[m]||g["@@iterator"];if(!j){if(h(g)||(j=o(g))||k&&g&&typeof g.length=="number"){j&&(g=j);var x=0,A=function(){};return{s:A,n:function(){return x>=g.length?{done:!0}:{done:!1,value:g[x++]}},e:function(V){throw V},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w,C=!0,O=!1;return{s:function(){j=j.call(g)},n:function(){var V=j.next();return C=V.done,V},e:function(V){O=!0,w=V},f:function(){try{C||j.return==null||j.return()}finally{if(O)throw w}}}}function o(g,k){if(g){if(typeof g=="string")return u(g,k);var j=Object.prototype.toString.call(g).slice(8,-1);return j==="Object"&&g.constructor&&(j=g.constructor.name),j==="Map"||j==="Set"?f(g):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?u(g,k):void 0}}function u(g,k){(k==null||k>g.length)&&(k=g.length);for(var j=0,x=new Array(k);j<k;j++)x[j]=g[j];return x}function n(g){return T.merge([(0,E.default)(document,"click"),(0,E.default)(document.body,"focus")]).filter(function(k){return!k.shouldIgnore&&(k.isTrusted||!1)&&g.every(function(j){var x,A=t((0,I.default)(k.target));try{for(A.s();!(x=A.n()).done;)if(x.value===j)return!1}catch(w){A.e(w)}finally{A.f()}return!0})}).map(function(k){return{type:"outsideInteraction",cause:k}}).merge(T.fromEvents(document,"keydown").filter(function(k){return k.key?k.key==="Escape":k.which===27}).map(function(k){return k.preventDefault(),k.stopPropagation(),{type:"escape",cause:k}})).map(function(k){return k})}var s=e("@babel/runtime-corejs2/helpers/typeof"),f=e("@babel/runtime-corejs2/core-js/array/from"),d=e("@babel/runtime-corejs2/core-js/symbol"),m=e("@babel/runtime-corejs2/core-js/symbol/iterator"),h=e("@babel/runtime-corejs2/core-js/array/is-array"),_=e("@babel/runtime-corejs2/core-js/weak-map"),y=e("@babel/runtime-corejs2/core-js/object/define-property"),S=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),v=e("@babel/runtime-corejs2/helpers/interopRequireDefault");y(i,"__esModule",{value:!0}),i.default=n;var T=function(g,k){if(!k&&g&&g.__esModule)return g;if(g===null||s(g)!=="object"&&typeof g!="function")return{default:g};var j=a(k);if(j&&j.has(g))return j.get(g);var x={},A=y&&S;for(var w in g)if(w!=="default"&&Object.prototype.hasOwnProperty.call(g,w)){var C=A?S(g,w):null;C&&(C.get||C.set)?y(x,w,C):x[w]=g[w]}return x.default=g,j&&j.set(g,x),x}(e("kefir")),E=v(e("../from-event-target-capture")),I=v(e("./parentNodes"))},{"../from-event-target-capture":879,"./parentNodes":867,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/symbol":28,"@babel/runtime-corejs2/core-js/symbol/iterator":29,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327}],867:[function(e,l,i){"use strict";function a(s){return u.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,s;case 2:if(s=s.rfaAnchor||s._logicalParent||s.parentNode){f.next=0;break}case 3:case"end":return f.stop()}},n)}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/regenerator")),n=u.default.mark(a)},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59}],868:[function(e,l,i){"use strict";function a(n,s){var f=n.querySelectorAll(s);if(f.length!==1)throw new Error("Found ".concat(f.length," elements when expecting 1 using selector ").concat((0,u.default)(s)));return f[0]}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/json/stringify"))},{"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],869:[function(e,l,i){"use strict";function a(t,o){var u=t.querySelector(o);if(!u)throw new Error("Failed to find element with selector: ".concat(o));return u}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],870:[function(e,l,i){"use strict";function a(n){var s=new MouseEvent("click");(0,u.default)(s,{target:{value:n.target},detail:{value:n.detail},screenX:{value:n.screenX},screenY:{value:n.screenY},clientX:{value:n.clientX},clientY:{value:n.clientY},button:{value:n.button},buttons:{value:n.buttons},ctrlKey:{value:n.ctrlKey},shiftKey:{value:n.shiftKey},altKey:{value:n.altKey},metaKey:{value:n.metaKey}}),document.dispatchEvent(s)}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/object/define-properties"))},{"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],871:[function(e,l,i){"use strict";function a(t,o){var u="inboxsdk__".concat(t),n=document.getElementById(u);if(!o)return void(n&&n.remove());if(!n){if(n=document.createElement("style"),n.className="inboxsdk__custom",n.id=u,!document.head)throw new Error("missing head");document.head.appendChild(n)}n.textContent=o}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],872:[function(e,l,i){"use strict";function a(t,o,u){t.value=o;var n=document.createEvent("Event");n.initEvent(u),t.dispatchEvent(n)}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],873:[function(e,l,i){"use strict";function a(m){return{files:m,fileNames:(0,f.default)(m).map(function(h){return typeof h.name=="string"?h.name:void 0})}}function t(m,h){var _=a(h),y={screenX:0,screenY:0,clientX:0,clientY:0,buttons:1,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,detail:0};(0,d.default)(m,{type:"dragenter",bubbles:!0,cancelable:!1,props:y,dataTransfer:_}),(0,d.default)(m,{type:"dragover",bubbles:!0,cancelable:!1,props:y,dataTransfer:_})}function o(m,h){var _=a(h),y={screenX:0,screenY:0,clientX:0,clientY:0,buttons:1,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,detail:0};(0,d.default)(m,{type:"drop",bubbles:!0,cancelable:!1,props:y,dataTransfer:_})}function u(m,h){var _=a(h),y={screenX:0,screenY:0,clientX:0,clientY:0,buttons:1,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,detail:0};(0,d.default)(m,{type:"dragleave",bubbles:!0,cancelable:!1,props:y,dataTransfer:_}),(0,d.default)(m,{type:"dragend",bubbles:!0,cancelable:!1,props:y,dataTransfer:_})}var n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.simulateDragOver=t,i.simulateDrop=o,i.simulateDragEnd=u;var f=s(e("@babel/runtime-corejs2/core-js/array/from")),d=s(e("./trigger-relay-event"))},{"./trigger-relay-event":876,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],874:[function(e,l,i){"use strict";function a(n,s,f){(0,u.default)(n,{type:"keydown",bubbles:!0,cancelable:!0,props:{keyCode:s,charCode:f,ctrlKey:!1,metaKey:!1,altKey:!1,shiftKey:!1}}),(0,u.default)(n,{type:"keypress",bubbles:!0,cancelable:!0,props:{keyCode:s,charCode:f,ctrlKey:!1,metaKey:!1,altKey:!1,shiftKey:!1}}),(0,u.default)(n,{type:"keyup",bubbles:!0,cancelable:!0,props:{keyCode:s,charCode:f,ctrlKey:!1,metaKey:!1,altKey:!1,shiftKey:!1}})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("./trigger-relay-event"))},{"./trigger-relay-event":876,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],875:[function(e,l,i){"use strict";function a(u,n){var s=document.createEvent("MouseEvents");s.initMouseEvent(n,!0,!0,window,0,u.offsetLeft,u.offsetTop,0,0,!1,!1,!1,!1,0,null),u.dispatchEvent(s)}function t(u){a(u,"mouseover")}function o(u){a(u,"mousedown"),a(u,"mouseup"),a(u,"click"),a(u,"mouseleave"),a(u,"mouseout"),u.blur()}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a,i.simulateHover=t,i.simulateClick=o},{"@babel/runtime-corejs2/core-js/object/define-property":11}],876:[function(e,l,i){"use strict";function a(f,d){return t.apply(this,arguments)}function t(){return t=(0,s.default)(n.default.mark(function f(d,m){return n.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:d.dispatchEvent(new CustomEvent("inboxsdk_event_relay",{bubbles:!0,cancelable:!1,detail:m}));case 1:case"end":return h.stop()}},f)})),t.apply(this,arguments)}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a;var n=u(e("@babel/runtime-corejs2/regenerator")),s=u(e("@babel/runtime-corejs2/helpers/asyncToGenerator"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59}],877:[function(e,l,i){"use strict";function a(s){var f=null,d=null,m=s.split("<"),h=m[0].replace(/\u202c/g,"").trim();if(m.length>1)f=h,d=m[1].split(">")[0].replace(/\u202c/g,"").trim();else{if(!(0,n.default)(h))throw(0,u.default)(new Error("Invalid email address"),{firstPartTrimmed:h});d=h}return{name:f,emailAddress:d}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/object/assign")),n=o(e("./is-valid-email"))},{"./is-valid-email":889,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],878:[function(e,l,i){"use strict";function a(){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!1),window.dispatchEvent(t)}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],879:[function(e,l,i){"use strict";function a(d){if(typeof u!="function")return null;var m=new u,h=new u;return(a=function(_){return _?h:m})(d)}function t(d,m){return f.stream(function(h){function _(y){h.value(y)}return d.addEventListener(m,_,!0),function(){d.removeEventListener(m,_,!0)}})}var o=e("@babel/runtime-corejs2/helpers/typeof"),u=e("@babel/runtime-corejs2/core-js/weak-map"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor");n(i,"__esModule",{value:!0}),i.default=t;var f=function(d,m){if(!m&&d&&d.__esModule)return d;if(d===null||o(d)!=="object"&&typeof d!="function")return{default:d};var h=a(m);if(h&&h.has(d))return h.get(d);var _={},y=n&&s;for(var S in d)if(S!=="default"&&Object.prototype.hasOwnProperty.call(d,S)){var v=y?s(d,S):null;v&&(v.get||v.set)?n(_,S,v):_[S]=d[S]}return _.default=d,h&&h.set(d,_),_}(e("kefir"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327}],880:[function(e,l,i){"use strict";function a(m){if(typeof u!="function")return null;var h=new u,_=new u;return(a=function(y){return y?_:h})(m)}function t(m,h,_){return f.stream(function(y){return(0,d.addEventListener)(m,h,y.emit,_),function(){(0,d.removeEventListener)(m,h,y.emit,_)}})}var o=e("@babel/runtime-corejs2/helpers/typeof"),u=e("@babel/runtime-corejs2/core-js/weak-map"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor");n(i,"__esModule",{value:!0}),i.default=t;var f=function(m,h){if(!h&&m&&m.__esModule)return m;if(m===null||o(m)!=="object"&&typeof m!="function")return{default:m};var _=a(h);if(_&&_.has(m))return _.get(m);var y={},S=n&&s;for(var v in m)if(v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)){var T=S?s(m,v):null;T&&(T.get||T.set)?n(y,v,T):y[v]=m[v]}return y.default=m,_&&_.set(m,y),y}(e("kefir")),d=e("event-listener-with-options")},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/typeof":57,"event-listener-with-options":302,kefir:327}],881:[function(e,l,i){"use strict";function a(j){var x=j.querySelectorAll("[hspace=inboxsdk__chip]");return[].concat((0,m.default)((0,d.default)(x).map(function(A){return A.parentElement})),(0,m.default)((0,d.default)(j.querySelectorAll("[hspace=inboxsdk__chip_main]"))))}function t(j){return h.default.later(0).merge((0,S.default)(j,{attributes:!0,attributeFilter:["class"]})).map(function(){return!j.classList.contains("inboxsdk__ensure_link_active")}).filter(Boolean).take(1)}function o(j){var x=j.getAttribute("data-sdk-linkchip-claimed");return v===x?!j._linkChipEnhancedByThisExtension:x==null}function u(j){return!!j._linkChipEnhancedByThisExtension}function n(j){var x=j.querySelector("a");x&&(x.addEventListener("mousedown",function(w){w.stopImmediatePropagation()},!0),x.addEventListener("click",function(w){w.stopImmediatePropagation()},!0));var A=document.createElement("img");A.src=T,A.setAttribute("style","opacity: 0.55; cursor: pointer; float: right; position: relative; top: -1px;"),A.addEventListener("mousedown",function(w){j.remove()},!0),A.addEventListener("click",function(w){w.stopImmediatePropagation(),w.preventDefault()},!0),j.addEventListener("mouseenter",function(){j.appendChild(A),(0,y.default)(j,"a > span").style.textDecoration="underline"}),j.addEventListener("mouseleave",function(){A.remove(),(0,y.default)(j,"a > span").style.textDecoration="none"}),j.addEventListener("mousedown",function(w){w.preventDefault()}),j.contentEditable="false",j.setAttribute("data-sdk-linkchip-claimed",v),j._linkChipEnhancedByThisExtension=!0}var s=e("@babel/runtime-corejs2/core-js/object/define-property"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");s(i,"__esModule",{value:!0}),i.default=void 0;var d=f(e("@babel/runtime-corejs2/core-js/array/from")),m=f(e("@babel/runtime-corejs2/helpers/toConsumableArray")),h=(f(e("lodash/once")),f(e("kefir"))),_=e("ud"),y=f(e("./dom/querySelectorOrFail")),S=f(e("./dom/make-mutation-observer-chunked-stream")),v=""+Math.random(),T="https://ssl.gstatic.com/ui/v1/icons/common/x_8px.png",E=(0,_.defn)(l,function(j){try{j.getBodyElement()}catch(A){return}var x=j.getElement();t(x).takeUntilBy(j.getStopper()).onValue(function(){x.classList.add("inboxsdk__ensure_link_active"),j.getStopper().onValue(function(){x.classList.remove("inboxsdk__ensure_link_active")}),j.getEventStream().filter(function(A){return A.eventName==="bodyChanged"}).toProperty(function(){return null}).debounce(100,{immediate:!0}).takeUntilBy(j.getStopper()).onValue(function(){g(j)}),j.getEventStream().filter(function(A){return A.eventName==="presending"}).onValue(function(){k(j)})})}),I=E;i.default=I;var g=(0,_.defn)(l,function(j){a(j.getBodyElement()).filter(o).forEach(n)},"doFixing"),k=(0,_.defn)(l,function(j){a(j.getBodyElement()).filter(u).forEach(function(x){var A=x.querySelector('img[src="'.concat(T,'"]'));A&&A.remove();var w=x.querySelector("a > span");w&&(w.style.textDecoration="none")})},"doPresendFixing")},{"./dom/make-mutation-observer-chunked-stream":863,"./dom/querySelectorOrFail":869,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/toConsumableArray":56,kefir:327,"lodash/once":516,ud:625}],882:[function(e,l,i){"use strict";function a(y,S){try{y(S)}catch(v){h.default.error(v)}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/helpers/typeof")),n=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),s=o(e("@babel/runtime-corejs2/helpers/createClass")),f=o(e("@babel/runtime-corejs2/helpers/defineProperty")),d=o(e("lodash/remove")),m=o(e("asap")),h=o(e("./logger")),_=function(){function y(){(0,n.default)(this,y),(0,f.default)(this,"_targets",[]),(0,f.default)(this,"_pendingHandlers",[]),(0,f.default)(this,"_handlers",[])}return(0,s.default)(y,[{key:"registerHandler",value:function(S){var v=this;return this._pendingHandlers.indexOf(S)===-1&&(this._pendingHandlers.push(S),(0,m.default)(function(){for(var T=v._pendingHandlers.slice(),E=T.length-1;E>=0;E--){var I=T[E];v._handlers.indexOf(I)===-1&&(v._handlers.push(I),v._informHandlerOfTargets(I))}v._pendingHandlers=[]})),function(){(0,d.default)(v._pendingHandlers,function(T){return T===S}),(0,d.default)(v._handlers,function(T){return T===S})}}},{key:"addTarget",value:function(S){var v=this;this._targets.push(S),S&&(0,u.default)(S)==="object"&&typeof S.on=="function"&&S.on("destroy",function(){v.removeTarget(S)}),this._informHandlersOfTarget(S)}},{key:"removeTarget",value:function(S){(0,d.default)(this._targets,function(v){return v===S})}},{key:"dumpHandlers",value:function(){this._pendingHandlers=[],this._handlers=[]}},{key:"_informHandlerOfTargets",value:function(S){for(var v=this._targets.slice(),T=0;T<v.length;T++)a(S,v[T])}},{key:"_informHandlersOfTarget",value:function(S){for(var v=this._handlers.slice(),T=0;T<v.length;T++)a(v[T],S)}}]),y}();i.default=_},{"./logger":892,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,asap:83,"lodash/remove":518}],883:[function(e,l,i){"use strict";function a(_){var y=d.get(_);if(y!=null)return y;if(m==null){if((m=document.documentElement.getAttribute("data-map-id"))==null){var S=new f.default;S.update("PWVe"+Math.floor((0,s.default)()/36e5)+"PYiE0"),m=S.digest("hex").slice(0,16)+"",document.documentElement.setAttribute("data-map-id",m)}h=/x$/.test(m)}var v;if(h)v="idm".concat(String(m.charCodeAt(0)%10),"_").concat(_);else{var T=new f.default;T.update("4iYi29W"+_+":"+m+"jn2mPvTG"),v=T.digest("hex").slice(0,16).replace(/[0-9]/g,function(E){return String.fromCharCode("A".charCodeAt(0)+Number(E))})}return d.set(_,v),v}function t(){d.clear(),m=null}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=a,i._reset=t;var n=u(e("@babel/runtime-corejs2/core-js/map")),s=u(e("@babel/runtime-corejs2/core-js/date/now")),f=u(e("sha.js/sha256")),d=new n.default,m=null,h=!1},{"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"sha.js/sha256":617}],884:[function(e,l,i){"use strict";function a(n){return new u.default(function(s,f){var d=new Image;d.addEventListener("load",function(){return s(d)}),d.addEventListener("error",f),d.src=n})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/promise"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],885:[function(e,l,i){"use strict";function a(t){var o=/ (\d+)$/.exec(t);return o?t.slice(0,t.length-o[0].length)+" "+(Number(o[1])+1):t+" 2"}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],886:[function(e,l,i){"use strict";function a(m){f=m}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.setInjectScriptImplementation=a,i.injectScript=void 0;var u=o(e("lodash/once")),n=o(e("kefir")),s=o(e("./dom/make-mutation-observer-chunked-stream")),f=function(){window.chrome.runtime.sendMessage({type:"inboxsdk__injectPageWorld"},function(m){if(!m){var h=document.createElement("script");h.type="text/javascript",h.src=window.chrome.runtime.getURL("pageWorld.js"),document.documentElement.appendChild(h)}})},d=(0,u.default)(function(){return document.head.hasAttribute("data-inboxsdk-script-injected")||(document.head.setAttribute("data-inboxsdk-script-injected","true"),f()),n.default.later(0,null).merge((0,s.default)(document.head,{attributes:!0})).filter(function(){return document.head.hasAttribute("data-inboxsdk-user-email-address")}).take(1).map(function(){return null}).toPromise()});i.injectScript=d},{"./dom/make-mutation-observer-chunked-stream":863,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"lodash/once":516}],887:[function(e,l,i){"use strict";function a(T){if(typeof u!="function")return null;var E=new u,I=new u;return(a=function(g){return g?I:E})(T)}function t(T){var E=document.createElement("div"),I=T.iconUrl?(0,y.default)(d||(d=(0,h.default)([`
<img style="height:16px; width:16px; vertical-align: bottom; border: none;" height="16px" width="16px" src="`,`">&nbsp;
`])),T.iconUrl):"",g=(0,y.default)(m||(m=(0,h.default)([`
<div contenteditable="false" class="inboxsdk__compose_linkChip"
style="width: 396px; height: 18px; max-height: 18px; padding: 5px; color: rgb(34, 34, 34); font-family: arial; font-style: normal; font-weight: bold; font-size: 13px; cursor: default; border: 1px solid rgb(221, 221, 221); line-height: 1; background-color: rgb(245, 245, 245);" hspace="inboxsdk__chip_main">
  <a href="`,`" target="_blank" style=" display:inline-block; max-width: 366px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-height: 1.2em; text-decoration: none; cursor: pointer; padding: 1px 0; border: none; ">
    `,`
    <span dir="ltr" style="color: rgb(17, 85, 204); text-decoration: none; vertical-align: bottom;">`,`</span>
  </a>
</div>
`])),T.url,{__html:I},T.text);return E.innerHTML=g,E.children[0]}var o=e("@babel/runtime-corejs2/helpers/typeof"),u=e("@babel/runtime-corejs2/core-js/weak-map"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var d,m,h=f(e("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),_=function(T,E){if(!E&&T&&T.__esModule)return T;if(T===null||o(T)!=="object"&&typeof T!="function")return{default:T};var I=a(E);if(I&&I.has(T))return I.get(T);var g={},k=n&&s;for(var j in T)if(j!=="default"&&Object.prototype.hasOwnProperty.call(T,j)){var x=k?s(T,j):null;x&&(x.get||x.set)?n(g,j,x):g[j]=T[j]}return g.default=T,I&&I.set(T,g),g}(e("ud")),y=f(e("auto-html")),S=_.defn(l,function(T,E){T.focus();var I=t(E),g=document.createDocumentFragment();return g.appendChild(document.createTextNode("\u200B")),g.appendChild(I),g.appendChild(document.createTextNode("\u200B")),T.insertBodyHTMLAtCursor(g),T.isFullscreen()||T.isInlineReplyForm()||document.activeElement===T.getBodyElement()||(T.setMinimized(!0),T.setMinimized(!1)),T.focus(),I}),v=S;i.default=v},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/taggedTemplateLiteral":55,"@babel/runtime-corejs2/helpers/typeof":57,"auto-html":89,ud:625}],888:[function(e,l,i){"use strict";function a(m){var h=new s.default;return h.update("YlEHtGl72+c"+m),h.digest("hex")}function t(m){if(f.has(a(m)))return!0;var h=d.exec(m);if(!h)return!1;var _=h[1],y=h[2],S=new s.default;return S.update(_),S.digest("hex").slice(0,10)===y}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=t;var n=u(e("@babel/runtime-corejs2/core-js/set")),s=u(e("sha.js/sha1")),f=new n.default(["b540a2819e4b26823288046869e5577852178d69","1e9084cb394369dcdfd43cfcd84d17b78b0903dd","a9b816b86b6085eb0b80315da6b2297ff30cf7b6","5140e277522fd95ece3d540c94b97f443bcc3256","b56a2d6e6f650ed6eae78774d3b1f02d969d8485","bc6308648a588258f31f8f4b64f7c4652b6fcaac","4cb8e6bd1aab0b4b05c7f07fbe8332b842009358"]),d=/^sdk_(.{5,15})_([0-9a-f]{10})$/},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"sha.js/sha1":616}],889:[function(e,l,i){"use strict";function a(o){return o!=null&&t.test(o)}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a;var t=/^([^<>()[\]\\,;:\s"]+|".+")@[^\s<>]+$/},{"@babel/runtime-corejs2/core-js/object/define-property":11}],890:[function(e,l,i){"use strict";function a(t){return t!=null}e("@babel/runtime-corejs2/core-js/object/define-property")(i,"__esModule",{value:!0}),i.default=a},{"@babel/runtime-corejs2/core-js/object/define-property":11}],891:[function(e,l,i){"use strict";function a(s){var f=new n.default;return f.update("bdnanNrDjv"+s),f.digest("hex").slice(0,32)}function t(s){return a(s)==="f471fe7b7343b47a202437c3962cc335"}var o=e("@babel/runtime-corejs2/core-js/object/define-property"),u=e("@babel/runtime-corejs2/helpers/interopRequireDefault");o(i,"__esModule",{value:!0}),i.default=t;var n=u(e("sha.js/sha256"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"sha.js/sha256":617}],892:[function(e,l,i){(function(a){(function(){"use strict";function t(He,Qe){var Be=I(He);if(g){var Je=g(He);Qe&&(Je=Je.filter(function(_t){return k(He,_t).enumerable})),Be.push.apply(Be,Je)}return Be}function o(He){for(var Qe=1;Qe<arguments.length;Qe++){var Be=arguments[Qe]!=null?arguments[Qe]:{};Qe%2?t(Object(Be),!0).forEach(function(Je){(0,N.default)(He,Je,Be[Je])}):j?x(He,j(Be)):t(Object(Be)).forEach(function(Je){A(He,Je,k(Be,Je))})}return He}function u(){var He=typeof document!="undefined"&&document.documentElement.getAttribute("data-inboxsdk-active-app-ids")||"[]";return JSON.parse(He)}function n(He,Qe,Be,Je){if(le.push((0,Z.default)({appId:He,version:Qe.appVersion||void 0})),document.documentElement.setAttribute("data-inboxsdk-active-app-ids",(0,$.default)(u().concat([{appId:He,version:Qe.appVersion||void 0}]))),!C&&(C=Be,O=Je,pe=Qe.eventTracking,Qe.globalErrorLogging)){Error.stackTraceLimit<40&&(Error.stackTraceLimit=40),window.addEventListener("error",function(pt){pt.error&&be.error(pt.error,"Uncaught exception")}),m(window,"setTimeout",function(pt){return function(){for(var Et=arguments.length,It=new Array(Et),Qt=0;Qt<Et;Qt++)It[Qt]=arguments[Qt];return typeof It[0]=="function"&&(It[0]=d(It[0],"setTimeout callback")),pt.apply(this,It)}}),m(window,"setInterval",function(pt){return function(){for(var Et=arguments.length,It=new Array(Et),Qt=0;Qt<Et;Qt++)It[Qt]=arguments[Qt];return typeof It[0]=="function"&&(It[0]=d(It[0],"setInterval callback")),pt.apply(this,It)}});var _t=window.EventTarget&&window.EventTarget.prototype||window.Node.prototype;m(_t,"addEventListener",function(pt){return function(){for(var Et=arguments.length,It=new Array(Et),Qt=0;Qt<Et;Qt++)It[Qt]=arguments[Qt];if(typeof It[1]=="function")try{var jt=It[1].__inboxsdk_logged;jt||(jt=d(It[1],"event listener"),It[1].__inboxsdk_logged=jt),It[1]=jt}catch(Pt){console.error("Failed to error wrap function",Pt)}return pt.apply(this,It)}}),m(_t,"removeEventListener",function(pt){return function(){for(var Et=arguments.length,It=new Array(Et),Qt=0;Qt<Et;Qt++)It[Qt]=arguments[Qt];return typeof It[1]=="function"&&It[1].__inboxsdk_logged&&(It[1]=It[1].__inboxsdk_logged),pt.apply(this,It)}}),m(window,"MutationObserver",function(pt){function Et(){for(var It=arguments.length,Qt=new Array(It),jt=0;jt<It;jt++)Qt[jt]=arguments[jt];return typeof Qt[0]=="function"&&(Qt[0]=d(Qt[0],"MutationObserver callback")),pt.bind&&pt.bind.apply?new(pt.bind.apply(pt,[null].concat(Qt))):new pt(Qt[0])}return pt=pt||window.WebKitMutationObserver,Et.prototype=pt.prototype,Et})}}function s(He){var Qe=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Be=Qe?le:u();if(He){var Je=Be.slice(),_t=!1;return Je.forEach(function(pt,Et){_t||pt.appId!==He||(_t=!0,Je[Et]=o(o({},pt),{},{causedBy:!0})),(0,Z.default)(Je[Et])}),(0,Z.default)(Je)}return Be}function f(He,Qe,Be,Je){(0,Y.default)(He,Qe,{appId:Be,sentByApp:Je,appIds:s(Be),loaderVersion:C,implVersion:O,userEmailHash:V,isUsingSyncAPI:we})}function d(He,Qe){var Be=Qe?"Uncaught error in "+Qe:"Uncaught error";return function(){for(var Je=this,_t=arguments.length,pt=new Array(_t),Et=0;Et<_t;Et++)pt[Et]=arguments[Et];return be.run(function(){return He.apply(Je,pt)},Be)}}function m(He,Qe,Be){var Je=Be(He[Qe]);Je.__original=He[Qe],He[Qe]=Je}function h(He){var Qe=new ne.default;return Qe.update("inboxsdk:"+He),Qe.digest("hex")}function _(He,Qe,Be,Je){if(Je&&(0,B.default)(Je)!="object")throw new Error("properties must be object or null: "+Je);var _t={type:Qe,event:Be,timestamp:1e3*(0,U.default)(),origin:document.location.origin,sessionId:ye,emailHash:V,loaderVersion:C,implementationVersion:O,isUsingSyncAPI:we,properties:Je};Qe!="gmail"?(0,F.default)(_t,{extensionId:(0,X.default)(),appIds:s(He)}):(0,F.default)(_t,{appIds:s(null,!1)}),typeof document!="undefined"&&(ce.add(_t),document.documentElement.setAttribute("data-inboxsdk-last-event",""+(0,U.default)()))}function y(He){return(0,U.default)()+6e5>He}function S(){return v.apply(this,arguments)}function v(){return v=(0,P.default)(R.default.mark(function He(){var Qe,Be,Je;return R.default.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.next=2,(0,H.default)({url:"https://api.inboxsdk.com/api/v2/events/oauth",XMLHttpRequest:(0,L.getXMLHttpRequest)()});case 2:return Qe=_t.sent,Be=Qe.text,Je=JSON.parse(Be),y(Je.expirationDate)&&(console.warn("Got an apparently already expired token. Assuming our clock is busted..."),Je.expirationDate=(0,U.default)()+18e5),_t.abrupt("return",Je);case 7:case"end":return _t.stop()}},He)})),v.apply(this,arguments)}function T(){return E.apply(this,arguments)}function E(){return E=(0,P.default)(R.default.mark(function He(){var Qe;return R.default.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(!(Qe=Ne)||y(Qe.expirationDate)){Be.next=5;break}return Be.abrupt("return",Qe);case 5:return Be.next=7,S();case 7:return Ne=Be.sent,Be.abrupt("return",Ne);case 9:case"end":return Be.stop()}},He)})),E.apply(this,arguments)}var I=e("@babel/runtime-corejs2/core-js/object/keys"),g=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),k=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),j=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),x=e("@babel/runtime-corejs2/core-js/object/define-properties"),A=e("@babel/runtime-corejs2/core-js/object/define-property"),w=e("@babel/runtime-corejs2/helpers/interopRequireDefault");A(i,"__esModule",{value:!0}),i.hashEmail=h,i.default=void 0;var C,O,V,R=w(e("@babel/runtime-corejs2/regenerator")),P=w(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),B=w(e("@babel/runtime-corejs2/helpers/typeof")),z=w(e("@babel/runtime-corejs2/helpers/classCallCheck")),Q=w(e("@babel/runtime-corejs2/helpers/createClass")),N=w(e("@babel/runtime-corejs2/helpers/defineProperty")),K=w(e("@babel/runtime-corejs2/core-js/set")),U=w(e("@babel/runtime-corejs2/core-js/date/now")),F=w(e("@babel/runtime-corejs2/core-js/object/assign")),Z=w(e("@babel/runtime-corejs2/core-js/object/freeze")),$=w(e("@babel/runtime-corejs2/core-js/json/stringify")),ne=w(e("sha.js/sha256")),H=w(e("../../common/ajax")),X=w(e("../../common/get-extension-id")),oe=w(e("../../common/get-session-id")),Y=w(e("../../common/log-error")),se=w(e("./persistent-queue")),ie=w(e("./dom/make-mutation-observer-stream")),L=e("ext-corb-workaround"),G=w(e("./isStreakAppId")),le=[],pe=!1,we=void 0,ye=(0,oe.default)(),W=new K.default,te=function(){return typeof document=="undefined"||!document.documentElement.hasAttribute("data-inboxsdk-master-claimed")&&(document.documentElement.setAttribute("data-inboxsdk-master-claimed","true"),!0)}(),ce=new se.default("events"),je=(0,U.default)(),be=function(){function He(Qe,Be,Je,_t){var pt=this;(0,z.default)(this,He),(0,N.default)(this,"_appId",void 0),(0,N.default)(this,"_isMaster",void 0),n(Qe,Be,Je,_t),this._appId=Qe,this._isMaster=function(){return!(!pe||typeof document!="undefined"&&document.documentElement.hasAttribute("data-inboxsdk-app-logger-master-chosen"))&&(document.documentElement.setAttribute("data-inboxsdk-app-logger-master-chosen","true"),!0)}(),this._isMaster&&typeof document!="undefined"&&(document.addEventListener("inboxSDKinjectedError",function(Et){if(!(Et instanceof CustomEvent&&Et!==null&&Et!==void 0&&Et.detail))return void pt.error(new Error("Invalid inboxSDKinjectedError event"),Et);var It=Et.detail;pt.error((0,F.default)(new Error(It.message),{stack:It.stack}),It.details)}),document.addEventListener("inboxSDKinjectedEventSdkPassive",function(Et){var It=Et.detail;pt.eventSdkPassive(It.name,It.details,It.sensitive)}))}return(0,Q.default)(He,[{key:"setUserEmailAddress",value:function(Qe){V=h(Qe)}},{key:"shouldTrackEverything",value:function(){return V==="ca05afe92819df590a4196c31814fdb24050e8f49d8a41613f3d6cfb5729c785"}},{key:"setIsUsingSyncAPI",value:function(Qe){we=Qe}},{key:"run",value:function(Qe,Be){try{return Qe()}catch(Je){throw this.error(Je,Be),Je}}},{key:"error",value:function(Qe,Be){f(Qe,Be,this._appId,!1)}},{key:"errorApp",value:function(Qe,Be){f(Qe,Be,this._appId,!0)}},{key:"errorSite",value:function(Qe,Be){this._isMaster&&this.error(Qe,Be)}},{key:"eventApp",value:function(Qe,Be){_(this._appId,"app",Qe,Be)}},{key:"eventSdkActive",value:function(Qe,Be){pe&&_(this._appId,"sdkActive",Qe,Be)}},{key:"eventSdkPassive",value:function(Qe,Be,Je){Je&&!(0,G.default)(this._appId)||_(this._appId,"sdkPassive",Qe,Be)}},{key:"eventSite",value:function(Qe,Be){this._isMaster&&_(this._appId,"gmail",Qe,Be)}},{key:"deprecationWarning",value:function(Qe,Be){console.warn("InboxSDK: ".concat(Qe," is deprecated.")+(Be?" Please use ".concat(Be," instead."):""));var Je=Qe+(Be?":"+Be:"");W.has(Je)||(this.eventSdkPassive("deprecated.".concat(Qe)),W.add(Je))}},{key:"getAppLogger",value:function(){var Qe=this;return{error:function(Be,Je){return Qe.errorApp(Be,Je)},event:function(Be,Je){return Qe.eventApp(Be,Je)}}}},{key:"trackFunctionPerformance",value:function(Qe,Be,Je){var _t=this;if(Math.random()<Be&&document.visibilityState==="visible"&&this._isMaster){var pt=(0,U.default)();Qe(),setTimeout(function(){var Et=(0,U.default)();_t.eventSdkPassive("function performance result",o({value:Et-pt,timeSinceFirstLoad:Et-je},Je))},10)}else Qe()}}],[{key:"run",value:function(Qe,Be){try{return Qe()}catch(Je){throw He.error(Je,Be),Je}}},{key:"error",value:function(Qe,Be){f(Qe,Be,void 0,!1)}}]),He}();i.default=be;var Ne=null;te&&typeof document!="undefined"&&typeof MutationObserver!="undefined"&&(0,ie.default)(document.documentElement,{attributes:!0,attributeFilter:["data-inboxsdk-last-event"]}).map(function(){return null}).throttle(12e4).onValue(function(){var He=ce.removeAll();He.length!==0&&(0,P.default)(R.default.mark(function Qe(){var Be,Je,_t;return R.default.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.next=2,T();case 2:return Be=pt.sent,Je=Be.oauthToken,_t="AIzaSyAwlvUR2x3OnCeas8hW8NDzVMswL5hZGg8",pt.next=7,(0,H.default)({url:"https://pubsub.googleapis.com/v1/projects/mailfoogae/topics/events:publish?key=".concat(encodeURIComponent(_t)),method:"POST",headers:{Authorization:"Bearer ".concat(Je),"Content-Type":"application/json"},data:(0,$.default)({messages:[{data:a.from((0,$.default)({data:He,timestamp:1e3*(0,U.default)()})).toString("base64")}]})});case 7:case"end":return pt.stop()}},Qe)}))().catch(function(Qe){be.error(Qe,{type:"Failed to log events"})})})}).call(this)}).call(this,e("buffer").Buffer)},{"../../common/ajax":634,"../../common/get-extension-id":641,"../../common/get-session-id":643,"../../common/log-error":648,"./dom/make-mutation-observer-stream":864,"./isStreakAppId":891,"./persistent-queue":894,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/assign":8,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/freeze":13,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,"@babel/runtime-corejs2/regenerator":59,buffer:101,"ext-corb-workaround":305,"sha.js/sha256":617}],893:[function(e,l,i){"use strict";function a(d,m){var h=(0,n.default)(null);return(0,f.default)(d.split("/"),m.split("/")).forEach(function(_,y){var S=(0,u.default)(_,2),v=S[0],T=S[1];v[0]===":"&&(h[v.slice(1)]=decodeURIComponent(T.replace(/\+/g," ")))}),(0,s.default)(h)}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/helpers/slicedToArray")),n=o(e("@babel/runtime-corejs2/core-js/object/create")),s=o(e("@babel/runtime-corejs2/core-js/object/freeze")),f=o(e("lodash/zip"))},{"@babel/runtime-corejs2/core-js/object/create":9,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/freeze":13,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/slicedToArray":53,"lodash/zip":532}],894:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/core-js/json/stringify")),u=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(e("@babel/runtime-corejs2/helpers/createClass")),s=t(e("@babel/runtime-corejs2/helpers/defineProperty")),f=function(){function d(m){(0,u.default)(this,d),(0,s.default)(this,"_fallbackQueue",[]),(0,s.default)(this,"_sid",void 0),this._sid="inboxsdk__persistentqueue_"+m}return(0,n.default)(d,[{key:"_getSavedQueue",value:function(){var m=JSON.parse(localStorage.getItem(this._sid));return m==null&&(m=[]),m}},{key:"_putSavedQueue",value:function(m){localStorage.setItem(this._sid,(0,o.default)(m))}},{key:"_clearSavedQueue",value:function(){localStorage.removeItem(this._sid)}},{key:"add",value:function(m){var h=!1;if(typeof localStorage!="undefined")try{var _=this._getSavedQueue();_.push(m),this._putSavedQueue(_),h=!0}catch(y){}h||this._fallbackQueue.push(m)}},{key:"remove",value:function(){var m;if(typeof localStorage!="undefined")try{var h=this._getSavedQueue(),_=h.shift();this._putSavedQueue(h),m=_}catch(y){}return m===void 0&&(m=this._fallbackQueue.shift()),m}},{key:"removeAll",value:function(){var m=void 0;if(typeof localStorage!="undefined")try{var h=this._getSavedQueue();this._clearSavedQueue(),m=h}catch(_){}return m===void 0&&(m=[]),m=m.concat(this._fallbackQueue),this._fallbackQueue=[],m}},{key:"peekAll",value:function(){var m=void 0;if(typeof localStorage!="undefined")try{m=this._getSavedQueue()}catch(h){}return m===void 0&&(m=[]),m=m.concat(this._fallbackQueue)}},{key:"clear",value:function(){if(typeof localStorage!="undefined")try{this._clearSavedQueue()}catch(m){}this._fallbackQueue.length=0}}]),d}();i.default=f},{"@babel/runtime-corejs2/core-js/json/stringify":4,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],895:[function(e,l,i){"use strict";function a(s,f){var d=f||{},m=new u.default,h=s.replace(/:([^/]+)/g,function(_,y){if(y in d)return m.add(y),encodeURIComponent(String(d[y]));throw new Error("Missing param: ".concat(y))});if((0,n.default)(d).length!==m.size)throw new Error("Extra parameters given");return h}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/set")),n=o(e("@babel/runtime-corejs2/core-js/object/keys"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],896:[function(e,l,i){"use strict";function a(T){var E=t();return function(){var I,g=(0,_.default)(T);if(E){var k=(0,_.default)(this).constructor;I=o(g,arguments,k)}else I=g.apply(this,arguments);return(0,h.default)(this,I)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(T){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=n(e("react")),v=function(T){function E(){var g;(0,s.default)(this,E);for(var k=arguments.length,j=new Array(k),x=0;x<k;x++)j[x]=arguments[x];return g=I.call.apply(I,[this].concat(j)),(0,y.default)((0,d.default)(g),"props",void 0),(0,y.default)((0,d.default)(g),"_content",void 0),(0,y.default)((0,d.default)(g),"_contentRefCb",function(A){A&&(g._content=A)}),g}(0,m.default)(E,T);var I=a(E);return(0,f.default)(E,[{key:"componentDidMount",value:function(){this._content.appendChild(this.props.el)}},{key:"componentDidUpdate",value:function(g){if(g.el!==this.props.el){for(;this._content.lastElementChild;)this._content.lastElementChild.remove();this._content.appendChild(this.props.el)}}},{key:"shouldComponentUpdate",value:function(g){return this.props.className!==g.className||this.props.el!==g.el}},{key:"render",value:function(){return S.default.createElement("div",{className:this.props.className,ref:this._contentRefCb})}}]),E}(S.default.Component);i.default=v},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,react:606}],897:[function(e,l,i){"use strict";function a(n){return n.replace(/\.IDMAP_([-a-zA-Z0-9_]+)/g,function(s,f){return".".concat((0,u.default)(f))})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("./idMap"))},{"./idMap":883,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],898:[function(e,l,i){"use strict";function a(m,h){var _=(0,u.default)(m)?m:[m];return(0,s.default)(_,function(y){return h.match(d(y))})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/array/is-array")),n=o(e("lodash/memoize")),s=o(e("lodash/find")),f=o(e("lodash/escapeRegExp")),d=(0,n.default)(function(m){return new RegExp("^"+(0,f.default)(m).replace(/\/:[^/]+/g,"/([^/]+)")+"/?$")})},{"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/escapeRegExp":483,"lodash/find":484,"lodash/memoize":513}],899:[function(e,l,i){"use strict";function a(T){var E=t();return function(){var I,g=(0,_.default)(T);if(E){var k=(0,_.default)(this).constructor;I=o(g,arguments,k)}else I=g.apply(this,arguments);return(0,h.default)(this,I)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(T){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/get")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("events")),S=n(e("./logger")),v=function(T){function E(){return(0,s.default)(this,E),I.apply(this,arguments)}(0,m.default)(E,T);var I=a(E);return(0,f.default)(E,[{key:"emit",value:function(g){for(var k=arguments.length,j=new Array(k>1?k-1:0),x=1;x<k;x++)j[x-1]=arguments[x];try{return(0,d.default)((0,_.default)(E.prototype),"emit",this).apply(this,arguments)}catch(A){return S.default.error(A),!0}}}]),E}(y.default);i.default=v},{"./logger":892,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/get":41,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,events:304}],900:[function(e,l,i){"use strict";function a(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!f.getElementById("inboxsdk__shared_style")){var d=f.createElement("style");if(d.id="inboxsdk__shared_style",s.onValue(function(m){d.textContent=(0,n.default)(m)}),!f.head)throw new Error("missing head");f.head.appendChild(d)}}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("ud-kefir")),n=o(e("./rewriteCssWithIdMap")),s=(0,u.default)(l,`.inboxsdk__notransition {
  -webkit-transition: none !important;
  -moz-transition: none !important;
  -o-transition: none !important;
  -ms-transition: none !important;
  transition: none !important;
}

.inboxsdk__close_button {
  height: 24px;
  width: 24px;
  opacity: 0.7;
  position: relative;
  background: none;
  border: none;
  padding: 0;
  box-sizing: content-box;
  outline: none;
  cursor: pointer;
}
.inboxsdk__close_button:focus,
.inboxsdk__close_button:hover {
  opacity: 1;
}
.inboxsdk__close_button:focus::before {
  background-color: rgba(0, 0, 0, 0.12);
}
.inboxsdk__close_button::before {
  border-radius: 50%;
  position: absolute;
  top: -4px;
  bottom: -4px;
  left: -4px;
  right: -4px;
  padding: 4px;
  content: ' ';
}
.inboxsdk__close_button::after {
  content: ' ';
  background: url(https://www.gstatic.com/images/icons/material/system/1x/close_black_24dp.png);
  position: absolute;
  height: 24px;
  width: 24px;
  top: 0;
  left: 0;
}

.IDMAP_app_sidebar_waiting_platform {
  display: none;
}

/* drawer */

.inboxsdk__drawer_view_container {
  visibility: visible;
  direction: initial;
  position: fixed;
  height: 100vh;
  width: 100vw;
  bottom: 0;
  left: 0;
  z-index: 51;
  pointer-events: none;
}
.inboxsdk__drawer_view {
  position: absolute;
  pointer-events: auto;
  top: 0;
  bottom: 0;
  right: 0;
  width: 452px;
  font: normal normal normal normal 13px / normal 'Helvetica Neue', Helvetica,
    Arial, sans-serif;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column;
  flex-direction: column;
  background-color: #fff;
  outline: none;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.18), 0 8px 16px rgba(0, 0, 0, 0.36);
  -webkit-transform: translateX(100%);
  transform: translateX(100%);
  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.inboxsdk__drawer_view.inboxsdk__match_sidebar_content_panel_width {
  width: 300px;
}

.inboxsdk__drawer_view.inboxsdk__active {
  -webkit-transform: none;
  transform: none;
}
.inboxsdk__drawer_title_bar {
  background-color: #f5f5f5;
  border-bottom: 1px solid #e0e0e0;
  padding: 16px 20px;
  white-space: nowrap;
  display: -webkit-flex;
  display: flex;
  flex: 0 0 auto;
  -webkit-flex: 0 0 auto;
}
.inboxsdk__drawer_title_bar .inboxsdk__close_button {
  margin-right: 20px;
  -webkit-flex-shrink: 0;
  flex-shrink: 0;
}
.inboxsdk__drawer_title {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font: normal normal normal normal 20px / 24px 'Helvetica Neue', Helvetica,
    Arial, sans-serif;
}

/* backdrop */

.inboxsdk__inbox_backdrop {
  visibility: visible;
  position: fixed;
  height: 100vh;
  width: 100vw;
  bottom: 0;
  left: 0;
  z-index: 50;
  background-color: transparent;
  transition: background-color 150ms cubic-bezier(0.4, 0, 1, 1);
}
.inboxsdk__inbox_backdrop.inboxsdk__active {
  background-color: rgba(10, 10, 10, 0.6);
  transition: background-color 70ms cubic-bezier(0, 0, 0.2, 1);
}

.inboxsdk__inbox_backdrop ~ .inboxsdk__inbox_backdrop {
  opacity: 0.6;
}

/* sidebar */

.IDMAP_app_sidebar_main {
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column;
  flex-direction: column;
}

.IDMAP_app_sidebar > .inboxsdk__close_button {
  position: absolute;
  bottom: 10px;
  right: 20px;
}

.IDMAP_app_sidebar_content_area {
  width: 216px;
}

.IDMAP_app_sidebar_content_panel {
  overflow: hidden;
  font: 12px Arial, sans-serif;
  max-height: 100%;
  box-sizing: border-box;
}

.IDMAP_app_sidebar_content_panel_top_line {
  white-space: nowrap;
  display: -webkit-flex;
  display: flex;
  -moz-user-select: none;
  -webkit-user-select: none;
  user-select: none;
  cursor: default;
}

.IDMAP_app_sidebar_content_panel:not(.IDMAP_expanded)
  .IDMAP_app_sidebar_content_panel_top_line {
  border-bottom: 1px solid #ddd;
}

.IDMAP_app_sidebar_content_panel.IDMAP_showControls
  .IDMAP_app_sidebar_content_panel_top_line:hover,
.IDMAP_app_sidebar_content_panel.IDMAP_dragged
  .IDMAP_app_sidebar_content_panel_top_line {
  background: rgba(0, 0, 0, 0.03);
}

.IDMAP_app_sidebar_content_panel_title {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
}

.IDMAP_app_sidebar_content_panel.IDMAP_showControls
  .IDMAP_app_sidebar_content_panel_title {
  cursor: move;
}

.IDMAP_app_sidebar_content_panel_title_text {
  padding-left: 6px;
  vertical-align: middle;
  font: bold 13px / 40px 'Helvetica Neue', Helvetica, Arial, sans-serif;
  color: rgba(0, 0, 0, 0.87);
}

.IDMAP_app_sidebar.IDMAP_hideTitleBar
  .IDMAP_app_sidebar_content_panel_top_line {
  display: none;
}

.IDMAP_app_sidebar_content_panel.IDMAP_showControls
  .IDMAP_app_sidebar_content_panel_top_line:hover
  .IDMAP_app_sidebar_content_panel_grip {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 10px;
  height: 40px;
  background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI2cHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDYgMTIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Q29tYmluZWQgU2hhcGU8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iRkluYWxzLSoqSmFuLTkqKiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgICAgICA8ZyBpZD0iU2lkZWJhci1jbG9zZWQtQ29weSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIC0xNC4wMDAwMDApIiBmaWxsPSIjQUFBQUFBIj4gICAgICAgICAgICA8ZyBpZD0iU2lkZWJhciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwLjAwMDAwMCwgMC4wMDAwMDApIj4gICAgICAgICAgICAgICAgPGcgaWQ9IkJveC1pbmZvLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwLjAwMDAwMCwgMC4wMDAwMDApIj4gICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcmlwcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxNC41MDAwMDApIj4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMC42NjY2NjY2NjcsNS40MTY2NjY2NyBDMC42NjY2NjY2NjcsNC44NjQzODE5MiAxLjExMDUzMTQ5LDQuNDE2NjY2NjcgMS42NjY2NjY2Nyw0LjQxNjY2NjY3IEMyLjIxODk1MTQyLDQuNDE2NjY2NjcgMi42NjY2NjY2Nyw0Ljg2MDUzMTQ5IDIuNjY2NjY2NjcsNS40MTY2NjY2NyBDMi42NjY2NjY2Nyw1Ljk2ODk1MTQyIDIuMjIyODAxODQsNi40MTY2NjY2NyAxLjY2NjY2NjY3LDYuNDE2NjY2NjcgQzEuMTE0MzgxOTIsNi40MTY2NjY2NyAwLjY2NjY2NjY2Nyw1Ljk3MjgwMTg0IDAuNjY2NjY2NjY3LDUuNDE2NjY2NjcgWiBNMC42NjY2NjY2NjcsMS4yNSBDMC42NjY2NjY2NjcsMC42OTc3MTUyNSAxLjExMDUzMTQ5LDAuMjUgMS42NjY2NjY2NywwLjI1IEMyLjIxODk1MTQyLDAuMjUgMi42NjY2NjY2NywwLjY5Mzg2NDgyMiAyLjY2NjY2NjY3LDEuMjUgQzIuNjY2NjY2NjcsMS44MDIyODQ3NSAyLjIyMjgwMTg0LDIuMjUgMS42NjY2NjY2NywyLjI1IEMxLjExNDM4MTkyLDIuMjUgMC42NjY2NjY2NjcsMS44MDYxMzUxOCAwLjY2NjY2NjY2NywxLjI1IFogTTAuNjY2NjY2NjY3LDkuNTgzMzMzMzMgQzAuNjY2NjY2NjY3LDkuMDMxMDQ4NTggMS4xMTA1MzE0OSw4LjU4MzMzMzMzIDEuNjY2NjY2NjcsOC41ODMzMzMzMyBDMi4yMTg5NTE0Miw4LjU4MzMzMzMzIDIuNjY2NjY2NjcsOS4wMjcxOTgxNiAyLjY2NjY2NjY3LDkuNTgzMzMzMzMgQzIuNjY2NjY2NjcsMTAuMTM1NjE4MSAyLjIyMjgwMTg0LDEwLjU4MzMzMzMgMS42NjY2NjY2NywxMC41ODMzMzMzIEMxLjExNDM4MTkyLDEwLjU4MzMzMzMgMC42NjY2NjY2NjcsMTAuMTM5NDY4NSAwLjY2NjY2NjY2Nyw5LjU4MzMzMzMzIFogTTMuMzAwMDAwMTksMS4yNSBDMy4zMDAwMDAxOSwwLjY5NzcxNTI1IDMuNzQzODY1MDEsMC4yNSA0LjMwMDAwMDE5LDAuMjUgQzQuODUyMjg0OTQsMC4yNSA1LjMwMDAwMDE5LDAuNjkzODY0ODIyIDUuMzAwMDAwMTksMS4yNSBDNS4zMDAwMDAxOSwxLjgwMjI4NDc1IDQuODU2MTM1MzcsMi4yNSA0LjMwMDAwMDE5LDIuMjUgQzMuNzQ3NzE1NDQsMi4yNSAzLjMwMDAwMDE5LDEuODA2MTM1MTggMy4zMDAwMDAxOSwxLjI1IFogTTMuMzAwMDAwMTksNS40MTY2NjY2NyBDMy4zMDAwMDAxOSw0Ljg2NDM4MTkyIDMuNzQzODY1MDEsNC40MTY2NjY2NyA0LjMwMDAwMDE5LDQuNDE2NjY2NjcgQzQuODUyMjg0OTQsNC40MTY2NjY2NyA1LjMwMDAwMDE5LDQuODYwNTMxNDkgNS4zMDAwMDAxOSw1LjQxNjY2NjY3IEM1LjMwMDAwMDE5LDUuOTY4OTUxNDIgNC44NTYxMzUzNyw2LjQxNjY2NjY3IDQuMzAwMDAwMTksNi40MTY2NjY2NyBDMy43NDc3MTU0NCw2LjQxNjY2NjY3IDMuMzAwMDAwMTksNS45NzI4MDE4NCAzLjMwMDAwMDE5LDUuNDE2NjY2NjcgWiBNMy4zMDAwMDAxOSw5LjU4MzMzMzMzIEMzLjMwMDAwMDE5LDkuMDMxMDQ4NTggMy43NDM4NjUwMSw4LjU4MzMzMzMzIDQuMzAwMDAwMTksOC41ODMzMzMzMyBDNC44NTIyODQ5NCw4LjU4MzMzMzMzIDUuMzAwMDAwMTksOS4wMjcxOTgxNiA1LjMwMDAwMDE5LDkuNTgzMzMzMzMgQzUuMzAwMDAwMTksMTAuMTM1NjE4MSA0Ljg1NjEzNTM3LDEwLjU4MzMzMzMgNC4zMDAwMDAxOSwxMC41ODMzMzMzIEMzLjc0NzcxNTQ0LDEwLjU4MzMzMzMgMy4zMDAwMDAxOSwxMC4xMzk0Njg1IDMuMzAwMDAwMTksOS41ODMzMzMzMyBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4gICAgICAgICAgICAgICAgICAgIDwvZz4gICAgICAgICAgICAgICAgPC9nPiAgICAgICAgICAgIDwvZz4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==)
    50% center no-repeat;
}

.IDMAP_app_sidebar_content_panel_title_icon_container {
  width: 20px;
  height: 20px;
  vertical-align: middle;
  margin-left: 6px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  margin-top: -1px;
}

.IDMAP_app_sidebar_content_panel_title_icon,
.IDMAP_app_sidebar_content_panel_title_icon > img {
  width: 13px;
  height: 13px;
}

.IDMAP_app_sidebar_content_panel_toggle {
  -webkit-flex: 1;
  flex: 1;
  text-align: right;
  visibility: hidden;
}

.IDMAP_app_sidebar_content_panel.IDMAP_showControls
  .IDMAP_app_sidebar_content_panel_toggle {
  visibility: visible;
  cursor: pointer;
}

.IDMAP_app_sidebar_content_panel_toggle_button {
  margin-top: 12px;
  margin-right: 4px;
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAA30lEQVR4Ae3RO04EMRgE4Q45hlkuxWMPCwdBLNxjZQJPNBkq4U7qm9x/lyb6A0mSJEmSJEmS9NB/iXjKV57DJdd8ZmSzS34yc+cJueaemVvG/vnzSODz596ES77XUZxwzN+b8HjM5wlva/7uhI91DCes+efvPf9u5AYSTvMbfwAm9OfzhNf2fJbQn48S+vNRQn8+SujPRwn9+SjhpT+fJPTno4T+fJTQnw8T+PxyAp/fT+Dz+wl8fj+Bz28n8PnVBD6/msDnVxP4/GoCn99MYPP7xmm+JEmSJEmSJEmSfgG9E96X0mx7vAAAAABJRU5ErkJggg==)
    center / 20px no-repeat;
  border: none;
  width: 14px;
  height: 14px;
  -webkit-transform: rotate(-90deg);
  transform: rotate(-90deg);
  transition: -webkit-transform 0.15s, transform 0.15s;
  outline: none;
  opacity: 0.6;
  cursor: pointer;
}

.IDMAP_app_sidebar_content_panel_top_line:hover
  .IDMAP_app_sidebar_content_panel_toggle_button,
.IDMAP_app_sidebar_content_panel.IDMAP_dragged
  .IDMAP_app_sidebar_content_panel_top_line
  .IDMAP_app_sidebar_content_panel_toggle_button {
  opacity: 0.9;
}

.IDMAP_app_sidebar_content_panel.IDMAP_expanded
  .IDMAP_app_sidebar_content_panel_toggle_button {
  -webkit-transform: rotate(0);
  transform: rotate(0);
}

.IDMAP_app_sidebar_content_panel_content {
  margin-bottom: 25px;
}

.IDMAP_sidebar_iconArea .IDMAP_sidebar_button_container {
  position: relative;
}

.IDMAP_sidebar_iconArea .inboxsdk__button_icon:focus,
.IDMAP_sidebar_iconArea .inboxsdk__button_icon:hover {
  outline: none;
}

/* end sidebar */

/* shared parts of app id warning */

.inboxsdk__appid_warning {
  margin: 0;
  padding: 9px;
  color: #4b4b4b;
  background: #ff6c6c;
  font-size: 10pt;
}

.inboxsdk__appid_warning_main {
  display: inline-block;
  vertical-align: middle;
}

.inboxsdk__appid_warning .topline {
  font-weight: bold;
  font-size: 11pt;
}

a.inboxsdk__appid_register {
  color: white;
  display: inline-block;
  background: #1989ff;
  border-radius: 3px;
  text-decoration: none;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
  padding: 7px;
  font-size: 10pt;
  vertical-align: middle;
  margin-left: 1em;
}

.inboxsdk__thread_row_icon_wrapper {
  display: inline-block;
}

.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_iconImg {
  margin-top: 0px;
}

.IDMAP_thread_noticeBar {
  background: #f8ebc0;
  margin-bottom: 10px;
  padding: 12px 4px 6px 12px;
}
`)},{"./rewriteCssWithIdMap":897,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"ud-kefir":624}],901:[function(e,l,i){"use strict";function a(S){if(typeof o!="function")return null;var v=new o,T=new o;return(a=function(E){return E?T:v})(S)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/core-js/array/is-array")),d=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),m=s(e("@babel/runtime-corejs2/helpers/createClass")),h=s(e("@babel/runtime-corejs2/helpers/defineProperty")),_=function(S,v){if(!v&&S&&S.__esModule)return S;if(S===null||t(S)!=="object"&&typeof S!="function")return{default:S};var T=a(v);if(T&&T.has(S))return T.get(S);var E={},I=u&&n;for(var g in S)if(g!=="default"&&Object.prototype.hasOwnProperty.call(S,g)){var k=I?n(S,g):null;k&&(k.get||k.set)?u(E,g,k):E[g]=S[g]}return E.default=S,T&&T.set(S,E),E}(e("kefir")),y=function(){function S(v){var T=this;(0,d.default)(this,S),(0,h.default)(this,"_streamCount",0),(0,h.default)(this,"_ended",!1),(0,h.default)(this,"_pool",_.pool()),(0,h.default)(this,"stream",void 0),this.stream=this._pool.filter(function(){return--T._streamCount===0&&(T._ended=!0,!0)}).take(1).toProperty(),this.stream.onValue(function(){}),this.add(v)}return(0,m.default)(S,[{key:"add",value:function(v){if(this._ended)throw new Error("Tried to add a stream to a stopped StopperPool");var T=(0,f.default)(v)?v:[v];this._streamCount+=T.length,this._pool.plug(_.merge(T.map(function(E){return E.take(1)})))}},{key:"getSize",value:function(){return this._streamCount}}]),S}();i.default=y},{"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327}],902:[function(e,l,i){"use strict";function a(d){if(typeof u!="function")return null;var m=new u,h=new u;return(a=function(_){return _?h:m})(d)}function t(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6e4,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:250,_=new Error("waitFor timeout"),y=f.later(m,null).flatMap(function(){var v=d();return v?f.constant(v):(setTimeout(function(){throw _},0),f.constantError(_))}),S=Boolean;return f.later(0,null).merge(f.interval(h,null)).map(function(){return d()}).filter(S).merge(y).take(1).takeErrors(1)}var o=e("@babel/runtime-corejs2/helpers/typeof"),u=e("@babel/runtime-corejs2/core-js/weak-map"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor");n(i,"__esModule",{value:!0}),i.default=t;var f=function(d,m){if(!m&&d&&d.__esModule)return d;if(d===null||o(d)!=="object"&&typeof d!="function")return{default:d};var h=a(m);if(h&&h.has(d))return h.get(d);var _={},y=n&&s;for(var S in d)if(S!=="default"&&Object.prototype.hasOwnProperty.call(d,S)){var v=y?s(d,S):null;v&&(v.get||v.set)?n(_,S,v):_[S]=d[S]}return _.default=d,h&&h.set(d,_),_}(e("kefir"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/typeof":57,kefir:327}],903:[function(e,l,i){"use strict";function a(s){return n.default.fromESObservable((0,u.default)(s).map(function(f){var d=f.removal,m=n.default.fromPromise(d);return{el:f.value,removalStream:m}}))}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("live-set/toValueObservable")),n=o(e("kefir"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"live-set/toValueObservable":335}],904:[function(e,l,i){"use strict";function a(s){return new n.default({read:function(){throw new Error("should not happen; liveset was inactive")},listen:function(f,d){f(new u.default);var m=s.observe({value:function(h){var _=h.el,y=h.removalStream;d.add(_),y.take(1).onValue(function(){d.remove(_)})}});return function(){m.unsubscribe()}}})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/set")),n=o(e("live-set"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"live-set":332}],905:[function(e,l,i){"use strict";function a(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12e4,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:250,d=new Error("waitFor timeout");return new u.default(function(m,h){function _(){try{var S=n();S?m(S):y>=s?h(d):(y+=f,setTimeout(_,f))}catch(v){h(v)}}var y=0;setTimeout(_,1)})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=a;var u=o(e("@babel/runtime-corejs2/core-js/promise"))},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],906:[function(e,l,i){(function(a){(function(){"use strict";var t=e("@babel/runtime-corejs2/helpers/interopRequireDefault"),o=t(e("@babel/runtime-corejs2/core-js/date/now")),u=t(e("@babel/runtime-corejs2/core-js/promise"));if(!a.__InboxSDKImpLoader){var n,s=(0,o.default)(),f=!!document.querySelector('[role=banner] div[aria-label] div div a[href^="https://myaccount.google."], [role=banner]+div div[aria-label] div div a[href^="https://myaccount.google."]');try{zt!==void 0&&zt&&zt.amd&&(n=zt,zt=null);var d=e("kefir"),m=new u.default(function(h,_){document.readyState==="complete"||document.readyState==="interactive"?h():h(d.merge([d.fromEvents(document,"DOMContentLoaded"),d.fromEvents(window,"load")]).take(1).map(function(){return null}).toPromise())});a.__InboxSDKImpLoader={load:function(h,_,y){if(h!=="0.1")throw new Error("Unsupported InboxSDK version");if(_==="dropbox")throw new Error("No longer supported");var S=(0,o.default)();return m.then(function(){var v;try{return zt!==void 0&&zt&&zt.amd&&(v=zt,zt=null),(0,e("./platform-implementation").makePlatformImplementation)(_,y,{piMainStarted:s,piLoadStarted:S,wasAccountSwitcherReadyAtStart:f})}finally{v&&(zt=v)}})}}}finally{n&&(zt=n)}}}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./platform-implementation":920,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],907:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/core-js/object/freeze")),s=t(e("@babel/runtime-corejs2/core-js/weak-map")),f=t(e("@babel/runtime-corejs2/core-js/map")),d=t(e("@babel/runtime-corejs2/core-js/date/now")),m=t(e("lodash/defaults")),h=t(e("lodash/sortBy")),_=t(e("lodash/find")),y=t(e("kefir")),S=t(e("kefir-bus")),v=t(e("../../common/defer")),T=t(e("../../common/get-or-fail")),E=(0,n.default)({destroy:(0,n.default)(function(){})}),I=new s.default,g=function(){function k(j,x){(0,o.default)(this,k);var A={driver:x,messagesByKey:new f.default,queuedPackets:[]};I.set(this,A)}return(0,u.default)(k,[{key:"showMessage",value:function(j){(0,m.default)(j,{priority:0,time:15e3,hideOnViewChanged:!0,persistent:!1}),this.hideMessage(j.messageKey);var x=(0,T.default)(I,this),A=x.driver.getButterBarDriver(),w=(0,d.default)()+"-"+Math.random(),C=A.getSharedMessageQueue();if(C.unshift({messageId:w,priority:j.priority,persistent:j.persistent}),C=(0,h.default)(C,function(P){return-P.priority}),C=C.filter(function(P,B){return B===0||P.persistent}),A.setSharedMessageQueue(C),!(0,_.default)(C,function(P){return P.messageId===w}))return E;var O=(0,S.default)();j.hideOnViewChanged&&O.plug(y.default.later(0,null).flatMap(function(){return x.driver.getRouteViewDriverStream().changes()}).map(function(){return null})),isFinite(j.time)&&O.plug(y.default.later(j.time,null));var V=new Error("Butter bar message timed out");O.plug(y.default.later(12e4,null).map(function(P){return x.driver.getLogger().errorApp(V),P})),O.take(1).onValue(function(){j.messageKey&&x.messagesByKey.delete(j.messageKey);var P=A.getSharedMessageQueue();A.setSharedMessageQueue(P.filter(function(B){return B.messageId!==w}))}),A.getNoticeAvailableStream().toProperty(function(){return null}).takeUntilBy(O).filter(function(){var P=A.getSharedMessageQueue();return P[0]||O.value(void 0),P[0]&&P[0].messageId===w}).onValue(function(){var P=A.showMessage(j);O.take(1).onValue(function(){P.destroy()})});var R={destroy:function(){O.value(void 0)}};return j.messageKey&&x.messagesByKey.set(j.messageKey,R),R}},{key:"showLoading",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,m.default)(j,{text:"Loading...",priority:-3,time:1/0,persistent:!0,hideOnViewChanged:!0}),j.time=1/0,this.showMessage(j)}},{key:"showError",value:function(j){return(0,m.default)(j,{priority:100,className:"inboxsdk__butterbar_error"}),this.showMessage(j)}},{key:"showSaving",value:function(){var j=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,m.default)(x,{text:"Saving...",confirmationText:"Saved",confirmationTime:1e3,priority:-2,time:1/0,persistent:!0,hideOnViewChanged:!1,showConfirmation:!0});var A=this.showMessage(x),w=(0,v.default)();return w.promise.then(function(){A.destroy(),x.showConfirmation&&j.showMessage({text:x.confirmationText,messageKey:x.messageKey,time:x.confirmationTime,priority:200})},function(){A.destroy()}),w}},{key:"hideMessage",value:function(j){if(j){var x=(0,T.default)(I,this),A=x.messagesByKey.get(j);A&&A.destroy()}}},{key:"hideGmailMessage",value:function(){(0,T.default)(I,this).driver.getButterBarDriver().hideGmailMessage()}}]),k}();i.default=g},{"../../common/defer":639,"../../common/get-or-fail":642,"@babel/runtime-corejs2/core-js/date/now":3,"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/freeze":13,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-bus":324,"lodash/defaults":479,"lodash/find":484,"lodash/sortBy":519}],908:[function(e,l,i){"use strict";function a(j){if(typeof o!="function")return null;var x=new o,A=new o;return(a=function(w){return w?A:x})(j)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/regenerator")),d=s(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),m=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),h=s(e("@babel/runtime-corejs2/helpers/createClass")),_=s(e("@babel/runtime-corejs2/core-js/weak-map")),y=function(j,x){if(!x&&j&&j.__esModule)return j;if(j===null||t(j)!=="object"&&typeof j!="function")return{default:j};var A=a(x);if(A&&A.has(j))return A.get(j);var w={},C=u&&n;for(var O in j)if(O!=="default"&&Object.prototype.hasOwnProperty.call(j,O)){var V=C?n(j,O):null;V&&(V.get||V.set)?u(w,O,V):w[O]=j[O]}return w.default=j,A&&A.set(j,w),w}(e("ud")),S=s(e("kefir")),v=s(e("../../common/get-or-fail")),T=(s(e("../views/compose-view")),s(e("../lib/handler-registry"))),E=y.defonce(l,function(){return new _.default}),I=.01,g=function(){function j(x,A){(0,m.default)(this,j);var w={driver:x,membrane:A,handlerRegistry:new T.default,composeViewStream:x.getComposeViewDriverStream().map(function(C){return A.get(C)})};E.set(this,w),x.getStopper().onValue(function(){w.handlerRegistry.dumpHandlers()}),w.composeViewStream.onValue(function(C){x.getLogger().trackFunctionPerformance(function(){w.handlerRegistry.addTarget(C)},I,{type:"composeViewHandler",isInlineReplyForm:C.isInlineReplyForm()})})}return(0,h.default)(j,[{key:"registerComposeViewHandler",value:function(x){return(0,v.default)(E,this).handlerRegistry.registerHandler(x)}},{key:"openNewComposeView",value:function(){function x(){return A.apply(this,arguments)}var A=(0,d.default)(f.default.mark(function w(){var C,O;return f.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return C=(0,v.default)(E,this),V.next=3,C.driver.openNewComposeViewDriver();case 3:return O=V.sent,V.abrupt("return",C.membrane.get(O));case 5:case"end":return V.stop()}},w,this)}));return x}()},{key:"openDraftByMessageID",value:function(){function x(w){return A.apply(this,arguments)}var A=(0,d.default)(f.default.mark(function w(C){var O,V;return f.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return O=(0,v.default)(E,this),V=O.composeViewStream.take(1).toPromise(),R.next=4,O.driver.openDraftByMessageID(C);case 4:return R.abrupt("return",S.default.fromPromise(V).merge(S.default.later(15e3,null).flatMap(function(){return S.default.constantError(new Error("draft did not open in time"))})).take(1).takeErrors(1).toPromise());case 5:case"end":return R.stop()}},w,this)}));return x}()},{key:"getComposeView",value:function(){var x=(0,v.default)(E,this),A=x.driver;if(A.getLogger().deprecationWarning("Compose.getComposeView","Compose.openNewComposeView"),A.getOpts().REQUESTED_API_VERSION!==1)throw new Error("This method was discontinued after API version 1");return this.openNewComposeView()}}]),j}(),k=y.defn(l,g);i.default=k},{"../../common/get-or-fail":642,"../lib/handler-registry":882,"../views/compose-view":925,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,"@babel/runtime-corejs2/regenerator":59,kefir:327,ud:625}],909:[function(e,l,i){"use strict";function a(k,j,x,A,w,C,O){j.map(function(V){return{viewDriver:V,view:C.get(V)}}).flatMap(function(V){return V.viewDriver.getReadyStream().map(function(){return V}).takeUntilBy(m.default.fromEvents(V.view,"destroy"))}).onValue(function(V){A.addTarget(V.view)})}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=i.MessageViewToolbarSectionNames=i.MessageViewViewStates=void 0;var u=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=o(e("@babel/runtime-corejs2/helpers/createClass")),s=o(e("@babel/runtime-corejs2/helpers/defineProperty")),f=o(e("@babel/runtime-corejs2/core-js/weak-map")),d=o(e("@babel/runtime-corejs2/core-js/object/freeze")),m=o(e("kefir")),h=o(e("../../common/get-or-fail")),_=o(e("../views/conversations/thread-view")),y=o(e("../views/conversations/message-view")),S=(o(e("../views/conversations/attachment-card-view")),o(e("../lib/handler-registry"))),v=new f.default,T=(0,d.default)({HIDDEN:"HIDDEN",COLLAPSED:"COLLAPSED",EXPANDED:"EXPANDED"});i.MessageViewViewStates=T;var E=(0,d.default)({MORE:"MORE"});i.MessageViewToolbarSectionNames=E;var I=function(){function k(j,x,A){(0,u.default)(this,k),(0,s.default)(this,"MessageViewViewStates",T),(0,s.default)(this,"MessageViewToolbarSectionNames",E);var w={appId:j,driver:x,threadViewHandlerRegistry:new S.default,messageViewHandlerRegistries:{all:new S.default,loaded:new S.default},attachmentCardViewHandlerRegistry:new S.default};v.set(this,w),x.getStopper().onValue(function(){w.threadViewHandlerRegistry.dumpHandlers(),w.messageViewHandlerRegistries.all.dumpHandlers(),w.messageViewHandlerRegistries.loaded.dumpHandlers()}),x.getAttachmentCardViewDriverStream().filter(function(C){return C.getAttachmentType()==="FILE"}).onValue(function(C){var O=A.get(C);w.attachmentCardViewHandlerRegistry.addTarget(O)}),a(j,x.getThreadViewDriverStream().filter(function(C){return!C.isLoadingStub()}),_.default,w.threadViewHandlerRegistry,this,A,x),a(j,x.getMessageViewDriverStream(),y.default,w.messageViewHandlerRegistries.all,this,A,x),a(j,x.getMessageViewDriverStream().flatMap(function(C){return C.isLoaded()?m.default.constant(C):C.getEventStream().filter(function(O){return O.eventName==="messageLoad"}).map(function(){return C}).take(1)}),y.default,w.messageViewHandlerRegistries.loaded,this,A,x)}return(0,n.default)(k,[{key:"registerThreadViewHandler",value:function(j){return(0,h.default)(v,this).threadViewHandlerRegistry.registerHandler(j)}},{key:"registerMessageViewHandler",value:function(j){return(0,h.default)(v,this).messageViewHandlerRegistries.loaded.registerHandler(j)}},{key:"registerMessageViewHandlerAll",value:function(j){return(0,h.default)(v,this).messageViewHandlerRegistries.all.registerHandler(j)}},{key:"registerFileAttachmentCardViewHandler",value:function(j){return(0,h.default)(v,this).attachmentCardViewHandlerRegistry.registerHandler(j)}}]),k}(),g=I;i.default=g},{"../../common/get-or-fail":642,"../lib/handler-registry":882,"../views/conversations/attachment-card-view":927,"../views/conversations/message-view":929,"../views/conversations/thread-view":930,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/freeze":13,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327}],910:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/regenerator")),u=t(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),n=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),s=t(e("@babel/runtime-corejs2/helpers/createClass")),f=t(e("@babel/runtime-corejs2/core-js/weak-map")),d=t(e("kefir")),m=t(e("kefir-cast")),h=t(e("../views/content-panel-view")),_=t(e("../../common/get-or-fail")),y=(t(e("../dom-driver/gmail/views/gmail-support-item-view")),new f.default),S=function(){function v(T,E,I){(0,n.default)(this,v);var g={appId:T,driver:E,piOpts:I};y.set(this,g)}return(0,s.default)(v,[{key:"addSidebarContentPanel",value:function(){function T(I){return E.apply(this,arguments)}var E=(0,u.default)(o.default.mark(function I(g){var k,j,x;return o.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return k=(0,m.default)(d.default,g).toProperty(),j=(0,_.default)(y,this),j.driver.getLogger().eventSdkPassive("global.addSidebarContentPanel"),A.next=5,j.driver.addGlobalSidebarContentPanel(k);case 5:if(!(x=A.sent)){A.next=8;break}return A.abrupt("return",new h.default(x));case 8:return A.abrupt("return",null);case 9:case"end":return A.stop()}},I,this)}));return T}()},{key:"addSupportItem",value:function(T){var E=(0,_.default)(y,this);return E.driver.getLogger().eventSdkPassive("global.addSupportItem"),E.driver.addSupportItem(T)}}]),v}();i.default=S},{"../../common/get-or-fail":642,"../dom-driver/gmail/views/gmail-support-item-view":754,"../views/content-panel-view":926,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/regenerator":59,kefir:327,"kefir-cast":325}],911:[function(e,l,i){"use strict";function a(E){if(typeof o!="function")return null;var I=new o,g=new o;return(a=function(k){return k?g:I})(E)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/core-js/weak-map")),h=function(E,I){if(!I&&E&&E.__esModule)return E;if(E===null||t(E)!=="object"&&typeof E!="function")return{default:E};var g=a(I);if(g&&g.has(E))return g.get(E);var k={},j=u&&n;for(var x in E)if(x!=="default"&&Object.prototype.hasOwnProperty.call(E,x)){var A=j?n(E,x):null;A&&(A.get||A.set)?u(k,x,A):k[x]=E[x]}return k.default=E,g&&g.set(E,k),k}(e("ud")),_=s(e("../../common/get-or-fail")),y=s(e("../views/keyboard-shortcut-handle")),S=h.defonce(l,function(){return new m.default}),v=function(){function E(I,g,k,j){(0,f.default)(this,E);var x={appId:I,appName:g,appIconUrl:k,driver:j};S.set(this,x)}return(0,d.default)(E,[{key:"createShortcutHandle",value:function(I){var g=(0,_.default)(S,this),k=I.chord,j=I.description;if(!k)throw new Error("Keyboard.createShortcutHandle chord missing");j==null&&(console.error("Keyboard.createShortcutHandle chord missing"),j="");var x=new y.default(k,j);return g.driver.activateShortcut(x,g.appName,g.appIconUrl),x}}]),E}(),T=h.defn(l,v);i.default=T},{"../../common/get-or-fail":642,"../views/keyboard-shortcut-handle":931,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,ud:625}],912:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=t(e("@babel/runtime-corejs2/core-js/weak-map")),f=t(e("@babel/runtime-corejs2/core-js/object/freeze")),d=t(e("../../common/get-or-fail")),m=t(e("../lib/handler-registry")),h=(t(e("../views/thread-row-view")),new s.default),_=function(){function S(v,T,E){(0,o.default)(this,S),(0,n.default)(this,"ActionButtonTypes",y);var I={appId:v,driver:T,membrane:E,threadRowViewRegistry:new m.default};h.set(this,I),T.getStopper().onValue(function(){I.threadRowViewRegistry.dumpHandlers()}),I.driver.getThreadRowViewDriverStream().onValue(function(g){var k=E.get(g);I.threadRowViewRegistry.addTarget(k)})}return(0,u.default)(S,[{key:"registerThreadRowViewHandler",value:function(v){return(0,d.default)(h,this).threadRowViewRegistry.registerHandler(v)}},{key:"getSelectedThreadRowViews",value:function(){var v=(0,d.default)(h,this);return v.driver.getSelectedThreadRowViewDrivers().map(function(T){return v.membrane.get(T)})}},{key:"registerThreadRowViewSelectionHandler",value:function(v){return(0,d.default)(h,this).driver.registerThreadRowViewSelectionHandler(v)}}]),S}();i.default=_;var y=(0,f.default)({LINK:"LINK",DROPDOWN:"DROPDOWN",ACTION:"ACTION"})},{"../../common/get-or-fail":642,"../lib/handler-registry":882,"../views/thread-row-view":939,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/freeze":13,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],913:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/core-js/weak-map")),s=e("ud"),f=t(e("../widgets/modal-view")),d=t(e("../../common/get-or-fail")),m=(0,s.defonce)(l,function(){return new n.default}),h=function(){function y(S,v,T){(0,o.default)(this,y);var E={appId:S,driver:v,piOpts:T};m.set(this,E)}return(0,u.default)(y,[{key:"show",value:function(S){var v=(0,d.default)(m,this).driver;(0,d.default)(m,this).piOpts.inboxBeta&&v.getLogger().deprecationWarning("Modal.show","Widgets.showModalView");var T=v.createModalViewDriver(S),E=new f.default({driver:v,modalViewDriver:T});return E.show(),E}},{key:"createModalView",value:function(S){var v=(0,d.default)(m,this).driver;v.getLogger().deprecationWarning("Modal.createModalView","Widgets.showModalView");var T=v.createModalViewDriver(S);return new f.default({driver:v,modalViewDriver:T})}}]),y}(),_=(0,s.defn)(l,h);i.default=_},{"../../common/get-or-fail":642,"../widgets/modal-view":944,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,ud:625}],914:[function(e,l,i){"use strict";function a(E,I){return new y.default(E,I,"sent",I.getSentMailNativeNavItem())}var t=e("@babel/runtime-corejs2/core-js/object/define-property"),o=e("@babel/runtime-corejs2/helpers/interopRequireDefault");t(i,"__esModule",{value:!0}),i.default=void 0;var u=o(e("@babel/runtime-corejs2/helpers/classCallCheck")),n=o(e("@babel/runtime-corejs2/helpers/createClass")),s=o(e("@babel/runtime-corejs2/helpers/defineProperty")),f=o(e("@babel/runtime-corejs2/core-js/weak-map")),d=o(e("kefir")),m=o(e("kefir-cast")),h=o(e("../../common/get-or-fail")),_=o(e("../views/nav-item-view")),y=o(e("../views/native-nav-item-view")),S=o(e("../constants/nav-item-types")),v=new f.default,T=function(){function E(I,g){(0,u.default)(this,E),(0,s.default)(this,"NavItemTypes",S.default),(0,s.default)(this,"SENT_MAIL",void 0);var k={appId:I,driver:g,navItemViews:[]};v.set(this,k),this.SENT_MAIL=a(I,g)}return(0,n.default)(E,[{key:"addNavItem",value:function(I){var g=(0,h.default)(v,this),k=(0,m.default)(d.default,I).toProperty(),j=new _.default(g.appId,g.driver,k,g.driver.addNavItem(g.appId,k));return g.navItemViews.push(j),j}}]),E}();i.default=T,(0,s.default)(T,"SENT_MAIL",null)},{"../../common/get-or-fail":642,"../constants/nav-item-types":657,"../views/native-nav-item-view":932,"../views/nav-item-view":933,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-cast":325}],915:[function(e,l,i){"use strict";function a(O,V,R){V.currentRouteViewDriver instanceof k.default&&V.currentRouteViewDriver.destroy(),V.currentRouteViewDriver=R;var P=V.membrane.get(R);if(o(V,R),P.getRouteType()===j.ROUTE_TYPES.CUSTOM&&t(V,R,P),V.allRoutesHandlerRegistry.addTarget(P),P.getRouteType()===j.ROUTE_TYPES.LIST){var B=new I.default(R,V.driver,V.appId),z=V.listRouteHandlerRegistries[P.getRouteID()];z&&z.addTarget(B),V.listRouteHandlerRegistries[j.NATIVE_ROUTE_IDS.ANY_LIST].addTarget(B)}}function t(O,V,R){var P=R.getRouteID(),B=(0,_.default)(P)?P:[P],z=(0,y.default)(O.customRoutes,function(K){return(0,S.default)((0,_.default)(K.routeID)?K.routeID:[K.routeID],B).length});if(z){var Q=new g.default(V),N=V.getCustomViewElement();if(!N)throw new Error("should not happen");O.driver.showCustomRouteView(N);try{z.onActivate(Q)}catch(K){O.driver.getLogger().error(K)}}}function o(O,V){O.driver.setShowNativeNavMarker(V.getType()!==j.ROUTE_TYPES.CUSTOM),O.driver.setShowNativeAddonSidebar(V.getType()!==j.ROUTE_TYPES.CUSTOM)}var u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/defineProperty")),m=n(e("@babel/runtime-corejs2/core-js/weak-map")),h=n(e("@babel/runtime-corejs2/core-js/object/values")),_=n(e("@babel/runtime-corejs2/core-js/array/is-array")),y=n(e("lodash/find")),S=n(e("lodash/intersection")),v=e("ud"),T=n(e("../lib/handler-registry")),E=n(e("../../common/get-or-fail")),I=(n(e("../views/route-view/route-view")),n(e("../views/route-view/list-route-view"))),g=n(e("../views/route-view/custom-route-view")),k=n(e("../views/route-view/dummy-route-view-driver")),j=e("../constants/router"),x=(0,v.defonce)(l,function(){return new m.default}),A=.01,w=function(){function O(V,R,P){var B=this;(0,s.default)(this,O),(0,d.default)(this,"NativeRouteIDs",j.NATIVE_ROUTE_IDS),(0,d.default)(this,"NativeListRouteIDs",j.NATIVE_LIST_ROUTE_IDS),(0,d.default)(this,"RouteTypes",j.ROUTE_TYPES);var z={appId:V,driver:R,currentRouteViewDriver:new k.default,allRoutesHandlerRegistry:new T.default,customRoutes:[],membrane:P,listRouteHandlerRegistries:{}};(0,h.default)(j.NATIVE_LIST_ROUTE_IDS).forEach(function(Q){z.listRouteHandlerRegistries[Q]=new T.default}),x.set(this,z),R.getRouteViewDriverStream().onValue(function(Q){R.getLogger().trackFunctionPerformance(function(){return a(B,z,Q)},A,{type:"handleRouteViewChange",routeID:Q.getRouteID()})}),R.getStopper().onValue(function(){z.allRoutesHandlerRegistry.dumpHandlers(),(0,h.default)(z.listRouteHandlerRegistries).forEach(function(Q){Q.dumpHandlers()})})}return(0,f.default)(O,[{key:"createLink",value:function(V,R){return(0,E.default)(x,this).driver.createLink(V,R)}},{key:"goto",value:function(V,R){if(typeof V!="string")throw new Error("routeID must be a string");var P=(0,E.default)(x,this),B=P.driver;return typeof R=="string"&&B.getLogger().deprecationWarning("Router.goto param string","param object (e.g. {param: value})"),B.goto(V,R)}},{key:"handleCustomRoute",value:function(V,R){var P={routeID:V,onActivate:R},B=(0,E.default)(x,this).driver.addCustomRouteID(V),z=(0,E.default)(x,this),Q=z.customRoutes,N=z.driver;return Q.push(P),N.getLogger().eventSdkPassive("Router.handleCustomRoute"),function(){B();var K=Q.indexOf(P);K>-1&&Q.splice(K,1)}}},{key:"handleAllRoutes",value:function(V){return(0,E.default)(x,this).allRoutesHandlerRegistry.registerHandler(V)}},{key:"handleListRoute",value:function(V,R){var P=(0,E.default)(x,this),B=P.listRouteHandlerRegistries;if(!B[V])throw new Error("Invalid routeID specified");return B[V].registerHandler(R)}},{key:"handleCustomListRoute",value:function(V,R){return(0,E.default)(x,this).driver.addCustomListRouteID(V,R)}},{key:"getCurrentRouteView",value:function(){var V=(0,E.default)(x,this);return V.membrane.get(V.currentRouteViewDriver)}}]),O}(),C=(0,v.defn)(l,w);i.default=C},{"../../common/get-or-fail":642,"../constants/router":658,"../lib/handler-registry":882,"../views/route-view/custom-route-view":934,"../views/route-view/dummy-route-view-driver":935,"../views/route-view/list-route-view":936,"../views/route-view/route-view":937,"@babel/runtime-corejs2/core-js/array/is-array":2,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/values":21,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"lodash/find":484,"lodash/intersection":494,ud:625}],916:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/core-js/weak-map")),s=t(e("../../common/get-or-fail")),f=new n.default,d=function(){function m(h,_){(0,o.default)(this,m);var y={appId:h,driver:_};f.set(this,y)}return(0,u.default)(m,[{key:"registerSearchSuggestionsProvider",value:function(h){if(typeof h!="function")throw new Error("Incorrect arguments");(0,s.default)(f,this).driver.registerSearchSuggestionsProvider(h)}},{key:"registerSearchQueryRewriter",value:function(h){if(typeof h.termReplacer!="function"||typeof h.term!="string")throw new Error("Incorrect arguments");if(!h.term.match(/^(app|has):/))throw new Error("Custom search term must begin with 'app:'");(0,s.default)(f,this).driver.registerSearchQueryRewriter(h)}}]),m}();i.default=d},{"../../common/get-or-fail":642,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/interopRequireDefault":44}],917:[function(e,l,i){"use strict";function a(N,K){var U=s(N);if(f){var F=f(N);K&&(F=F.filter(function(Z){return d(N,Z).enumerable})),U.push.apply(U,F)}return U}function t(N){for(var K=1;K<arguments.length;K++){var U=arguments[K]!=null?arguments[K]:{};K%2?a(Object(U),!0).forEach(function(F){(0,j.default)(N,F,U[F])}):m?h(N,m(U)):a(Object(U)).forEach(function(F){_(N,F,d(U,F))})}return N}function o(N){var K=u();return function(){var U,F=(0,k.default)(N);if(K){var Z=(0,k.default)(this).constructor;U=n(F,arguments,Z)}else U=F.apply(this,arguments);return(0,g.default)(this,U)}}function u(){if(typeof Reflect=="undefined"||!n||n.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],function(){})),!0}catch(N){return!1}}var n=e("@babel/runtime-corejs2/core-js/reflect/construct"),s=e("@babel/runtime-corejs2/core-js/object/keys"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),m=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),h=e("@babel/runtime-corejs2/core-js/object/define-properties"),_=e("@babel/runtime-corejs2/core-js/object/define-property"),y=e("@babel/runtime-corejs2/helpers/interopRequireDefault");_(i,"__esModule",{value:!0}),i.default=void 0;var S=y(e("@babel/runtime-corejs2/helpers/objectWithoutProperties")),v=y(e("@babel/runtime-corejs2/helpers/classCallCheck")),T=y(e("@babel/runtime-corejs2/helpers/createClass")),E=y(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),I=y(e("@babel/runtime-corejs2/helpers/inherits")),g=y(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),k=y(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),j=y(e("@babel/runtime-corejs2/helpers/defineProperty")),x=y(e("@babel/runtime-corejs2/core-js/weak-map")),A=y(e("kefir")),w=y(e("kefir-cast")),C=y(e("kefir-stopper")),O=y(e("../lib/safe-event-emitter")),V=y(e("../../common/get-or-fail")),R=y(e("../views/app-toolbar-button-view")),P=e("../constants/toolbars"),B=["hideFor"],z=new x.default,Q=function(N){function K(F,Z,$,ne){var H;(0,v.default)(this,K),H=U.call(this),(0,j.default)((0,E.default)(H),"SectionNames",P.SECTION_NAMES);var X={appId:F,driver:Z,membrane:$,piOpts:ne};return z.set((0,E.default)(H),X),H}(0,I.default)(K,N);var U=o(K);return(0,T.default)(K,[{key:"registerThreadButton",value:function(F){var Z=(0,V.default)(z,this);F.listSection!=="OTHER"&&F.threadSection!=="OTHER"||!F.hasDropdown||(Z.driver.getLogger().errorApp(new Error("registerThreadButton does not support listSection=OTHER or threadSection=OTHER and hasDropdown=true together")),F=t(t({},F),{},{hasDropdown:!1}));var $=F,ne=$.hideFor,H=(0,S.default)($,B),X=function(){return Z.driver.registerThreadButton(t(t({},H),{},{onClick:function(se){H.onClick&&H.onClick({position:se.position,dropdown:se.dropdown,selectedThreadViews:se.selectedThreadViewDrivers.map(function(ie){return Z.membrane.get(ie)}),selectedThreadRowViews:se.selectedThreadRowViewDrivers.map(function(ie){return Z.membrane.get(ie)})})}}))};if(ne){var oe=(0,C.default)(),Y=null;return Z.driver.getRouteViewDriverStream().takeUntilBy(oe).onValue(function(se){var ie=Z.membrane.get(se);ne(ie)?Y&&(Y(),Y=null):Y||(Y=X())}),function(){oe.destroy(),Y&&(Y(),Y=null)}}return X()}},{key:"registerToolbarButtonForList",value:function(F){var Z=(0,V.default)(z,this);return this.registerThreadButton({positions:["LIST"],listSection:F.section,title:F.title,iconUrl:F.iconUrl,iconClass:F.iconClass,onClick:function($){F.onClick&&F.onClick({dropdown:$.dropdown,selectedThreadRowViews:$.selectedThreadRowViews,get threadRowViews(){return Z.driver.getLogger().deprecationWarning("Toolbars.registerToolbarButtonForList onClick event.threadRowViews"),$.selectedThreadRowViews}})},hasDropdown:F.hasDropdown,orderHint:F.orderHint,hideFor:F.hideFor,keyboardShortcutHandle:F.keyboardShortcutHandle})}},{key:"registerToolbarButtonForThreadView",value:function(F){return this.registerThreadButton({positions:["THREAD"],threadSection:F.section,title:F.title,iconUrl:F.iconUrl,iconClass:F.iconClass,onClick:function(Z){if(Z.selectedThreadViews.length!==1)throw new Error("should not happen");F.onClick&&F.onClick({dropdown:Z.dropdown,threadView:Z.selectedThreadViews[0]})},hasDropdown:F.hasDropdown,orderHint:F.orderHint,hideFor:F.hideFor,keyboardShortcutHandle:F.keyboardShortcutHandle})}},{key:"setAppToolbarButton",value:function(F){var Z=(0,V.default)(z,this),$=Z.driver,ne=Z.piOpts;if($.getLogger().deprecationWarning("Toolbars.setAppToolbarButton","Toolbars.addToolbarButtonForApp"),ne.REQUESTED_API_VERSION!==1)throw new Error("This method was discontinued after API version 1");return this.addToolbarButtonForApp(F)}},{key:"addToolbarButtonForApp",value:function(F){var Z=(0,w.default)(A.default,F),$=(0,V.default)(z,this).driver.addToolbarButtonForApp(Z);return new R.default((0,V.default)(z,this).driver,$)}}]),K}(O.default);i.default=Q},{"../../common/get-or-fail":642,"../constants/toolbars":659,"../lib/safe-event-emitter":899,"../views/app-toolbar-button-view":922,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/objectWithoutProperties":49,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,kefir:327,"kefir-cast":325,"kefir-stopper":326}],918:[function(e,l,i){"use strict";function a(E){if(typeof o!="function")return null;var I=new o,g=new o;return(a=function(k){return k?g:I})(E)}var t=e("@babel/runtime-corejs2/helpers/typeof"),o=e("@babel/runtime-corejs2/core-js/weak-map"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/core-js/weak-map")),h=s(e("lodash/find")),_=function(E,I){if(!I&&E&&E.__esModule)return E;if(E===null||t(E)!=="object"&&typeof E!="function")return{default:E};var g=a(I);if(g&&g.has(E))return g.get(E);var k={},j=u&&n;for(var x in E)if(x!=="default"&&Object.prototype.hasOwnProperty.call(E,x)){var A=j?n(E,x):null;A&&(A.get||A.set)?u(k,x,A):k[x]=E[x]}return k.default=E,g&&g.set(E,k),k}(e("ud")),y=s(e("../../common/get-or-fail")),S=_.defonce(l,function(){return new m.default}),v=function(){function E(I,g){(0,f.default)(this,E),S.set(this,{driver:I,piOpts:g})}return(0,d.default)(E,[{key:"getEmailAddress",value:function(){return(0,y.default)(S,this).driver.getUserEmailAddress()}},{key:"isConversationViewDisabled",value:function(){return(0,y.default)(S,this).driver.isConversationViewDisabled()}},{key:"isUsingGmailMaterialUI",value:function(){return(0,y.default)(S,this).driver.getLogger().deprecationWarning("User.isUsingGmailMaterialUI"),!0}},{key:"getLanguage",value:function(){return(0,y.default)(S,this).driver.getUserLanguage()}},{key:"getUserContact",value:function(){var I=(0,y.default)(S,this),g=I.driver,k=I.piOpts;if(g.getLogger().deprecationWarning("User.getUserContact","User.getEmailAddress"),k.REQUESTED_API_VERSION!==1)throw new Error("This method was discontinued after API version 1");return g.getUserContact()}},{key:"getAccountSwitcherContactList",value:function(){var I=(0,y.default)(S,this),g=I.driver;g.getLogger().deprecationWarning("User.getAccountSwitcherContactList","User.getEmailAddress");var k=g.getAccountSwitcherContactList(),j=this.getEmailAddress();return(0,h.default)(k,function(x){return x.emailAddress===j})||(k=k.concat([{name:j,emailAddress:j}])),k}}]),E}(),T=_.defn(l,v);i.default=T},{"../../common/get-or-fail":642,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/typeof":57,"lodash/find":484,ud:625}],919:[function(e,l,i){"use strict";function a(P,B){var z=o(P);if(u){var Q=u(P);B&&(Q=Q.filter(function(N){return n(P,N).enumerable})),z.push.apply(z,Q)}return z}function t(P){for(var B=1;B<arguments.length;B++){var z=arguments[B]!=null?arguments[B]:{};B%2?a(Object(z),!0).forEach(function(Q){(0,y.default)(P,Q,z[Q])}):s?f(P,s(z)):a(Object(z)).forEach(function(Q){d(P,Q,n(z,Q))})}return P}var o=e("@babel/runtime-corejs2/core-js/object/keys"),u=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),n=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),s=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),f=e("@babel/runtime-corejs2/core-js/object/define-properties"),d=e("@babel/runtime-corejs2/core-js/object/define-property"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");d(i,"__esModule",{value:!0}),i.default=void 0;var h=m(e("@babel/runtime-corejs2/core-js/object/keys")),_=m(e("@babel/runtime-corejs2/core-js/map")),y=m(e("@babel/runtime-corejs2/helpers/defineProperty")),S=m(e("@babel/runtime-corejs2/helpers/classCallCheck")),v=m(e("@babel/runtime-corejs2/helpers/createClass")),T=m(e("kefir")),E=m(e("kefir-cast")),I=e("ud"),g=m(e("../widgets/modal-view")),k=m(e("../widgets/mole-view")),j=m(e("../widgets/drawer-view")),x=m(e("../widgets/top-message-bar-view")),A=m(e("../views/compose-view")),w=m(e("../../common/get-or-fail")),C=m(e("../dom-driver/gmail/is-compose-titlebar-light-color")),O=function(){function P(B,z){(0,S.default)(this,P);var Q={driver:z};V.set(this,Q)}return(0,v.default)(P,[{key:"showModalView",value:function(B){B.buttons&&(B.buttons=B.buttons.map(function(U){if(U.onClick){var F=U.onClick;return t(t({},U),{},{onClick:function(){F({modalView:K})}})}return U}));var z=(0,w.default)(V,this),Q=z.driver,N=Q.createModalViewDriver(B),K=new g.default({driver:Q,modalViewDriver:N});return K.show(),K}},{key:"showMoleView",value:function(B){var z=(0,w.default)(V,this).driver.createMoleViewDriver(B),Q=new k.default({moleViewDriver:z});return z.show(),Q}},{key:"showTopMessageBarView",value:function(B){var z=(0,w.default)(V,this).driver.createTopMessageBarDriver((0,E.default)(T.default,B));return new x.default({topMessageBarViewDriver:z})}},{key:"showDrawerView",value:function(B){if((0,w.default)(V,this).driver.getLogger().eventSdkActive("Widgets.showDrawerView used",{keys:(0,h.default)(B)}),B.composeView&&!(B.composeView instanceof A.default))throw new Error("composeView option was not a ComposeView");var z=(0,w.default)(V,this).driver.createDrawerViewDriver(B);return new j.default(z)}},{key:"isMoleViewTitleBarLightColor",value:function(){return(0,C.default)()}}]),P}(),V=new _.default,R=(0,I.defn)(l,O);i.default=R},{"../../common/get-or-fail":642,"../dom-driver/gmail/is-compose-titlebar-light-color":702,"../views/compose-view":925,"../widgets/drawer-view":943,"../widgets/modal-view":944,"../widgets/mole-view":945,"../widgets/top-message-bar-view":946,"@babel/runtime-corejs2/core-js/map":5,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-cast":325,ud:625}],920:[function(e,l,i){(function(a){(function(){"use strict";function t(at,bt){var Gt=d(at);if(m){var Vt=m(at);bt&&(Vt=Vt.filter(function(dn){return h(at,dn).enumerable})),Gt.push.apply(Gt,Vt)}return Gt}function o(at){for(var bt=1;bt<arguments.length;bt++){var Gt=arguments[bt]!=null?arguments[bt]:{};bt%2?t(Object(Gt),!0).forEach(function(Vt){(0,x.default)(at,Vt,Gt[Vt])}):_?y(at,_(Gt)):t(Object(Gt)).forEach(function(Vt){S(at,Vt,h(Gt,Vt))})}return at}function u(at){var bt=n();return function(){var Gt,Vt=(0,j.default)(at);if(bt){var dn=(0,j.default)(this).constructor;Gt=f(Vt,arguments,dn)}else Gt=Vt.apply(this,arguments);return(0,k.default)(this,Gt)}}function n(){if(typeof Reflect=="undefined"||!f||f.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(f(Boolean,[],function(){})),!0}catch(at){return!1}}function s(at,bt,Gt){if(typeof at!="string")throw new Error("appId must be a string");var Vt=o({globalErrorLogging:!0,eventTracking:!0,inboxBeta:!1},bt);switch(Vt.REQUESTED_API_VERSION=+Vt.REQUESTED_API_VERSION,Vt.REQUESTED_API_VERSION){case 2:Vt.inboxBeta=!0;break;case 1:break;default:throw new Error("InboxSDK: Unsupported API version "+Vt.REQUESTED_API_VERSION)}var dn={"https://mail.google.com":It.default,"https://inbox.google.com":Qt.default},Cn=Vt.VERSION,Tt=V.BUILD_VERSION,In=new jt.default(at,Vt,Cn,Tt),$e=document.location.origin,St=dn[$e];if(!St)return console.log("InboxSDK: Unsupported origin",$e),new C.default(function(Ht,Wt){});(0,P.default)();var Yt=new St(at,Cn,Tt,In,Vt,Gt);return Yt.onready.then(function(){(0,Pt.default)(at)||(console.error(`
===========================================================
InboxSDK: You have loaded InboxSDK with an invalid appId:
`.concat(at,`
Registering an appId is free. Please see
https://www.inboxsdk.com/docs/#RequiredSetup
===========================================================
`)),Yt.showAppIdWarning()),Yt.isRunningInPageContext()&&console.warn("Running the InboxSDK outside of an extension content script is not recommended!"),In.eventSdkPassive("instantiate");var Ht=new Oe(Yt,at,Vt);return $e!=="https://inbox.google.com"||Vt.inboxBeta?(At.has(at)||(At.add(at),In.eventSdkPassive("load")),Ht):(console.log("InboxSDK: Unsupported origin",$e),At.has(at)||(At.add(at),In.eventSdkPassive("not load")),new C.default(function(Wt,Pn){}))})}var f=e("@babel/runtime-corejs2/core-js/reflect/construct"),d=e("@babel/runtime-corejs2/core-js/object/keys"),m=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),h=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),_=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),y=e("@babel/runtime-corejs2/core-js/object/define-properties"),S=e("@babel/runtime-corejs2/core-js/object/define-property"),v=e("@babel/runtime-corejs2/helpers/interopRequireDefault");S(i,"__esModule",{value:!0}),i.makePlatformImplementation=s,i.PlatformImplementation=void 0;var T=v(e("@babel/runtime-corejs2/helpers/classCallCheck")),E=v(e("@babel/runtime-corejs2/helpers/createClass")),I=v(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),g=v(e("@babel/runtime-corejs2/helpers/inherits")),k=v(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),j=v(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),x=v(e("@babel/runtime-corejs2/helpers/defineProperty")),A=v(e("@babel/runtime-corejs2/core-js/set")),w=v(e("@babel/runtime-corejs2/core-js/weak-map")),C=v(e("@babel/runtime-corejs2/core-js/promise")),O=v(e("./lib/safe-event-emitter")),V=e("../common/version"),R=v(e("../common/get-or-fail")),P=v(e("./lib/shared-style")),B=v(e("./lib/Membrane")),z=v(e("./views/conversations/attachment-card-view")),Q=v(e("./dom-driver/gmail/views/gmail-attachment-card-view")),N=v(e("./dom-driver/inbox/views/inbox-attachment-card-view")),K=v(e("./views/conversations/message-view")),U=v(e("./dom-driver/gmail/views/gmail-message-view")),F=v(e("./dom-driver/inbox/views/inbox-message-view")),Z=v(e("./views/conversations/thread-view")),$=v(e("./dom-driver/gmail/views/gmail-thread-view")),ne=v(e("./dom-driver/inbox/views/inbox-thread-view")),H=v(e("./views/thread-row-view")),X=v(e("./dom-driver/gmail/views/gmail-thread-row-view")),oe=v(e("./dom-driver/inbox/views/inbox-thread-row-view")),Y=v(e("./views/compose-view")),se=v(e("./dom-driver/gmail/views/gmail-compose-view")),ie=v(e("./dom-driver/inbox/views/inbox-compose-view")),L=v(e("./views/route-view/dummy-route-view-driver")),G=v(e("./views/route-view/route-view")),le=v(e("./dom-driver/gmail/views/gmail-route-view/gmail-route-view")),pe=v(e("./dom-driver/inbox/views/inbox-route-view")),we=v(e("./dom-driver/inbox/views/inbox-dummy-route-view")),ye=v(e("./dom-driver/inbox/views/inbox-custom-route-view")),W=v(e("./namespaces/butter-bar")),te=v(e("./namespaces/compose")),ce=v(e("./namespaces/conversations")),je=v(e("./namespaces/keyboard")),be=v(e("./namespaces/widgets")),Ne=v(e("./namespaces/modal")),He=v(e("./namespaces/lists")),Qe=v(e("./namespaces/nav-menu")),Be=v(e("./namespaces/router")),Je=v(e("./namespaces/search")),_t=v(e("./namespaces/toolbars")),pt=v(e("./namespaces/user")),Et=v(e("./namespaces/global")),It=v(e("./dom-driver/gmail/gmail-driver")),Qt=v(e("./dom-driver/inbox/inbox-driver")),jt=v(e("./lib/logger")),Pt=v(e("./lib/is-valid-app-id")),At=new A.default,Ce=new w.default,Oe=function(at){function bt(Vt,dn,Cn){var Tt;(0,T.default)(this,bt),Tt=Gt.call(this),(0,x.default)((0,I.default)(Tt),"destroyed",void 0),(0,x.default)((0,I.default)(Tt),"LOADER_VERSION",void 0),(0,x.default)((0,I.default)(Tt),"IMPL_VERSION",void 0),(0,x.default)((0,I.default)(Tt),"Compose",void 0),(0,x.default)((0,I.default)(Tt),"Conversations",void 0),(0,x.default)((0,I.default)(Tt),"Keyboard",void 0),(0,x.default)((0,I.default)(Tt),"User",void 0),(0,x.default)((0,I.default)(Tt),"Lists",void 0),(0,x.default)((0,I.default)(Tt),"NavMenu",void 0),(0,x.default)((0,I.default)(Tt),"Router",void 0),(0,x.default)((0,I.default)(Tt),"Search",void 0),(0,x.default)((0,I.default)(Tt),"Toolbars",void 0),(0,x.default)((0,I.default)(Tt),"ButterBar",void 0),(0,x.default)((0,I.default)(Tt),"Widgets",void 0),(0,x.default)((0,I.default)(Tt),"Global",void 0),(0,x.default)((0,I.default)(Tt),"Modal",void 0),(0,x.default)((0,I.default)(Tt),"Logger",void 0);var In=Cn.appName,$e=Cn.appIconUrl,St=Cn.VERSION,Yt={driver:Vt};Ce.set((0,I.default)(Tt),Yt);var Ht=new B.default([[se.default,function(Wt){return new Y.default(Vt,Wt,Ht)}],[ie.default,function(Wt){return new Y.default(Vt,Wt,Ht)}],[Q.default,function(Wt){return new z.default(Wt,Vt,Ht)}],[N.default,function(Wt){return new z.default(Wt,Vt,Ht)}],[U.default,function(Wt){return new K.default(Wt,dn,Ht,Tt.Conversations,Vt)}],[F.default,function(Wt){return new K.default(Wt,dn,Ht,Tt.Conversations,Vt)}],[$.default,function(Wt){return new Z.default(Wt,dn,Vt,Ht)}],[ne.default,function(Wt){return new Z.default(Wt,dn,Vt,Ht)}],[X.default,function(Wt){return new H.default(Wt)}],[oe.default,function(Wt){return new H.default(Wt)}],[le.default,function(Wt){return new G.default(Wt)}],[pe.default,function(Wt){return new G.default(Wt)}],[we.default,function(Wt){return new G.default(Wt)}],[ye.default,function(Wt){return new G.default(Wt)}],[L.default,function(Wt){return new G.default(Wt)}]]);return Tt.destroyed=!1,Tt.LOADER_VERSION=St,Tt.IMPL_VERSION=V.BUILD_VERSION,Tt.ButterBar=new W.default(dn,Vt),Vt.setButterBar(Tt.ButterBar),Tt.Compose=new te.default(Vt,Ht),Tt.Conversations=new ce.default(dn,Vt,Ht),Tt.Keyboard=new je.default(dn,In,$e,Vt),Tt.User=new pt.default(Vt,Cn),Tt.Lists=new He.default(dn,Vt,Ht),Tt.NavMenu=new Qe.default(dn,Vt),Tt.Router=new Be.default(dn,Vt,Ht),Tt.Search=new Je.default(dn,Vt),Tt.Toolbars=new _t.default(dn,Vt,Ht,Cn),Tt.Widgets=new be.default(dn,Vt),Cn.REQUESTED_API_VERSION===1&&(Tt.Modal=new Ne.default(dn,Vt,Cn)),Cn.REQUESTED_API_VERSION>=2&&(Tt.Global=new Et.default(dn,Vt,Cn)),Tt.Logger=Vt.getLogger().getAppLogger(),Tt}(0,g.default)(bt,at);var Gt=u(bt);return(0,E.default)(bt,[{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,(0,R.default)(Ce,this).driver.destroy(),this.emit("destroy"))}}]),bt}(O.default);i.PlatformImplementation=Oe}).call(this)}).call(this,typeof vt.g!="undefined"?vt.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../common/get-or-fail":642,"../common/version":651,"./dom-driver/gmail/gmail-driver":662,"./dom-driver/gmail/views/gmail-attachment-card-view":714,"./dom-driver/gmail/views/gmail-compose-view":717,"./dom-driver/gmail/views/gmail-message-view":747,"./dom-driver/gmail/views/gmail-route-view/gmail-route-view":752,"./dom-driver/gmail/views/gmail-thread-row-view":755,"./dom-driver/gmail/views/gmail-thread-view":758,"./dom-driver/inbox/inbox-driver":796,"./dom-driver/inbox/views/inbox-attachment-card-view":811,"./dom-driver/inbox/views/inbox-compose-view":816,"./dom-driver/inbox/views/inbox-custom-route-view":817,"./dom-driver/inbox/views/inbox-dummy-route-view":820,"./dom-driver/inbox/views/inbox-message-view":821,"./dom-driver/inbox/views/inbox-route-view":823,"./dom-driver/inbox/views/inbox-thread-row-view":824,"./dom-driver/inbox/views/inbox-thread-view":825,"./lib/Membrane":845,"./lib/is-valid-app-id":888,"./lib/logger":892,"./lib/safe-event-emitter":899,"./lib/shared-style":900,"./namespaces/butter-bar":907,"./namespaces/compose":908,"./namespaces/conversations":909,"./namespaces/global":910,"./namespaces/keyboard":911,"./namespaces/lists":912,"./namespaces/modal":913,"./namespaces/nav-menu":914,"./namespaces/router":915,"./namespaces/search":916,"./namespaces/toolbars":917,"./namespaces/user":918,"./namespaces/widgets":919,"./views/compose-view":925,"./views/conversations/attachment-card-view":927,"./views/conversations/message-view":929,"./views/conversations/thread-view":930,"./views/route-view/dummy-route-view-driver":935,"./views/route-view/route-view":937,"./views/thread-row-view":939,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/set":27,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}],921:[function(e,l,i){"use strict";function a(T){var E=t();return function(){var I,g=(0,_.default)(T);if(E){var k=(0,_.default)(this).constructor;I=o(g,arguments,k)}else I=g.apply(this,arguments);return(0,h.default)(this,I)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(T){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=n(e("../lib/safe-event-emitter")),v=function(T){function E(g){var k;return(0,s.default)(this,E),k=I.call(this),(0,y.default)((0,d.default)(k),"el",void 0),(0,y.default)((0,d.default)(k),"destroyed",!1),k.el=g,k}(0,m.default)(E,T);var I=a(E);return(0,f.default)(E,[{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.emit("destroy"),this.el.remove())}}]),E}(S.default);i.default=v},{"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}],922:[function(e,l,i){"use strict";function a(g){var k=t();return function(){var j,x=(0,_.default)(g);if(k){var A=(0,_.default)(this).constructor;j=o(x,arguments,A)}else j=x.apply(this,arguments);return(0,h.default)(this,j)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(g){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=n(e("@babel/runtime-corejs2/core-js/weak-map")),v=n(e("../lib/safe-event-emitter")),T=n(e("../../common/get-or-fail")),E=new S.default,I=function(g){function k(x,A){var w;(0,s.default)(this,k),w=j.call(this),(0,y.default)((0,d.default)(w),"destroyed",void 0);var C={appToolbarButtonViewDriverPromise:A,appToolbarButtonViewDriver:null};return E.set((0,d.default)(w),C),w.destroyed=!1,C.appToolbarButtonViewDriverPromise.then(function(O){C.appToolbarButtonViewDriver=O,O.getStopper().onValue(function(){w.destroyed=!0,w.emit("destroy")})}),x.getStopper().onValue(function(){w.remove()}),w}(0,m.default)(k,g);var j=a(k);return(0,f.default)(k,[{key:"open",value:function(){(0,T.default)(E,this).appToolbarButtonViewDriverPromise.then(function(x){x.open()})}},{key:"close",value:function(){(0,T.default)(E,this).appToolbarButtonViewDriverPromise.then(function(x){x.close()})}},{key:"remove",value:function(){(0,T.default)(E,this).appToolbarButtonViewDriverPromise.then(function(x){x.destroy()})}}]),k}(v.default);i.default=I},{"../../common/get-or-fail":642,"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}],923:[function(e,l,i){"use strict";function a(x){var A=t();return function(){var w,C=(0,y.default)(x);if(A){var O=(0,y.default)(this).constructor;w=u(C,arguments,O)}else w=C.apply(this,arguments);return(0,_.default)(this,w)}}function t(){if(typeof Reflect=="undefined"||!u||u.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!0}catch(x){return!1}}function o(x,A,w){A.getEventStream().onValue(function(C){var O=C.eventName;x.emit(O)}),A.getEventStream().filter(function(C){return C.eventName==="rowClicked"}).onValue(function(C){var O=C.rowDescriptor;O.routeID&&w.goto(O.routeID,O.routeParams),typeof O.onClick=="function"&&O.onClick()}),A.getEventStream().filter(function(C){return C.eventName==="titleLinkClicked"}).onValue(function(C){var O=C.sectionDescriptor;O.onTitleLinkClick&&O.onTitleLinkClick(x)}),A.getEventStream().filter(function(C){return C.eventName==="footerClicked"}).onValue(function(C){var O=C.sectionDescriptor;O.onFooterLinkClick&&O.onFooterLinkClick(x)}),A.getEventStream().onEnd(function(){x.destroyed=!0,x.emit("destroy")})}var u=e("@babel/runtime-corejs2/core-js/reflect/construct"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),h=s(e("@babel/runtime-corejs2/helpers/inherits")),_=s(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),y=s(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),S=s(e("@babel/runtime-corejs2/helpers/defineProperty")),v=s(e("@babel/runtime-corejs2/core-js/weak-map")),T=e("ud"),E=s(e("../lib/safe-event-emitter")),I=s(e("../../common/get-or-fail")),g=new v.default,k=function(x){function A(C,O){var V;(0,f.default)(this,A),V=w.call(this),(0,S.default)((0,m.default)(V),"destroyed",void 0);var R={collapsibleSectionViewDriver:C};return g.set((0,m.default)(V),R),V.destroyed=!1,o((0,m.default)(V),C,O),V}(0,h.default)(A,x);var w=a(A);return(0,d.default)(A,[{key:"setCollapsed",value:function(C){(0,I.default)(g,this).collapsibleSectionViewDriver.setCollapsed(C)}},{key:"remove",value:function(){this.destroy()}},{key:"destroy",value:function(){(0,I.default)(g,this).collapsibleSectionViewDriver.destroy(),this.removeAllListeners()}}]),A}(E.default),j=(0,T.defn)(l,k);i.default=j},{"../../common/get-or-fail":642,"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,ud:625}],924:[function(e,l,i){"use strict";function a(j){var x=t();return function(){var A,w=(0,y.default)(j);if(x){var C=(0,y.default)(this).constructor;A=u(w,arguments,C)}else A=w.apply(this,arguments);return(0,_.default)(this,A)}}function t(){if(typeof Reflect=="undefined"||!u||u.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!0}catch(j){return!1}}function o(j){j.destroyed=!0,j.emit("destroy")}var u=e("@babel/runtime-corejs2/core-js/reflect/construct"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),h=s(e("@babel/runtime-corejs2/helpers/inherits")),_=s(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),y=s(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),S=s(e("@babel/runtime-corejs2/helpers/defineProperty")),v=s(e("@babel/runtime-corejs2/core-js/weak-map")),T=s(e("@babel/runtime-corejs2/core-js/object/keys")),E=s(e("../lib/safe-event-emitter")),I=s(e("../../common/get-or-fail")),g=new v.default,k=function(j){function x(w,C,O){var V;(0,f.default)(this,x),V=A.call(this),(0,S.default)((0,m.default)(V),"destroyed",!1);var R={optionsPromise:w,composeViewDriver:C,driver:O};return g.set((0,m.default)(V),R),R.optionsPromise.then(function(P){if(!P)return void o((0,m.default)(V));R.composeViewDriver.getStopper().onValue(function(){o((0,m.default)(V))})}),V}(0,h.default)(x,j);var A=a(x);return(0,d.default)(x,[{key:"showTooltip",value:function(w){var C=(0,I.default)(g,this);C.driver.getLogger().eventSdkPassive("ComposeButtonView.showTooltip",{keys:(0,T.default)(w)}),C.optionsPromise.then(function(O){O&&C.composeViewDriver.addTooltipToButton(O.buttonViewController,O.buttonDescriptor,w)})}},{key:"closeTooltip",value:function(){var w=(0,I.default)(g,this);w.optionsPromise.then(function(C){C&&w.composeViewDriver.closeButtonTooltip(C.buttonViewController)})}}]),x}(E.default);i.default=k},{"../../common/get-or-fail":642,"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}],925:[function(e,l,i){"use strict";function a(B){if(typeof s!="function")return null;var z=new s,Q=new s;return(a=function(N){return N?Q:z})(B)}function t(B){var z=o();return function(){var Q,N=(0,I.default)(B);if(z){var K=(0,I.default)(this).constructor;Q=n(N,arguments,K)}else Q=N.apply(this,arguments);return(0,E.default)(this,Q)}}function o(){if(typeof Reflect=="undefined"||!n||n.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],function(){})),!0}catch(B){return!1}}var u=e("@babel/runtime-corejs2/helpers/typeof"),n=e("@babel/runtime-corejs2/core-js/reflect/construct"),s=e("@babel/runtime-corejs2/core-js/weak-map"),f=e("@babel/runtime-corejs2/core-js/object/define-property"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),m=e("@babel/runtime-corejs2/helpers/interopRequireDefault");f(i,"__esModule",{value:!0}),i.default=void 0;var h=m(e("@babel/runtime-corejs2/regenerator")),_=m(e("@babel/runtime-corejs2/helpers/asyncToGenerator")),y=m(e("@babel/runtime-corejs2/helpers/classCallCheck")),S=m(e("@babel/runtime-corejs2/helpers/createClass")),v=m(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),T=m(e("@babel/runtime-corejs2/helpers/inherits")),E=m(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),I=m(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),g=m(e("@babel/runtime-corejs2/helpers/defineProperty")),k=m(e("@babel/runtime-corejs2/core-js/weak-map")),j=m(e("@babel/runtime-corejs2/core-js/array/from")),x=m(e("../lib/safe-event-emitter")),A=m(e("kefir")),w=m(e("kefir-cast")),C=function(B,z){if(!z&&B&&B.__esModule)return B;if(B===null||u(B)!=="object"&&typeof B!="function")return{default:B};var Q=a(z);if(Q&&Q.has(B))return Q.get(B);var N={},K=f&&d;for(var U in B)if(U!=="default"&&Object.prototype.hasOwnProperty.call(B,U)){var F=K?d(B,U):null;F&&(F.get||F.set)?f(N,U,F):N[U]=B[U]}return N.default=B,Q&&Q.set(B,N),N}(e("ud")),O=m(e("../../common/get-or-fail")),V=m(e("./compose-button-view")),R=C.defonce(l,function(){return new k.default}),P=function(B){function z(N,K,U){var F;(0,y.default)(this,z),F=Q.call(this),(0,g.default)((0,v.default)(F),"destroyed",!1);var Z={driver:N,membrane:U,composeViewImplementation:K};return R.set((0,v.default)(F),Z),F.on("newListener",function($){$==="close"?(N.getLogger().deprecationWarning("composeView close event","composeView destroy event"),N.getOpts().REQUESTED_API_VERSION!==1&&console.error("The composeView close event was removed after API version 1")):$==="messageIDChange"?(N.getLogger().deprecationWarning("composeView messageIDChange event","composeView.getDraftID"),N.getOpts().REQUESTED_API_VERSION!==1&&console.error("The composeView messageIDChange event was removed after API version 1")):$==="linkPopOver"&&K.setupLinkPopOvers()}),Z.composeViewImplementation.getEventStream().onValue(function($){if($.eventName==="destroy")F.destroyed=!0,N.getOpts().REQUESTED_API_VERSION===1&&F.emit("close");else if($.eventName==="messageIDChange"&&N.getOpts().REQUESTED_API_VERSION!==1)return;F.emit($.eventName,$.data)}),F}(0,T.default)(z,B);var Q=t(z);return(0,S.default)(z,[{key:"addButton",value:function(N){var K=(0,O.default)(R,this),U=(0,w.default)(A.default,N),F=K.composeViewImplementation.addButton(U,K.driver.getAppId(),{composeView:this});return new V.default(F,K.composeViewImplementation,K.driver)}},{key:"addComposeNotice",value:function(N){return(0,O.default)(R,this).composeViewImplementation.addComposeNotice(N)}},{key:"addStatusBar",value:function(N){return(0,O.default)(R,this).composeViewImplementation.addStatusBar(N)}},{key:"hideNativeStatusBar",value:function(){return(0,O.default)(R,this).composeViewImplementation.hideNativeStatusBar()}},{key:"addRecipientRow",value:function(N){return{destroy:(0,O.default)(R,this).composeViewImplementation.addRecipientRow((0,w.default)(A.default,N))}}},{key:"forceRecipientRowsOpen",value:function(){return(0,O.default)(R,this).composeViewImplementation.forceRecipientRowsOpen()}},{key:"hideNativeRecipientRows",value:function(){return(0,O.default)(R,this).composeViewImplementation.hideNativeRecipientRows()}},{key:"hideRecipientArea",value:function(){return(0,O.default)(R,this).composeViewImplementation.hideRecipientArea()}},{key:"close",value:function(){(0,O.default)(R,this).composeViewImplementation.close()}},{key:"send",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{sendAndArchive:!1},K=N.sendAndArchive;(0,O.default)(R,this).composeViewImplementation.send({sendAndArchive:K})}},{key:"discard",value:function(){(0,O.default)(R,this).composeViewImplementation.discard()}},{key:"getMetadataForm",value:function(){return(0,O.default)(R,this).composeViewImplementation.getMetadataFormElement()}},{key:"getSubjectInput",value:function(){return(0,O.default)(R,this).composeViewImplementation.getSubjectInput()}},{key:"getBodyElement",value:function(){return(0,O.default)(R,this).composeViewImplementation.getBodyElement()}},{key:"getComposeID",value:function(){var N=(0,O.default)(R,this),K=N.driver,U=N.composeViewImplementation;if(K.getLogger().deprecationWarning("composeView.getComposeID"),K.getOpts().REQUESTED_API_VERSION!==1)throw new Error("This method was discontinued after API version 1");return U.getComposeID()}},{key:"getInitialMessageID",value:function(){return(0,O.default)(R,this).composeViewImplementation.getInitialMessageID()}},{key:"getMessageID",value:function(){var N=(0,O.default)(R,this),K=N.driver,U=N.composeViewImplementation;if(K.getLogger().deprecationWarning("composeView.getMessageID","composeView.getDraftID"),K.getOpts().REQUESTED_API_VERSION!==1)throw new Error("This method was discontinued after API version 1");return U.getMessageID()}},{key:"getThreadID",value:function(){return(0,O.default)(R,this).composeViewImplementation.getThreadID()}},{key:"getDraftID",value:function(){return(0,O.default)(R,this).composeViewImplementation.getDraftID()}},{key:"getCurrentDraftID",value:function(){return(0,O.default)(R,this).composeViewImplementation.getCurrentDraftID()}},{key:"getHTMLContent",value:function(){return(0,O.default)(R,this).composeViewImplementation.getHTMLContent()}},{key:"getSelectedBodyHTML",value:function(){return(0,O.default)(R,this).composeViewImplementation.getSelectedBodyHTML()||""}},{key:"getSelectedBodyText",value:function(){return(0,O.default)(R,this).composeViewImplementation.getSelectedBodyText()||""}},{key:"getSubject",value:function(){return(0,O.default)(R,this).composeViewImplementation.getSubject()}},{key:"getTextContent",value:function(){return(0,O.default)(R,this).composeViewImplementation.getTextContent()}},{key:"getToRecipients",value:function(){return(0,O.default)(R,this).composeViewImplementation.getToRecipients()}},{key:"getCcRecipients",value:function(){return(0,O.default)(R,this).composeViewImplementation.getCcRecipients()}},{key:"getBccRecipients",value:function(){return(0,O.default)(R,this).composeViewImplementation.getBccRecipients()}},{key:"insertTextIntoBodyAtCursor",value:function(N){return(0,O.default)(R,this).composeViewImplementation.insertBodyTextAtCursor(N)}},{key:"insertHTMLIntoBodyAtCursor",value:function(N){return(0,O.default)(R,this).composeViewImplementation.insertBodyHTMLAtCursor(N)}},{key:"insertLinkChipIntoBodyAtCursor",value:function(N,K,U){return U&&typeof U=="string"&&U.indexOf("http")===0?(0,O.default)(R,this).composeViewImplementation.insertLinkChipIntoBody({text:N,url:K,iconUrl:U}):void console.warn("You must provide a publicly accessible iconUrl")}},{key:"insertLinkIntoBodyAtCursor",value:function(N,K){return(0,O.default)(R,this).composeViewImplementation.insertLinkIntoBody(N,K)}},{key:"isForward",value:function(){return(0,O.default)(R,this).composeViewImplementation.isForward()}},{key:"isInlineReplyForm",value:function(){return(0,O.default)(R,this).composeViewImplementation.isInlineReplyForm()}},{key:"isFullscreen",value:function(){return(0,O.default)(R,this).composeViewImplementation.isFullscreen()}},{key:"setFullscreen",value:function(N){(0,O.default)(R,this).composeViewImplementation.setFullscreen(N)}},{key:"isMinimized",value:function(){return(0,O.default)(R,this).composeViewImplementation.isMinimized()}},{key:"setMinimized",value:function(N){(0,O.default)(R,this).composeViewImplementation.setMinimized(N)}},{key:"setTitleBarColor",value:function(N){return(0,O.default)(R,this).composeViewImplementation.setTitleBarColor(N)}},{key:"setTitleBarText",value:function(N){return(0,O.default)(R,this).composeViewImplementation.setTitleBarText(N)}},{key:"popOut",value:function(){function N(){return K.apply(this,arguments)}var K=(0,_.default)(h.default.mark(function U(){var F,Z;return h.default.wrap(function($){for(;;)switch($.prev=$.next){case 0:return F=(0,O.default)(R,this).driver.getNextComposeViewDriver(),(0,O.default)(R,this).composeViewImplementation.popOut(),$.next=4,F;case 4:return Z=$.sent,$.abrupt("return",(0,O.default)(R,this).membrane.get(Z));case 6:case"end":return $.stop()}},U,this)}));return N}()},{key:"isReply",value:function(){return(0,O.default)(R,this).composeViewImplementation.isReply()}},{key:"setToRecipients",value:function(N){(0,O.default)(R,this).composeViewImplementation.setToRecipients(N)}},{key:"setCcRecipients",value:function(N){(0,O.default)(R,this).composeViewImplementation.setCcRecipients(N)}},{key:"setBccRecipients",value:function(N){(0,O.default)(R,this).composeViewImplementation.setBccRecipients(N)}},{key:"getFromContact",value:function(){return(0,O.default)(R,this).composeViewImplementation.getFromContact()}},{key:"getFromContactChoices",value:function(){return(0,O.default)(R,this).composeViewImplementation.getFromContactChoices()}},{key:"setFromEmail",value:function(N){(0,O.default)(R,this).composeViewImplementation.setFromEmail(N)}},{key:"setSubject",value:function(N){(0,O.default)(R,this).composeViewImplementation.setSubject(N)}},{key:"setBodyHTML",value:function(N){(0,O.default)(R,this).composeViewImplementation.setBodyHTML(N)}},{key:"setBodyText",value:function(N){(0,O.default)(R,this).composeViewImplementation.setBodyText(N)}},{key:"attachFiles",value:function(){function N(U){return K.apply(this,arguments)}var K=(0,_.default)(h.default.mark(function U(F){return h.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(F.length!==0){Z.next=2;break}return Z.abrupt("return");case 2:if(F[0]instanceof Blob){Z.next=4;break}throw new Error("parameter must be an array of Blob objects");case 4:return Z.abrupt("return",(0,O.default)(R,this).composeViewImplementation.attachFiles((0,j.default)(F)));case 5:case"end":return Z.stop()}},U,this)}));return N}()},{key:"attachInlineFiles",value:function(){function N(U){return K.apply(this,arguments)}var K=(0,_.default)(h.default.mark(function U(F){return h.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(F.length!==0){Z.next=2;break}return Z.abrupt("return");case 2:if(F[0]instanceof Blob){Z.next=4;break}throw new Error("parameter must be an array of Blob objects");case 4:return Z.abrupt("return",(0,O.default)(R,this).composeViewImplementation.attachInlineFiles((0,j.default)(F)));case 5:case"end":return Z.stop()}},U,this)}));return N}()},{key:"dragFilesIntoCompose",value:function(N){var K=(0,O.default)(R,this),U=K.driver;if(U.getLogger().deprecationWarning("ComposeView.dragFilesIntoCompose","ComposeView.attachInlineFiles"),U.getOpts().REQUESTED_API_VERSION!==1)throw new Error("This method was discontinued after API version 1");return this.attachInlineFiles(N)}},{key:"getElement",value:function(){return(0,O.default)(R,this).composeViewImplementation.getElement()}},{key:"registerRequestModifier",value:function(N){(0,O.default)(R,this).composeViewImplementation.registerRequestModifier(N)}},{key:"replaceSendButton",value:function(N){var K=N.el;return(0,O.default)(R,this).composeViewImplementation.replaceSendButton(K)}},{key:"hideDiscardButton",value:function(){return(0,O.default)(R,this).composeViewImplementation.hideDiscardButton()}},{key:"ensureFormattingToolbarIsHidden",value:function(){(0,O.default)(R,this).composeViewImplementation.ensureFormattingToolbarIsHidden()}},{key:"ensureAppButtonToolbarsAreClosed",value:function(){(0,O.default)(R,this).composeViewImplementation.ensureAppButtonToolbarsAreClosed()}},{key:"overrideEditSubject",value:function(){var N=(0,O.default)(R,this),K=N.driver,U=N.composeViewImplementation;if(K.getLogger().deprecationWarning("composeView.overrideEditSubject"),K.getOpts().REQUESTED_API_VERSION!==1)throw new Error("This method was discontinued after API version 1");typeof U.overrideEditSubject=="function"&&U.overrideEditSubject()}}]),z}(x.default);i.default=P},{"../../common/get-or-fail":642,"../lib/safe-event-emitter":899,"./compose-button-view":924,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/asyncToGenerator":36,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,"@babel/runtime-corejs2/helpers/typeof":57,"@babel/runtime-corejs2/regenerator":59,kefir:327,"kefir-cast":325,ud:625}],926:[function(e,l,i){"use strict";function a(g){var k=t();return function(){var j,x=(0,_.default)(g);if(k){var A=(0,_.default)(this).constructor;j=o(x,arguments,A)}else j=x.apply(this,arguments);return(0,h.default)(this,j)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(g){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=n(e("@babel/runtime-corejs2/core-js/weak-map")),v=(n(e("kefir")),n(e("../lib/safe-event-emitter"))),T=n(e("../../common/get-or-fail")),E=new S.default,I=function(g){function k(x){var A;(0,s.default)(this,k),A=j.call(this),(0,y.default)((0,d.default)(A),"destroyed",!1);var w={contentPanelViewImplementation:x};return E.set((0,d.default)(A),w),A._bindToStreamEvents(),A}(0,m.default)(k,g);var j=a(k);return(0,f.default)(k,[{key:"remove",value:function(){(0,T.default)(E,this).contentPanelViewImplementation.remove()}},{key:"close",value:function(){(0,T.default)(E,this).contentPanelViewImplementation.close()}},{key:"open",value:function(){(0,T.default)(E,this).contentPanelViewImplementation.open()}},{key:"isActive",value:function(){return(0,T.default)(E,this).contentPanelViewImplementation.isActive()}},{key:"_bindToStreamEvents",value:function(){var x=this,A=(0,T.default)(E,this).contentPanelViewImplementation.getEventStream();A.onValue(function(w){var C=w.eventName;x.emit(C)}),A.onEnd(function(){x.destroyed=!0,x.emit("destroy")})}}]),k}(v.default);i.default=I},{"../../common/get-or-fail":642,"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,kefir:327}],927:[function(e,l,i){"use strict";function a(I){var g=t();return function(){var k,j=(0,_.default)(I);if(g){var x=(0,_.default)(this).constructor;k=o(j,arguments,x)}else k=j.apply(this,arguments);return(0,h.default)(this,k)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(I){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=e("ud"),v=(n(e("util")),n(e("../../lib/safe-event-emitter"))),T=function(I){function g(j,x,A){var w;return(0,s.default)(this,g),w=k.call(this),(0,y.default)((0,d.default)(w),"_attachmentCardImplementation",void 0),(0,y.default)((0,d.default)(w),"_driver",void 0),(0,y.default)((0,d.default)(w),"_membrane",void 0),(0,y.default)((0,d.default)(w),"destroyed",void 0),w.destroyed=!1,w._driver=x,w._membrane=A,w._attachmentCardImplementation=j,w._attachmentCardImplementation.getStopper().onValue(function(){w.destroyed=!0,w.emit("destroy")}),w}(0,m.default)(g,I);var k=a(g);return(0,f.default)(g,[{key:"getAttachmentType",value:function(){return this._attachmentCardImplementation.getAttachmentType()}},{key:"addButton",value:function(j){this._attachmentCardImplementation.addButton(j)}},{key:"getTitle",value:function(){return this._attachmentCardImplementation.getTitle()}},{key:"getDownloadURL",value:function(){if(this._driver.getLogger().deprecationWarning("AttachmentCardView.getDownloadURL","AttachmentCardView.addButton -> onClick -> AttachmentCardClickEvent"),this._driver.getOpts().REQUESTED_API_VERSION!==1)throw new Error("This method was discontinued after API version 1");return this._attachmentCardImplementation.getDownloadURL()}},{key:"getMessageView",value:function(){var j=this._attachmentCardImplementation.getMessageViewDriver();return j?this._membrane.get(j):null}}]),g}(v.default),E=(0,S.defn)(l,T);i.default=E},{"../../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,ud:625,util:629}],928:[function(e,l,i){"use strict";function a(E){var I=t();return function(){var g,k=(0,_.default)(E);if(I){var j=(0,_.default)(this).constructor;g=o(k,arguments,j)}else g=k.apply(this,arguments);return(0,h.default)(this,g)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(E){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=(n(e("kefir")),n(e("kefir-stopper"))),v=(n(e("lodash/once")),n(e("../../lib/safe-event-emitter"))),T=function(E){function I(k,j){var x;return(0,s.default)(this,I),x=g.call(this),(0,y.default)((0,d.default)(x),"_el",void 0),(0,y.default)((0,d.default)(x),"_iconEl",void 0),(0,y.default)((0,d.default)(x),"_contentEl",void 0),(0,y.default)((0,d.default)(x),"_contentHeaderEl",void 0),(0,y.default)((0,d.default)(x),"_contentBodyEl",void 0),(0,y.default)((0,d.default)(x),"_destroyed",!1),(0,y.default)((0,d.default)(x),"_stopper",(0,S.default)()),(0,y.default)((0,d.default)(x),"_isCollapsed",!0),(0,y.default)((0,d.default)(x),"_lastDescriptor",void 0),x._setupElement(),k.takeUntilBy(x._stopper).onValue(function(A){x._el.setAttribute("data-inboxsdk-sortdate",String(A.sortDate.getTime()));var w=x._lastDescriptor;if(x._lastDescriptor=A,!w||w.iconUrl!==A.iconUrl){var C=document.createElement("img");C.src=A.iconUrl,x._iconEl.innerHTML="",x._iconEl.appendChild(C)}w&&w.collapsedEl===A.collapsedEl||!x._isCollapsed||(w&&w.collapsedEl.remove(),x._contentEl.appendChild(A.collapsedEl)),w&&w.headerEl===A.headerEl||(w&&w.headerEl.remove(),x._contentHeaderEl.appendChild(A.headerEl)),w&&w.bodyEl===A.bodyEl||(w&&w.bodyEl.remove(),x._contentBodyEl.appendChild(A.bodyEl))}).take(1).onValue(j),x}(0,m.default)(I,E);var g=a(I);return(0,f.default)(I,[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._stopper.destroy(),this.emit("destroy"),this._el.remove())}},{key:"expand",value:function(){this._isCollapsed=!1;var k=this._lastDescriptor;k&&k.collapsedEl.remove(),this._contentEl.appendChild(this._contentHeaderEl),this._contentEl.appendChild(this._contentBodyEl),this._el.classList.remove("inboxsdk__custom_message_view_collapsed"),this.emit("expanded")}},{key:"collapse",value:function(){this._isCollapsed=!0,this._contentHeaderEl.remove(),this._contentBodyEl.remove();var k=this._lastDescriptor;k&&this._contentEl.appendChild(k.collapsedEl),this._el.classList.add("inboxsdk__custom_message_view_collapsed"),this.emit("collapsed")}},{key:"getElement",value:function(){return this._el}},{key:"getSortDate",value:function(){return this._lastDescriptor?this._lastDescriptor.sortDate:null}},{key:"_setupElement",value:function(){var k=this;this._el=document.createElement("div"),this._el.classList.add("inboxsdk__custom_message_view"),this._el.classList.add("inboxsdk__custom_message_view_collapsed"),this._iconEl=document.createElement("div"),this._iconEl.classList.add("inboxsdk__custom_message_view_icon"),this._contentEl=document.createElement("div"),this._contentEl.classList.add("inboxsdk__custom_message_view_content"),this._contentHeaderEl=document.createElement("div"),this._contentHeaderEl.classList.add("inboxsdk__custom_message_view_header"),this._contentBodyEl=document.createElement("div"),this._contentBodyEl.classList.add("inboxsdk__custom_message_view_body"),this._el.appendChild(this._iconEl),this._el.appendChild(this._contentEl),this._el.addEventListener("click",function(j){k._isCollapsed&&(k.expand(),j.preventDefault(),j.stopPropagation())}),this._contentHeaderEl.addEventListener("click",function(j){k.collapse(),j.preventDefault(),j.stopPropagation()})}}]),I}(v.default);i.default=T},{"../../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,kefir:327,"kefir-stopper":326,"lodash/once":516}],929:[function(e,l,i){"use strict";function a(C){var O=t();return function(){var V,R=(0,y.default)(C);if(O){var P=(0,y.default)(this).constructor;V=u(R,arguments,P)}else V=R.apply(this,arguments);return(0,_.default)(this,V)}}function t(){if(typeof Reflect=="undefined"||!u||u.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!0}catch(C){return!1}}function o(C,O,V){V.onEnd(function(){C.destroyed=!0,C.emit("destroy"),C.removeAllListeners()}),V.filter(function(R){return R.type!=="internal"&&R.eventName==="contactHover"}).onValue(function(R){C.emit(R.eventName,{contactType:R.contactType,contact:R.contact,messageView:C,threadView:C.getThreadView()})}),C.isLoaded()?(0,I.default)(function(){C.emit("load",{messageView:C})}):V.filter(function(R){return R.eventName==="messageLoad"}).onValue(function(R){C.emit("load",{messageView:C})}),V.filter(function(R){return R.eventName==="viewStateChange"}).onValue(function(R){C.emit("viewStateChange",{oldViewState:O.Conversations.MessageViewViewStates[R.oldValue],newViewState:O.Conversations.MessageViewViewStates[R.newValue],messageView:C})})}var u=e("@babel/runtime-corejs2/core-js/reflect/construct"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),h=s(e("@babel/runtime-corejs2/helpers/inherits")),_=s(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),y=s(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),S=s(e("@babel/runtime-corejs2/helpers/defineProperty")),v=s(e("@babel/runtime-corejs2/core-js/weak-map")),T=s(e("@babel/runtime-corejs2/core-js/array/from")),E=e("ud"),I=s(e("asap")),g=s(e("../../lib/safe-event-emitter")),k=s(e("../../../common/get-or-fail")),j=(s(e("./attachment-card-view")),e("../../namespaces/conversations")),x=(0,E.defonce)(l,function(){return new v.default}),A=function(C){function O(R,P,B,z,Q){var N;(0,f.default)(this,O),N=V.call(this),(0,S.default)((0,m.default)(N),"destroyed",!1);var K={messageViewImplementation:R,membrane:B,Conversations:z,driver:Q,linksInBody:null};return x.set((0,m.default)(N),K),o((0,m.default)(N),K,R.getEventStream()),N}(0,h.default)(O,C);var V=a(O);return(0,d.default)(O,[{key:"addAttachmentCardView",value:function(R){var P=(0,k.default)(x,this),B=P.messageViewImplementation,z=P.membrane,Q=B.addAttachmentCard(R),N=z.get(Q);return Q.getPreviewClicks().onValue(function(K){R.previewOnClick&&R.previewOnClick({attachmentCardView:N,preventDefault:function(){return K.preventDefault()}})}),N}},{key:"addAttachmentCardViewNoPreview",value:function(R){return this.addAttachmentCardView(R)}},{key:"addAttachmentsToolbarButton",value:function(R){var P=(0,k.default)(x,this),B=P.messageViewImplementation,z=P.membrane;B.addButtonToDownloadAllArea({tooltip:R.tooltip,iconUrl:R.iconUrl,onClick:function(){var Q=B.getAttachmentCardViewDrivers().map(function(N){return z.get(N)});R.onClick({attachmentCardViews:Q})}})}},{key:"addToolbarButton",value:function(R){if(typeof R.onClick!="function"||typeof R.title!="string"||!Object.prototype.hasOwnProperty.call(j.MessageViewToolbarSectionNames,R.section))throw new Error("Missing required properties on MessageViewToolbarButtonDescriptor object");(0,k.default)(x,this).messageViewImplementation.addMoreMenuItem(R)}},{key:"getBodyElement",value:function(){return(0,k.default)(x,this).messageViewImplementation.getContentsElement()}},{key:"getMessageID",value:function(){return(0,k.default)(x,this).driver.getLogger().deprecationWarning("messageView.getMessageID","messageView.getMessageIDAsync"),(0,k.default)(x,this).messageViewImplementation.getMessageID()}},{key:"getMessageIDAsync",value:function(){return(0,k.default)(x,this).messageViewImplementation.getMessageIDAsync()}},{key:"getFileAttachmentCardViews",value:function(){var R=(0,k.default)(x,this),P=R.messageViewImplementation,B=R.membrane;return P.getAttachmentCardViewDrivers().filter(function(z){return z.getAttachmentType()==="FILE"}).map(function(z){return B.get(z)})}},{key:"getAttachmentCardViews",value:function(){var R=(0,k.default)(x,this),P=R.driver;if(P.getLogger().deprecationWarning("MessageView.getAttachmentCardViews","MessageView.getFileAttachmentCardViews"),P.getOpts().REQUESTED_API_VERSION!==1)throw new Error("This method was discontinued after API version 1");return this.getFileAttachmentCardViews()}},{key:"isElementInQuotedArea",value:function(R){return(0,k.default)(x,this).messageViewImplementation.isElementInQuotedArea(R)}},{key:"isLoaded",value:function(){return(0,k.default)(x,this).messageViewImplementation.isLoaded()}},{key:"getLinksInBody",value:function(){var R=this,P=(0,k.default)(x,this);if(!P.linksInBody){var B=this.getBodyElement().querySelectorAll("a");P.linksInBody=(0,T.default)(B).map(function(z){return{text:z.textContent,html:z.innerHTML,href:z.href,element:z,isInQuotedArea:R.isElementInQuotedArea(z)}})}return P.linksInBody}},{key:"getSender",value:function(){return(0,k.default)(x,this).messageViewImplementation.getSender()}},{key:"getRecipients",value:function(){return(0,k.default)(x,this).driver.getLogger().deprecationWarning("MessageView.getRecipients","MessageView.getRecipientEmailAddresses() or MessageView.getRecipientsFull()"),this.getRecipientEmailAddresses().map(function(R){return{emailAddress:R,name:null}})}},{key:"getRecipientEmailAddresses",value:function(){return(0,k.default)(x,this).messageViewImplementation.getRecipientEmailAddresses()}},{key:"getRecipientsFull",value:function(){return(0,k.default)(x,this).messageViewImplementation.getRecipientsFull()}},{key:"getThreadView",value:function(){var R=(0,k.default)(x,this),P=R.messageViewImplementation;return R.membrane.get(P.getThreadViewDriver())}},{key:"getDateString",value:function(){return(0,k.default)(x,this).messageViewImplementation.getDateString()}},{key:"addAttachmentIcon",value:function(R){return(0,k.default)(x,this).messageViewImplementation.addAttachmentIcon(R)}},{key:"getViewState",value:function(){var R=(0,k.default)(x,this);return R.Conversations.MessageViewViewStates[R.messageViewImplementation.getViewState()]}},{key:"hasOpenReply",value:function(){var R=(0,k.default)(x,this),P=R.driver;if(R.messageViewImplementation,P.getLogger().deprecationWarning("MessageView.hasOpenReply"),P.getOpts().REQUESTED_API_VERSION!==1)throw new Error("This method was discontinued after API version 1");return(0,k.default)(x,this).messageViewImplementation.hasOpenReply()}}]),O}(g.default),w=(0,E.defn)(l,A);i.default=w},{"../../../common/get-or-fail":642,"../../lib/safe-event-emitter":899,"../../namespaces/conversations":909,"./attachment-card-view":927,"@babel/runtime-corejs2/core-js/array/from":1,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,asap:83,ud:625}],930:[function(e,l,i){"use strict";function a(C){var O=t();return function(){var V,R=(0,y.default)(C);if(O){var P=(0,y.default)(this).constructor;V=u(R,arguments,P)}else V=R.apply(this,arguments);return(0,_.default)(this,V)}}function t(){if(typeof Reflect=="undefined"||!u||u.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!0}catch(C){return!1}}function o(C,O){O.getEventStream().onEnd(function(){C.destroyed=!0,C.emit("destroy"),C.removeAllListeners()}),O.getEventStream().filter(function(V){return V.type!=="internal"&&V.eventName==="contactHover"}).onValue(function(V){var R=(0,j.default)(x,C),P=R.membrane;C.emit(V.eventName,{contactType:V.contactType,messageView:P.get(V.messageViewDriver),contact:V.contact,threadView:C})})}var u=e("@babel/runtime-corejs2/core-js/reflect/construct"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),h=s(e("@babel/runtime-corejs2/helpers/inherits")),_=s(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),y=s(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),S=s(e("@babel/runtime-corejs2/helpers/defineProperty")),v=s(e("@babel/runtime-corejs2/core-js/weak-map")),T=e("ud"),E=s(e("../../lib/safe-event-emitter")),I=s(e("kefir-cast")),g=s(e("kefir")),k=s(e("../content-panel-view")),j=s(e("../../../common/get-or-fail")),x=(0,T.defonce)(l,function(){return new v.default}),A=function(C){function O(R,P,B,z){var Q;(0,f.default)(this,O),Q=V.call(this),(0,S.default)((0,m.default)(Q),"destroyed",!1);var N={threadViewImplementation:R,appId:P,driver:B,membrane:z};return x.set((0,m.default)(Q),N),o((0,m.default)(Q),R),Q}(0,h.default)(O,C);var V=a(O);return(0,d.default)(O,[{key:"addSidebarContentPanel",value:function(R){var P=(0,I.default)(g.default,R).toProperty(),B=(0,j.default)(x,this);B.driver.getLogger().eventSdkPassive("threadView.addSidebarContentPanel");var z=B.threadViewImplementation.addSidebarContentPanel(P);return z?new k.default(z):null}},{key:"addNoticeBar",value:function(){return(0,j.default)(x,this).threadViewImplementation.addNoticeBar()}},{key:"registerHiddenCustomMessageNoticeProvider",value:function(R){return(0,j.default)(x,this).threadViewImplementation.registerHiddenCustomMessageNoticeProvider(R)}},{key:"addCustomMessage",value:function(R){var P=(0,I.default)(g.default,R).toProperty(),B=(0,j.default)(x,this);return B.driver.getLogger().eventSdkPassive("threadView.addCustomMessage"),B.threadViewImplementation.addCustomMessage(P)}},{key:"getMessageViews",value:function(){var R=(0,j.default)(x,this),P=R.threadViewImplementation,B=R.membrane;return P.getMessageViewDrivers().filter(function(z){return z.isLoaded()}).map(function(z){return B.get(z)})}},{key:"getMessageViewsAll",value:function(){var R=(0,j.default)(x,this),P=R.threadViewImplementation,B=R.membrane;return P.getMessageViewDrivers().map(function(z){return B.get(z)})}},{key:"getSubject",value:function(){return(0,j.default)(x,this).threadViewImplementation.getSubject()}},{key:"getThreadID",value:function(){return(0,j.default)(x,this).driver.getLogger().deprecationWarning("threadView.getThreadID","threadView.getThreadIDAsync"),(0,j.default)(x,this).threadViewImplementation.getThreadID()}},{key:"getThreadIDAsync",value:function(){return(0,j.default)(x,this).threadViewImplementation.getThreadIDAsync()}},{key:"addLabel",value:function(){return(0,j.default)(x,this).threadViewImplementation.addLabel()}}]),O}(E.default),w=(0,T.defn)(l,A);i.default=w},{"../../../common/get-or-fail":642,"../../lib/safe-event-emitter":899,"../content-panel-view":926,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,kefir:327,"kefir-cast":325,ud:625}],931:[function(e,l,i){"use strict";function a(T){var E=t();return function(){var I,g=(0,_.default)(T);if(E){var k=(0,_.default)(this).constructor;I=o(g,arguments,k)}else I=g.apply(this,arguments);return(0,h.default)(this,I)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(T){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=n(e("../lib/safe-event-emitter")),v=function(T){function E(g,k){var j;return(0,s.default)(this,E),j=I.call(this),(0,y.default)((0,d.default)(j),"chord",void 0),(0,y.default)((0,d.default)(j),"description",void 0),j.chord=g,j.description=k,j}(0,m.default)(E,T);var I=a(E);return(0,f.default)(E,[{key:"remove",value:function(){this.emit("destroy")}}]),E}(S.default);i.default=v},{"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}],932:[function(e,l,i){"use strict";function a(x){var A=t();return function(){var w,C=(0,y.default)(x);if(A){var O=(0,y.default)(this).constructor;w=u(C,arguments,O)}else w=C.apply(this,arguments);return(0,_.default)(this,w)}}function t(){if(typeof Reflect=="undefined"||!u||u.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!0}catch(x){return!1}}function o(x,A){switch(A.eventName){case"expanded":case"collapsed":x.emit(A.eventName)}}var u=e("@babel/runtime-corejs2/core-js/reflect/construct"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),h=s(e("@babel/runtime-corejs2/helpers/inherits")),_=s(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),y=s(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),S=s(e("@babel/runtime-corejs2/core-js/weak-map")),v=s(e("../lib/safe-event-emitter")),T=s(e("kefir")),E=s(e("kefir-cast")),I=(s(e("../../common/defer")),s(e("../../common/get-or-fail"))),g=s(e("./nav-item-view")),k=new S.default,j=function(x){function A(C,O,V,R){var P;(0,f.default)(this,A),P=w.call(this);var B={appId:C,driver:O,labelName:V,navItemViews:[],navItemViewDriver:null,navItemViewDriverPromise:R};return k.set((0,m.default)(P),B),R.then(function(z){z&&(B.navItemViewDriver=z,z.getEventStream().onValue(function(Q){return o((0,m.default)(P),Q)}))}),P}(0,h.default)(A,x);var w=a(A);return(0,d.default)(A,[{key:"addNavItem",value:function(C){var O=(0,I.default)(k,this),V=(0,E.default)(T.default,C).toProperty(),R=new g.default(O.appId,O.driver,V,O.navItemViewDriverPromise.then(function(P){return P.addNavItem(O.appId,V)}));return O.navItemViews.push(R),R}},{key:"isCollapsed",value:function(){return localStorage.getItem("inboxsdk__nativeNavItem__state_"+(0,I.default)(k,this).labelName)==="collapsed"}},{key:"setCollapsed",value:function(C){var O=(0,I.default)(k,this);O.navItemViewDriver?O.navItemViewDriver.setCollapsed(C):localStorage.setItem("inboxsdk__nativeNavItem__state_"+O.labelName,C?"collapsed":"expanded")}}]),A}(v.default);i.default=j},{"../../common/defer":639,"../../common/get-or-fail":642,"../lib/safe-event-emitter":899,"./nav-item-view":933,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,kefir:327,"kefir-cast":325}],933:[function(e,l,i){"use strict";function a(O){var V=t();return function(){var R,P=(0,v.default)(O);if(V){var B=(0,v.default)(this).constructor;R=n(P,arguments,B)}else R=P.apply(this,arguments);return(0,S.default)(this,R)}}function t(){if(typeof Reflect=="undefined"||!n||n.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],function(){})),!0}catch(O){return!1}}function o(O,V,R,P){var B=(0,d.default)(P,2),z=B[0],Q=B[1];switch(Q.eventName){case"click":if(z.type===A.default.GROUPER)return;if(typeof z.onClick=="function"){var N=!1,K={preventDefault:function(){N=!0}};if(z.onClick(K),N)break}z.routeID?R.goto(z.routeID,z.routeParams):V.toggleCollapse();break;case"expanded":case"collapsed":O.emit(Q.eventName)}}function u(O,V){var R=(0,d.default)(V,2),P=R[0],B=R[1];O.setActive(P&&B.getRouteID()===P.routeID&&(0,I.default)(P.routeParams||{},B.getParams()))}var n=e("@babel/runtime-corejs2/core-js/reflect/construct"),s=e("@babel/runtime-corejs2/core-js/object/define-property"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");s(i,"__esModule",{value:!0}),i.default=void 0;var d=f(e("@babel/runtime-corejs2/helpers/slicedToArray")),m=f(e("@babel/runtime-corejs2/helpers/classCallCheck")),h=f(e("@babel/runtime-corejs2/helpers/createClass")),_=f(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),y=f(e("@babel/runtime-corejs2/helpers/inherits")),S=f(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),v=f(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),T=f(e("@babel/runtime-corejs2/helpers/defineProperty")),E=f(e("@babel/runtime-corejs2/core-js/weak-map")),I=f(e("lodash/isEqual")),g=f(e("kefir")),k=f(e("kefir-cast")),j=(f(e("../../common/defer")),f(e("../../common/get-or-fail"))),x=f(e("../lib/safe-event-emitter")),A=f(e("../constants/nav-item-types")),w=new E.default,C=function(O){function V(P,B,z,Q){var N;(0,m.default)(this,V),N=R.call(this),(0,T.default)((0,_.default)(N),"destroyed",!1);var K={appId:P,driver:B,navItemDescriptorPropertyStream:z,navItemViews:[],navItemViewDriver:null,navItemViewDriverPromise:Q};return w.set((0,_.default)(N),K),B.getStopper().onValue(N.remove.bind((0,_.default)(N))),Q.then(function(U){if(!N.destroyed&&U){var F=K.driver;K.navItemViewDriver=U,K.navItemDescriptorPropertyStream.sampledBy(U.getEventStream(),function(Z,$){return[Z,$]}).onValue(function(Z){return o((0,_.default)(N),U,F,Z)}),g.default.combine([K.navItemDescriptorPropertyStream,F.getRouteViewDriverStream()]).takeUntilBy(U.getEventStream().filter(function(){return!1}).beforeEnd(function(){return null})).onValue(function(Z){u(U,Z)})}}),N}(0,y.default)(V,O);var R=a(V);return(0,h.default)(V,[{key:"addNavItem",value:function(P){if(this.destroyed)throw new Error("this nav item view does not exist");var B=(0,j.default)(w,this),z=B.driver,Q=B.appId,N=B.navItemViews,K=(0,k.default)(g.default,P).toProperty(),U=new V(Q,z,K,B.navItemViewDriverPromise.then(function(F){return F.addNavItem(B.appId,K)}));return N.push(U),U}},{key:"remove",value:function(){if(!this.destroyed){var P=(0,j.default)(w,this),B=P.navItemViews;this.destroyed=!0,this.emit("destroy"),B.forEach(function(z){z.remove()}),P.navItemViewDriverPromise.then(function(z){z.destroy()})}}},{key:"isCollapsed",value:function(){var P=(0,j.default)(w,this),B=P.navItemViewDriver;return!!B&&B.isCollapsed()}},{key:"setCollapsed",value:function(P){(0,j.default)(w,this).navItemViewDriverPromise.then(function(B){B.setCollapsed(P)})}}]),V}(x.default);i.default=C},{"../../common/defer":639,"../../common/get-or-fail":642,"../constants/nav-item-types":657,"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,"@babel/runtime-corejs2/helpers/slicedToArray":53,kefir:327,"kefir-cast":325,"lodash/isEqual":501}],934:[function(e,l,i){"use strict";function a(k){var j=t();return function(){var x,A=(0,y.default)(k);if(j){var w=(0,y.default)(this).constructor;x=o(A,arguments,w)}else x=A.apply(this,arguments);return(0,_.default)(this,x)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(k){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/core-js/weak-map")),f=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=n(e("@babel/runtime-corejs2/helpers/createClass")),m=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),h=n(e("@babel/runtime-corejs2/helpers/inherits")),_=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),y=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),S=e("ud"),v=n(e("./route-view")),T=n(e("../../../common/get-or-fail")),E=function(k){function j(A){var w;(0,f.default)(this,j),w=x.call(this,A);var C={routeViewDriver:A};return I.set((0,m.default)(w),C),w}(0,h.default)(j,k);var x=a(j);return(0,d.default)(j,[{key:"setFullWidth",value:function(A){(0,T.default)(I,this).routeViewDriver.setFullWidth(A)}},{key:"getElement",value:function(){var A=(0,T.default)(I,this),w=A.routeViewDriver,C=w.getCustomViewElement();if(!C)throw new Error("Should not happen");return C}}]),j}(v.default),I=(0,S.defonce)(l,function(){return new s.default}),g=(0,S.defn)(l,E);i.default=g},{"../../../common/get-or-fail":642,"./route-view":937,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,ud:625}],935:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=(t(e("kefir")),t(e("kefir-bus"))),f=t(e("kefir-stopper")),d=e("ud"),m=function(){function _(){(0,o.default)(this,_),(0,n.default)(this,"_eventStream",(0,s.default)()),(0,n.default)(this,"_stopper",(0,f.default)())}return(0,u.default)(_,[{key:"getRouteType",value:function(){return"UNKNOWN"}},{key:"getRouteID",value:function(){return"UNKNOWN"}},{key:"getParams",value:function(){return{}}},{key:"getEventStream",value:function(){return this._eventStream}},{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._eventStream.end(),this._stopper.destroy()}}]),_}(),h=(0,d.defn)(l,m);i.default=h},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,kefir:327,"kefir-bus":324,"kefir-stopper":326,ud:625}],936:[function(e,l,i){"use strict";function a(C){var O=t();return function(){var V,R=(0,S.default)(C);if(O){var P=(0,S.default)(this).constructor;V=u(R,arguments,P)}else V=R.apply(this,arguments);return(0,y.default)(this,V)}}function t(){if(typeof Reflect=="undefined"||!u||u.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!0}catch(C){return!1}}function o(C,O){C.getEventStream().onEnd(function(){(0,j.default)(A,O).sectionViews.forEach(function(V){V.destroy()})})}var u=e("@babel/runtime-corejs2/core-js/reflect/construct"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/core-js/weak-map")),d=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),m=s(e("@babel/runtime-corejs2/helpers/createClass")),h=s(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),_=s(e("@babel/runtime-corejs2/helpers/inherits")),y=s(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),S=s(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),v=e("ud"),T=s(e("./route-view")),E=s(e("kefir")),I=s(e("kefir-cast")),g=s(e("../collapsible-section-view")),k=s(e("../section-view")),j=s(e("../../../common/get-or-fail")),x=function(C){function O(R,P,B){var z;(0,d.default)(this,O),z=V.call(this,R);var Q={routeViewDriver:R,driver:P,appId:B,sectionViews:[]};return A.set((0,h.default)(z),Q),o(R,(0,h.default)(z)),z}(0,_.default)(O,C);var V=a(O);return(0,m.default)(O,[{key:"addCollapsibleSection",value:function(R){var P=(0,j.default)(A,this),B=P.routeViewDriver.addCollapsibleSection((0,I.default)(E.default,R).toProperty(),P.appId),z=new g.default(B,P.driver);return P.sectionViews.push(z),z}},{key:"addSection",value:function(R){var P=(0,j.default)(A,this),B=P.routeViewDriver.addSection((0,I.default)(E.default,R).toProperty(),P.appId),z=new k.default(B,P.driver);return P.sectionViews.push(z),z}},{key:"refresh",value:function(){(0,j.default)(A,this).routeViewDriver.refresh()}}]),O}(T.default),A=new f.default,w=(0,v.defn)(l,x);i.default=w},{"../../../common/get-or-fail":642,"../collapsible-section-view":923,"../section-view":938,"./route-view":937,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,kefir:327,"kefir-cast":325,ud:625}],937:[function(e,l,i){"use strict";function a(x){var A=t();return function(){var w,C=(0,y.default)(x);if(A){var O=(0,y.default)(this).constructor;w=u(C,arguments,O)}else w=C.apply(this,arguments);return(0,_.default)(this,w)}}function t(){if(typeof Reflect=="undefined"||!u||u.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!0}catch(x){return!1}}function o(x,A){x.getEventStream().onEnd(function(){A.destroyed=!0,A.emit("destroy"),A.removeAllListeners()})}var u=e("@babel/runtime-corejs2/core-js/reflect/construct"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),h=s(e("@babel/runtime-corejs2/helpers/inherits")),_=s(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),y=s(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),S=s(e("@babel/runtime-corejs2/helpers/defineProperty")),v=s(e("@babel/runtime-corejs2/core-js/weak-map")),T=s(e("../../lib/safe-event-emitter")),E=e("ud"),I=s(e("../../../common/get-or-fail")),g=new v.default,k=function(x){function A(C){var O;(0,f.default)(this,A),O=w.call(this),(0,S.default)((0,m.default)(O),"destroyed",void 0);var V={routeID:null,routeType:null,params:null,routeViewDriver:C};return g.set((0,m.default)(O),V),O.destroyed=!1,o(C,(0,m.default)(O)),O}(0,h.default)(A,x);var w=a(A);return(0,d.default)(A,[{key:"getRouteID",value:function(){var C=(0,I.default)(g,this);return C.routeID||(C.routeID=C.routeViewDriver.getRouteID()),C.routeID}},{key:"getRouteType",value:function(){var C=(0,I.default)(g,this);return C.routeType||(C.routeType=C.routeViewDriver.getRouteType()),C.routeType}},{key:"getParams",value:function(){var C=(0,I.default)(g,this);return C.params||(C.params=C.routeViewDriver.getParams()),C.params}}]),A}(T.default),j=(0,E.defn)(l,k);i.default=j},{"../../../common/get-or-fail":642,"../../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,ud:625}],938:[function(e,l,i){"use strict";function a(x){var A=t();return function(){var w,C=(0,y.default)(x);if(A){var O=(0,y.default)(this).constructor;w=u(C,arguments,O)}else w=C.apply(this,arguments);return(0,_.default)(this,w)}}function t(){if(typeof Reflect=="undefined"||!u||u.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(u(Boolean,[],function(){})),!0}catch(x){return!1}}function o(x,A,w){A.getEventStream().onValue(function(C){x.emit(C.eventName)}),A.getEventStream().filter(function(C){return C.eventName==="rowClicked"}).onValue(function(C){var O=C.rowDescriptor;O.routeID&&w.goto(O.routeID,O.routeParams),typeof O.onClick=="function"&&O.onClick()}),A.getEventStream().filter(function(C){return C.eventName==="summaryClicked"}).onValue(function(C){var O=C.sectionDescriptor;O.onTitleLinkClick&&O.onTitleLinkClick(x)}),A.getEventStream().filter(function(C){return C.eventName==="footerClicked"}).onValue(function(C){var O=C.sectionDescriptor;O.onFooterLinkClick&&O.onFooterLinkClick(x)}),A.getEventStream().onEnd(function(){x.destroyed=!0,x.emit("destroy")})}var u=e("@babel/runtime-corejs2/core-js/reflect/construct"),n=e("@babel/runtime-corejs2/core-js/object/define-property"),s=e("@babel/runtime-corejs2/helpers/interopRequireDefault");n(i,"__esModule",{value:!0}),i.default=void 0;var f=s(e("@babel/runtime-corejs2/helpers/classCallCheck")),d=s(e("@babel/runtime-corejs2/helpers/createClass")),m=s(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),h=s(e("@babel/runtime-corejs2/helpers/inherits")),_=s(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),y=s(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),S=s(e("@babel/runtime-corejs2/helpers/defineProperty")),v=s(e("@babel/runtime-corejs2/core-js/weak-map")),T=e("ud"),E=s(e("../lib/safe-event-emitter")),I=s(e("../../common/get-or-fail")),g=new v.default,k=function(x){function A(C,O){var V;(0,f.default)(this,A),V=w.call(this),(0,S.default)((0,m.default)(V),"destroyed",void 0);var R={sectionViewDriver:C};return g.set((0,m.default)(V),R),V.destroyed=!1,o((0,m.default)(V),C,O),V}(0,h.default)(A,x);var w=a(A);return(0,d.default)(A,[{key:"remove",value:function(){this.destroy()}},{key:"destroy",value:function(){(0,I.default)(g,this).sectionViewDriver.destroy(),this.removeAllListeners()}}]),A}(E.default),j=(0,T.defn)(l,k);i.default=j},{"../../common/get-or-fail":642,"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,ud:625}],939:[function(e,l,i){"use strict";function a(k){var j=t();return function(){var x,A=(0,_.default)(k);if(j){var w=(0,_.default)(this).constructor;x=o(A,arguments,w)}else x=A.apply(this,arguments);return(0,h.default)(this,x)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(k){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=n(e("@babel/runtime-corejs2/core-js/weak-map")),v=n(e("@babel/runtime-corejs2/core-js/promise")),T=n(e("../lib/safe-event-emitter")),E=n(e("../../common/get-or-fail")),I=new S.default,g=function(k){function j(A){var w;(0,s.default)(this,j),w=x.call(this),(0,y.default)((0,d.default)(w),"destroyed",void 0);var C={threadRowViewDriver:A};return I.set((0,d.default)(w),C),w.destroyed=!1,A.getEventStream().onEnd(function(){w.destroyed=!0,w.emit("destroy")}),A.setUserView((0,d.default)(w)),w}(0,m.default)(j,k);var x=a(j);return(0,f.default)(j,[{key:"addLabel",value:function(A){(0,E.default)(I,this).threadRowViewDriver.addLabel(A)}},{key:"addImage",value:function(A){(0,E.default)(I,this).threadRowViewDriver.addImage(A)}},{key:"addButton",value:function(A){(0,E.default)(I,this).threadRowViewDriver.addButton(A)}},{key:"addActionButton",value:function(A){(0,E.default)(I,this).threadRowViewDriver.addActionButton(A)}},{key:"addAttachmentIcon",value:function(A){(0,E.default)(I,this).threadRowViewDriver.addAttachmentIcon(A)}},{key:"replaceDate",value:function(A){(0,E.default)(I,this).threadRowViewDriver.replaceDate(A)}},{key:"replaceDraftLabel",value:function(A){(0,E.default)(I,this).threadRowViewDriver.replaceDraftLabel(A)}},{key:"getElement",value:function(){return(0,E.default)(I,this).threadRowViewDriver.getElement()}},{key:"getSubject",value:function(){return(0,E.default)(I,this).threadRowViewDriver.getSubject()}},{key:"getDateString",value:function(){return(0,E.default)(I,this).threadRowViewDriver.getDateString()}},{key:"getThreadID",value:function(){return(0,E.default)(I,this).threadRowViewDriver.getThreadID()}},{key:"getThreadIDAsync",value:function(){return(0,E.default)(I,this).threadRowViewDriver.getThreadIDAsync()}},{key:"getThreadIDIfStable",value:function(){return this.getVisibleMessageCount()>0?this.getThreadID():null}},{key:"getThreadIDIfStableAsync",value:function(){return this.getVisibleMessageCount()>0?this.getThreadIDAsync():v.default.resolve(null)}},{key:"getDraftID",value:function(){return(0,E.default)(I,this).threadRowViewDriver.getDraftID()}},{key:"getVisibleDraftCount",value:function(){return(0,E.default)(I,this).threadRowViewDriver.getVisibleDraftCount()}},{key:"getVisibleMessageCount",value:function(){return(0,E.default)(I,this).threadRowViewDriver.getVisibleMessageCount()}},{key:"getContacts",value:function(){return(0,E.default)(I,this).threadRowViewDriver.getContacts()}}]),j}(T.default);i.default=g},{"../../common/get-or-fail":642,"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/promise":24,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}],940:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=t(e("kefir-stopper")),f=function(){function d(m){var h=this;(0,o.default)(this,d),(0,n.default)(this,"_activateFunction",void 0),(0,n.default)(this,"_view",void 0),(0,n.default)(this,"_stopper",(0,s.default)()),this._activateFunction=m.activateFunction||m.onClick,this._view=m.buttonView,this._view.getEventStream().filter(function(_){return _.eventName==="click"}).onValue(function(){h.activate()})}return(0,u.default)(d,[{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._activateFunction=null,this._view.destroy(),this._stopper.destroy()}},{key:"update",value:function(m){this.getView().update(m),this.setActivateFunction(m&&(m.activateFunction||m.onClick))}},{key:"getView",value:function(){return this._view}},{key:"setActivateFunction",value:function(m){this._activateFunction=m}},{key:"activate",value:function(){this._activateFunction&&this._activateFunction({})}}]),d}();i.default=f},{"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"kefir-stopper":326}],941:[function(e,l,i){"use strict";var a=e("@babel/runtime-corejs2/core-js/object/define-property"),t=e("@babel/runtime-corejs2/helpers/interopRequireDefault");a(i,"__esModule",{value:!0}),i.default=void 0;var o=t(e("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(e("@babel/runtime-corejs2/helpers/createClass")),n=t(e("@babel/runtime-corejs2/helpers/defineProperty")),s=t(e("kefir-stopper")),f=t(e("./dropdown-view")),d=function(){function m(h){(0,o.default)(this,m),(0,n.default)(this,"_view",void 0),(0,n.default)(this,"_dropdownShowFunction",void 0),(0,n.default)(this,"_dropdownView",null),(0,n.default)(this,"_DropdownViewDriverClass",void 0),(0,n.default)(this,"_dropdownPositionOptions",void 0),(0,n.default)(this,"_stopper",(0,s.default)()),this._dropdownShowFunction=h.dropdownShowFunction,this._DropdownViewDriverClass=h.dropdownViewDriverClass;var _=this._view=h.buttonView;this._dropdownPositionOptions=h.dropdownPositionOptions,_.getElement().setAttribute("aria-haspopup","true"),_.getElement().setAttribute("aria-pressed","false"),_.getElement().setAttribute("aria-expanded","false"),this._bindToViewEvents()}return(0,u.default)(m,[{key:"getStopper",value:function(){return this._stopper}},{key:"destroy",value:function(){this._view&&(this._view.destroy(),this._view=null),this._dropdownView&&(this._dropdownView.close(),this._dropdownView=null),this._stopper.destroy()}},{key:"update",value:function(h){this.getView().update(h),this.setDropdownShowFunction(h&&h.dropdownShowFunction)}},{key:"getView",value:function(){if(!this._view)throw new Error("Already destroyed");return this._view}},{key:"setDropdownShowFunction",value:function(h){this._dropdownShowFunction=h}},{key:"showDropdown",value:function(){this.hideDropdown();var h=this._view;if(!h)throw new Error("Already destroyed");h.activate();var _=this._dropdownView=new f.default(new this._DropdownViewDriverClass,h.getElement(),void 0);this._dropdownPositionOptions&&_.setPlacementOptions(this._dropdownPositionOptions),_.on("destroy",this._dropdownClosed.bind(this)),this._dropdownShowFunction&&this._dropdownShowFunction({dropdown:this._dropdownView}),h.getElement().setAttribute("aria-pressed","true"),h.getElement().setAttribute("aria-expanded","true")}},{key:"hideDropdown",value:function(){this._dropdownView&&this._dropdownView.close()}},{key:"isDropdownVisible",value:function(){return!!this._dropdownView}},{key:"_bindToViewEvents",value:function(){var h=this;if(!this._view)throw new Error("Already destroyed");this._view.getEventStream().filter(function(_){return _.eventName==="click"}).onValue(function(){h._toggleDropdownState()})}},{key:"_toggleDropdownState",value:function(){this._dropdownView?this._dropdownView.close():this.showDropdown()}},{key:"_dropdownClosed",value:function(){var h=this._view;h&&(h.deactivate(),this._dropdownView=null,h.getElement().setAttribute("aria-pressed","false"),h.getElement().setAttribute("aria-expanded","false"))}}]),m}();i.default=d},{"./dropdown-view":942,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"kefir-stopper":326}],942:[function(e,l,i){"use strict";function a(P,B){var z=s(P);if(f){var Q=f(P);B&&(Q=Q.filter(function(N){return d(P,N).enumerable})),z.push.apply(z,Q)}return z}function t(P){for(var B=1;B<arguments.length;B++){var z=arguments[B]!=null?arguments[B]:{};B%2?a(Object(z),!0).forEach(function(Q){(0,j.default)(P,Q,z[Q])}):m?h(P,m(z)):a(Object(z)).forEach(function(Q){_(P,Q,d(z,Q))})}return P}function o(P){var B=u();return function(){var z,Q=(0,k.default)(P);if(B){var N=(0,k.default)(this).constructor;z=n(Q,arguments,N)}else z=Q.apply(this,arguments);return(0,g.default)(this,z)}}function u(){if(typeof Reflect=="undefined"||!n||n.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],function(){})),!0}catch(P){return!1}}var n=e("@babel/runtime-corejs2/core-js/reflect/construct"),s=e("@babel/runtime-corejs2/core-js/object/keys"),f=e("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),d=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),m=e("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),h=e("@babel/runtime-corejs2/core-js/object/define-properties"),_=e("@babel/runtime-corejs2/core-js/object/define-property"),y=e("@babel/runtime-corejs2/helpers/interopRequireDefault");_(i,"__esModule",{value:!0}),i.default=void 0;var S=y(e("@babel/runtime-corejs2/helpers/toConsumableArray")),v=y(e("@babel/runtime-corejs2/helpers/classCallCheck")),T=y(e("@babel/runtime-corejs2/helpers/createClass")),E=y(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),I=y(e("@babel/runtime-corejs2/helpers/inherits")),g=y(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),k=y(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),j=y(e("@babel/runtime-corejs2/helpers/defineProperty")),x=y(e("asap")),A=y(e("../../lib/safe-event-emitter")),w=y(e("kefir")),C=y(e("../../lib/dom/make-mutation-observer-chunked-stream")),O=y(e("../../lib/ScrollableContainByScreen")),V=y(e("../../lib/dom/outsideClicksAndEscape")),R=function(P){function B(Q,N,K){var U;(0,v.default)(this,B),U=z.call(this),(0,j.default)((0,E.default)(U),"_dropdownViewDriver",void 0),(0,j.default)((0,E.default)(U),"destroyed",!1),(0,j.default)((0,E.default)(U),"closed",!1),(0,j.default)((0,E.default)(U),"_options",void 0),(0,j.default)((0,E.default)(U),"_userPlacementOptions",{hAlign:"left"}),(0,j.default)((0,E.default)(U),"_scrollableContainByScreen",null),(0,j.default)((0,E.default)(U),"_didInsertContainerEl",void 0),(0,j.default)((0,E.default)(U),"el",void 0),U._dropdownViewDriver=Q,U._options=t(t({},Q.getDropdownOptions&&Q.getDropdownOptions()),K),U.el=Q.getContentElement();var F=Q.getContainerElement();document.contains(F)?U._didInsertContainerEl=!1:(document.body.insertBefore(F,document.body.firstElementChild),U._didInsertContainerEl=!0),F.hasAttribute("tabindex")||F.setAttribute("tabindex","-1");var Z=w.default.fromEvents((0,E.default)(U),"destroy"),$=[N,F];U._options.extraElementsToIgnore&&$.push.apply($,(0,S.default)(U._options.extraElementsToIgnore)),(0,V.default)($).takeUntilBy(Z).filter(function(H){var X=!1,oe={type:H.type,cause:H.cause,cancel:function(){X=!0}};return U.emit("preautoclose",oe),!X}).onValue(function(){U.close()}),U._options.manualPosition||(F.style.position="fixed",(0,x.default)(function(){U.closed||(w.default.fromEvents((0,E.default)(U),"_placementOptionsUpdated").toProperty(function(){return null}).takeUntilBy(Z).onValue(function(){U._scrollableContainByScreen&&U._scrollableContainByScreen.destroy(),U._scrollableContainByScreen=new O.default(F,N,U._userPlacementOptions)}),(0,C.default)(Q.getContentElement(),{childList:!0,attributes:!0,characterData:!0,subtree:!0}).throttle(200).takeUntilBy(Z).onValue(function(){return U.reposition()}))}));var ne=document.activeElement;return(0,x.default)(function(){U.closed||document.activeElement===ne&&F.focus()}),U}(0,I.default)(B,P);var z=o(B);return(0,T.default)(B,[{key:"setPlacementOptions",value:function(Q){if(this._options.manualPosition)return void console.error("DropdownView.setPlacementOptions() was called on a manually-positioned DropdownView.");this._userPlacementOptions=t(t({},this._userPlacementOptions),Q),this.emit("_placementOptionsUpdated")}},{key:"close",value:function(){this.destroyed||(this.destroyed=this.closed=!0,this._scrollableContainByScreen&&this._scrollableContainByScreen.destroy(),this.emit("destroy"),this._didInsertContainerEl&&this._dropdownViewDriver.getContainerElement().remove(),this._dropdownViewDriver.destroy())}},{key:"reposition",value:function(){this._scrollableContainByScreen&&this._scrollableContainByScreen.reposition()}}]),B}(A.default);i.default=R},{"../../lib/ScrollableContainByScreen":846,"../../lib/dom/make-mutation-observer-chunked-stream":863,"../../lib/dom/outsideClicksAndEscape":866,"../../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-properties":10,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":14,"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":15,"@babel/runtime-corejs2/core-js/object/get-own-property-symbols":17,"@babel/runtime-corejs2/core-js/object/keys":19,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,"@babel/runtime-corejs2/helpers/toConsumableArray":56,asap:83,kefir:327}],943:[function(e,l,i){"use strict";function a(k){var j=t();return function(){var x,A=(0,_.default)(k);if(j){var w=(0,_.default)(this).constructor;x=o(A,arguments,w)}else x=A.apply(this,arguments);return(0,h.default)(this,x)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(k){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=n(e("kefir")),v=(n(e("kefir-bus")),e("ud")),T=n(e("../lib/safe-event-emitter")),E=n(e("../views/compose-view")),I=function(k){function j(A){var w;return(0,s.default)(this,j),w=x.call(this),(0,y.default)((0,d.default)(w),"destroyed",!1),(0,y.default)((0,d.default)(w),"_driver",void 0),w._driver=A,w._driver.getSlideAnimationDone().onValue(function(){w.emit("slideAnimationDone")}),w._driver.getClosingStream().onValue(function(){w.emit("closing")}),w._driver.getClosedStream().onValue(function(){w.destroyed=!0,w.emit("destroy")}),w._driver.getPreAutoCloseStream().onValue(function(C){w.emit("preautoclose",C)}),document.dispatchEvent(new CustomEvent("inboxSDKcloseDrawers",{bubbles:!1,cancelable:!1,detail:null})),S.default.fromEvents(document,"inboxSDKcloseDrawers").takeUntilBy(S.default.fromEvents((0,d.default)(w),"closing")).onValue(function(){w.close()}),w}(0,m.default)(j,k);var x=a(j);return(0,f.default)(j,[{key:"close",value:function(){this._driver.close()}},{key:"associateComposeView",value:function(A,w){if(!(A instanceof E.default))throw new Error("argument was not a ComposeView");this._driver.associateComposeView(A,w)}},{key:"disassociateComposeView",value:function(){this._driver.disassociateComposeView()}}]),j}(T.default),g=(0,v.defn)(l,I);i.default=g},{"../lib/safe-event-emitter":899,"../views/compose-view":925,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,kefir:327,"kefir-bus":324,ud:625}],944:[function(e,l,i){"use strict";function a(O){var V=t();return function(){var R,P=(0,S.default)(O);if(V){var B=(0,S.default)(this).constructor;R=n(P,arguments,B)}else R=P.apply(this,arguments);return(0,y.default)(this,R)}}function t(){if(typeof Reflect=="undefined"||!n||n.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],function(){})),!0}catch(O){return!1}}function o(O){x&&x.modalView===O?(x=null,w.length>0?w.pop().show():j&&j.destroy()):w.indexOf(O)>-1&&w.splice(w.indexOf(O),1)}function u(O,V){x?(A.emit(x.modalView),w.push(x.modalView),x.modalViewDriver.getModalContainerElement().remove()):j||(j=O._driver.createBackdrop(502),j.getStopper().onValue(function(){j=null,w.slice().forEach(function(R){R.close()}),x&&x.modalView.close()})),x={modalView:O,modalViewDriver:V}}var n=e("@babel/runtime-corejs2/core-js/reflect/construct"),s=e("@babel/runtime-corejs2/core-js/object/define-property"),f=e("@babel/runtime-corejs2/helpers/interopRequireDefault");s(i,"__esModule",{value:!0}),i.default=void 0;var d=f(e("@babel/runtime-corejs2/helpers/classCallCheck")),m=f(e("@babel/runtime-corejs2/helpers/createClass")),h=f(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),_=f(e("@babel/runtime-corejs2/helpers/inherits")),y=f(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),S=f(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),v=f(e("@babel/runtime-corejs2/helpers/defineProperty")),T=f(e("kefir")),E=f(e("kefir-bus")),I=e("ud"),g=f(e("../lib/safe-event-emitter")),k=function(O){function V(P){var B;return(0,d.default)(this,V),B=R.call(this),(0,v.default)((0,h.default)(B),"destroyed",!1),(0,v.default)((0,h.default)(B),"_driver",void 0),(0,v.default)((0,h.default)(B),"_modalViewDriver",void 0),B._driver=P.driver,B._modalViewDriver=P.modalViewDriver,P.modalViewDriver.getEventStream().filter(function(z){return z.eventName==="closeClick"}).onValue(function(){B.close()}),P.modalViewDriver.getEventStream().onEnd(function(){B._modalViewDriver=null,B.destroyed=!0,o((0,h.default)(B)),B.emit("destroy")}),B}(0,_.default)(V,O);var R=a(V);return(0,m.default)(V,[{key:"show",value:function(){var P=this,B=this._modalViewDriver;if(!B)throw new Error("Modal can not be shown after being hidden");var z=T.default.merge([T.default.fromEvents(this,"destroy"),A.filter(function(Q){return Q===P})]);document.body.appendChild(B.getModalContainerElement()),B.getModalContainerElement().focus(),T.default.fromEvents(document.body,"keydown").filter(function(Q){return Q.keyCode===27}).takeUntilBy(z).onValue(function(Q){Q.stopImmediatePropagation(),Q.stopPropagation(),Q.preventDefault(),P.close()}),u(this,B)}},{key:"setTitle",value:function(P){if(!this._modalViewDriver)throw new Error("Modal can not be shown after being hidden");this._modalViewDriver.setTitle(P)}},{key:"close",value:function(){this._modalViewDriver&&this._modalViewDriver.destroy()}},{key:"addButton",value:function(P){throw new Error("not implemented")}}]),V}(g.default),j=null,x=null,A=(0,E.default)(),w=[],C=(0,I.defn)(l,k);i.default=C},{"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51,kefir:327,"kefir-bus":324,ud:625}],945:[function(e,l,i){"use strict";function a(g){var k=t();return function(){var j,x=(0,_.default)(g);if(k){var A=(0,_.default)(this).constructor;j=o(x,arguments,A)}else j=x.apply(this,arguments);return(0,h.default)(this,j)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(g){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/helpers/defineProperty")),S=n(e("@babel/runtime-corejs2/core-js/weak-map")),v=n(e("../../common/get-or-fail")),T=n(e("../lib/safe-event-emitter")),E=new S.default,I=function(g){function k(x){var A;(0,s.default)(this,k),A=j.call(this),(0,y.default)((0,d.default)(A),"destroyed",!1);var w={driver:x.moleViewDriver};return E.set((0,d.default)(A),w),w.driver.getEventStream().onValue(function(C){A.emit(C.eventName,C.detail)}),w.driver.getEventStream().onEnd(function(){A.destroyed=!0,A.emit("destroy")}),A}(0,m.default)(k,g);var j=a(k);return(0,f.default)(k,[{key:"close",value:function(){(0,v.default)(E,this).driver.destroy()}},{key:"setTitle",value:function(x){(0,v.default)(E,this).driver.setTitle(x)}},{key:"setMinimized",value:function(x){(0,v.default)(E,this).driver.setMinimized(x)}},{key:"getMinimized",value:function(){return(0,v.default)(E,this).driver.getMinimized()}}]),k}(T.default);i.default=I},{"../../common/get-or-fail":642,"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/defineProperty":39,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}],946:[function(e,l,i){"use strict";function a(I){var g=t();return function(){var k,j=(0,_.default)(I);if(g){var x=(0,_.default)(this).constructor;k=o(j,arguments,x)}else k=j.apply(this,arguments);return(0,h.default)(this,k)}}function t(){if(typeof Reflect=="undefined"||!o||o.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(I){return!1}}var o=e("@babel/runtime-corejs2/core-js/reflect/construct"),u=e("@babel/runtime-corejs2/core-js/object/define-property"),n=e("@babel/runtime-corejs2/helpers/interopRequireDefault");u(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("@babel/runtime-corejs2/helpers/classCallCheck")),f=n(e("@babel/runtime-corejs2/helpers/createClass")),d=n(e("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=n(e("@babel/runtime-corejs2/helpers/inherits")),h=n(e("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),_=n(e("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=n(e("@babel/runtime-corejs2/core-js/weak-map")),S=n(e("../../common/get-or-fail")),v=n(e("../lib/safe-event-emitter")),T=new y.default,E=function(I){function g(j){var x;(0,s.default)(this,g),x=k.call(this);var A={driver:j.topMessageBarViewDriver};return T.set((0,d.default)(x),A),x}(0,m.default)(g,I);var k=a(g);return(0,f.default)(g,[{key:"remove",value:function(){(0,S.default)(T,this).driver.remove()}}]),g}(v.default);i.default=E},{"../../common/get-or-fail":642,"../lib/safe-event-emitter":899,"@babel/runtime-corejs2/core-js/object/define-property":11,"@babel/runtime-corejs2/core-js/reflect/construct":25,"@babel/runtime-corejs2/core-js/weak-map":30,"@babel/runtime-corejs2/helpers/assertThisInitialized":35,"@babel/runtime-corejs2/helpers/classCallCheck":37,"@babel/runtime-corejs2/helpers/createClass":38,"@babel/runtime-corejs2/helpers/getPrototypeOf":42,"@babel/runtime-corejs2/helpers/inherits":43,"@babel/runtime-corejs2/helpers/interopRequireDefault":44,"@babel/runtime-corejs2/helpers/possibleConstructorReturn":51}]},{},[653])(653)})},8492:(wt,ft,vt)=>{var zt="Expected a function",e=NaN,l="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,t=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt,n=typeof vt.g=="object"&&vt.g&&vt.g.Object===Object&&vt.g,s=typeof self=="object"&&self&&self.Object===Object&&self,f=n||s||Function("return this")(),d=Object.prototype,m=d.toString,h=Math.max,_=Math.min,y=function(){return f.Date.now()};function S(g,k,j){var x,A,w,C,O,V,R=0,P=!1,B=!1,z=!0;if(typeof g!="function")throw new TypeError(zt);k=I(k)||0,v(j)&&(P=!!j.leading,B="maxWait"in j,w=B?h(I(j.maxWait)||0,k):w,z="trailing"in j?!!j.trailing:z);function Q(X){var oe=x,Y=A;return x=A=void 0,R=X,C=g.apply(Y,oe),C}function N(X){return R=X,O=setTimeout(F,k),P?Q(X):C}function K(X){var oe=X-V,Y=X-R,se=k-oe;return B?_(se,w-Y):se}function U(X){var oe=X-V,Y=X-R;return V===void 0||oe>=k||oe<0||B&&Y>=w}function F(){var X=y();if(U(X))return Z(X);O=setTimeout(F,K(X))}function Z(X){return O=void 0,z&&x?Q(X):(x=A=void 0,C)}function $(){O!==void 0&&clearTimeout(O),R=0,x=V=A=O=void 0}function ne(){return O===void 0?C:Z(y())}function H(){var X=y(),oe=U(X);if(x=arguments,A=this,V=X,oe){if(O===void 0)return N(V);if(B)return O=setTimeout(F,k),Q(V)}return O===void 0&&(O=setTimeout(F,k)),C}return H.cancel=$,H.flush=ne,H}function v(g){var k=typeof g;return!!g&&(k=="object"||k=="function")}function T(g){return!!g&&typeof g=="object"}function E(g){return typeof g=="symbol"||T(g)&&m.call(g)==l}function I(g){if(typeof g=="number")return g;if(E(g))return e;if(v(g)){var k=typeof g.valueOf=="function"?g.valueOf():g;g=v(k)?k+"":k}if(typeof g!="string")return g===0?g:+g;g=g.replace(i,"");var j=t.test(g);return j||o.test(g)?u(g.slice(2),j?2:8):a.test(g)?e:+g}wt.exports=S},7799:(wt,ft,vt)=>{"use strict";/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zt=vt(9526),e=vt(2851);function l(r){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+r,D=1;D<arguments.length;D++)p+="&args[]="+encodeURIComponent(arguments[D]);return"Minified React error #"+r+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function t(r,p){o(r,p),o(r+"Capture",p)}function o(r,p){for(a[r]=p,r=0;r<p.length;r++)i.add(p[r])}var u=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),n=Object.prototype.hasOwnProperty,s=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function m(r){return n.call(d,r)?!0:n.call(f,r)?!1:s.test(r)?d[r]=!0:(f[r]=!0,!1)}function h(r,p,D,q){if(D!==null&&D.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return q?!1:D!==null?!D.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,p,D,q){if(p===null||typeof p=="undefined"||h(r,p,D,q))return!0;if(q)return!1;if(D!==null)switch(D.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function y(r,p,D,q,re,fe,Se){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=q,this.attributeNamespace=re,this.mustUseProperty=D,this.propertyName=r,this.type=p,this.sanitizeURL=fe,this.removeEmptyString=Se}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new y(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var p=r[0];S[p]=new y(p,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new y(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new y(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new y(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new y(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new y(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new y(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new y(r,5,!1,r.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function T(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var p=r.replace(v,T);S[p]=new y(p,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var p=r.replace(v,T);S[p]=new y(p,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var p=r.replace(v,T);S[p]=new y(p,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new y(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new y(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,p,D,q){var re=S.hasOwnProperty(p)?S[p]:null;(re!==null?re.type!==0:q||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(_(p,D,re,q)&&(D=null),q||re===null?m(p)&&(D===null?r.removeAttribute(p):r.setAttribute(p,""+D)):re.mustUseProperty?r[re.propertyName]=D===null?re.type===3?!1:"":D:(p=re.attributeName,q=re.attributeNamespace,D===null?r.removeAttribute(p):(re=re.type,D=re===3||re===4&&D===!0?"":""+D,q?r.setAttributeNS(q,p,D):r.setAttribute(p,D))))}var I=zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Q=Symbol.iterator;function N(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var K=Object.assign,U;function F(r){if(U===void 0)try{throw Error()}catch(D){var p=D.stack.trim().match(/\n( *(at )?)/);U=p&&p[1]||""}return`
`+U+r}var Z=!1;function $(r,p){if(!r||Z)return"";Z=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(dt){var q=dt}Reflect.construct(r,[],p)}else{try{p.call()}catch(dt){q=dt}r.call(p.prototype)}else{try{throw Error()}catch(dt){q=dt}r()}}catch(dt){if(dt&&q&&typeof dt.stack=="string"){for(var re=dt.stack.split(`
`),fe=q.stack.split(`
`),Se=re.length-1,Ue=fe.length-1;1<=Se&&0<=Ue&&re[Se]!==fe[Ue];)Ue--;for(;1<=Se&&0<=Ue;Se--,Ue--)if(re[Se]!==fe[Ue]){if(Se!==1||Ue!==1)do if(Se--,Ue--,0>Ue||re[Se]!==fe[Ue]){var Ke=`
`+re[Se].replace(" at new "," at ");return r.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",r.displayName)),Ke}while(1<=Se&&0<=Ue);break}}}finally{Z=!1,Error.prepareStackTrace=D}return(r=r?r.displayName||r.name:"")?F(r):""}function ne(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=$(r.type,!1),r;case 11:return r=$(r.type.render,!1),r;case 1:return r=$(r.type,!0),r;default:return""}}function H(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case k:return"Portal";case A:return"Profiler";case x:return"StrictMode";case V:return"Suspense";case R:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case C:return(r.displayName||"Context")+".Consumer";case w:return(r._context.displayName||"Context")+".Provider";case O:var p=r.render;return r=r.displayName,r||(r=p.displayName||p.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return p=r.displayName||null,p!==null?p:H(r.type)||"Memo";case B:p=r._payload,r=r._init;try{return H(r(p))}catch(D){}}return null}function X(r){var p=r.type;switch(r.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=p.render,r=r.displayName||r.name||"",p.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(p);case 8:return p===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Y(r){var p=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function se(r){var p=Y(r)?"checked":"value",D=Object.getOwnPropertyDescriptor(r.constructor.prototype,p),q=""+r[p];if(!r.hasOwnProperty(p)&&typeof D!="undefined"&&typeof D.get=="function"&&typeof D.set=="function"){var re=D.get,fe=D.set;return Object.defineProperty(r,p,{configurable:!0,get:function(){return re.call(this)},set:function(Se){q=""+Se,fe.call(this,Se)}}),Object.defineProperty(r,p,{enumerable:D.enumerable}),{getValue:function(){return q},setValue:function(Se){q=""+Se},stopTracking:function(){r._valueTracker=null,delete r[p]}}}}function ie(r){r._valueTracker||(r._valueTracker=se(r))}function L(r){if(!r)return!1;var p=r._valueTracker;if(!p)return!0;var D=p.getValue(),q="";return r&&(q=Y(r)?r.checked?"true":"false":r.value),r=q,r!==D?(p.setValue(r),!0):!1}function G(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(p){return r.body}}function le(r,p){var D=p.checked;return K({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D!=null?D:r._wrapperState.initialChecked})}function pe(r,p){var D=p.defaultValue==null?"":p.defaultValue,q=p.checked!=null?p.checked:p.defaultChecked;D=oe(p.value!=null?p.value:D),r._wrapperState={initialChecked:q,initialValue:D,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function we(r,p){p=p.checked,p!=null&&E(r,"checked",p,!1)}function ye(r,p){we(r,p);var D=oe(p.value),q=p.type;if(D!=null)q==="number"?(D===0&&r.value===""||r.value!=D)&&(r.value=""+D):r.value!==""+D&&(r.value=""+D);else if(q==="submit"||q==="reset"){r.removeAttribute("value");return}p.hasOwnProperty("value")?te(r,p.type,D):p.hasOwnProperty("defaultValue")&&te(r,p.type,oe(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(r.defaultChecked=!!p.defaultChecked)}function W(r,p,D){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var q=p.type;if(!(q!=="submit"&&q!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+r._wrapperState.initialValue,D||p===r.value||(r.value=p),r.defaultValue=p}D=r.name,D!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,D!==""&&(r.name=D)}function te(r,p,D){(p!=="number"||G(r.ownerDocument)!==r)&&(D==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+D&&(r.defaultValue=""+D))}var ce=Array.isArray;function je(r,p,D,q){if(r=r.options,p){p={};for(var re=0;re<D.length;re++)p["$"+D[re]]=!0;for(D=0;D<r.length;D++)re=p.hasOwnProperty("$"+r[D].value),r[D].selected!==re&&(r[D].selected=re),re&&q&&(r[D].defaultSelected=!0)}else{for(D=""+oe(D),p=null,re=0;re<r.length;re++){if(r[re].value===D){r[re].selected=!0,q&&(r[re].defaultSelected=!0);return}p!==null||r[re].disabled||(p=r[re])}p!==null&&(p.selected=!0)}}function be(r,p){if(p.dangerouslySetInnerHTML!=null)throw Error(l(91));return K({},p,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ne(r,p){var D=p.value;if(D==null){if(D=p.children,p=p.defaultValue,D!=null){if(p!=null)throw Error(l(92));if(ce(D)){if(1<D.length)throw Error(l(93));D=D[0]}p=D}p==null&&(p=""),D=p}r._wrapperState={initialValue:oe(D)}}function He(r,p){var D=oe(p.value),q=oe(p.defaultValue);D!=null&&(D=""+D,D!==r.value&&(r.value=D),p.defaultValue==null&&r.defaultValue!==D&&(r.defaultValue=D)),q!=null&&(r.defaultValue=""+q)}function Qe(r){var p=r.textContent;p===r._wrapperState.initialValue&&p!==""&&p!==null&&(r.value=p)}function Be(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(r,p){return r==null||r==="http://www.w3.org/1999/xhtml"?Be(p):r==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _t,pt=function(r){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(p,D,q,re){MSApp.execUnsafeLocalFunction(function(){return r(p,D,q,re)})}:r}(function(r,p){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=p;else{for(_t=_t||document.createElement("div"),_t.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=_t.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;p.firstChild;)r.appendChild(p.firstChild)}});function Et(r,p){if(p){var D=r.firstChild;if(D&&D===r.lastChild&&D.nodeType===3){D.nodeValue=p;return}}r.textContent=p}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qt=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(r){Qt.forEach(function(p){p=p+r.charAt(0).toUpperCase()+r.substring(1),It[p]=It[r]})});function jt(r,p,D){return p==null||typeof p=="boolean"||p===""?"":D||typeof p!="number"||p===0||It.hasOwnProperty(r)&&It[r]?(""+p).trim():p+"px"}function Pt(r,p){r=r.style;for(var D in p)if(p.hasOwnProperty(D)){var q=D.indexOf("--")===0,re=jt(D,p[D],q);D==="float"&&(D="cssFloat"),q?r.setProperty(D,re):r[D]=re}}var At=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(r,p){if(p){if(At[r]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(l(137,r));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(l(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(l(61))}if(p.style!=null&&typeof p.style!="object")throw Error(l(62))}}function Oe(r,p){if(r.indexOf("-")===-1)return typeof p.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var at=null;function bt(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gt=null,Vt=null,dn=null;function Cn(r){if(r=Da(r)){if(typeof Gt!="function")throw Error(l(280));var p=r.stateNode;p&&(p=ds(p),Gt(r.stateNode,r.type,p))}}function Tt(r){Vt?dn?dn.push(r):dn=[r]:Vt=r}function In(){if(Vt){var r=Vt,p=dn;if(dn=Vt=null,Cn(r),p)for(r=0;r<p.length;r++)Cn(p[r])}}function $e(r,p){return r(p)}function St(){}var Yt=!1;function Ht(r,p,D){if(Yt)return r(p,D);Yt=!0;try{return $e(r,p,D)}finally{Yt=!1,(Vt!==null||dn!==null)&&(St(),In())}}function Wt(r,p){var D=r.stateNode;if(D===null)return null;var q=ds(D);if(q===null)return null;D=q[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(q=!q.disabled)||(r=r.type,q=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!q;break e;default:r=!1}if(r)return null;if(D&&typeof D!="function")throw Error(l(231,p,typeof D));return D}var Pn=!1;if(u)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch(r){Pn=!1}function sr(r,p,D,q,re,fe,Se,Ue,Ke){var dt=Array.prototype.slice.call(arguments,3);try{p.apply(D,dt)}catch(Ot){this.onError(Ot)}}var lr=!1,Un=null,xt=!1,Rt=null,Ae={onError:function(r){lr=!0,Un=r}};function De(r,p,D,q,re,fe,Se,Ue,Ke){lr=!1,Un=null,sr.apply(Ae,arguments)}function et(r,p,D,q,re,fe,Se,Ue,Ke){if(De.apply(this,arguments),lr){if(lr){var dt=Un;lr=!1,Un=null}else throw Error(l(198));xt||(xt=!0,Rt=dt)}}function ae(r){var p=r,D=r;if(r.alternate)for(;p.return;)p=p.return;else{r=p;do p=r,p.flags&4098&&(D=p.return),r=p.return;while(r)}return p.tag===3?D:null}function de(r){if(r.tag===13){var p=r.memoizedState;if(p===null&&(r=r.alternate,r!==null&&(p=r.memoizedState)),p!==null)return p.dehydrated}return null}function _e(r){if(ae(r)!==r)throw Error(l(188))}function he(r){var p=r.alternate;if(!p){if(p=ae(r),p===null)throw Error(l(188));return p!==r?null:r}for(var D=r,q=p;;){var re=D.return;if(re===null)break;var fe=re.alternate;if(fe===null){if(q=re.return,q!==null){D=q;continue}break}if(re.child===fe.child){for(fe=re.child;fe;){if(fe===D)return _e(re),r;if(fe===q)return _e(re),p;fe=fe.sibling}throw Error(l(188))}if(D.return!==q.return)D=re,q=fe;else{for(var Se=!1,Ue=re.child;Ue;){if(Ue===D){Se=!0,D=re,q=fe;break}if(Ue===q){Se=!0,q=re,D=fe;break}Ue=Ue.sibling}if(!Se){for(Ue=fe.child;Ue;){if(Ue===D){Se=!0,D=fe,q=re;break}if(Ue===q){Se=!0,q=fe,D=re;break}Ue=Ue.sibling}if(!Se)throw Error(l(189))}}if(D.alternate!==q)throw Error(l(190))}if(D.tag!==3)throw Error(l(188));return D.stateNode.current===D?r:p}function Ee(r){return r=he(r),r!==null?ke(r):null}function ke(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var p=ke(r);if(p!==null)return p;r=r.sibling}return null}var Ve=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,qe=e.unstable_shouldYield,Me=e.unstable_requestPaint,We=e.unstable_now,rt=e.unstable_getCurrentPriorityLevel,gt=e.unstable_ImmediatePriority,$t=e.unstable_UserBlockingPriority,Zt=e.unstable_NormalPriority,mn=e.unstable_LowPriority,hn=e.unstable_IdlePriority,mr=null,Mn=null;function gn(r){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(mr,r,void 0,(r.current.flags&128)===128)}catch(p){}}var cn=Math.clz32?Math.clz32:Zo,qn=Math.log,Tn=Math.LN2;function Zo(r){return r>>>=0,r===0?32:31-(qn(r)/Tn|0)|0}var Wr=64,Rn=4194304;function no(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function yr(r,p){var D=r.pendingLanes;if(D===0)return 0;var q=0,re=r.suspendedLanes,fe=r.pingedLanes,Se=D&268435455;if(Se!==0){var Ue=Se&~re;Ue!==0?q=no(Ue):(fe&=Se,fe!==0&&(q=no(fe)))}else Se=D&~re,Se!==0?q=no(Se):fe!==0&&(q=no(fe));if(q===0)return 0;if(p!==0&&p!==q&&!(p&re)&&(re=q&-q,fe=p&-p,re>=fe||re===16&&(fe&4194240)!==0))return p;if(q&4&&(q|=D&16),p=r.entangledLanes,p!==0)for(r=r.entanglements,p&=q;0<p;)D=31-cn(p),re=1<<D,q|=r[D],p&=~re;return q}function _i(r,p){switch(r){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fi(r,p){for(var D=r.suspendedLanes,q=r.pingedLanes,re=r.expirationTimes,fe=r.pendingLanes;0<fe;){var Se=31-cn(fe),Ue=1<<Se,Ke=re[Se];Ke===-1?(!(Ue&D)||Ue&q)&&(re[Se]=_i(Ue,p)):Ke<=p&&(r.expiredLanes|=Ue),fe&=~Ue}}function Tr(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function or(){var r=Wr;return Wr<<=1,!(Wr&4194240)&&(Wr=64),r}function On(r){for(var p=[],D=0;31>D;D++)p.push(r);return p}function zi(r,p,D){r.pendingLanes|=p,p!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,p=31-cn(p),r[p]=D}function Ts(r,p){var D=r.pendingLanes&~p;r.pendingLanes=p,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=p,r.mutableReadLanes&=p,r.entangledLanes&=p,p=r.entanglements;var q=r.eventTimes;for(r=r.expirationTimes;0<D;){var re=31-cn(D),fe=1<<re;p[re]=0,q[re]=-1,r[re]=-1,D&=~fe}}function Hi(r,p){var D=r.entangledLanes|=p;for(r=r.entanglements;D;){var q=31-cn(D),re=1<<q;re&p|r[q]&p&&(r[q]|=p),D&=~re}}var Ln=0;function ba(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ro,Fa,ql,gi,va,Xo=!1,Wi=[],Oo=null,Lr=null,Vn=null,nr=new Map,Eo=new Map,ur=[],As="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ds(r,p){switch(r){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":nr.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(p.pointerId)}}function yi(r,p,D,q,re,fe){return r===null||r.nativeEvent!==fe?(r={blockedOn:p,domEventName:D,eventSystemFlags:q,nativeEvent:fe,targetContainers:[re]},p!==null&&(p=Da(p),p!==null&&Fa(p)),r):(r.eventSystemFlags|=q,p=r.targetContainers,re!==null&&p.indexOf(re)===-1&&p.push(re),r)}function wi(r,p,D,q,re){switch(p){case"focusin":return Oo=yi(Oo,r,p,D,q,re),!0;case"dragenter":return Lr=yi(Lr,r,p,D,q,re),!0;case"mouseover":return Vn=yi(Vn,r,p,D,q,re),!0;case"pointerover":var fe=re.pointerId;return nr.set(fe,yi(nr.get(fe)||null,r,p,D,q,re)),!0;case"gotpointercapture":return fe=re.pointerId,Eo.set(fe,yi(Eo.get(fe)||null,r,p,D,q,re)),!0}return!1}function Ms(r){var p=ci(r.target);if(p!==null){var D=ae(p);if(D!==null){if(p=D.tag,p===13){if(p=de(D),p!==null){r.blockedOn=p,va(r.priority,function(){ql(D)});return}}else if(p===3&&D.stateNode.current.memoizedState.isDehydrated){r.blockedOn=D.tag===3?D.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Po(r){if(r.blockedOn!==null)return!1;for(var p=r.targetContainers;0<p.length;){var D=Er(r.domEventName,r.eventSystemFlags,p[0],r.nativeEvent);if(D===null){D=r.nativeEvent;var q=new D.constructor(D.type,D);at=q,D.target.dispatchEvent(q),at=null}else return p=Da(D),p!==null&&Fa(p),r.blockedOn=D,!1;p.shift()}return!0}function za(r,p,D){Po(r)&&D.delete(p)}function ji(){Xo=!1,Oo!==null&&Po(Oo)&&(Oo=null),Lr!==null&&Po(Lr)&&(Lr=null),Vn!==null&&Po(Vn)&&(Vn=null),nr.forEach(za),Eo.forEach(za)}function Lo(r,p){r.blockedOn===p&&(r.blockedOn=null,Xo||(Xo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ji)))}function Ar(r){function p(re){return Lo(re,r)}if(0<Wi.length){Lo(Wi[0],r);for(var D=1;D<Wi.length;D++){var q=Wi[D];q.blockedOn===r&&(q.blockedOn=null)}}for(Oo!==null&&Lo(Oo,r),Lr!==null&&Lo(Lr,r),Vn!==null&&Lo(Vn,r),nr.forEach(p),Eo.forEach(p),D=0;D<ur.length;D++)q=ur[D],q.blockedOn===r&&(q.blockedOn=null);for(;0<ur.length&&(D=ur[0],D.blockedOn===null);)Ms(D),D.blockedOn===null&&ur.shift()}var yo=I.ReactCurrentBatchConfig,Nr=!0;function Gi(r,p,D,q){var re=Ln,fe=yo.transition;yo.transition=null;try{Ln=1,Ha(r,p,D,q)}finally{Ln=re,yo.transition=fe}}function Rs(r,p,D,q){var re=Ln,fe=yo.transition;yo.transition=null;try{Ln=4,Ha(r,p,D,q)}finally{Ln=re,yo.transition=fe}}function Ha(r,p,D,q){if(Nr){var re=Er(r,p,D,q);if(re===null)Fl(r,p,q,No,D),Ds(r,q);else if(wi(re,r,p,D,q))q.stopPropagation();else if(Ds(r,q),p&4&&-1<As.indexOf(r)){for(;re!==null;){var fe=Da(re);if(fe!==null&&Ro(fe),fe=Er(r,p,D,q),fe===null&&Fl(r,p,q,No,D),fe===re)break;re=fe}re!==null&&q.stopPropagation()}else Fl(r,p,q,null,D)}}var No=null;function Er(r,p,D,q){if(No=null,r=bt(q),r=ci(r),r!==null)if(p=ae(r),p===null)r=null;else if(D=p.tag,D===13){if(r=de(p),r!==null)return r;r=null}else if(D===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;r=null}else p!==r&&(r=null);return No=r,null}function Wa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rt()){case gt:return 1;case $t:return 4;case Zt:case mn:return 16;case hn:return 536870912;default:return 16}default:return 16}}var Vo=null,So=null,ro=null;function Os(){if(ro)return ro;var r,p=So,D=p.length,q,re="value"in Vo?Vo.value:Vo.textContent,fe=re.length;for(r=0;r<D&&p[r]===re[r];r++);var Se=D-r;for(q=1;q<=Se&&p[D-q]===re[fe-q];q++);return ro=re.slice(r,1<q?1-q:void 0)}function ei(r){var p=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&p===13&&(r=13)):r=p,r===10&&(r=13),32<=r||r===13?r:0}function $i(){return!0}function _a(){return!1}function Vr(r){function p(D,q,re,fe,Se){this._reactName=D,this._targetInst=re,this.type=q,this.nativeEvent=fe,this.target=Se,this.currentTarget=null;for(var Ue in r)r.hasOwnProperty(Ue)&&(D=r[Ue],this[Ue]=D?D(fe):fe[Ue]);return this.isDefaultPrevented=(fe.defaultPrevented!=null?fe.defaultPrevented:fe.returnValue===!1)?$i:_a,this.isPropagationStopped=_a,this}return K(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var D=this.nativeEvent;D&&(D.preventDefault?D.preventDefault():typeof D.returnValue!="unknown"&&(D.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var D=this.nativeEvent;D&&(D.stopPropagation?D.stopPropagation():typeof D.cancelBubble!="unknown"&&(D.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),p}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Vr(ti),ni=K({},ti,{view:0,detail:0}),Ga=Vr(ni),ki,xi,oo,Ki=K({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==oo&&(oo&&r.type==="mousemove"?(ki=r.screenX-oo.screenX,xi=r.screenY-oo.screenY):xi=ki=0,oo=r),ki)},movementY:function(r){return"movementY"in r?r.movementY:xi}}),Co=Vr(Ki),$a=K({},Ki,{dataTransfer:0}),Ps=Vr($a),Ls=K({},ni,{relatedTarget:0}),Io=Vr(Ls),cl=K({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=Vr(cl),dl=K({},ti,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ya=Vr(dl),Ya=K({},ti,{data:0}),Qa=Vr(Ya),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ns={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ei(r){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(r):(r=Vs[r])?!!p[r]:!1}function wo(){return Ei}var To=K({},ni,{key:function(r){if(r.key){var p=vr[r.key]||r.key;if(p!=="Unidentified")return p}return r.type==="keypress"?(r=ei(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ns[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(r){return r.type==="keypress"?ei(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ei(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),wa=Vr(To),Si=K({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bs=Vr(Si),Ul=K({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),ri=Vr(Ul),ja=K({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),qs=Vr(ja),Ci=K({},Ki,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=Vr(Ci),Ja=[9,13,27,32],Yi=u&&"CompositionEvent"in window,xa=null;u&&"documentMode"in document&&(xa=document.documentMode);var oi=u&&"TextEvent"in window&&!xa,Us=u&&(!Yi||xa&&8<xa&&11>=xa),Za=String.fromCharCode(32),Fs=!1;function Xa(r,p){switch(r){case"keyup":return Ja.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ii=!1;function zs(r,p){switch(r){case"compositionend":return Ea(p);case"keypress":return p.which!==32?null:(Fs=!0,Za);case"textInput":return r=p.data,r===Za&&Fs?null:r;default:return null}}function Hs(r,p){if(ii)return r==="compositionend"||!Yi&&Xa(r,p)?(r=Os(),ro=So=Vo=null,ii=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Us&&p.locale!=="ko"?null:p.data;default:return null}}var io={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function es(r){var p=r&&r.nodeName&&r.nodeName.toLowerCase();return p==="input"?!!io[r.type]:p==="textarea"}function Ws(r,p,D,q){Tt(q),p=Js(p,"onChange"),0<p.length&&(D=new ga("onChange","change",null,D,q),r.push({event:D,listeners:p}))}var Ii=null,Sa=null;function ai(r){bl(r,0)}function Bo(r){var p=Xs(r);if(L(p))return r}function Gs(r,p){if(r==="change")return p}var Ti=!1;if(u){var ts;if(u){var ns="oninput"in document;if(!ns){var fl=document.createElement("div");fl.setAttribute("oninput","return;"),ns=typeof fl.oninput=="function"}ts=ns}else ts=!1;Ti=ts&&(!document.documentMode||9<document.documentMode)}function rs(){Ii&&(Ii.detachEvent("onpropertychange",pl),Sa=Ii=null)}function pl(r){if(r.propertyName==="value"&&Bo(Sa)){var p=[];Ws(p,Sa,r,bt(r)),Ht(ai,p)}}function ml(r,p,D){r==="focusin"?(rs(),Ii=p,Sa=D,Ii.attachEvent("onpropertychange",pl)):r==="focusout"&&rs()}function os(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bo(Sa)}function $s(r,p){if(r==="click")return Bo(p)}function si(r,p){if(r==="input"||r==="change")return Bo(p)}function Qi(r,p){return r===p&&(r!==0||1/r===1/p)||r!==r&&p!==p}var jo=typeof Object.is=="function"?Object.is:Qi;function Ji(r,p){if(jo(r,p))return!0;if(typeof r!="object"||r===null||typeof p!="object"||p===null)return!1;var D=Object.keys(r),q=Object.keys(p);if(D.length!==q.length)return!1;for(q=0;q<D.length;q++){var re=D[q];if(!n.call(p,re)||!jo(r[re],p[re]))return!1}return!0}function ao(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function so(r,p){var D=ao(r);r=0;for(var q;D;){if(D.nodeType===3){if(q=r+D.textContent.length,r<=p&&q>=p)return{node:D,offset:p-r};r=q}e:{for(;D;){if(D.nextSibling){D=D.nextSibling;break e}D=D.parentNode}D=void 0}D=ao(D)}}function is(r,p){return r&&p?r===p?!0:r&&r.nodeType===3?!1:p&&p.nodeType===3?is(r,p.parentNode):"contains"in r?r.contains(p):r.compareDocumentPosition?!!(r.compareDocumentPosition(p)&16):!1:!1}function as(){for(var r=window,p=G();p instanceof r.HTMLIFrameElement;){try{var D=typeof p.contentWindow.location.href=="string"}catch(q){D=!1}if(D)r=p.contentWindow;else break;p=G(r.document)}return p}function ss(r){var p=r&&r.nodeName&&r.nodeName.toLowerCase();return p&&(p==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||p==="textarea"||r.contentEditable==="true")}function Ca(r){var p=as(),D=r.focusedElem,q=r.selectionRange;if(p!==D&&D&&D.ownerDocument&&is(D.ownerDocument.documentElement,D)){if(q!==null&&ss(D)){if(p=q.start,r=q.end,r===void 0&&(r=p),"selectionStart"in D)D.selectionStart=p,D.selectionEnd=Math.min(r,D.value.length);else if(r=(p=D.ownerDocument||document)&&p.defaultView||window,r.getSelection){r=r.getSelection();var re=D.textContent.length,fe=Math.min(q.start,re);q=q.end===void 0?fe:Math.min(q.end,re),!r.extend&&fe>q&&(re=q,q=fe,fe=re),re=so(D,fe);var Se=so(D,q);re&&Se&&(r.rangeCount!==1||r.anchorNode!==re.node||r.anchorOffset!==re.offset||r.focusNode!==Se.node||r.focusOffset!==Se.offset)&&(p=p.createRange(),p.setStart(re.node,re.offset),r.removeAllRanges(),fe>q?(r.addRange(p),r.extend(Se.node,Se.offset)):(p.setEnd(Se.node,Se.offset),r.addRange(p)))}}for(p=[],r=D;r=r.parentNode;)r.nodeType===1&&p.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<p.length;D++)r=p[D],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var hl=u&&"documentMode"in document&&11>=document.documentMode,qo=null,Zi=null,Xi=null,lo=!1;function Ks(r,p,D){var q=D.window===D?D.document:D.nodeType===9?D:D.ownerDocument;lo||qo==null||qo!==G(q)||(q=qo,"selectionStart"in q&&ss(q)?q={start:q.selectionStart,end:q.selectionEnd}:(q=(q.ownerDocument&&q.ownerDocument.defaultView||window).getSelection(),q={anchorNode:q.anchorNode,anchorOffset:q.anchorOffset,focusNode:q.focusNode,focusOffset:q.focusOffset}),Xi&&Ji(Xi,q)||(Xi=q,q=Js(Zi,"onSelect"),0<q.length&&(p=new ga("onSelect","select",null,p,D),r.push({event:p,listeners:q}),p.target=qo)))}function Gr(r,p){var D={};return D[r.toLowerCase()]=p.toLowerCase(),D["Webkit"+r]="webkit"+p,D["Moz"+r]="moz"+p,D}var Uo={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionend:Gr("Transition","TransitionEnd")},Ai={},ls={};u&&(ls=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Di(r){if(Ai[r])return Ai[r];if(!Uo[r])return r;var p=Uo[r],D;for(D in p)if(p.hasOwnProperty(D)&&D in ls)return Ai[r]=p[D];return r}var Ys=Di("animationend"),$r=Di("animationiteration"),J=Di("animationstart"),ve=Di("transitionend"),Pe=new Map,it="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mt(r,p){Pe.set(r,p),t(p,[r])}for(var Ut=0;Ut<it.length;Ut++){var fn=it[Ut],cr=fn.toLowerCase(),Ia=fn[0].toUpperCase()+fn.slice(1);mt(cr,"on"+Ia)}mt(Ys,"onAnimationEnd"),mt($r,"onAnimationIteration"),mt(J,"onAnimationStart"),mt("dblclick","onDoubleClick"),mt("focusin","onFocus"),mt("focusout","onBlur"),mt(ve,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),t("onBeforeInput",["compositionend","keypress","textInput","paste"]),t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),us=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function Dr(r,p,D){var q=r.type||"unknown-event";r.currentTarget=D,et(q,p,void 0,r),r.currentTarget=null}function bl(r,p){p=(p&4)!==0;for(var D=0;D<r.length;D++){var q=r[D],re=q.event;q=q.listeners;e:{var fe=void 0;if(p)for(var Se=q.length-1;0<=Se;Se--){var Ue=q[Se],Ke=Ue.instance,dt=Ue.currentTarget;if(Ue=Ue.listener,Ke!==fe&&re.isPropagationStopped())break e;Dr(re,Ue,dt),fe=Ke}else for(Se=0;Se<q.length;Se++){if(Ue=q[Se],Ke=Ue.instance,dt=Ue.currentTarget,Ue=Ue.listener,Ke!==fe&&re.isPropagationStopped())break e;Dr(re,Ue,dt),fe=Ke}}}if(xt)throw r=Rt,xt=!1,Rt=null,r}function $n(r,p){var D=p[Gl];D===void 0&&(D=p[Gl]=new Set);var q=r+"__bubble";D.has(q)||(Iu(p,r,2,!1),D.add(q))}function vl(r,p,D){var q=0;p&&(q|=4),Iu(D,r,q,p)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function Mi(r){if(!r[Qs]){r[Qs]=!0,i.forEach(function(D){D!=="selectionchange"&&(us.has(D)||vl(D,!1,r),vl(D,!0,r))});var p=r.nodeType===9?r:r.ownerDocument;p===null||p[Qs]||(p[Qs]=!0,vl("selectionchange",!1,p))}}function Iu(r,p,D,q){switch(Wa(p)){case 1:var re=Gi;break;case 4:re=Rs;break;default:re=Ha}D=re.bind(null,p,D,r),re=void 0,!Pn||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(re=!0),q?re!==void 0?r.addEventListener(p,D,{capture:!0,passive:re}):r.addEventListener(p,D,!0):re!==void 0?r.addEventListener(p,D,{passive:re}):r.addEventListener(p,D,!1)}function Fl(r,p,D,q,re){var fe=q;if(!(p&1)&&!(p&2)&&q!==null)e:for(;;){if(q===null)return;var Se=q.tag;if(Se===3||Se===4){var Ue=q.stateNode.containerInfo;if(Ue===re||Ue.nodeType===8&&Ue.parentNode===re)break;if(Se===4)for(Se=q.return;Se!==null;){var Ke=Se.tag;if((Ke===3||Ke===4)&&(Ke=Se.stateNode.containerInfo,Ke===re||Ke.nodeType===8&&Ke.parentNode===re))return;Se=Se.return}for(;Ue!==null;){if(Se=ci(Ue),Se===null)return;if(Ke=Se.tag,Ke===5||Ke===6){q=fe=Se;continue e}Ue=Ue.parentNode}}q=q.return}Ht(function(){var dt=fe,Ot=bt(D),Nt=[];e:{var Mt=Pe.get(r);if(Mt!==void 0){var tn=ga,rn=r;switch(r){case"keypress":if(ei(D)===0)break e;case"keydown":case"keyup":tn=wa;break;case"focusin":rn="focus",tn=Io;break;case"focusout":rn="blur",tn=Io;break;case"beforeblur":case"afterblur":tn=Io;break;case"click":if(D.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tn=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tn=Ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tn=ri;break;case Ys:case $r:case J:tn=Ka;break;case ve:tn=qs;break;case"scroll":tn=Ga;break;case"wheel":tn=ka;break;case"copy":case"cut":case"paste":tn=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tn=Bs}var an=(p&4)!==0,Pr=!an&&r==="scroll",lt=an?Mt!==null?Mt+"Capture":null:Mt;an=[];for(var Xe=dt,ct;Xe!==null;){ct=Xe;var qt=ct.stateNode;if(ct.tag===5&&qt!==null&&(ct=qt,lt!==null&&(qt=Wt(Xe,lt),qt!=null&&an.push(cs(Xe,qt,ct)))),Pr)break;Xe=Xe.return}0<an.length&&(Mt=new tn(Mt,rn,null,D,Ot),Nt.push({event:Mt,listeners:an}))}}if(!(p&7)){e:{if(Mt=r==="mouseover"||r==="pointerover",tn=r==="mouseout"||r==="pointerout",Mt&&D!==at&&(rn=D.relatedTarget||D.fromElement)&&(ci(rn)||rn[Ri]))break e;if((tn||Mt)&&(Mt=Ot.window===Ot?Ot:(Mt=Ot.ownerDocument)?Mt.defaultView||Mt.parentWindow:window,tn?(rn=D.relatedTarget||D.toElement,tn=dt,rn=rn?ci(rn):null,rn!==null&&(Pr=ae(rn),rn!==Pr||rn.tag!==5&&rn.tag!==6)&&(rn=null)):(tn=null,rn=dt),tn!==rn)){if(an=Co,qt="onMouseLeave",lt="onMouseEnter",Xe="mouse",(r==="pointerout"||r==="pointerover")&&(an=Bs,qt="onPointerLeave",lt="onPointerEnter",Xe="pointer"),Pr=tn==null?Mt:Xs(tn),ct=rn==null?Mt:Xs(rn),Mt=new an(qt,Xe+"leave",tn,D,Ot),Mt.target=Pr,Mt.relatedTarget=ct,qt=null,ci(Ot)===dt&&(an=new an(lt,Xe+"enter",rn,D,Ot),an.target=ct,an.relatedTarget=Pr,qt=an),Pr=qt,tn&&rn)t:{for(an=tn,lt=rn,Xe=0,ct=an;ct;ct=Ao(ct))Xe++;for(ct=0,qt=lt;qt;qt=Ao(qt))ct++;for(;0<Xe-ct;)an=Ao(an),Xe--;for(;0<ct-Xe;)lt=Ao(lt),ct--;for(;Xe--;){if(an===lt||lt!==null&&an===lt.alternate)break t;an=Ao(an),lt=Ao(lt)}an=null}else an=null;tn!==null&&Tu(Nt,Mt,tn,an,!1),rn!==null&&Pr!==null&&Tu(Nt,Pr,rn,an,!0)}}e:{if(Mt=dt?Xs(dt):window,tn=Mt.nodeName&&Mt.nodeName.toLowerCase(),tn==="select"||tn==="input"&&Mt.type==="file")var ln=Gs;else if(es(Mt))if(Ti)ln=si;else{ln=os;var vn=ml}else(tn=Mt.nodeName)&&tn.toLowerCase()==="input"&&(Mt.type==="checkbox"||Mt.type==="radio")&&(ln=$s);if(ln&&(ln=ln(r,dt))){Ws(Nt,ln,D,Ot);break e}vn&&vn(r,Mt,dt),r==="focusout"&&(vn=Mt._wrapperState)&&vn.controlled&&Mt.type==="number"&&te(Mt,"number",Mt.value)}switch(vn=dt?Xs(dt):window,r){case"focusin":(es(vn)||vn.contentEditable==="true")&&(qo=vn,Zi=dt,Xi=null);break;case"focusout":Xi=Zi=qo=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,Ks(Nt,D,Ot);break;case"selectionchange":if(hl)break;case"keydown":case"keyup":Ks(Nt,D,Ot)}var _n;if(Yi)e:{switch(r){case"compositionstart":var En="onCompositionStart";break e;case"compositionend":En="onCompositionEnd";break e;case"compositionupdate":En="onCompositionUpdate";break e}En=void 0}else ii?Xa(r,D)&&(En="onCompositionEnd"):r==="keydown"&&D.keyCode===229&&(En="onCompositionStart");En&&(Us&&D.locale!=="ko"&&(ii||En!=="onCompositionStart"?En==="onCompositionEnd"&&ii&&(_n=Os()):(Vo=Ot,So="value"in Vo?Vo.value:Vo.textContent,ii=!0)),vn=Js(dt,En),0<vn.length&&(En=new Qa(En,r,null,D,Ot),Nt.push({event:En,listeners:vn}),_n?En.data=_n:(_n=Ea(D),_n!==null&&(En.data=_n)))),(_n=oi?zs(r,D):Hs(r,D))&&(dt=Js(dt,"onBeforeInput"),0<dt.length&&(Ot=new Qa("onBeforeInput","beforeinput",null,D,Ot),Nt.push({event:Ot,listeners:dt}),Ot.data=_n))}bl(Nt,p)})}function cs(r,p,D){return{instance:r,listener:p,currentTarget:D}}function Js(r,p){for(var D=p+"Capture",q=[];r!==null;){var re=r,fe=re.stateNode;re.tag===5&&fe!==null&&(re=fe,fe=Wt(r,D),fe!=null&&q.unshift(cs(r,fe,re)),fe=Wt(r,p),fe!=null&&q.push(cs(r,fe,re))),r=r.return}return q}function Ao(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Tu(r,p,D,q,re){for(var fe=p._reactName,Se=[];D!==null&&D!==q;){var Ue=D,Ke=Ue.alternate,dt=Ue.stateNode;if(Ke!==null&&Ke===q)break;Ue.tag===5&&dt!==null&&(Ue=dt,re?(Ke=Wt(D,fe),Ke!=null&&Se.unshift(cs(D,Ke,Ue))):re||(Ke=Wt(D,fe),Ke!=null&&Se.push(cs(D,Ke,Ue)))),D=D.return}Se.length!==0&&r.push({event:p,listeners:Se})}var tc=/\r\n?/g,ea=/\u0000|\uFFFD/g;function Au(r){return(typeof r=="string"?r:""+r).replace(tc,`
`).replace(ea,"")}function Zs(r,p,D){if(p=Au(p),Au(r)!==p&&D)throw Error(l(425))}function _l(){}var gl=null,li=null;function zl(r,p){return r==="textarea"||r==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,nc=typeof clearTimeout=="function"?clearTimeout:void 0,ko=typeof Promise=="function"?Promise:void 0,Wl=typeof queueMicrotask=="function"?queueMicrotask:typeof ko!="undefined"?function(r){return ko.resolve(null).then(r).catch(rc)}:Hl;function rc(r){setTimeout(function(){throw r})}function ui(r,p){var D=p,q=0;do{var re=D.nextSibling;if(r.removeChild(D),re&&re.nodeType===8)if(D=re.data,D==="/$"){if(q===0){r.removeChild(re),Ar(p);return}q--}else D!=="$"&&D!=="$?"&&D!=="$!"||q++;D=re}while(D);Ar(p)}function zo(r){for(;r!=null;r=r.nextSibling){var p=r.nodeType;if(p===1||p===3)break;if(p===8){if(p=r.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return r}function Ta(r){r=r.previousSibling;for(var p=0;r;){if(r.nodeType===8){var D=r.data;if(D==="$"||D==="$!"||D==="$?"){if(p===0)return r;p--}else D==="/$"&&p++}r=r.previousSibling}return null}var ta=Math.random().toString(36).slice(2),Kr="__reactFiber$"+ta,Aa="__reactProps$"+ta,Ri="__reactContainer$"+ta,Gl="__reactEvents$"+ta,yl="__reactListeners$"+ta,Du="__reactHandles$"+ta;function ci(r){var p=r[Kr];if(p)return p;for(var D=r.parentNode;D;){if(p=D[Ri]||D[Kr]){if(D=p.alternate,p.child!==null||D!==null&&D.child!==null)for(r=Ta(r);r!==null;){if(D=r[Kr])return D;r=Ta(r)}return p}r=D,D=r.parentNode}return null}function Da(r){return r=r[Kr]||r[Ri],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Xs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(l(33))}function ds(r){return r[Aa]||null}var Ma=[],fs=-1;function di(r){return{current:r}}function ir(r){0>fs||(r.current=Ma[fs],Ma[fs]=null,fs--)}function Yn(r,p){fs++,Ma[fs]=r.current,r.current=p}var Wn={},Fn=di(Wn),Yr=di(!1),uo=Wn;function co(r,p){var D=r.type.contextTypes;if(!D)return Wn;var q=r.stateNode;if(q&&q.__reactInternalMemoizedUnmaskedChildContext===p)return q.__reactInternalMemoizedMaskedChildContext;var re={},fe;for(fe in D)re[fe]=p[fe];return q&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=re),re}function fo(r){return r=r.childContextTypes,r!=null}function el(){ir(Yr),ir(Fn)}function $l(r,p,D){if(Fn.current!==Wn)throw Error(l(168));Yn(Fn,p),Yn(Yr,D)}function Kl(r,p,D){var q=r.stateNode;if(p=p.childContextTypes,typeof q.getChildContext!="function")return D;q=q.getChildContext();for(var re in q)if(!(re in p))throw Error(l(108,X(r)||"Unknown",re));return K({},D,q)}function wr(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Wn,uo=Fn.current,Yn(Fn,r),Yn(Yr,Yr.current),!0}function wl(r,p,D){var q=r.stateNode;if(!q)throw Error(l(169));D?(r=Kl(r,p,uo),q.__reactInternalMemoizedMergedChildContext=r,ir(Yr),ir(Fn),Yn(Fn,r)):ir(Yr),Yn(Yr,D)}var me=null,xe=!1,Ie=!1;function Re(r){me===null?me=[r]:me.push(r)}function Fe(r){xe=!0,Re(r)}function Ge(){if(!Ie&&me!==null){Ie=!0;var r=0,p=Ln;try{var D=me;for(Ln=1;r<D.length;r++){var q=D[r];do q=q(!0);while(q!==null)}me=null,xe=!1}catch(re){throw me!==null&&(me=me.slice(r+1)),Ve(gt,Ge),re}finally{Ln=p,Ie=!1}}return null}var ot=[],tt=0,ut=null,yt=0,Lt=[],Jt=0,Xt=null,Ft=1,yn="";function Qn(r,p){ot[tt++]=yt,ot[tt++]=ut,ut=r,yt=p}function _r(r,p,D){Lt[Jt++]=Ft,Lt[Jt++]=yn,Lt[Jt++]=Xt,Xt=r;var q=Ft;r=yn;var re=32-cn(q)-1;q&=~(1<<re),D+=1;var fe=32-cn(p)+re;if(30<fe){var Se=re-re%5;fe=(q&(1<<Se)-1).toString(32),q>>=Se,re-=Se,Ft=1<<32-cn(p)+re|D<<re|q,yn=fe+r}else Ft=1<<fe|D<<re|q,yn=r}function sn(r){r.return!==null&&(Qn(r,1),_r(r,1,0))}function Bn(r){for(;r===ut;)ut=ot[--tt],ot[tt]=null,yt=ot[--tt],ot[tt]=null;for(;r===Xt;)Xt=Lt[--Jt],Lt[Jt]=null,yn=Lt[--Jt],Lt[Jt]=null,Ft=Lt[--Jt],Lt[Jt]=null}var Gn=null,dr=null,Kn=!1,Br=null;function ps(r,p){var D=nt(5,null,null,0);D.elementType="DELETED",D.stateNode=p,D.return=r,p=r.deletions,p===null?(r.deletions=[D],r.flags|=16):p.push(D)}function Yl(r,p){switch(r.tag){case 5:var D=r.type;return p=p.nodeType!==1||D.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(r.stateNode=p,Gn=r,dr=zo(p.firstChild),!0):!1;case 6:return p=r.pendingProps===""||p.nodeType!==3?null:p,p!==null?(r.stateNode=p,Gn=r,dr=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(D=Xt!==null?{id:Ft,overflow:yn}:null,r.memoizedState={dehydrated:p,treeContext:D,retryLane:1073741824},D=nt(18,null,null,0),D.stateNode=p,D.return=r,r.child=D,Gn=r,dr=null,!0):!1;default:return!1}}function Oi(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ql(r){if(Kn){var p=dr;if(p){var D=p;if(!Yl(r,p)){if(Oi(r))throw Error(l(418));p=zo(D.nextSibling);var q=Gn;p&&Yl(r,p)?ps(q,D):(r.flags=r.flags&-4097|2,Kn=!1,Gn=r)}}else{if(Oi(r))throw Error(l(418));r.flags=r.flags&-4097|2,Kn=!1,Gn=r}}}function jl(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Gn=r}function ms(r){if(r!==Gn)return!1;if(!Kn)return jl(r),Kn=!0,!1;var p;if((p=r.tag!==3)&&!(p=r.tag!==5)&&(p=r.type,p=p!=="head"&&p!=="body"&&!zl(r.type,r.memoizedProps)),p&&(p=dr)){if(Oi(r))throw Pi(),Error(l(418));for(;p;)ps(r,p),p=zo(p.nextSibling)}if(jl(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(317));e:{for(r=r.nextSibling,p=0;r;){if(r.nodeType===8){var D=r.data;if(D==="/$"){if(p===0){dr=zo(r.nextSibling);break e}p--}else D!=="$"&&D!=="$!"&&D!=="$?"||p++}r=r.nextSibling}dr=null}}else dr=Gn?zo(r.stateNode.nextSibling):null;return!0}function Pi(){for(var r=dr;r;)r=zo(r.nextSibling)}function Sr(){dr=Gn=null,Kn=!1}function hs(r){Br===null?Br=[r]:Br.push(r)}var na=I.ReactCurrentBatchConfig;function po(r,p){if(r&&r.defaultProps){p=K({},p),r=r.defaultProps;for(var D in r)p[D]===void 0&&(p[D]=r[D]);return p}return p}var bs=di(null),fi=null,Ra=null,Oa=null;function An(){Oa=Ra=fi=null}function rr(r){var p=bs.current;ir(bs),r._currentValue=p}function ar(r,p,D){for(;r!==null;){var q=r.alternate;if((r.childLanes&p)!==p?(r.childLanes|=p,q!==null&&(q.childLanes|=p)):q!==null&&(q.childLanes&p)!==p&&(q.childLanes|=p),r===D)break;r=r.return}}function Do(r,p){fi=r,Oa=Ra=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&p&&(Jr=!0),r.firstContext=null)}function qr(r){var p=r._currentValue;if(Oa!==r)if(r={context:r,memoizedValue:p,next:null},Ra===null){if(fi===null)throw Error(l(308));Ra=r,fi.dependencies={lanes:0,firstContext:r}}else Ra=Ra.next=r;return p}var Ho=null;function vs(r){Ho===null?Ho=[r]:Ho.push(r)}function _s(r,p,D,q){var re=p.interleaved;return re===null?(D.next=D,vs(p)):(D.next=re.next,re.next=D),p.interleaved=D,Ur(r,q)}function Ur(r,p){r.lanes|=p;var D=r.alternate;for(D!==null&&(D.lanes|=p),D=r,r=r.return;r!==null;)r.childLanes|=p,D=r.alternate,D!==null&&(D.childLanes|=p),D=r,r=r.return;return D.tag===3?D.stateNode:null}var xo=!1;function ra(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(r,p){r=r.updateQueue,p.updateQueue===r&&(p.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Wo(r,p){return{eventTime:r,lane:p,tag:0,payload:null,callback:null,next:null}}function pi(r,p,D){var q=r.updateQueue;if(q===null)return null;if(q=q.shared,zn&2){var re=q.pending;return re===null?p.next=p:(p.next=re.next,re.next=p),q.pending=p,Ur(r,D)}return re=q.interleaved,re===null?(p.next=p,vs(q)):(p.next=re.next,re.next=p),q.interleaved=p,Ur(r,D)}function gs(r,p,D){if(p=p.updateQueue,p!==null&&(p=p.shared,(D&4194240)!==0)){var q=p.lanes;q&=r.pendingLanes,D|=q,p.lanes=D,Hi(r,D)}}function oc(r,p){var D=r.updateQueue,q=r.alternate;if(q!==null&&(q=q.updateQueue,D===q)){var re=null,fe=null;if(D=D.firstBaseUpdate,D!==null){do{var Se={eventTime:D.eventTime,lane:D.lane,tag:D.tag,payload:D.payload,callback:D.callback,next:null};fe===null?re=fe=Se:fe=fe.next=Se,D=D.next}while(D!==null);fe===null?re=fe=p:fe=fe.next=p}else re=fe=p;D={baseState:q.baseState,firstBaseUpdate:re,lastBaseUpdate:fe,shared:q.shared,effects:q.effects},r.updateQueue=D;return}r=D.lastBaseUpdate,r===null?D.firstBaseUpdate=p:r.next=p,D.lastBaseUpdate=p}function La(r,p,D,q){var re=r.updateQueue;xo=!1;var fe=re.firstBaseUpdate,Se=re.lastBaseUpdate,Ue=re.shared.pending;if(Ue!==null){re.shared.pending=null;var Ke=Ue,dt=Ke.next;Ke.next=null,Se===null?fe=dt:Se.next=dt,Se=Ke;var Ot=r.alternate;Ot!==null&&(Ot=Ot.updateQueue,Ue=Ot.lastBaseUpdate,Ue!==Se&&(Ue===null?Ot.firstBaseUpdate=dt:Ue.next=dt,Ot.lastBaseUpdate=Ke))}if(fe!==null){var Nt=re.baseState;Se=0,Ot=dt=Ke=null,Ue=fe;do{var Mt=Ue.lane,tn=Ue.eventTime;if((q&Mt)===Mt){Ot!==null&&(Ot=Ot.next={eventTime:tn,lane:0,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null});e:{var rn=r,an=Ue;switch(Mt=p,tn=D,an.tag){case 1:if(rn=an.payload,typeof rn=="function"){Nt=rn.call(tn,Nt,Mt);break e}Nt=rn;break e;case 3:rn.flags=rn.flags&-65537|128;case 0:if(rn=an.payload,Mt=typeof rn=="function"?rn.call(tn,Nt,Mt):rn,Mt==null)break e;Nt=K({},Nt,Mt);break e;case 2:xo=!0}}Ue.callback!==null&&Ue.lane!==0&&(r.flags|=64,Mt=re.effects,Mt===null?re.effects=[Ue]:Mt.push(Ue))}else tn={eventTime:tn,lane:Mt,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null},Ot===null?(dt=Ot=tn,Ke=Nt):Ot=Ot.next=tn,Se|=Mt;if(Ue=Ue.next,Ue===null){if(Ue=re.shared.pending,Ue===null)break;Mt=Ue,Ue=Mt.next,Mt.next=null,re.lastBaseUpdate=Mt,re.shared.pending=null}}while(1);if(Ot===null&&(Ke=Nt),re.baseState=Ke,re.firstBaseUpdate=dt,re.lastBaseUpdate=Ot,p=re.shared.interleaved,p!==null){re=p;do Se|=re.lane,re=re.next;while(re!==p)}else fe===null&&(re.shared.lanes=0);br|=Se,r.lanes=Se,r.memoizedState=Nt}}function Mu(r,p,D){if(r=p.effects,p.effects=null,r!==null)for(p=0;p<r.length;p++){var q=r[p],re=q.callback;if(re!==null){if(q.callback=null,q=D,typeof re!="function")throw Error(l(191,re));re.call(q)}}}var ic=new zt.Component().refs;function Ru(r,p,D,q){p=r.memoizedState,D=D(q,p),D=D==null?p:K({},p,D),r.memoizedState=D,r.lanes===0&&(r.updateQueue.baseState=D)}var Jl={isMounted:function(r){return(r=r._reactInternals)?ae(r)===r:!1},enqueueSetState:function(r,p,D){r=r._reactInternals;var q=Or(),re=vi(r),fe=Wo(q,re);fe.payload=p,D!=null&&(fe.callback=D),p=pi(r,fe,re),p!==null&&(Jo(p,r,re,q),gs(p,r,re))},enqueueReplaceState:function(r,p,D){r=r._reactInternals;var q=Or(),re=vi(r),fe=Wo(q,re);fe.tag=1,fe.payload=p,D!=null&&(fe.callback=D),p=pi(r,fe,re),p!==null&&(Jo(p,r,re,q),gs(p,r,re))},enqueueForceUpdate:function(r,p){r=r._reactInternals;var D=Or(),q=vi(r),re=Wo(D,q);re.tag=2,p!=null&&(re.callback=p),p=pi(r,re,q),p!==null&&(Jo(p,r,q,D),gs(p,r,q))}};function ac(r,p,D,q,re,fe,Se){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(q,fe,Se):p.prototype&&p.prototype.isPureReactComponent?!Ji(D,q)||!Ji(re,fe):!0}function sc(r,p,D){var q=!1,re=Wn,fe=p.contextType;return typeof fe=="object"&&fe!==null?fe=qr(fe):(re=fo(p)?uo:Fn.current,q=p.contextTypes,fe=(q=q!=null)?co(r,re):Wn),p=new p(D,fe),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Jl,r.stateNode=p,p._reactInternals=r,q&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=re,r.__reactInternalMemoizedMaskedChildContext=fe),p}function lc(r,p,D,q){r=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(D,q),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(D,q),p.state!==r&&Jl.enqueueReplaceState(p,p.state,null)}function Zl(r,p,D,q){var re=r.stateNode;re.props=D,re.state=r.memoizedState,re.refs=ic,ra(r);var fe=p.contextType;typeof fe=="object"&&fe!==null?re.context=qr(fe):(fe=fo(p)?uo:Fn.current,re.context=co(r,fe)),re.state=r.memoizedState,fe=p.getDerivedStateFromProps,typeof fe=="function"&&(Ru(r,p,fe,D),re.state=r.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof re.getSnapshotBeforeUpdate=="function"||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(p=re.state,typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount(),p!==re.state&&Jl.enqueueReplaceState(re,re.state,null),La(r,D,re,q),re.state=r.memoizedState),typeof re.componentDidMount=="function"&&(r.flags|=4194308)}function Xl(r,p,D){if(r=D.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(D._owner){if(D=D._owner,D){if(D.tag!==1)throw Error(l(309));var q=D.stateNode}if(!q)throw Error(l(147,r));var re=q,fe=""+r;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===fe?p.ref:(p=function(Se){var Ue=re.refs;Ue===ic&&(Ue=re.refs={}),Se===null?delete Ue[fe]:Ue[fe]=Se},p._stringRef=fe,p)}if(typeof r!="string")throw Error(l(284));if(!D._owner)throw Error(l(290,r))}return r}function kl(r,p){throw r=Object.prototype.toString.call(p),Error(l(31,r==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":r))}function Ou(r){var p=r._init;return p(r._payload)}function xl(r){function p(lt,Xe){if(r){var ct=lt.deletions;ct===null?(lt.deletions=[Xe],lt.flags|=16):ct.push(Xe)}}function D(lt,Xe){if(!r)return null;for(;Xe!==null;)p(lt,Xe),Xe=Xe.sibling;return null}function q(lt,Xe){for(lt=new Map;Xe!==null;)Xe.key!==null?lt.set(Xe.key,Xe):lt.set(Xe.index,Xe),Xe=Xe.sibling;return lt}function re(lt,Xe){return lt=pn(lt,Xe),lt.index=0,lt.sibling=null,lt}function fe(lt,Xe,ct){return lt.index=ct,r?(ct=lt.alternate,ct!==null?(ct=ct.index,ct<Xe?(lt.flags|=2,Xe):ct):(lt.flags|=2,Xe)):(lt.flags|=1048576,Xe)}function Se(lt){return r&&lt.alternate===null&&(lt.flags|=2),lt}function Ue(lt,Xe,ct,qt){return Xe===null||Xe.tag!==6?(Xe=Dn(ct,lt.mode,qt),Xe.return=lt,Xe):(Xe=re(Xe,ct),Xe.return=lt,Xe)}function Ke(lt,Xe,ct,qt){var ln=ct.type;return ln===j?Ot(lt,Xe,ct.props.children,qt,ct.key):Xe!==null&&(Xe.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===B&&Ou(ln)===Xe.type)?(qt=re(Xe,ct.props),qt.ref=Xl(lt,Xe,ct),qt.return=lt,qt):(qt=nn(ct.type,ct.key,ct.props,null,lt.mode,qt),qt.ref=Xl(lt,Xe,ct),qt.return=lt,qt)}function dt(lt,Xe,ct,qt){return Xe===null||Xe.tag!==4||Xe.stateNode.containerInfo!==ct.containerInfo||Xe.stateNode.implementation!==ct.implementation?(Xe=ha(ct,lt.mode,qt),Xe.return=lt,Xe):(Xe=re(Xe,ct.children||[]),Xe.return=lt,Xe)}function Ot(lt,Xe,ct,qt,ln){return Xe===null||Xe.tag!==7?(Xe=wn(ct,lt.mode,qt,ln),Xe.return=lt,Xe):(Xe=re(Xe,ct),Xe.return=lt,Xe)}function Nt(lt,Xe,ct){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return Xe=Dn(""+Xe,lt.mode,ct),Xe.return=lt,Xe;if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case g:return ct=nn(Xe.type,Xe.key,Xe.props,null,lt.mode,ct),ct.ref=Xl(lt,null,Xe),ct.return=lt,ct;case k:return Xe=ha(Xe,lt.mode,ct),Xe.return=lt,Xe;case B:var qt=Xe._init;return Nt(lt,qt(Xe._payload),ct)}if(ce(Xe)||N(Xe))return Xe=wn(Xe,lt.mode,ct,null),Xe.return=lt,Xe;kl(lt,Xe)}return null}function Mt(lt,Xe,ct,qt){var ln=Xe!==null?Xe.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return ln!==null?null:Ue(lt,Xe,""+ct,qt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case g:return ct.key===ln?Ke(lt,Xe,ct,qt):null;case k:return ct.key===ln?dt(lt,Xe,ct,qt):null;case B:return ln=ct._init,Mt(lt,Xe,ln(ct._payload),qt)}if(ce(ct)||N(ct))return ln!==null?null:Ot(lt,Xe,ct,qt,null);kl(lt,ct)}return null}function tn(lt,Xe,ct,qt,ln){if(typeof qt=="string"&&qt!==""||typeof qt=="number")return lt=lt.get(ct)||null,Ue(Xe,lt,""+qt,ln);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case g:return lt=lt.get(qt.key===null?ct:qt.key)||null,Ke(Xe,lt,qt,ln);case k:return lt=lt.get(qt.key===null?ct:qt.key)||null,dt(Xe,lt,qt,ln);case B:var vn=qt._init;return tn(lt,Xe,ct,vn(qt._payload),ln)}if(ce(qt)||N(qt))return lt=lt.get(ct)||null,Ot(Xe,lt,qt,ln,null);kl(Xe,qt)}return null}function rn(lt,Xe,ct,qt){for(var ln=null,vn=null,_n=Xe,En=Xe=0,go=null;_n!==null&&En<ct.length;En++){_n.index>En?(go=_n,_n=null):go=_n.sibling;var tr=Mt(lt,_n,ct[En],qt);if(tr===null){_n===null&&(_n=go);break}r&&_n&&tr.alternate===null&&p(lt,_n),Xe=fe(tr,Xe,En),vn===null?ln=tr:vn.sibling=tr,vn=tr,_n=go}if(En===ct.length)return D(lt,_n),Kn&&Qn(lt,En),ln;if(_n===null){for(;En<ct.length;En++)_n=Nt(lt,ct[En],qt),_n!==null&&(Xe=fe(_n,Xe,En),vn===null?ln=_n:vn.sibling=_n,vn=_n);return Kn&&Qn(lt,En),ln}for(_n=q(lt,_n);En<ct.length;En++)go=tn(_n,lt,En,ct[En],qt),go!==null&&(r&&go.alternate!==null&&_n.delete(go.key===null?En:go.key),Xe=fe(go,Xe,En),vn===null?ln=go:vn.sibling=go,vn=go);return r&&_n.forEach(function(Bl){return p(lt,Bl)}),Kn&&Qn(lt,En),ln}function an(lt,Xe,ct,qt){var ln=N(ct);if(typeof ln!="function")throw Error(l(150));if(ct=ln.call(ct),ct==null)throw Error(l(151));for(var vn=ln=null,_n=Xe,En=Xe=0,go=null,tr=ct.next();_n!==null&&!tr.done;En++,tr=ct.next()){_n.index>En?(go=_n,_n=null):go=_n.sibling;var Bl=Mt(lt,_n,tr.value,qt);if(Bl===null){_n===null&&(_n=go);break}r&&_n&&Bl.alternate===null&&p(lt,_n),Xe=fe(Bl,Xe,En),vn===null?ln=Bl:vn.sibling=Bl,vn=Bl,_n=go}if(tr.done)return D(lt,_n),Kn&&Qn(lt,En),ln;if(_n===null){for(;!tr.done;En++,tr=ct.next())tr=Nt(lt,tr.value,qt),tr!==null&&(Xe=fe(tr,Xe,En),vn===null?ln=tr:vn.sibling=tr,vn=tr);return Kn&&Qn(lt,En),ln}for(_n=q(lt,_n);!tr.done;En++,tr=ct.next())tr=tn(_n,lt,En,tr.value,qt),tr!==null&&(r&&tr.alternate!==null&&_n.delete(tr.key===null?En:tr.key),Xe=fe(tr,Xe,En),vn===null?ln=tr:vn.sibling=tr,vn=tr);return r&&_n.forEach(function(jd){return p(lt,jd)}),Kn&&Qn(lt,En),ln}function Pr(lt,Xe,ct,qt){if(typeof ct=="object"&&ct!==null&&ct.type===j&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case g:e:{for(var ln=ct.key,vn=Xe;vn!==null;){if(vn.key===ln){if(ln=ct.type,ln===j){if(vn.tag===7){D(lt,vn.sibling),Xe=re(vn,ct.props.children),Xe.return=lt,lt=Xe;break e}}else if(vn.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===B&&Ou(ln)===vn.type){D(lt,vn.sibling),Xe=re(vn,ct.props),Xe.ref=Xl(lt,vn,ct),Xe.return=lt,lt=Xe;break e}D(lt,vn);break}else p(lt,vn);vn=vn.sibling}ct.type===j?(Xe=wn(ct.props.children,lt.mode,qt,ct.key),Xe.return=lt,lt=Xe):(qt=nn(ct.type,ct.key,ct.props,null,lt.mode,qt),qt.ref=Xl(lt,Xe,ct),qt.return=lt,lt=qt)}return Se(lt);case k:e:{for(vn=ct.key;Xe!==null;){if(Xe.key===vn)if(Xe.tag===4&&Xe.stateNode.containerInfo===ct.containerInfo&&Xe.stateNode.implementation===ct.implementation){D(lt,Xe.sibling),Xe=re(Xe,ct.children||[]),Xe.return=lt,lt=Xe;break e}else{D(lt,Xe);break}else p(lt,Xe);Xe=Xe.sibling}Xe=ha(ct,lt.mode,qt),Xe.return=lt,lt=Xe}return Se(lt);case B:return vn=ct._init,Pr(lt,Xe,vn(ct._payload),qt)}if(ce(ct))return rn(lt,Xe,ct,qt);if(N(ct))return an(lt,Xe,ct,qt);kl(lt,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?(ct=""+ct,Xe!==null&&Xe.tag===6?(D(lt,Xe.sibling),Xe=re(Xe,ct),Xe.return=lt,lt=Xe):(D(lt,Xe),Xe=Dn(ct,lt.mode,qt),Xe.return=lt,lt=Xe),Se(lt)):D(lt,Xe)}return Pr}var Jn=xl(!0),Na=xl(!1),eu={},oa=di(eu),tu=di(eu),nu=di(eu);function ia(r){if(r===eu)throw Error(l(174));return r}function aa(r,p){switch(Yn(nu,p),Yn(tu,r),Yn(oa,eu),r=p.nodeType,r){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Je(null,"");break;default:r=r===8?p.parentNode:p,p=r.namespaceURI||null,r=r.tagName,p=Je(p,r)}ir(oa),Yn(oa,p)}function ys(){ir(oa),ir(tu),ir(nu)}function ru(r){ia(nu.current);var p=ia(oa.current),D=Je(p,r.type);p!==D&&(Yn(tu,r),Yn(oa,D))}function ws(r){tu.current===r&&(ir(oa),ir(tu))}var hr=di(0);function js(r){for(var p=r;p!==null;){if(p.tag===13){var D=p.memoizedState;if(D!==null&&(D=D.dehydrated,D===null||D.data==="$?"||D.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break;for(;p.sibling===null;){if(p.return===null||p.return===r)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var uc=[];function El(){for(var r=0;r<uc.length;r++)uc[r]._workInProgressVersionPrimary=null;uc.length=0}var ou=I.ReactCurrentDispatcher,cc=I.ReactCurrentBatchConfig,tl=0,gr=null,kr=null,Fr=null,Pu=!1,iu=!1,au=0,Zc=0;function Qr(){throw Error(l(321))}function dc(r,p){if(p===null)return!1;for(var D=0;D<p.length&&D<r.length;D++)if(!jo(r[D],p[D]))return!1;return!0}function fc(r,p,D,q,re,fe){if(tl=fe,gr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,ou.current=r===null||r.memoizedState===null?wc:Lc,r=D(q,re),iu){fe=0;do{if(iu=!1,au=0,25<=fe)throw Error(l(301));fe+=1,Fr=kr=null,p.updateQueue=null,ou.current=Nc,r=D(q,re)}while(iu)}if(ou.current=pu,p=kr!==null&&kr.next!==null,tl=0,Fr=kr=gr=null,Pu=!1,p)throw Error(l(300));return r}function pc(){var r=au!==0;return au=0,r}function sa(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?gr.memoizedState=Fr=r:Fr=Fr.next=r,Fr}function mi(){if(kr===null){var r=gr.alternate;r=r!==null?r.memoizedState:null}else r=kr.next;var p=Fr===null?gr.memoizedState:Fr.next;if(p!==null)Fr=p,kr=r;else{if(r===null)throw Error(l(310));kr=r,r={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Fr===null?gr.memoizedState=Fr=r:Fr=Fr.next=r}return Fr}function su(r,p){return typeof p=="function"?p(r):p}function Lu(r){var p=mi(),D=p.queue;if(D===null)throw Error(l(311));D.lastRenderedReducer=r;var q=kr,re=q.baseQueue,fe=D.pending;if(fe!==null){if(re!==null){var Se=re.next;re.next=fe.next,fe.next=Se}q.baseQueue=re=fe,D.pending=null}if(re!==null){fe=re.next,q=q.baseState;var Ue=Se=null,Ke=null,dt=fe;do{var Ot=dt.lane;if((tl&Ot)===Ot)Ke!==null&&(Ke=Ke.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),q=dt.hasEagerState?dt.eagerState:r(q,dt.action);else{var Nt={lane:Ot,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};Ke===null?(Ue=Ke=Nt,Se=q):Ke=Ke.next=Nt,gr.lanes|=Ot,br|=Ot}dt=dt.next}while(dt!==null&&dt!==fe);Ke===null?Se=q:Ke.next=Ue,jo(q,p.memoizedState)||(Jr=!0),p.memoizedState=q,p.baseState=Se,p.baseQueue=Ke,D.lastRenderedState=q}if(r=D.interleaved,r!==null){re=r;do fe=re.lane,gr.lanes|=fe,br|=fe,re=re.next;while(re!==r)}else re===null&&(D.lanes=0);return[p.memoizedState,D.dispatch]}function mc(r){var p=mi(),D=p.queue;if(D===null)throw Error(l(311));D.lastRenderedReducer=r;var q=D.dispatch,re=D.pending,fe=p.memoizedState;if(re!==null){D.pending=null;var Se=re=re.next;do fe=r(fe,Se.action),Se=Se.next;while(Se!==re);jo(fe,p.memoizedState)||(Jr=!0),p.memoizedState=fe,p.baseQueue===null&&(p.baseState=fe),D.lastRenderedState=fe}return[fe,q]}function Tc(){}function Ac(r,p){var D=gr,q=mi(),re=p(),fe=!jo(q.memoizedState,re);if(fe&&(q.memoizedState=re,Jr=!0),q=q.queue,bc(Rc.bind(null,D,q,r),[r]),q.getSnapshot!==p||fe||Fr!==null&&Fr.memoizedState.tag&1){if(D.flags|=2048,lu(9,Mc.bind(null,D,q,re,p),void 0,null),zr===null)throw Error(l(349));tl&30||Dc(D,p,re)}return re}function Dc(r,p,D){r.flags|=16384,r={getSnapshot:p,value:D},p=gr.updateQueue,p===null?(p={lastEffect:null,stores:null},gr.updateQueue=p,p.stores=[r]):(D=p.stores,D===null?p.stores=[r]:D.push(r))}function Mc(r,p,D,q){p.value=D,p.getSnapshot=q,Oc(p)&&Nu(r)}function Rc(r,p,D){return D(function(){Oc(p)&&Nu(r)})}function Oc(r){var p=r.getSnapshot;r=r.value;try{var D=p();return!jo(r,D)}catch(q){return!0}}function Nu(r){var p=Ur(r,1);p!==null&&Jo(p,r,1,-1)}function Sl(r){var p=sa();return typeof r=="function"&&(r=r()),p.memoizedState=p.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:r},p.queue=r,r=r.dispatch=fu.bind(null,gr,r),[p.memoizedState,r]}function lu(r,p,D,q){return r={tag:r,create:p,destroy:D,deps:q,next:null},p=gr.updateQueue,p===null?(p={lastEffect:null,stores:null},gr.updateQueue=p,p.lastEffect=r.next=r):(D=p.lastEffect,D===null?p.lastEffect=r.next=r:(q=D.next,D.next=r,r.next=q,p.lastEffect=r)),r}function hc(){return mi().memoizedState}function uu(r,p,D,q){var re=sa();gr.flags|=r,re.memoizedState=lu(1|p,D,void 0,q===void 0?null:q)}function cu(r,p,D,q){var re=mi();q=q===void 0?null:q;var fe=void 0;if(kr!==null){var Se=kr.memoizedState;if(fe=Se.destroy,q!==null&&dc(q,Se.deps)){re.memoizedState=lu(p,D,fe,q);return}}gr.flags|=r,re.memoizedState=lu(1|p,D,fe,q)}function nl(r,p){return uu(8390656,8,r,p)}function bc(r,p){return cu(2048,8,r,p)}function Cl(r,p){return cu(4,2,r,p)}function Il(r,p){return cu(4,4,r,p)}function vc(r,p){if(typeof p=="function")return r=r(),p(r),function(){p(null)};if(p!=null)return r=r(),p.current=r,function(){p.current=null}}function Vu(r,p,D){return D=D!=null?D.concat([r]):null,cu(4,4,vc.bind(null,p,r),D)}function du(){}function _c(r,p){var D=mi();p=p===void 0?null:p;var q=D.memoizedState;return q!==null&&p!==null&&dc(p,q[1])?q[0]:(D.memoizedState=[r,p],r)}function Go(r,p){var D=mi();p=p===void 0?null:p;var q=D.memoizedState;return q!==null&&p!==null&&dc(p,q[1])?q[0]:(r=r(),D.memoizedState=[r,p],r)}function Pc(r,p,D){return tl&21?(jo(D,p)||(D=or(),gr.lanes|=D,br|=D,r.baseState=!0),p):(r.baseState&&(r.baseState=!1,Jr=!0),r.memoizedState=D)}function Xc(r,p){var D=Ln;Ln=D!==0&&4>D?D:4,r(!0);var q=cc.transition;cc.transition={};try{r(!1),p()}finally{Ln=D,cc.transition=q}}function rl(){return mi().memoizedState}function gc(r,p,D){var q=vi(r);if(D={lane:q,action:D,hasEagerState:!1,eagerState:null,next:null},Bu(r))yc(p,D);else if(D=_s(r,p,D,q),D!==null){var re=Or();Jo(D,r,q,re),qu(D,p,q)}}function fu(r,p,D){var q=vi(r),re={lane:q,action:D,hasEagerState:!1,eagerState:null,next:null};if(Bu(r))yc(p,re);else{var fe=r.alternate;if(r.lanes===0&&(fe===null||fe.lanes===0)&&(fe=p.lastRenderedReducer,fe!==null))try{var Se=p.lastRenderedState,Ue=fe(Se,D);if(re.hasEagerState=!0,re.eagerState=Ue,jo(Ue,Se)){var Ke=p.interleaved;Ke===null?(re.next=re,vs(p)):(re.next=Ke.next,Ke.next=re),p.interleaved=re;return}}catch(dt){}finally{}D=_s(r,p,re,q),D!==null&&(re=Or(),Jo(D,r,q,re),qu(D,p,q))}}function Bu(r){var p=r.alternate;return r===gr||p!==null&&p===gr}function yc(r,p){iu=Pu=!0;var D=r.pending;D===null?p.next=p:(p.next=D.next,D.next=p),r.pending=p}function qu(r,p,D){if(D&4194240){var q=p.lanes;q&=r.pendingLanes,D|=q,p.lanes=D,Hi(r,D)}}var pu={readContext:qr,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},wc={readContext:qr,useCallback:function(r,p){return sa().memoizedState=[r,p===void 0?null:p],r},useContext:qr,useEffect:nl,useImperativeHandle:function(r,p,D){return D=D!=null?D.concat([r]):null,uu(4194308,4,vc.bind(null,p,r),D)},useLayoutEffect:function(r,p){return uu(4194308,4,r,p)},useInsertionEffect:function(r,p){return uu(4,2,r,p)},useMemo:function(r,p){var D=sa();return p=p===void 0?null:p,r=r(),D.memoizedState=[r,p],r},useReducer:function(r,p,D){var q=sa();return p=D!==void 0?D(p):p,q.memoizedState=q.baseState=p,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},q.queue=r,r=r.dispatch=gc.bind(null,gr,r),[q.memoizedState,r]},useRef:function(r){var p=sa();return r={current:r},p.memoizedState=r},useState:Sl,useDebugValue:du,useDeferredValue:function(r){return sa().memoizedState=r},useTransition:function(){var r=Sl(!1),p=r[0];return r=Xc.bind(null,r[1]),sa().memoizedState=r,[p,r]},useMutableSource:function(){},useSyncExternalStore:function(r,p,D){var q=gr,re=sa();if(Kn){if(D===void 0)throw Error(l(407));D=D()}else{if(D=p(),zr===null)throw Error(l(349));tl&30||Dc(q,p,D)}re.memoizedState=D;var fe={value:D,getSnapshot:p};return re.queue=fe,nl(Rc.bind(null,q,fe,r),[r]),q.flags|=2048,lu(9,Mc.bind(null,q,fe,D,p),void 0,null),D},useId:function(){var r=sa(),p=zr.identifierPrefix;if(Kn){var D=yn,q=Ft;D=(q&~(1<<32-cn(q)-1)).toString(32)+D,p=":"+p+"R"+D,D=au++,0<D&&(p+="H"+D.toString(32)),p+=":"}else D=Zc++,p=":"+p+"r"+D.toString(32)+":";return r.memoizedState=p},unstable_isNewReconciler:!1},Lc={readContext:qr,useCallback:_c,useContext:qr,useEffect:bc,useImperativeHandle:Vu,useInsertionEffect:Cl,useLayoutEffect:Il,useMemo:Go,useReducer:Lu,useRef:hc,useState:function(){return Lu(su)},useDebugValue:du,useDeferredValue:function(r){var p=mi();return Pc(p,kr.memoizedState,r)},useTransition:function(){var r=Lu(su)[0],p=mi().memoizedState;return[r,p]},useMutableSource:Tc,useSyncExternalStore:Ac,useId:rl,unstable_isNewReconciler:!1},Nc={readContext:qr,useCallback:_c,useContext:qr,useEffect:bc,useImperativeHandle:Vu,useInsertionEffect:Cl,useLayoutEffect:Il,useMemo:Go,useReducer:mc,useRef:hc,useState:function(){return mc(su)},useDebugValue:du,useDeferredValue:function(r){var p=mi();return kr===null?p.memoizedState=r:Pc(p,kr.memoizedState,r)},useTransition:function(){var r=mc(su)[0],p=mi().memoizedState;return[r,p]},useMutableSource:Tc,useSyncExternalStore:Ac,useId:rl,unstable_isNewReconciler:!1};function la(r,p){try{var D="",q=p;do D+=ne(q),q=q.return;while(q);var re=D}catch(fe){re=`
Error generating stack: `+fe.message+`
`+fe.stack}return{value:r,source:p,stack:re,digest:null}}function Uu(r,p,D){return{value:r,source:null,stack:D!=null?D:null,digest:p!=null?p:null}}function Fu(r,p){try{console.error(p.value)}catch(D){setTimeout(function(){throw D})}}var jc=typeof WeakMap=="function"?WeakMap:Map;function zu(r,p,D){D=Wo(-1,D),D.tag=3,D.payload={element:null};var q=p.value;return D.callback=function(){qa||(qa=!0,ku=q),Fu(r,p)},D}function kc(r,p,D){D=Wo(-1,D),D.tag=3;var q=r.type.getDerivedStateFromError;if(typeof q=="function"){var re=p.value;D.payload=function(){return q(re)},D.callback=function(){Fu(r,p)}}var fe=r.stateNode;return fe!==null&&typeof fe.componentDidCatch=="function"&&(D.callback=function(){Fu(r,p),typeof q!="function"&&(da===null?da=new Set([this]):da.add(this));var Se=p.stack;this.componentDidCatch(p.value,{componentStack:Se!==null?Se:""})}),D}function Vc(r,p,D){var q=r.pingCache;if(q===null){q=r.pingCache=new jc;var re=new Set;q.set(p,re)}else re=q.get(p),re===void 0&&(re=new Set,q.set(p,re));re.has(D)||(re.add(D),r=kn.bind(null,r,p,D),p.then(r,r))}function Hu(r){do{var p;if((p=r.tag===13)&&(p=r.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return r;r=r.return}while(r!==null);return null}function mu(r,p,D,q,re){return r.mode&1?(r.flags|=65536,r.lanes=re,r):(r===p?r.flags|=65536:(r.flags|=128,D.flags|=131072,D.flags&=-52805,D.tag===1&&(D.alternate===null?D.tag=17:(p=Wo(-1,1),p.tag=2,pi(D,p,1))),D.lanes|=1),r)}var ks=I.ReactCurrentOwner,Jr=!1;function Cr(r,p,D,q){p.child=r===null?Na(p,null,D,q):Jn(p,r.child,D,q)}function xc(r,p,D,q,re){D=D.render;var fe=p.ref;return Do(p,re),q=fc(r,p,D,q,fe,re),D=pc(),r!==null&&!Jr?(p.updateQueue=r.updateQueue,p.flags&=-2053,r.lanes&=~re,ua(r,p,re)):(Kn&&D&&sn(p),p.flags|=1,Cr(r,p,q,re),p.child)}function Wu(r,p,D,q,re){if(r===null){var fe=D.type;return typeof fe=="function"&&!kt(fe)&&fe.defaultProps===void 0&&D.compare===null&&D.defaultProps===void 0?(p.tag=15,p.type=fe,ol(r,p,fe,q,re)):(r=nn(D.type,null,q,p,p.mode,re),r.ref=p.ref,r.return=p,p.child=r)}if(fe=r.child,!(r.lanes&re)){var Se=fe.memoizedProps;if(D=D.compare,D=D!==null?D:Ji,D(Se,q)&&r.ref===p.ref)return ua(r,p,re)}return p.flags|=1,r=pn(fe,q),r.ref=p.ref,r.return=p,p.child=r}function ol(r,p,D,q,re){if(r!==null){var fe=r.memoizedProps;if(Ji(fe,q)&&r.ref===p.ref)if(Jr=!1,p.pendingProps=q=fe,(r.lanes&re)!==0)r.flags&131072&&(Jr=!0);else return p.lanes=r.lanes,ua(r,p,re)}return mo(r,p,D,q,re)}function Va(r,p,D){var q=p.pendingProps,re=q.children,fe=r!==null?r.memoizedState:null;if(q.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(Cs,bo),bo|=D;else{if(!(D&1073741824))return r=fe!==null?fe.baseLanes|D:D,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:r,cachePool:null,transitions:null},p.updateQueue=null,Yn(Cs,bo),bo|=r,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},q=fe!==null?fe.baseLanes:D,Yn(Cs,bo),bo|=q}else fe!==null?(q=fe.baseLanes|D,p.memoizedState=null):q=D,Yn(Cs,bo),bo|=q;return Cr(r,p,re,D),p.child}function Zr(r,p){var D=p.ref;(r===null&&D!==null||r!==null&&r.ref!==D)&&(p.flags|=512,p.flags|=2097152)}function mo(r,p,D,q,re){var fe=fo(D)?uo:Fn.current;return fe=co(p,fe),Do(p,re),D=fc(r,p,D,q,fe,re),q=pc(),r!==null&&!Jr?(p.updateQueue=r.updateQueue,p.flags&=-2053,r.lanes&=~re,ua(r,p,re)):(Kn&&q&&sn(p),p.flags|=1,Cr(r,p,D,re),p.child)}function xs(r,p,D,q,re){if(fo(D)){var fe=!0;wr(p)}else fe=!1;if(Do(p,re),p.stateNode===null)gu(r,p),sc(p,D,q),Zl(p,D,q,re),q=!0;else if(r===null){var Se=p.stateNode,Ue=p.memoizedProps;Se.props=Ue;var Ke=Se.context,dt=D.contextType;typeof dt=="object"&&dt!==null?dt=qr(dt):(dt=fo(D)?uo:Fn.current,dt=co(p,dt));var Ot=D.getDerivedStateFromProps,Nt=typeof Ot=="function"||typeof Se.getSnapshotBeforeUpdate=="function";Nt||typeof Se.UNSAFE_componentWillReceiveProps!="function"&&typeof Se.componentWillReceiveProps!="function"||(Ue!==q||Ke!==dt)&&lc(p,Se,q,dt),xo=!1;var Mt=p.memoizedState;Se.state=Mt,La(p,q,Se,re),Ke=p.memoizedState,Ue!==q||Mt!==Ke||Yr.current||xo?(typeof Ot=="function"&&(Ru(p,D,Ot,q),Ke=p.memoizedState),(Ue=xo||ac(p,D,Ue,q,Mt,Ke,dt))?(Nt||typeof Se.UNSAFE_componentWillMount!="function"&&typeof Se.componentWillMount!="function"||(typeof Se.componentWillMount=="function"&&Se.componentWillMount(),typeof Se.UNSAFE_componentWillMount=="function"&&Se.UNSAFE_componentWillMount()),typeof Se.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Se.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=q,p.memoizedState=Ke),Se.props=q,Se.state=Ke,Se.context=dt,q=Ue):(typeof Se.componentDidMount=="function"&&(p.flags|=4194308),q=!1)}else{Se=p.stateNode,Pa(r,p),Ue=p.memoizedProps,dt=p.type===p.elementType?Ue:po(p.type,Ue),Se.props=dt,Nt=p.pendingProps,Mt=Se.context,Ke=D.contextType,typeof Ke=="object"&&Ke!==null?Ke=qr(Ke):(Ke=fo(D)?uo:Fn.current,Ke=co(p,Ke));var tn=D.getDerivedStateFromProps;(Ot=typeof tn=="function"||typeof Se.getSnapshotBeforeUpdate=="function")||typeof Se.UNSAFE_componentWillReceiveProps!="function"&&typeof Se.componentWillReceiveProps!="function"||(Ue!==Nt||Mt!==Ke)&&lc(p,Se,q,Ke),xo=!1,Mt=p.memoizedState,Se.state=Mt,La(p,q,Se,re);var rn=p.memoizedState;Ue!==Nt||Mt!==rn||Yr.current||xo?(typeof tn=="function"&&(Ru(p,D,tn,q),rn=p.memoizedState),(dt=xo||ac(p,D,dt,q,Mt,rn,Ke)||!1)?(Ot||typeof Se.UNSAFE_componentWillUpdate!="function"&&typeof Se.componentWillUpdate!="function"||(typeof Se.componentWillUpdate=="function"&&Se.componentWillUpdate(q,rn,Ke),typeof Se.UNSAFE_componentWillUpdate=="function"&&Se.UNSAFE_componentWillUpdate(q,rn,Ke)),typeof Se.componentDidUpdate=="function"&&(p.flags|=4),typeof Se.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Se.componentDidUpdate!="function"||Ue===r.memoizedProps&&Mt===r.memoizedState||(p.flags|=4),typeof Se.getSnapshotBeforeUpdate!="function"||Ue===r.memoizedProps&&Mt===r.memoizedState||(p.flags|=1024),p.memoizedProps=q,p.memoizedState=rn),Se.props=q,Se.state=rn,Se.context=Ke,q=dt):(typeof Se.componentDidUpdate!="function"||Ue===r.memoizedProps&&Mt===r.memoizedState||(p.flags|=4),typeof Se.getSnapshotBeforeUpdate!="function"||Ue===r.memoizedProps&&Mt===r.memoizedState||(p.flags|=1024),q=!1)}return hu(r,p,D,q,fe,re)}function hu(r,p,D,q,re,fe){Zr(r,p);var Se=(p.flags&128)!==0;if(!q&&!Se)return re&&wl(p,D,!1),ua(r,p,fe);q=p.stateNode,ks.current=p;var Ue=Se&&typeof D.getDerivedStateFromError!="function"?null:q.render();return p.flags|=1,r!==null&&Se?(p.child=Jn(p,r.child,null,fe),p.child=Jn(p,null,Ue,fe)):Cr(r,p,Ue,fe),p.memoizedState=q.state,re&&wl(p,D,!0),p.child}function Es(r){var p=r.stateNode;p.pendingContext?$l(r,p.pendingContext,p.pendingContext!==p.context):p.context&&$l(r,p.context,!1),aa(r,p.containerInfo)}function Bc(r,p,D,q,re){return Sr(),hs(re),p.flags|=256,Cr(r,p,D,q),p.child}var bu={dehydrated:null,treeContext:null,retryLane:0};function vu(r){return{baseLanes:r,cachePool:null,transitions:null}}function qc(r,p,D){var q=p.pendingProps,re=hr.current,fe=!1,Se=(p.flags&128)!==0,Ue;if((Ue=Se)||(Ue=r!==null&&r.memoizedState===null?!1:(re&2)!==0),Ue?(fe=!0,p.flags&=-129):(r===null||r.memoizedState!==null)&&(re|=1),Yn(hr,re&1),r===null)return Ql(p),r=p.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(p.mode&1?r.data==="$!"?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(Se=q.children,r=q.fallback,fe?(q=p.mode,fe=p.child,Se={mode:"hidden",children:Se},!(q&1)&&fe!==null?(fe.childLanes=0,fe.pendingProps=Se):fe=Nn(Se,q,0,null),r=wn(r,q,D,null),fe.return=p,r.return=p,fe.sibling=r,p.child=fe,p.child.memoizedState=vu(D),p.memoizedState=bu,r):Gu(p,Se));if(re=r.memoizedState,re!==null&&(Ue=re.dehydrated,Ue!==null))return ed(r,p,Se,q,Ue,re,D);if(fe){fe=q.fallback,Se=p.mode,re=r.child,Ue=re.sibling;var Ke={mode:"hidden",children:q.children};return!(Se&1)&&p.child!==re?(q=p.child,q.childLanes=0,q.pendingProps=Ke,p.deletions=null):(q=pn(re,Ke),q.subtreeFlags=re.subtreeFlags&14680064),Ue!==null?fe=pn(Ue,fe):(fe=wn(fe,Se,D,null),fe.flags|=2),fe.return=p,q.return=p,q.sibling=fe,p.child=q,q=fe,fe=p.child,Se=r.child.memoizedState,Se=Se===null?vu(D):{baseLanes:Se.baseLanes|D,cachePool:null,transitions:Se.transitions},fe.memoizedState=Se,fe.childLanes=r.childLanes&~D,p.memoizedState=bu,q}return fe=r.child,r=fe.sibling,q=pn(fe,{mode:"visible",children:q.children}),!(p.mode&1)&&(q.lanes=D),q.return=p,q.sibling=null,r!==null&&(D=p.deletions,D===null?(p.deletions=[r],p.flags|=16):D.push(r)),p.child=q,p.memoizedState=null,q}function Gu(r,p){return p=Nn({mode:"visible",children:p},r.mode,0,null),p.return=r,r.child=p}function Tl(r,p,D,q){return q!==null&&hs(q),Jn(p,r.child,null,D),r=Gu(p,p.pendingProps.children),r.flags|=2,p.memoizedState=null,r}function ed(r,p,D,q,re,fe,Se){if(D)return p.flags&256?(p.flags&=-257,q=Uu(Error(l(422))),Tl(r,p,Se,q)):p.memoizedState!==null?(p.child=r.child,p.flags|=128,null):(fe=q.fallback,re=p.mode,q=Nn({mode:"visible",children:q.children},re,0,null),fe=wn(fe,re,Se,null),fe.flags|=2,q.return=p,fe.return=p,q.sibling=fe,p.child=q,p.mode&1&&Jn(p,r.child,null,Se),p.child.memoizedState=vu(Se),p.memoizedState=bu,fe);if(!(p.mode&1))return Tl(r,p,Se,null);if(re.data==="$!"){if(q=re.nextSibling&&re.nextSibling.dataset,q)var Ue=q.dgst;return q=Ue,fe=Error(l(419)),q=Uu(fe,q,void 0),Tl(r,p,Se,q)}if(Ue=(Se&r.childLanes)!==0,Jr||Ue){if(q=zr,q!==null){switch(Se&-Se){case 4:re=2;break;case 16:re=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:re=32;break;case 536870912:re=268435456;break;default:re=0}re=re&(q.suspendedLanes|Se)?0:re,re!==0&&re!==fe.retryLane&&(fe.retryLane=re,Ur(r,re),Jo(q,r,re,-1))}return c(),q=Uu(Error(l(421))),Tl(r,p,Se,q)}return re.data==="$?"?(p.flags|=128,p.child=r.child,p=un.bind(null,r),re._reactRetry=p,null):(r=fe.treeContext,dr=zo(re.nextSibling),Gn=p,Kn=!0,Br=null,r!==null&&(Lt[Jt++]=Ft,Lt[Jt++]=yn,Lt[Jt++]=Xt,Ft=r.id,yn=r.overflow,Xt=p),p=Gu(p,q.children),p.flags|=4096,p)}function _u(r,p,D){r.lanes|=p;var q=r.alternate;q!==null&&(q.lanes|=p),ar(r.return,p,D)}function $u(r,p,D,q,re){var fe=r.memoizedState;fe===null?r.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:q,tail:D,tailMode:re}:(fe.isBackwards=p,fe.rendering=null,fe.renderingStartTime=0,fe.last=q,fe.tail=D,fe.tailMode=re)}function Ec(r,p,D){var q=p.pendingProps,re=q.revealOrder,fe=q.tail;if(Cr(r,p,q.children,D),q=hr.current,q&2)q=q&1|2,p.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=p.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_u(r,D,p);else if(r.tag===19)_u(r,D,p);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===p)break e;for(;r.sibling===null;){if(r.return===null||r.return===p)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}q&=1}if(Yn(hr,q),!(p.mode&1))p.memoizedState=null;else switch(re){case"forwards":for(D=p.child,re=null;D!==null;)r=D.alternate,r!==null&&js(r)===null&&(re=D),D=D.sibling;D=re,D===null?(re=p.child,p.child=null):(re=D.sibling,D.sibling=null),$u(p,!1,re,D,fe);break;case"backwards":for(D=null,re=p.child,p.child=null;re!==null;){if(r=re.alternate,r!==null&&js(r)===null){p.child=re;break}r=re.sibling,re.sibling=D,D=re,re=r}$u(p,!0,D,null,fe);break;case"together":$u(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function gu(r,p){!(p.mode&1)&&r!==null&&(r.alternate=null,p.alternate=null,p.flags|=2)}function ua(r,p,D){if(r!==null&&(p.dependencies=r.dependencies),br|=p.lanes,!(D&p.childLanes))return null;if(r!==null&&p.child!==r.child)throw Error(l(153));if(p.child!==null){for(r=p.child,D=pn(r,r.pendingProps),p.child=D,D.return=p;r.sibling!==null;)r=r.sibling,D=D.sibling=pn(r,r.pendingProps),D.return=p;D.sibling=null}return p.child}function Sc(r,p,D){switch(p.tag){case 3:Es(p),Sr();break;case 5:ru(p);break;case 1:fo(p.type)&&wr(p);break;case 4:aa(p,p.stateNode.containerInfo);break;case 10:var q=p.type._context,re=p.memoizedProps.value;Yn(bs,q._currentValue),q._currentValue=re;break;case 13:if(q=p.memoizedState,q!==null)return q.dehydrated!==null?(Yn(hr,hr.current&1),p.flags|=128,null):D&p.child.childLanes?qc(r,p,D):(Yn(hr,hr.current&1),r=ua(r,p,D),r!==null?r.sibling:null);Yn(hr,hr.current&1);break;case 19:if(q=(D&p.childLanes)!==0,r.flags&128){if(q)return Ec(r,p,D);p.flags|=128}if(re=p.memoizedState,re!==null&&(re.rendering=null,re.tail=null,re.lastEffect=null),Yn(hr,hr.current),q)break;return null;case 22:case 23:return p.lanes=0,Va(r,p,D)}return ua(r,p,D)}var Uc,Li,yu,Ku;Uc=function(r,p){for(var D=p.child;D!==null;){if(D.tag===5||D.tag===6)r.appendChild(D.stateNode);else if(D.tag!==4&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===p)break;for(;D.sibling===null;){if(D.return===null||D.return===p)return;D=D.return}D.sibling.return=D.return,D=D.sibling}},Li=function(){},yu=function(r,p,D,q){var re=r.memoizedProps;if(re!==q){r=p.stateNode,ia(oa.current);var fe=null;switch(D){case"input":re=le(r,re),q=le(r,q),fe=[];break;case"select":re=K({},re,{value:void 0}),q=K({},q,{value:void 0}),fe=[];break;case"textarea":re=be(r,re),q=be(r,q),fe=[];break;default:typeof re.onClick!="function"&&typeof q.onClick=="function"&&(r.onclick=_l)}Ce(D,q);var Se;D=null;for(dt in re)if(!q.hasOwnProperty(dt)&&re.hasOwnProperty(dt)&&re[dt]!=null)if(dt==="style"){var Ue=re[dt];for(Se in Ue)Ue.hasOwnProperty(Se)&&(D||(D={}),D[Se]="")}else dt!=="dangerouslySetInnerHTML"&&dt!=="children"&&dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&dt!=="autoFocus"&&(a.hasOwnProperty(dt)?fe||(fe=[]):(fe=fe||[]).push(dt,null));for(dt in q){var Ke=q[dt];if(Ue=re!=null?re[dt]:void 0,q.hasOwnProperty(dt)&&Ke!==Ue&&(Ke!=null||Ue!=null))if(dt==="style")if(Ue){for(Se in Ue)!Ue.hasOwnProperty(Se)||Ke&&Ke.hasOwnProperty(Se)||(D||(D={}),D[Se]="");for(Se in Ke)Ke.hasOwnProperty(Se)&&Ue[Se]!==Ke[Se]&&(D||(D={}),D[Se]=Ke[Se])}else D||(fe||(fe=[]),fe.push(dt,D)),D=Ke;else dt==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Ue=Ue?Ue.__html:void 0,Ke!=null&&Ue!==Ke&&(fe=fe||[]).push(dt,Ke)):dt==="children"?typeof Ke!="string"&&typeof Ke!="number"||(fe=fe||[]).push(dt,""+Ke):dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&(a.hasOwnProperty(dt)?(Ke!=null&&dt==="onScroll"&&$n("scroll",r),fe||Ue===Ke||(fe=[])):(fe=fe||[]).push(dt,Ke))}D&&(fe=fe||[]).push("style",D);var dt=fe;(p.updateQueue=dt)&&(p.flags|=4)}},Ku=function(r,p,D,q){D!==q&&(p.flags|=4)};function Al(r,p){if(!Kn)switch(r.tailMode){case"hidden":p=r.tail;for(var D=null;p!==null;)p.alternate!==null&&(D=p),p=p.sibling;D===null?r.tail=null:D.sibling=null;break;case"collapsed":D=r.tail;for(var q=null;D!==null;)D.alternate!==null&&(q=D),D=D.sibling;q===null?p||r.tail===null?r.tail=null:r.tail.sibling=null:q.sibling=null}}function Zn(r){var p=r.alternate!==null&&r.alternate.child===r.child,D=0,q=0;if(p)for(var re=r.child;re!==null;)D|=re.lanes|re.childLanes,q|=re.subtreeFlags&14680064,q|=re.flags&14680064,re.return=r,re=re.sibling;else for(re=r.child;re!==null;)D|=re.lanes|re.childLanes,q|=re.subtreeFlags,q|=re.flags,re.return=r,re=re.sibling;return r.subtreeFlags|=q,r.childLanes=D,p}function td(r,p,D){var q=p.pendingProps;switch(Bn(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(p),null;case 1:return fo(p.type)&&el(),Zn(p),null;case 3:return q=p.stateNode,ys(),ir(Yr),ir(Fn),El(),q.pendingContext&&(q.context=q.pendingContext,q.pendingContext=null),(r===null||r.child===null)&&(ms(p)?p.flags|=4:r===null||r.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Br!==null&&(Eu(Br),Br=null))),Li(r,p),Zn(p),null;case 5:ws(p);var re=ia(nu.current);if(D=p.type,r!==null&&p.stateNode!=null)yu(r,p,D,q,re),r.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!q){if(p.stateNode===null)throw Error(l(166));return Zn(p),null}if(r=ia(oa.current),ms(p)){q=p.stateNode,D=p.type;var fe=p.memoizedProps;switch(q[Kr]=p,q[Aa]=fe,r=(p.mode&1)!==0,D){case"dialog":$n("cancel",q),$n("close",q);break;case"iframe":case"object":case"embed":$n("load",q);break;case"video":case"audio":for(re=0;re<Fo.length;re++)$n(Fo[re],q);break;case"source":$n("error",q);break;case"img":case"image":case"link":$n("error",q),$n("load",q);break;case"details":$n("toggle",q);break;case"input":pe(q,fe),$n("invalid",q);break;case"select":q._wrapperState={wasMultiple:!!fe.multiple},$n("invalid",q);break;case"textarea":Ne(q,fe),$n("invalid",q)}Ce(D,fe),re=null;for(var Se in fe)if(fe.hasOwnProperty(Se)){var Ue=fe[Se];Se==="children"?typeof Ue=="string"?q.textContent!==Ue&&(fe.suppressHydrationWarning!==!0&&Zs(q.textContent,Ue,r),re=["children",Ue]):typeof Ue=="number"&&q.textContent!==""+Ue&&(fe.suppressHydrationWarning!==!0&&Zs(q.textContent,Ue,r),re=["children",""+Ue]):a.hasOwnProperty(Se)&&Ue!=null&&Se==="onScroll"&&$n("scroll",q)}switch(D){case"input":ie(q),W(q,fe,!0);break;case"textarea":ie(q),Qe(q);break;case"select":case"option":break;default:typeof fe.onClick=="function"&&(q.onclick=_l)}q=re,p.updateQueue=q,q!==null&&(p.flags|=4)}else{Se=re.nodeType===9?re:re.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Be(D)),r==="http://www.w3.org/1999/xhtml"?D==="script"?(r=Se.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof q.is=="string"?r=Se.createElement(D,{is:q.is}):(r=Se.createElement(D),D==="select"&&(Se=r,q.multiple?Se.multiple=!0:q.size&&(Se.size=q.size))):r=Se.createElementNS(r,D),r[Kr]=p,r[Aa]=q,Uc(r,p,!1,!1),p.stateNode=r;e:{switch(Se=Oe(D,q),D){case"dialog":$n("cancel",r),$n("close",r),re=q;break;case"iframe":case"object":case"embed":$n("load",r),re=q;break;case"video":case"audio":for(re=0;re<Fo.length;re++)$n(Fo[re],r);re=q;break;case"source":$n("error",r),re=q;break;case"img":case"image":case"link":$n("error",r),$n("load",r),re=q;break;case"details":$n("toggle",r),re=q;break;case"input":pe(r,q),re=le(r,q),$n("invalid",r);break;case"option":re=q;break;case"select":r._wrapperState={wasMultiple:!!q.multiple},re=K({},q,{value:void 0}),$n("invalid",r);break;case"textarea":Ne(r,q),re=be(r,q),$n("invalid",r);break;default:re=q}Ce(D,re),Ue=re;for(fe in Ue)if(Ue.hasOwnProperty(fe)){var Ke=Ue[fe];fe==="style"?Pt(r,Ke):fe==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Ke!=null&&pt(r,Ke)):fe==="children"?typeof Ke=="string"?(D!=="textarea"||Ke!=="")&&Et(r,Ke):typeof Ke=="number"&&Et(r,""+Ke):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(a.hasOwnProperty(fe)?Ke!=null&&fe==="onScroll"&&$n("scroll",r):Ke!=null&&E(r,fe,Ke,Se))}switch(D){case"input":ie(r),W(r,q,!1);break;case"textarea":ie(r),Qe(r);break;case"option":q.value!=null&&r.setAttribute("value",""+oe(q.value));break;case"select":r.multiple=!!q.multiple,fe=q.value,fe!=null?je(r,!!q.multiple,fe,!1):q.defaultValue!=null&&je(r,!!q.multiple,q.defaultValue,!0);break;default:typeof re.onClick=="function"&&(r.onclick=_l)}switch(D){case"button":case"input":case"select":case"textarea":q=!!q.autoFocus;break e;case"img":q=!0;break e;default:q=!1}}q&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Zn(p),null;case 6:if(r&&p.stateNode!=null)Ku(r,p,r.memoizedProps,q);else{if(typeof q!="string"&&p.stateNode===null)throw Error(l(166));if(D=ia(nu.current),ia(oa.current),ms(p)){if(q=p.stateNode,D=p.memoizedProps,q[Kr]=p,(fe=q.nodeValue!==D)&&(r=Gn,r!==null))switch(r.tag){case 3:Zs(q.nodeValue,D,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Zs(q.nodeValue,D,(r.mode&1)!==0)}fe&&(p.flags|=4)}else q=(D.nodeType===9?D:D.ownerDocument).createTextNode(q),q[Kr]=p,p.stateNode=q}return Zn(p),null;case 13:if(ir(hr),q=p.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Kn&&dr!==null&&p.mode&1&&!(p.flags&128))Pi(),Sr(),p.flags|=98560,fe=!1;else if(fe=ms(p),q!==null&&q.dehydrated!==null){if(r===null){if(!fe)throw Error(l(318));if(fe=p.memoizedState,fe=fe!==null?fe.dehydrated:null,!fe)throw Error(l(317));fe[Kr]=p}else Sr(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;Zn(p),fe=!1}else Br!==null&&(Eu(Br),Br=null),fe=!0;if(!fe)return p.flags&65536?p:null}return p.flags&128?(p.lanes=D,p):(q=q!==null,q!==(r!==null&&r.memoizedState!==null)&&q&&(p.child.flags|=8192,p.mode&1&&(r===null||hr.current&1?on===0&&(on=3):c())),p.updateQueue!==null&&(p.flags|=4),Zn(p),null);case 4:return ys(),Li(r,p),r===null&&Mi(p.stateNode.containerInfo),Zn(p),null;case 10:return rr(p.type._context),Zn(p),null;case 17:return fo(p.type)&&el(),Zn(p),null;case 19:if(ir(hr),fe=p.memoizedState,fe===null)return Zn(p),null;if(q=(p.flags&128)!==0,Se=fe.rendering,Se===null)if(q)Al(fe,!1);else{if(on!==0||r!==null&&r.flags&128)for(r=p.child;r!==null;){if(Se=js(r),Se!==null){for(p.flags|=128,Al(fe,!1),q=Se.updateQueue,q!==null&&(p.updateQueue=q,p.flags|=4),p.subtreeFlags=0,q=D,D=p.child;D!==null;)fe=D,r=q,fe.flags&=14680066,Se=fe.alternate,Se===null?(fe.childLanes=0,fe.lanes=r,fe.child=null,fe.subtreeFlags=0,fe.memoizedProps=null,fe.memoizedState=null,fe.updateQueue=null,fe.dependencies=null,fe.stateNode=null):(fe.childLanes=Se.childLanes,fe.lanes=Se.lanes,fe.child=Se.child,fe.subtreeFlags=0,fe.deletions=null,fe.memoizedProps=Se.memoizedProps,fe.memoizedState=Se.memoizedState,fe.updateQueue=Se.updateQueue,fe.type=Se.type,r=Se.dependencies,fe.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),D=D.sibling;return Yn(hr,hr.current&1|2),p.child}r=r.sibling}fe.tail!==null&&We()>Vi&&(p.flags|=128,q=!0,Al(fe,!1),p.lanes=4194304)}else{if(!q)if(r=js(Se),r!==null){if(p.flags|=128,q=!0,D=r.updateQueue,D!==null&&(p.updateQueue=D,p.flags|=4),Al(fe,!0),fe.tail===null&&fe.tailMode==="hidden"&&!Se.alternate&&!Kn)return Zn(p),null}else 2*We()-fe.renderingStartTime>Vi&&D!==1073741824&&(p.flags|=128,q=!0,Al(fe,!1),p.lanes=4194304);fe.isBackwards?(Se.sibling=p.child,p.child=Se):(D=fe.last,D!==null?D.sibling=Se:p.child=Se,fe.last=Se)}return fe.tail!==null?(p=fe.tail,fe.rendering=p,fe.tail=p.sibling,fe.renderingStartTime=We(),p.sibling=null,D=hr.current,Yn(hr,q?D&1|2:D&1),p):(Zn(p),null);case 22:case 23:return Cc(),q=p.memoizedState!==null,r!==null&&r.memoizedState!==null!==q&&(p.flags|=8192),q&&p.mode&1?bo&1073741824&&(Zn(p),p.subtreeFlags&6&&(p.flags|=8192)):Zn(p),null;case 24:return null;case 25:return null}throw Error(l(156,p.tag))}function Yu(r,p){switch(Bn(p),p.tag){case 1:return fo(p.type)&&el(),r=p.flags,r&65536?(p.flags=r&-65537|128,p):null;case 3:return ys(),ir(Yr),ir(Fn),El(),r=p.flags,r&65536&&!(r&128)?(p.flags=r&-65537|128,p):null;case 5:return ws(p),null;case 13:if(ir(hr),r=p.memoizedState,r!==null&&r.dehydrated!==null){if(p.alternate===null)throw Error(l(340));Sr()}return r=p.flags,r&65536?(p.flags=r&-65537|128,p):null;case 19:return ir(hr),null;case 4:return ys(),null;case 10:return rr(p.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var il=!1,xr=!1,Qu=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function al(r,p){var D=r.ref;if(D!==null)if(typeof D=="function")try{D(null)}catch(q){Bt(r,p,q)}else D.current=null}function Dl(r,p,D){try{D()}catch(q){Bt(r,p,q)}}var wu=!1;function Ju(r,p){if(gl=Nr,r=as(),ss(r)){if("selectionStart"in r)var D={start:r.selectionStart,end:r.selectionEnd};else e:{D=(D=r.ownerDocument)&&D.defaultView||window;var q=D.getSelection&&D.getSelection();if(q&&q.rangeCount!==0){D=q.anchorNode;var re=q.anchorOffset,fe=q.focusNode;q=q.focusOffset;try{D.nodeType,fe.nodeType}catch(qt){D=null;break e}var Se=0,Ue=-1,Ke=-1,dt=0,Ot=0,Nt=r,Mt=null;t:for(;;){for(var tn;Nt!==D||re!==0&&Nt.nodeType!==3||(Ue=Se+re),Nt!==fe||q!==0&&Nt.nodeType!==3||(Ke=Se+q),Nt.nodeType===3&&(Se+=Nt.nodeValue.length),(tn=Nt.firstChild)!==null;)Mt=Nt,Nt=tn;for(;;){if(Nt===r)break t;if(Mt===D&&++dt===re&&(Ue=Se),Mt===fe&&++Ot===q&&(Ke=Se),(tn=Nt.nextSibling)!==null)break;Nt=Mt,Mt=Nt.parentNode}Nt=tn}D=Ue===-1||Ke===-1?null:{start:Ue,end:Ke}}else D=null}D=D||{start:0,end:0}}else D=null;for(li={focusedElem:r,selectionRange:D},Nr=!1,Kt=p;Kt!==null;)if(p=Kt,r=p.child,(p.subtreeFlags&1028)!==0&&r!==null)r.return=p,Kt=r;else for(;Kt!==null;){p=Kt;try{var rn=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(rn!==null){var an=rn.memoizedProps,Pr=rn.memoizedState,lt=p.stateNode,Xe=lt.getSnapshotBeforeUpdate(p.elementType===p.type?an:po(p.type,an),Pr);lt.__reactInternalSnapshotBeforeUpdate=Xe}break;case 3:var ct=p.stateNode.containerInfo;ct.nodeType===1?ct.textContent="":ct.nodeType===9&&ct.documentElement&&ct.removeChild(ct.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(qt){Bt(p,p.return,qt)}if(r=p.sibling,r!==null){r.return=p.return,Kt=r;break}Kt=p.return}return rn=wu,wu=!1,rn}function Ml(r,p,D){var q=p.updateQueue;if(q=q!==null?q.lastEffect:null,q!==null){var re=q=q.next;do{if((re.tag&r)===r){var fe=re.destroy;re.destroy=void 0,fe!==void 0&&Dl(p,D,fe)}re=re.next}while(re!==q)}}function Ss(r,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var D=p=p.next;do{if((D.tag&r)===r){var q=D.create;D.destroy=q()}D=D.next}while(D!==p)}}function hi(r){var p=r.ref;if(p!==null){var D=r.stateNode;switch(r.tag){case 5:r=D;break;default:r=D}typeof p=="function"?p(r):p.current=r}}function Rl(r){var p=r.alternate;p!==null&&(r.alternate=null,Rl(p)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(p=r.stateNode,p!==null&&(delete p[Kr],delete p[Aa],delete p[Gl],delete p[yl],delete p[Du])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ol(r){return r.tag===5||r.tag===3||r.tag===4}function jr(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ol(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ni(r,p,D){var q=r.tag;if(q===5||q===6)r=r.stateNode,p?D.nodeType===8?D.parentNode.insertBefore(r,p):D.insertBefore(r,p):(D.nodeType===8?(p=D.parentNode,p.insertBefore(r,D)):(p=D,p.appendChild(r)),D=D._reactRootContainer,D!=null||p.onclick!==null||(p.onclick=_l));else if(q!==4&&(r=r.child,r!==null))for(Ni(r,p,D),r=r.sibling;r!==null;)Ni(r,p,D),r=r.sibling}function ca(r,p,D){var q=r.tag;if(q===5||q===6)r=r.stateNode,p?D.insertBefore(r,p):D.appendChild(r);else if(q!==4&&(r=r.child,r!==null))for(ca(r,p,D),r=r.sibling;r!==null;)ca(r,p,D),r=r.sibling}var fr=null,ho=!1;function bi(r,p,D){for(D=D.child;D!==null;)$o(r,p,D),D=D.sibling}function $o(r,p,D){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(mr,D)}catch(Ue){}switch(D.tag){case 5:xr||al(D,p);case 6:var q=fr,re=ho;fr=null,bi(r,p,D),fr=q,ho=re,fr!==null&&(ho?(r=fr,D=D.stateNode,r.nodeType===8?r.parentNode.removeChild(D):r.removeChild(D)):fr.removeChild(D.stateNode));break;case 18:fr!==null&&(ho?(r=fr,D=D.stateNode,r.nodeType===8?ui(r.parentNode,D):r.nodeType===1&&ui(r,D),Ar(r)):ui(fr,D.stateNode));break;case 4:q=fr,re=ho,fr=D.stateNode.containerInfo,ho=!0,bi(r,p,D),fr=q,ho=re;break;case 0:case 11:case 14:case 15:if(!xr&&(q=D.updateQueue,q!==null&&(q=q.lastEffect,q!==null))){re=q=q.next;do{var fe=re,Se=fe.destroy;fe=fe.tag,Se!==void 0&&(fe&2||fe&4)&&Dl(D,p,Se),re=re.next}while(re!==q)}bi(r,p,D);break;case 1:if(!xr&&(al(D,p),q=D.stateNode,typeof q.componentWillUnmount=="function"))try{q.props=D.memoizedProps,q.state=D.memoizedState,q.componentWillUnmount()}catch(Ue){Bt(D,p,Ue)}bi(r,p,D);break;case 21:bi(r,p,D);break;case 22:D.mode&1?(xr=(q=xr)||D.memoizedState!==null,bi(r,p,D),xr=q):bi(r,p,D);break;default:bi(r,p,D)}}function Pl(r){var p=r.updateQueue;if(p!==null){r.updateQueue=null;var D=r.stateNode;D===null&&(D=r.stateNode=new Qu),p.forEach(function(q){var re=xn.bind(null,r,q);D.has(q)||(D.add(q),q.then(re,re))})}}function Xn(r,p){var D=p.deletions;if(D!==null)for(var q=0;q<D.length;q++){var re=D[q];try{var fe=r,Se=p,Ue=Se;e:for(;Ue!==null;){switch(Ue.tag){case 5:fr=Ue.stateNode,ho=!1;break e;case 3:fr=Ue.stateNode.containerInfo,ho=!0;break e;case 4:fr=Ue.stateNode.containerInfo,ho=!0;break e}Ue=Ue.return}if(fr===null)throw Error(l(160));$o(fe,Se,re),fr=null,ho=!1;var Ke=re.alternate;Ke!==null&&(Ke.return=null),re.return=null}catch(dt){Bt(re,p,dt)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)Xr(p,r),p=p.sibling}function Xr(r,p){var D=r.alternate,q=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xn(p,r),pr(r),q&4){try{Ml(3,r,r.return),Ss(3,r)}catch(an){Bt(r,r.return,an)}try{Ml(5,r,r.return)}catch(an){Bt(r,r.return,an)}}break;case 1:Xn(p,r),pr(r),q&512&&D!==null&&al(D,D.return);break;case 5:if(Xn(p,r),pr(r),q&512&&D!==null&&al(D,D.return),r.flags&32){var re=r.stateNode;try{Et(re,"")}catch(an){Bt(r,r.return,an)}}if(q&4&&(re=r.stateNode,re!=null)){var fe=r.memoizedProps,Se=D!==null?D.memoizedProps:fe,Ue=r.type,Ke=r.updateQueue;if(r.updateQueue=null,Ke!==null)try{Ue==="input"&&fe.type==="radio"&&fe.name!=null&&we(re,fe),Oe(Ue,Se);var dt=Oe(Ue,fe);for(Se=0;Se<Ke.length;Se+=2){var Ot=Ke[Se],Nt=Ke[Se+1];Ot==="style"?Pt(re,Nt):Ot==="dangerouslySetInnerHTML"?pt(re,Nt):Ot==="children"?Et(re,Nt):E(re,Ot,Nt,dt)}switch(Ue){case"input":ye(re,fe);break;case"textarea":He(re,fe);break;case"select":var Mt=re._wrapperState.wasMultiple;re._wrapperState.wasMultiple=!!fe.multiple;var tn=fe.value;tn!=null?je(re,!!fe.multiple,tn,!1):Mt!==!!fe.multiple&&(fe.defaultValue!=null?je(re,!!fe.multiple,fe.defaultValue,!0):je(re,!!fe.multiple,fe.multiple?[]:"",!1))}re[Aa]=fe}catch(an){Bt(r,r.return,an)}}break;case 6:if(Xn(p,r),pr(r),q&4){if(r.stateNode===null)throw Error(l(162));re=r.stateNode,fe=r.memoizedProps;try{re.nodeValue=fe}catch(an){Bt(r,r.return,an)}}break;case 3:if(Xn(p,r),pr(r),q&4&&D!==null&&D.memoizedState.isDehydrated)try{Ar(p.containerInfo)}catch(an){Bt(r,r.return,an)}break;case 4:Xn(p,r),pr(r);break;case 13:Xn(p,r),pr(r),re=r.child,re.flags&8192&&(fe=re.memoizedState!==null,re.stateNode.isHidden=fe,!fe||re.alternate!==null&&re.alternate.memoizedState!==null||(Nl=We())),q&4&&Pl(r);break;case 22:if(Ot=D!==null&&D.memoizedState!==null,r.mode&1?(xr=(dt=xr)||Ot,Xn(p,r),xr=dt):Xn(p,r),pr(r),q&8192){if(dt=r.memoizedState!==null,(r.stateNode.isHidden=dt)&&!Ot&&r.mode&1)for(Kt=r,Ot=r.child;Ot!==null;){for(Nt=Kt=Ot;Kt!==null;){switch(Mt=Kt,tn=Mt.child,Mt.tag){case 0:case 11:case 14:case 15:Ml(4,Mt,Mt.return);break;case 1:al(Mt,Mt.return);var rn=Mt.stateNode;if(typeof rn.componentWillUnmount=="function"){q=Mt,D=Mt.return;try{p=q,rn.props=p.memoizedProps,rn.state=p.memoizedState,rn.componentWillUnmount()}catch(an){Bt(q,D,an)}}break;case 5:al(Mt,Mt.return);break;case 22:if(Mt.memoizedState!==null){Fc(Nt);continue}}tn!==null?(tn.return=Mt,Kt=tn):Fc(Nt)}Ot=Ot.sibling}e:for(Ot=null,Nt=r;;){if(Nt.tag===5){if(Ot===null){Ot=Nt;try{re=Nt.stateNode,dt?(fe=re.style,typeof fe.setProperty=="function"?fe.setProperty("display","none","important"):fe.display="none"):(Ue=Nt.stateNode,Ke=Nt.memoizedProps.style,Se=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null,Ue.style.display=jt("display",Se))}catch(an){Bt(r,r.return,an)}}}else if(Nt.tag===6){if(Ot===null)try{Nt.stateNode.nodeValue=dt?"":Nt.memoizedProps}catch(an){Bt(r,r.return,an)}}else if((Nt.tag!==22&&Nt.tag!==23||Nt.memoizedState===null||Nt===r)&&Nt.child!==null){Nt.child.return=Nt,Nt=Nt.child;continue}if(Nt===r)break e;for(;Nt.sibling===null;){if(Nt.return===null||Nt.return===r)break e;Ot===Nt&&(Ot=null),Nt=Nt.return}Ot===Nt&&(Ot=null),Nt.sibling.return=Nt.return,Nt=Nt.sibling}}break;case 19:Xn(p,r),pr(r),q&4&&Pl(r);break;case 21:break;default:Xn(p,r),pr(r)}}function pr(r){var p=r.flags;if(p&2){try{e:{for(var D=r.return;D!==null;){if(Ol(D)){var q=D;break e}D=D.return}throw Error(l(160))}switch(q.tag){case 5:var re=q.stateNode;q.flags&32&&(Et(re,""),q.flags&=-33);var fe=jr(r);ca(r,fe,re);break;case 3:case 4:var Se=q.stateNode.containerInfo,Ue=jr(r);Ni(r,Ue,Se);break;default:throw Error(l(161))}}catch(Ke){Bt(r,r.return,Ke)}r.flags&=-3}p&4096&&(r.flags&=-4097)}function Zu(r,p,D){Kt=r,Ll(r,p,D)}function Ll(r,p,D){for(var q=(r.mode&1)!==0;Kt!==null;){var re=Kt,fe=re.child;if(re.tag===22&&q){var Se=re.memoizedState!==null||il;if(!Se){var Ue=re.alternate,Ke=Ue!==null&&Ue.memoizedState!==null||xr;Ue=il;var dt=xr;if(il=Se,(xr=Ke)&&!dt)for(Kt=re;Kt!==null;)Se=Kt,Ke=Se.child,Se.tag===22&&Se.memoizedState!==null?zc(re):Ke!==null?(Ke.return=Se,Kt=Ke):zc(re);for(;fe!==null;)Kt=fe,Ll(fe,p,D),fe=fe.sibling;Kt=re,il=Ue,xr=dt}ju(r,p,D)}else re.subtreeFlags&8772&&fe!==null?(fe.return=re,Kt=fe):ju(r,p,D)}}function ju(r){for(;Kt!==null;){var p=Kt;if(p.flags&8772){var D=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:xr||Ss(5,p);break;case 1:var q=p.stateNode;if(p.flags&4&&!xr)if(D===null)q.componentDidMount();else{var re=p.elementType===p.type?D.memoizedProps:po(p.type,D.memoizedProps);q.componentDidUpdate(re,D.memoizedState,q.__reactInternalSnapshotBeforeUpdate)}var fe=p.updateQueue;fe!==null&&Mu(p,fe,q);break;case 3:var Se=p.updateQueue;if(Se!==null){if(D=null,p.child!==null)switch(p.child.tag){case 5:D=p.child.stateNode;break;case 1:D=p.child.stateNode}Mu(p,Se,D)}break;case 5:var Ue=p.stateNode;if(D===null&&p.flags&4){D=Ue;var Ke=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Ke.autoFocus&&D.focus();break;case"img":Ke.src&&(D.src=Ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var dt=p.alternate;if(dt!==null){var Ot=dt.memoizedState;if(Ot!==null){var Nt=Ot.dehydrated;Nt!==null&&Ar(Nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}xr||p.flags&512&&hi(p)}catch(Mt){Bt(p,p.return,Mt)}}if(p===r){Kt=null;break}if(D=p.sibling,D!==null){D.return=p.return,Kt=D;break}Kt=p.return}}function Fc(r){for(;Kt!==null;){var p=Kt;if(p===r){Kt=null;break}var D=p.sibling;if(D!==null){D.return=p.return,Kt=D;break}Kt=p.return}}function zc(r){for(;Kt!==null;){var p=Kt;try{switch(p.tag){case 0:case 11:case 15:var D=p.return;try{Ss(4,p)}catch(Ke){Bt(p,D,Ke)}break;case 1:var q=p.stateNode;if(typeof q.componentDidMount=="function"){var re=p.return;try{q.componentDidMount()}catch(Ke){Bt(p,re,Ke)}}var fe=p.return;try{hi(p)}catch(Ke){Bt(p,fe,Ke)}break;case 5:var Se=p.return;try{hi(p)}catch(Ke){Bt(p,Se,Ke)}}}catch(Ke){Bt(p,p.return,Ke)}if(p===r){Kt=null;break}var Ue=p.sibling;if(Ue!==null){Ue.return=p.return,Kt=Ue;break}Kt=p.return}}var nd=Math.ceil,Xu=I.ReactCurrentDispatcher,Ko=I.ReactCurrentOwner,Mo=I.ReactCurrentBatchConfig,zn=0,zr=null,Ir=null,eo=0,bo=0,Cs=di(0),on=0,Mr=null,br=0,Rr=0,Ba=0,sl=null,er=null,Nl=0,Vi=1/0,Yo=null,qa=!1,ku=null,da=null,Vl=!1,fa=null,en=0,Is=0,xu=null,Qo=-1,Bi=0;function Or(){return zn&6?We():Qo!==-1?Qo:Qo=We()}function vi(r){return r.mode&1?zn&2&&eo!==0?eo&-eo:na.transition!==null?(Bi===0&&(Bi=or()),Bi):(r=Ln,r!==0||(r=window.event,r=r===void 0?16:Wa(r.type)),r):1}function Jo(r,p,D,q){if(50<Is)throw Is=0,xu=null,Error(l(185));zi(r,D,q),(!(zn&2)||r!==zr)&&(r===zr&&(!(zn&2)&&(Rr|=D),on===4&&_o(r,eo)),vo(r,q),D===1&&zn===0&&!(p.mode&1)&&(Vi=We()+500,xe&&Ge()))}function vo(r,p){var D=r.callbackNode;Fi(r,p);var q=yr(r,r===zr?eo:0);if(q===0)D!==null&&ze(D),r.callbackNode=null,r.callbackPriority=0;else if(p=q&-q,r.callbackPriority!==p){if(D!=null&&ze(D),p===1)r.tag===0?Fe(Su.bind(null,r)):Re(Su.bind(null,r)),Wl(function(){!(zn&6)&&Ge()}),D=null;else{switch(ba(q)){case 1:D=gt;break;case 4:D=$t;break;case 16:D=Zt;break;case 536870912:D=hn;break;default:D=Zt}D=st(D,pa.bind(null,r))}r.callbackPriority=p,r.callbackNode=D}}function pa(r,p){if(Qo=-1,Bi=0,zn&6)throw Error(l(327));var D=r.callbackNode;if(Ye()&&r.callbackNode!==D)return null;var q=yr(r,r===zr?eo:0);if(q===0)return null;if(q&30||q&r.expiredLanes||p)p=b(r,q);else{p=q;var re=zn;zn|=2;var fe=Cu();(zr!==r||eo!==p)&&(Yo=null,Vi=We()+500,qi(r,p));do try{ee();break}catch(Ue){Hc(r,Ue)}while(1);An(),Xu.current=fe,zn=re,Ir!==null?p=0:(zr=null,eo=0,p=on)}if(p!==0){if(p===2&&(re=Tr(r),re!==0&&(q=re,p=ll(r,re))),p===1)throw D=Mr,qi(r,0),_o(r,q),vo(r,We()),D;if(p===6)_o(r,q);else{if(re=r.current.alternate,!(q&30)&&!ec(re)&&(p=b(r,q),p===2&&(fe=Tr(r),fe!==0&&(q=fe,p=ll(r,fe))),p===1))throw D=Mr,qi(r,0),_o(r,q),vo(r,We()),D;switch(r.finishedWork=re,r.finishedLanes=q,p){case 0:case 1:throw Error(l(345));case 2:Te(r,er,Yo);break;case 3:if(_o(r,q),(q&130023424)===q&&(p=Nl+500-We(),10<p)){if(yr(r,0)!==0)break;if(re=r.suspendedLanes,(re&q)!==q){Or(),r.pingedLanes|=r.suspendedLanes&re;break}r.timeoutHandle=Hl(Te.bind(null,r,er,Yo),p);break}Te(r,er,Yo);break;case 4:if(_o(r,q),(q&4194240)===q)break;for(p=r.eventTimes,re=-1;0<q;){var Se=31-cn(q);fe=1<<Se,Se=p[Se],Se>re&&(re=Se),q&=~fe}if(q=re,q=We()-q,q=(120>q?120:480>q?480:1080>q?1080:1920>q?1920:3e3>q?3e3:4320>q?4320:1960*nd(q/1960))-q,10<q){r.timeoutHandle=Hl(Te.bind(null,r,er,Yo),q);break}Te(r,er,Yo);break;case 5:Te(r,er,Yo);break;default:throw Error(l(329))}}}return vo(r,We()),r.callbackNode===D?pa.bind(null,r):null}function ll(r,p){var D=sl;return r.current.memoizedState.isDehydrated&&(qi(r,p).flags|=256),r=b(r,p),r!==2&&(p=er,er=D,p!==null&&Eu(p)),r}function Eu(r){er===null?er=r:er.push.apply(er,r)}function ec(r){for(var p=r;;){if(p.flags&16384){var D=p.updateQueue;if(D!==null&&(D=D.stores,D!==null))for(var q=0;q<D.length;q++){var re=D[q],fe=re.getSnapshot;re=re.value;try{if(!jo(fe(),re))return!1}catch(Se){return!1}}}if(D=p.child,p.subtreeFlags&16384&&D!==null)D.return=p,p=D;else{if(p===r)break;for(;p.sibling===null;){if(p.return===null||p.return===r)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function _o(r,p){for(p&=~Ba,p&=~Rr,r.suspendedLanes|=p,r.pingedLanes&=~p,r=r.expirationTimes;0<p;){var D=31-cn(p),q=1<<D;r[D]=-1,p&=~q}}function Su(r){if(zn&6)throw Error(l(327));Ye();var p=yr(r,0);if(!(p&1))return vo(r,We()),null;var D=b(r,p);if(r.tag!==0&&D===2){var q=Tr(r);q!==0&&(p=q,D=ll(r,q))}if(D===1)throw D=Mr,qi(r,0),_o(r,p),vo(r,We()),D;if(D===6)throw Error(l(345));return r.finishedWork=r.current.alternate,r.finishedLanes=p,Te(r,er,Yo),vo(r,We()),null}function ul(r,p){var D=zn;zn|=1;try{return r(p)}finally{zn=D,zn===0&&(Vi=We()+500,xe&&Ge())}}function ma(r){fa!==null&&fa.tag===0&&!(zn&6)&&Ye();var p=zn;zn|=1;var D=Mo.transition,q=Ln;try{if(Mo.transition=null,Ln=1,r)return r()}finally{Ln=q,Mo.transition=D,zn=p,!(zn&6)&&Ge()}}function Cc(){bo=Cs.current,ir(Cs)}function qi(r,p){r.finishedWork=null,r.finishedLanes=0;var D=r.timeoutHandle;if(D!==-1&&(r.timeoutHandle=-1,nc(D)),Ir!==null)for(D=Ir.return;D!==null;){var q=D;switch(Bn(q),q.tag){case 1:q=q.type.childContextTypes,q!=null&&el();break;case 3:ys(),ir(Yr),ir(Fn),El();break;case 5:ws(q);break;case 4:ys();break;case 13:ir(hr);break;case 19:ir(hr);break;case 10:rr(q.type._context);break;case 22:case 23:Cc()}D=D.return}if(zr=r,Ir=r=pn(r.current,null),eo=bo=p,on=0,Mr=null,Ba=Rr=br=0,er=sl=null,Ho!==null){for(p=0;p<Ho.length;p++)if(D=Ho[p],q=D.interleaved,q!==null){D.interleaved=null;var re=q.next,fe=D.pending;if(fe!==null){var Se=fe.next;fe.next=re,q.next=Se}D.pending=q}Ho=null}return r}function Hc(r,p){do{var D=Ir;try{if(An(),ou.current=pu,Pu){for(var q=gr.memoizedState;q!==null;){var re=q.queue;re!==null&&(re.pending=null),q=q.next}Pu=!1}if(tl=0,Fr=kr=gr=null,iu=!1,au=0,Ko.current=null,D===null||D.return===null){on=1,Mr=p,Ir=null;break}e:{var fe=r,Se=D.return,Ue=D,Ke=p;if(p=eo,Ue.flags|=32768,Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var dt=Ke,Ot=Ue,Nt=Ot.tag;if(!(Ot.mode&1)&&(Nt===0||Nt===11||Nt===15)){var Mt=Ot.alternate;Mt?(Ot.updateQueue=Mt.updateQueue,Ot.memoizedState=Mt.memoizedState,Ot.lanes=Mt.lanes):(Ot.updateQueue=null,Ot.memoizedState=null)}var tn=Hu(Se);if(tn!==null){tn.flags&=-257,mu(tn,Se,Ue,fe,p),tn.mode&1&&Vc(fe,dt,p),p=tn,Ke=dt;var rn=p.updateQueue;if(rn===null){var an=new Set;an.add(Ke),p.updateQueue=an}else rn.add(Ke);break e}else{if(!(p&1)){Vc(fe,dt,p),c();break e}Ke=Error(l(426))}}else if(Kn&&Ue.mode&1){var Pr=Hu(Se);if(Pr!==null){!(Pr.flags&65536)&&(Pr.flags|=256),mu(Pr,Se,Ue,fe,p),hs(la(Ke,Ue));break e}}fe=Ke=la(Ke,Ue),on!==4&&(on=2),sl===null?sl=[fe]:sl.push(fe),fe=Se;do{switch(fe.tag){case 3:fe.flags|=65536,p&=-p,fe.lanes|=p;var lt=zu(fe,Ke,p);oc(fe,lt);break e;case 1:Ue=Ke;var Xe=fe.type,ct=fe.stateNode;if(!(fe.flags&128)&&(typeof Xe.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(da===null||!da.has(ct)))){fe.flags|=65536,p&=-p,fe.lanes|=p;var qt=kc(fe,Ue,p);oc(fe,qt);break e}}fe=fe.return}while(fe!==null)}ge(D)}catch(ln){p=ln,Ir===D&&D!==null&&(Ir=D=D.return);continue}break}while(1)}function Cu(){var r=Xu.current;return Xu.current=pu,r===null?pu:r}function c(){(on===0||on===3||on===2)&&(on=4),zr===null||!(br&268435455)&&!(Rr&268435455)||_o(zr,eo)}function b(r,p){var D=zn;zn|=2;var q=Cu();(zr!==r||eo!==p)&&(Yo=null,qi(r,p));do try{M();break}catch(re){Hc(r,re)}while(1);if(An(),zn=D,Xu.current=q,Ir!==null)throw Error(l(261));return zr=null,eo=0,on}function M(){for(;Ir!==null;)ue(Ir)}function ee(){for(;Ir!==null&&!qe();)ue(Ir)}function ue(r){var p=bn(r.alternate,r,bo);r.memoizedProps=r.pendingProps,p===null?ge(r):Ir=p,Ko.current=null}function ge(r){var p=r;do{var D=p.alternate;if(r=p.return,p.flags&32768){if(D=Yu(D,p),D!==null){D.flags&=32767,Ir=D;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{on=6,Ir=null;return}}else if(D=td(D,p,bo),D!==null){Ir=D;return}if(p=p.sibling,p!==null){Ir=p;return}Ir=p=r}while(p!==null);on===0&&(on=5)}function Te(r,p,D){var q=Ln,re=Mo.transition;try{Mo.transition=null,Ln=1,Le(r,p,D,q)}finally{Mo.transition=re,Ln=q}return null}function Le(r,p,D,q){do Ye();while(fa!==null);if(zn&6)throw Error(l(327));D=r.finishedWork;var re=r.finishedLanes;if(D===null)return null;if(r.finishedWork=null,r.finishedLanes=0,D===r.current)throw Error(l(177));r.callbackNode=null,r.callbackPriority=0;var fe=D.lanes|D.childLanes;if(Ts(r,fe),r===zr&&(Ir=zr=null,eo=0),!(D.subtreeFlags&2064)&&!(D.flags&2064)||Vl||(Vl=!0,st(Zt,function(){return Ye(),null})),fe=(D.flags&15990)!==0,D.subtreeFlags&15990||fe){fe=Mo.transition,Mo.transition=null;var Se=Ln;Ln=1;var Ue=zn;zn|=4,Ko.current=null,Ju(r,D),Xr(D,r),Ca(li),Nr=!!gl,li=gl=null,r.current=D,Zu(D,r,re),Me(),zn=Ue,Ln=Se,Mo.transition=fe}else r.current=D;if(Vl&&(Vl=!1,fa=r,en=re),fe=r.pendingLanes,fe===0&&(da=null),gn(D.stateNode,q),vo(r,We()),p!==null)for(q=r.onRecoverableError,D=0;D<p.length;D++)re=p[D],q(re.value,{componentStack:re.stack,digest:re.digest});if(qa)throw qa=!1,r=ku,ku=null,r;return en&1&&r.tag!==0&&Ye(),fe=r.pendingLanes,fe&1?r===xu?Is++:(Is=0,xu=r):Is=0,Ge(),null}function Ye(){if(fa!==null){var r=ba(en),p=Mo.transition,D=Ln;try{if(Mo.transition=null,Ln=16>r?16:r,fa===null)var q=!1;else{if(r=fa,fa=null,en=0,zn&6)throw Error(l(331));var re=zn;for(zn|=4,Kt=r.current;Kt!==null;){var fe=Kt,Se=fe.child;if(Kt.flags&16){var Ue=fe.deletions;if(Ue!==null){for(var Ke=0;Ke<Ue.length;Ke++){var dt=Ue[Ke];for(Kt=dt;Kt!==null;){var Ot=Kt;switch(Ot.tag){case 0:case 11:case 15:Ml(8,Ot,fe)}var Nt=Ot.child;if(Nt!==null)Nt.return=Ot,Kt=Nt;else for(;Kt!==null;){Ot=Kt;var Mt=Ot.sibling,tn=Ot.return;if(Rl(Ot),Ot===dt){Kt=null;break}if(Mt!==null){Mt.return=tn,Kt=Mt;break}Kt=tn}}}var rn=fe.alternate;if(rn!==null){var an=rn.child;if(an!==null){rn.child=null;do{var Pr=an.sibling;an.sibling=null,an=Pr}while(an!==null)}}Kt=fe}}if(fe.subtreeFlags&2064&&Se!==null)Se.return=fe,Kt=Se;else e:for(;Kt!==null;){if(fe=Kt,fe.flags&2048)switch(fe.tag){case 0:case 11:case 15:Ml(9,fe,fe.return)}var lt=fe.sibling;if(lt!==null){lt.return=fe.return,Kt=lt;break e}Kt=fe.return}}var Xe=r.current;for(Kt=Xe;Kt!==null;){Se=Kt;var ct=Se.child;if(Se.subtreeFlags&2064&&ct!==null)ct.return=Se,Kt=ct;else e:for(Se=Xe;Kt!==null;){if(Ue=Kt,Ue.flags&2048)try{switch(Ue.tag){case 0:case 11:case 15:Ss(9,Ue)}}catch(ln){Bt(Ue,Ue.return,ln)}if(Ue===Se){Kt=null;break e}var qt=Ue.sibling;if(qt!==null){qt.return=Ue.return,Kt=qt;break e}Kt=Ue.return}}if(zn=re,Ge(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(mr,r)}catch(ln){}q=!0}return q}finally{Ln=D,Mo.transition=p}}return!1}function ht(r,p,D){p=la(D,p),p=zu(r,p,1),r=pi(r,p,1),p=Or(),r!==null&&(zi(r,1,p),vo(r,p))}function Bt(r,p,D){if(r.tag===3)ht(r,r,D);else for(;p!==null;){if(p.tag===3){ht(p,r,D);break}else if(p.tag===1){var q=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof q.componentDidCatch=="function"&&(da===null||!da.has(q))){r=la(D,r),r=kc(p,r,1),p=pi(p,r,1),r=Or(),p!==null&&(zi(p,1,r),vo(p,r));break}}p=p.return}}function kn(r,p,D){var q=r.pingCache;q!==null&&q.delete(p),p=Or(),r.pingedLanes|=r.suspendedLanes&D,zr===r&&(eo&D)===D&&(on===4||on===3&&(eo&130023424)===eo&&500>We()-Nl?qi(r,0):Ba|=D),vo(r,p)}function Dt(r,p){p===0&&(r.mode&1?(p=Rn,Rn<<=1,!(Rn&130023424)&&(Rn=4194304)):p=1);var D=Or();r=Ur(r,p),r!==null&&(zi(r,p,D),vo(r,D))}function un(r){var p=r.memoizedState,D=0;p!==null&&(D=p.retryLane),Dt(r,D)}function xn(r,p){var D=0;switch(r.tag){case 13:var q=r.stateNode,re=r.memoizedState;re!==null&&(D=re.retryLane);break;case 19:q=r.stateNode;break;default:throw Error(l(314))}q!==null&&q.delete(p),Dt(r,D)}var bn;bn=function(r,p,D){if(r!==null)if(r.memoizedProps!==p.pendingProps||Yr.current)Jr=!0;else{if(!(r.lanes&D)&&!(p.flags&128))return Jr=!1,Sc(r,p,D);Jr=!!(r.flags&131072)}else Jr=!1,Kn&&p.flags&1048576&&_r(p,yt,p.index);switch(p.lanes=0,p.tag){case 2:var q=p.type;gu(r,p),r=p.pendingProps;var re=co(p,Fn.current);Do(p,D),re=fc(null,p,q,r,re,D);var fe=pc();return p.flags|=1,typeof re=="object"&&re!==null&&typeof re.render=="function"&&re.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,fo(q)?(fe=!0,wr(p)):fe=!1,p.memoizedState=re.state!==null&&re.state!==void 0?re.state:null,ra(p),re.updater=Jl,p.stateNode=re,re._reactInternals=p,Zl(p,q,r,D),p=hu(null,p,q,!0,fe,D)):(p.tag=0,Kn&&fe&&sn(p),Cr(null,p,re,D),p=p.child),p;case 16:q=p.elementType;e:{switch(gu(r,p),r=p.pendingProps,re=q._init,q=re(q._payload),p.type=q,re=p.tag=Ct(q),r=po(q,r),re){case 0:p=mo(null,p,q,r,D);break e;case 1:p=xs(null,p,q,r,D);break e;case 11:p=xc(null,p,q,r,D);break e;case 14:p=Wu(null,p,q,po(q.type,r),D);break e}throw Error(l(306,q,""))}return p;case 0:return q=p.type,re=p.pendingProps,re=p.elementType===q?re:po(q,re),mo(r,p,q,re,D);case 1:return q=p.type,re=p.pendingProps,re=p.elementType===q?re:po(q,re),xs(r,p,q,re,D);case 3:e:{if(Es(p),r===null)throw Error(l(387));q=p.pendingProps,fe=p.memoizedState,re=fe.element,Pa(r,p),La(p,q,null,D);var Se=p.memoizedState;if(q=Se.element,fe.isDehydrated)if(fe={element:q,isDehydrated:!1,cache:Se.cache,pendingSuspenseBoundaries:Se.pendingSuspenseBoundaries,transitions:Se.transitions},p.updateQueue.baseState=fe,p.memoizedState=fe,p.flags&256){re=la(Error(l(423)),p),p=Bc(r,p,q,D,re);break e}else if(q!==re){re=la(Error(l(424)),p),p=Bc(r,p,q,D,re);break e}else for(dr=zo(p.stateNode.containerInfo.firstChild),Gn=p,Kn=!0,Br=null,D=Na(p,null,q,D),p.child=D;D;)D.flags=D.flags&-3|4096,D=D.sibling;else{if(Sr(),q===re){p=ua(r,p,D);break e}Cr(r,p,q,D)}p=p.child}return p;case 5:return ru(p),r===null&&Ql(p),q=p.type,re=p.pendingProps,fe=r!==null?r.memoizedProps:null,Se=re.children,zl(q,re)?Se=null:fe!==null&&zl(q,fe)&&(p.flags|=32),Zr(r,p),Cr(r,p,Se,D),p.child;case 6:return r===null&&Ql(p),null;case 13:return qc(r,p,D);case 4:return aa(p,p.stateNode.containerInfo),q=p.pendingProps,r===null?p.child=Jn(p,null,q,D):Cr(r,p,q,D),p.child;case 11:return q=p.type,re=p.pendingProps,re=p.elementType===q?re:po(q,re),xc(r,p,q,re,D);case 7:return Cr(r,p,p.pendingProps,D),p.child;case 8:return Cr(r,p,p.pendingProps.children,D),p.child;case 12:return Cr(r,p,p.pendingProps.children,D),p.child;case 10:e:{if(q=p.type._context,re=p.pendingProps,fe=p.memoizedProps,Se=re.value,Yn(bs,q._currentValue),q._currentValue=Se,fe!==null)if(jo(fe.value,Se)){if(fe.children===re.children&&!Yr.current){p=ua(r,p,D);break e}}else for(fe=p.child,fe!==null&&(fe.return=p);fe!==null;){var Ue=fe.dependencies;if(Ue!==null){Se=fe.child;for(var Ke=Ue.firstContext;Ke!==null;){if(Ke.context===q){if(fe.tag===1){Ke=Wo(-1,D&-D),Ke.tag=2;var dt=fe.updateQueue;if(dt!==null){dt=dt.shared;var Ot=dt.pending;Ot===null?Ke.next=Ke:(Ke.next=Ot.next,Ot.next=Ke),dt.pending=Ke}}fe.lanes|=D,Ke=fe.alternate,Ke!==null&&(Ke.lanes|=D),ar(fe.return,D,p),Ue.lanes|=D;break}Ke=Ke.next}}else if(fe.tag===10)Se=fe.type===p.type?null:fe.child;else if(fe.tag===18){if(Se=fe.return,Se===null)throw Error(l(341));Se.lanes|=D,Ue=Se.alternate,Ue!==null&&(Ue.lanes|=D),ar(Se,D,p),Se=fe.sibling}else Se=fe.child;if(Se!==null)Se.return=fe;else for(Se=fe;Se!==null;){if(Se===p){Se=null;break}if(fe=Se.sibling,fe!==null){fe.return=Se.return,Se=fe;break}Se=Se.return}fe=Se}Cr(r,p,re.children,D),p=p.child}return p;case 9:return re=p.type,q=p.pendingProps.children,Do(p,D),re=qr(re),q=q(re),p.flags|=1,Cr(r,p,q,D),p.child;case 14:return q=p.type,re=po(q,p.pendingProps),re=po(q.type,re),Wu(r,p,q,re,D);case 15:return ol(r,p,p.type,p.pendingProps,D);case 17:return q=p.type,re=p.pendingProps,re=p.elementType===q?re:po(q,re),gu(r,p),p.tag=1,fo(q)?(r=!0,wr(p)):r=!1,Do(p,D),sc(p,q,re),Zl(p,q,re,D),hu(null,p,q,!0,r,D);case 19:return Ec(r,p,D);case 22:return Va(r,p,D)}throw Error(l(156,p.tag))};function st(r,p){return Ve(r,p)}function Ze(r,p,D,q){this.tag=r,this.key=D,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=q,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(r,p,D,q){return new Ze(r,p,D,q)}function kt(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ct(r){if(typeof r=="function")return kt(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===P)return 14}return 2}function pn(r,p){var D=r.alternate;return D===null?(D=nt(r.tag,p,r.key,r.mode),D.elementType=r.elementType,D.type=r.type,D.stateNode=r.stateNode,D.alternate=r,r.alternate=D):(D.pendingProps=p,D.type=r.type,D.flags=0,D.subtreeFlags=0,D.deletions=null),D.flags=r.flags&14680064,D.childLanes=r.childLanes,D.lanes=r.lanes,D.child=r.child,D.memoizedProps=r.memoizedProps,D.memoizedState=r.memoizedState,D.updateQueue=r.updateQueue,p=r.dependencies,D.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},D.sibling=r.sibling,D.index=r.index,D.ref=r.ref,D}function nn(r,p,D,q,re,fe){var Se=2;if(q=r,typeof r=="function")kt(r)&&(Se=1);else if(typeof r=="string")Se=5;else e:switch(r){case j:return wn(D.children,re,fe,p);case x:Se=8,re|=8;break;case A:return r=nt(12,D,p,re|2),r.elementType=A,r.lanes=fe,r;case V:return r=nt(13,D,p,re),r.elementType=V,r.lanes=fe,r;case R:return r=nt(19,D,p,re),r.elementType=R,r.lanes=fe,r;case z:return Nn(D,re,fe,p);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:Se=10;break e;case C:Se=9;break e;case O:Se=11;break e;case P:Se=14;break e;case B:Se=16,q=null;break e}throw Error(l(130,r==null?r:typeof r,""))}return p=nt(Se,D,p,re),p.elementType=r,p.type=q,p.lanes=fe,p}function wn(r,p,D,q){return r=nt(7,r,q,p),r.lanes=D,r}function Nn(r,p,D,q){return r=nt(22,r,q,p),r.elementType=z,r.lanes=D,r.stateNode={isHidden:!1},r}function Dn(r,p,D){return r=nt(6,r,null,p),r.lanes=D,r}function ha(r,p,D){return p=nt(4,r.children!==null?r.children:[],r.key,p),p.lanes=D,p.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},p}function rd(r,p,D,q,re){this.tag=p,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=On(0),this.expirationTimes=On(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.identifierPrefix=q,this.onRecoverableError=re,this.mutableSourceEagerHydrationData=null}function od(r,p,D,q,re,fe,Se,Ue,Ke){return r=new rd(r,p,D,Ue,Ke),p===1?(p=1,fe===!0&&(p|=8)):p=0,fe=nt(3,null,null,p),r.current=fe,fe.stateNode=r,fe.memoizedState={element:q,isDehydrated:D,cache:null,transitions:null,pendingSuspenseBoundaries:null},ra(fe),r}function vd(r,p,D){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:q==null?null:""+q,children:r,containerInfo:p,implementation:D}}function ld(r){if(!r)return Wn;r=r._reactInternals;e:{if(ae(r)!==r||r.tag!==1)throw Error(l(170));var p=r;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(fo(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(l(171))}if(r.tag===1){var D=r.type;if(fo(D))return Kl(r,D,p)}return p}function ud(r,p,D,q,re,fe,Se,Ue,Ke){return r=od(D,q,!0,r,re,fe,Se,Ue,Ke),r.context=ld(null),D=r.current,q=Or(),re=vi(D),fe=Wo(q,re),fe.callback=p!=null?p:null,pi(D,fe,re),r.current.lanes=re,zi(r,re,q),vo(r,q),r}function Wc(r,p,D,q){var re=p.current,fe=Or(),Se=vi(re);return D=ld(D),p.context===null?p.context=D:p.pendingContext=D,p=Wo(fe,Se),p.payload={element:r},q=q===void 0?null:q,q!==null&&(p.callback=q),r=pi(re,p,Se),r!==null&&(Jo(r,re,Se,fe),gs(r,re,Se)),Se}function Gc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function cd(r,p){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var D=r.retryLane;r.retryLane=D!==0&&D<p?D:p}}function id(r,p){cd(r,p),(r=r.alternate)&&cd(r,p)}function _d(){return null}var dd=typeof reportError=="function"?reportError:function(r){console.error(r)};function ad(r){this._internalRoot=r}$c.prototype.render=ad.prototype.render=function(r){var p=this._internalRoot;if(p===null)throw Error(l(409));Wc(r,p,null,null)},$c.prototype.unmount=ad.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var p=r.containerInfo;ma(function(){Wc(null,r,null,null)}),p[Ri]=null}};function $c(r){this._internalRoot=r}$c.prototype.unstable_scheduleHydration=function(r){if(r){var p=gi();r={blockedOn:null,target:r,priority:p};for(var D=0;D<ur.length&&p!==0&&p<ur[D].priority;D++);ur.splice(D,0,r),D===0&&Ms(r)}};function sd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Kc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function fd(){}function gd(r,p,D,q,re){if(re){if(typeof q=="function"){var fe=q;q=function(){var dt=Gc(Se);fe.call(dt)}}var Se=ud(p,q,r,0,null,!1,!1,"",fd);return r._reactRootContainer=Se,r[Ri]=Se.current,Mi(r.nodeType===8?r.parentNode:r),ma(),Se}for(;re=r.lastChild;)r.removeChild(re);if(typeof q=="function"){var Ue=q;q=function(){var dt=Gc(Ke);Ue.call(dt)}}var Ke=od(r,0,!1,null,null,!1,!1,"",fd);return r._reactRootContainer=Ke,r[Ri]=Ke.current,Mi(r.nodeType===8?r.parentNode:r),ma(function(){Wc(p,Ke,D,q)}),Ke}function Yc(r,p,D,q,re){var fe=D._reactRootContainer;if(fe){var Se=fe;if(typeof re=="function"){var Ue=re;re=function(){var Ke=Gc(Se);Ue.call(Ke)}}Wc(p,Se,r,re)}else Se=gd(D,p,r,re,q);return Gc(Se)}Ro=function(r){switch(r.tag){case 3:var p=r.stateNode;if(p.current.memoizedState.isDehydrated){var D=no(p.pendingLanes);D!==0&&(Hi(p,D|1),vo(p,We()),!(zn&6)&&(Vi=We()+500,Ge()))}break;case 13:ma(function(){var q=Ur(r,1);if(q!==null){var re=Or();Jo(q,r,1,re)}}),id(r,1)}},Fa=function(r){if(r.tag===13){var p=Ur(r,134217728);if(p!==null){var D=Or();Jo(p,r,134217728,D)}id(r,134217728)}},ql=function(r){if(r.tag===13){var p=vi(r),D=Ur(r,p);if(D!==null){var q=Or();Jo(D,r,p,q)}id(r,p)}},gi=function(){return Ln},va=function(r,p){var D=Ln;try{return Ln=r,p()}finally{Ln=D}},Gt=function(r,p,D){switch(p){case"input":if(ye(r,D),p=D.name,D.type==="radio"&&p!=null){for(D=r;D.parentNode;)D=D.parentNode;for(D=D.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<D.length;p++){var q=D[p];if(q!==r&&q.form===r.form){var re=ds(q);if(!re)throw Error(l(90));L(q),ye(q,re)}}}break;case"textarea":He(r,D);break;case"select":p=D.value,p!=null&&je(r,!!D.multiple,p,!1)}},$e=ul,St=ma;var yd={usingClientEntryPoint:!1,Events:[Da,Xs,ds,Tt,In,ul]},Ic={findFiberByHostInstance:ci,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wd={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ee(r),r===null?null:r.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||_d,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{mr=Qc.inject(wd),Mn=Qc}catch(r){}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yd,ft.createPortal=function(r,p){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sd(p))throw Error(l(200));return vd(r,p,null,D)},ft.createRoot=function(r,p){if(!sd(r))throw Error(l(299));var D=!1,q="",re=dd;return p!=null&&(p.unstable_strictMode===!0&&(D=!0),p.identifierPrefix!==void 0&&(q=p.identifierPrefix),p.onRecoverableError!==void 0&&(re=p.onRecoverableError)),p=od(r,1,!1,null,null,D,!1,q,re),r[Ri]=p.current,Mi(r.nodeType===8?r.parentNode:r),new ad(p)},ft.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var p=r._reactInternals;if(p===void 0)throw typeof r.render=="function"?Error(l(188)):(r=Object.keys(r).join(","),Error(l(268,r)));return r=Ee(p),r=r===null?null:r.stateNode,r},ft.flushSync=function(r){return ma(r)},ft.hydrate=function(r,p,D){if(!Kc(p))throw Error(l(200));return Yc(null,r,p,!0,D)},ft.hydrateRoot=function(r,p,D){if(!sd(r))throw Error(l(405));var q=D!=null&&D.hydratedSources||null,re=!1,fe="",Se=dd;if(D!=null&&(D.unstable_strictMode===!0&&(re=!0),D.identifierPrefix!==void 0&&(fe=D.identifierPrefix),D.onRecoverableError!==void 0&&(Se=D.onRecoverableError)),p=ud(p,null,r,1,D!=null?D:null,re,!1,fe,Se),r[Ri]=p.current,Mi(r),q)for(r=0;r<q.length;r++)D=q[r],re=D._getVersion,re=re(D._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[D,re]:p.mutableSourceEagerHydrationData.push(D,re);return new $c(p)},ft.render=function(r,p,D){if(!Kc(p))throw Error(l(200));return Yc(null,r,p,!1,D)},ft.unmountComponentAtNode=function(r){if(!Kc(r))throw Error(l(40));return r._reactRootContainer?(ma(function(){Yc(null,null,r,!1,function(){r._reactRootContainer=null,r[Ri]=null})}),!0):!1},ft.unstable_batchedUpdates=ul,ft.unstable_renderSubtreeIntoContainer=function(r,p,D,q){if(!Kc(D))throw Error(l(200));if(r==null||r._reactInternals===void 0)throw Error(l(38));return Yc(r,p,D,!1,q)},ft.version="18.2.0-next-9e3b772b8-20220608"},4470:(wt,ft,vt)=>{"use strict";var zt,e=vt(3961);if(!0)ft.createRoot=e.createRoot,zt=e.hydrateRoot;else var l},3961:(wt,ft,vt)=>{"use strict";function zt(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zt)}catch(e){console.error(e)}}zt(),wt.exports=vt(7799)},2455:(wt,ft,vt)=>{"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zt=vt(9526),e=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t={key:!0,ref:!0,__self:!0,__source:!0};function o(u,n,s){var f,d={},m=null,h=null;s!==void 0&&(m=""+s),n.key!==void 0&&(m=""+n.key),n.ref!==void 0&&(h=n.ref);for(f in n)i.call(n,f)&&!t.hasOwnProperty(f)&&(d[f]=n[f]);if(u&&u.defaultProps)for(f in n=u.defaultProps,n)d[f]===void 0&&(d[f]=n[f]);return{$$typeof:e,type:u,key:m,ref:h,props:d,_owner:a.current}}ft.Fragment=l,ft.jsx=o,ft.jsxs=o},3218:(wt,ft)=>{"use strict";/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=Symbol.for("react.element"),zt=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),t=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),n=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),f=Symbol.iterator;function d(N){return N===null||typeof N!="object"?null:(N=f&&N[f]||N["@@iterator"],typeof N=="function"?N:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,_={};function y(N,K,U){this.props=N,this.context=K,this.refs=_,this.updater=U||m}y.prototype.isReactComponent={},y.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},y.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function S(){}S.prototype=y.prototype;function v(N,K,U){this.props=N,this.context=K,this.refs=_,this.updater=U||m}var T=v.prototype=new S;T.constructor=v,h(T,y.prototype),T.isPureReactComponent=!0;var E=Array.isArray,I=Object.prototype.hasOwnProperty,g={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function j(N,K,U){var F,Z={},$=null,ne=null;if(K!=null)for(F in K.ref!==void 0&&(ne=K.ref),K.key!==void 0&&($=""+K.key),K)I.call(K,F)&&!k.hasOwnProperty(F)&&(Z[F]=K[F]);var H=arguments.length-2;if(H===1)Z.children=U;else if(1<H){for(var X=Array(H),oe=0;oe<H;oe++)X[oe]=arguments[oe+2];Z.children=X}if(N&&N.defaultProps)for(F in H=N.defaultProps,H)Z[F]===void 0&&(Z[F]=H[F]);return{$$typeof:vt,type:N,key:$,ref:ne,props:Z,_owner:g.current}}function x(N,K){return{$$typeof:vt,type:N.type,key:K,ref:N.ref,props:N.props,_owner:N._owner}}function A(N){return typeof N=="object"&&N!==null&&N.$$typeof===vt}function w(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(U){return K[U]})}var C=/\/+/g;function O(N,K){return typeof N=="object"&&N!==null&&N.key!=null?w(""+N.key):K.toString(36)}function V(N,K,U,F,Z){var $=typeof N;($==="undefined"||$==="boolean")&&(N=null);var ne=!1;if(N===null)ne=!0;else switch($){case"string":case"number":ne=!0;break;case"object":switch(N.$$typeof){case vt:case zt:ne=!0}}if(ne)return ne=N,Z=Z(ne),N=F===""?"."+O(ne,0):F,E(Z)?(U="",N!=null&&(U=N.replace(C,"$&/")+"/"),V(Z,K,U,"",function(oe){return oe})):Z!=null&&(A(Z)&&(Z=x(Z,U+(!Z.key||ne&&ne.key===Z.key?"":(""+Z.key).replace(C,"$&/")+"/")+N)),K.push(Z)),1;if(ne=0,F=F===""?".":F+":",E(N))for(var H=0;H<N.length;H++){$=N[H];var X=F+O($,H);ne+=V($,K,U,X,Z)}else if(X=d(N),typeof X=="function")for(N=X.call(N),H=0;!($=N.next()).done;)$=$.value,X=F+O($,H++),ne+=V($,K,U,X,Z);else if($==="object")throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ne}function R(N,K,U){if(N==null)return N;var F=[],Z=0;return V(N,F,"","",function($){return K.call(U,$,Z++)}),F}function P(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(U){(N._status===0||N._status===-1)&&(N._status=1,N._result=U)},function(U){(N._status===0||N._status===-1)&&(N._status=2,N._result=U)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var B={current:null},z={transition:null},Q={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:z,ReactCurrentOwner:g};ft.Children={map:R,forEach:function(N,K,U){R(N,function(){K.apply(this,arguments)},U)},count:function(N){var K=0;return R(N,function(){K++}),K},toArray:function(N){return R(N,function(K){return K})||[]},only:function(N){if(!A(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ft.Component=y,ft.Fragment=e,ft.Profiler=i,ft.PureComponent=v,ft.StrictMode=l,ft.Suspense=u,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,ft.cloneElement=function(N,K,U){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var F=h({},N.props),Z=N.key,$=N.ref,ne=N._owner;if(K!=null){if(K.ref!==void 0&&($=K.ref,ne=g.current),K.key!==void 0&&(Z=""+K.key),N.type&&N.type.defaultProps)var H=N.type.defaultProps;for(X in K)I.call(K,X)&&!k.hasOwnProperty(X)&&(F[X]=K[X]===void 0&&H!==void 0?H[X]:K[X])}var X=arguments.length-2;if(X===1)F.children=U;else if(1<X){H=Array(X);for(var oe=0;oe<X;oe++)H[oe]=arguments[oe+2];F.children=H}return{$$typeof:vt,type:N.type,key:Z,ref:$,props:F,_owner:ne}},ft.createContext=function(N){return N={$$typeof:t,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},ft.createElement=j,ft.createFactory=function(N){var K=j.bind(null,N);return K.type=N,K},ft.createRef=function(){return{current:null}},ft.forwardRef=function(N){return{$$typeof:o,render:N}},ft.isValidElement=A,ft.lazy=function(N){return{$$typeof:s,_payload:{_status:-1,_result:N},_init:P}},ft.memo=function(N,K){return{$$typeof:n,type:N,compare:K===void 0?null:K}},ft.startTransition=function(N){var K=z.transition;z.transition={};try{N()}finally{z.transition=K}},ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ft.useCallback=function(N,K){return B.current.useCallback(N,K)},ft.useContext=function(N){return B.current.useContext(N)},ft.useDebugValue=function(){},ft.useDeferredValue=function(N){return B.current.useDeferredValue(N)},ft.useEffect=function(N,K){return B.current.useEffect(N,K)},ft.useId=function(){return B.current.useId()},ft.useImperativeHandle=function(N,K,U){return B.current.useImperativeHandle(N,K,U)},ft.useInsertionEffect=function(N,K){return B.current.useInsertionEffect(N,K)},ft.useLayoutEffect=function(N,K){return B.current.useLayoutEffect(N,K)},ft.useMemo=function(N,K){return B.current.useMemo(N,K)},ft.useReducer=function(N,K,U){return B.current.useReducer(N,K,U)},ft.useRef=function(N){return B.current.useRef(N)},ft.useState=function(N){return B.current.useState(N)},ft.useSyncExternalStore=function(N,K,U){return B.current.useSyncExternalStore(N,K,U)},ft.useTransition=function(){return B.current.useTransition()},ft.version="18.2.0"},9526:(wt,ft,vt)=>{"use strict";wt.exports=vt(3218)},7557:(wt,ft,vt)=>{"use strict";wt.exports=vt(2455)},1196:(wt,ft)=>{"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function vt(B,z){var Q=B.length;B.push(z);e:for(;0<Q;){var N=Q-1>>>1,K=B[N];if(0<l(K,z))B[N]=z,B[Q]=K,Q=N;else break e}}function zt(B){return B.length===0?null:B[0]}function e(B){if(B.length===0)return null;var z=B[0],Q=B.pop();if(Q!==z){B[0]=Q;e:for(var N=0,K=B.length,U=K>>>1;N<U;){var F=2*(N+1)-1,Z=B[F],$=F+1,ne=B[$];if(0>l(Z,Q))$<K&&0>l(ne,Z)?(B[N]=ne,B[$]=Q,N=$):(B[N]=Z,B[F]=Q,N=F);else if($<K&&0>l(ne,Q))B[N]=ne,B[$]=Q,N=$;else break e}}return z}function l(B,z){var Q=B.sortIndex-z.sortIndex;return Q!==0?Q:B.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;ft.unstable_now=function(){return i.now()}}else{var a=Date,t=a.now();ft.unstable_now=function(){return a.now()-t}}var o=[],u=[],n=1,s=null,f=3,d=!1,m=!1,h=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var z=zt(u);z!==null;){if(z.callback===null)e(u);else if(z.startTime<=B)e(u),z.sortIndex=z.expirationTime,vt(o,z);else break;z=zt(u)}}function T(B){if(h=!1,v(B),!m)if(zt(o)!==null)m=!0,R(E);else{var z=zt(u);z!==null&&P(T,z.startTime-B)}}function E(B,z){m=!1,h&&(h=!1,y(k),k=-1),d=!0;var Q=f;try{for(v(z),s=zt(o);s!==null&&(!(s.expirationTime>z)||B&&!A());){var N=s.callback;if(typeof N=="function"){s.callback=null,f=s.priorityLevel;var K=N(s.expirationTime<=z);z=ft.unstable_now(),typeof K=="function"?s.callback=K:s===zt(o)&&e(o),v(z)}else e(o);s=zt(o)}if(s!==null)var U=!0;else{var F=zt(u);F!==null&&P(T,F.startTime-z),U=!1}return U}finally{s=null,f=Q,d=!1}}var I=!1,g=null,k=-1,j=5,x=-1;function A(){return!(ft.unstable_now()-x<j)}function w(){if(g!==null){var B=ft.unstable_now();x=B;var z=!0;try{z=g(!0,B)}finally{z?C():(I=!1,g=null)}}else I=!1}var C;if(typeof S=="function")C=function(){S(w)};else if(typeof MessageChannel!="undefined"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=w,C=function(){V.postMessage(null)}}else C=function(){_(w,0)};function R(B){g=B,I||(I=!0,C())}function P(B,z){k=_(function(){B(ft.unstable_now())},z)}ft.unstable_IdlePriority=5,ft.unstable_ImmediatePriority=1,ft.unstable_LowPriority=4,ft.unstable_NormalPriority=3,ft.unstable_Profiling=null,ft.unstable_UserBlockingPriority=2,ft.unstable_cancelCallback=function(B){B.callback=null},ft.unstable_continueExecution=function(){m||d||(m=!0,R(E))},ft.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},ft.unstable_getCurrentPriorityLevel=function(){return f},ft.unstable_getFirstCallbackNode=function(){return zt(o)},ft.unstable_next=function(B){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var Q=f;f=z;try{return B()}finally{f=Q}},ft.unstable_pauseExecution=function(){},ft.unstable_requestPaint=function(){},ft.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=f;f=B;try{return z()}finally{f=Q}},ft.unstable_scheduleCallback=function(B,z,Q){var N=ft.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?N+Q:N):Q=N,B){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Q+K,B={id:n++,callback:z,priorityLevel:B,startTime:Q,expirationTime:K,sortIndex:-1},Q>N?(B.sortIndex=Q,vt(u,B),zt(o)===null&&B===zt(u)&&(h?(y(k),k=-1):h=!0,P(T,Q-N))):(B.sortIndex=K,vt(o,B),m||d||(m=!0,R(E))),B},ft.unstable_shouldYield=A,ft.unstable_wrapCallback=function(B){var z=f;return function(){var Q=f;f=z;try{return B.apply(this,arguments)}finally{f=Q}}}},2851:(wt,ft,vt)=>{"use strict";wt.exports=vt(1196)}},to={};function jn(wt){var ft=to[wt];if(ft!==void 0)return ft.exports;var vt=to[wt]={exports:{}};return Hr[wt](vt,vt.exports,jn),vt.exports}jn.n=wt=>{var ft=wt&&wt.__esModule?()=>wt.default:()=>wt;return jn.d(ft,{a:ft}),ft},jn.d=(wt,ft)=>{for(var vt in ft)jn.o(ft,vt)&&!jn.o(wt,vt)&&Object.defineProperty(wt,vt,{enumerable:!0,get:ft[vt]})},jn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(wt){if(typeof window=="object")return window}}(),jn.o=(wt,ft)=>Object.prototype.hasOwnProperty.call(wt,ft),jn.p="/";var Ua={};(()=>{var wt=typeof window!="undefined"?window:typeof jn.g!="undefined"?jn.g:typeof self!="undefined"?self:{};wt.SENTRY_RELEASE={id:"connect-v3.2.2"},wt.SENTRY_RELEASES=wt.SENTRY_RELEASES||{},wt.SENTRY_RELEASES["connect-client@apihub"]={id:"connect-v3.2.2"}})(),(()=>{"use strict";var wt=jn(9526),ft=jn(4470),vt=jn(5189),zt=jn(8492),e=jn.n(zt),l=jn(7557);const i=!1,a="https://connect-client.clearbit.com/icons",t="https://s3-us-west-1.amazonaws.com/clearbit-assets/connect-client-icons/logo.svg",o="https://help.clearbit.com/hc/en-us/categories/4421572620439-Free-Tools",u="https://chrome.google.com/webstore/detail/bemecidfpcjokfloipcdkenfecjdocac",n={local_development:"http://localhost:3000",development:"https://connect.dev.clearbit.com",staging:"https://connect.staging.clearbit.com",production:"https://connect.clearbit.com"},s='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="currentColor"><path fill-rule="evenodd" d="M3.3352346,13.1409137 L3.33523455,13.1409138 C2.91548014,13.5733825 2.92546046,14.2645641 3.35752584,14.684707 C3.78087294,15.0963751 4.45458199,15.0962796 4.87780976,14.6844919 L9.00453522,10.5538595 L13.1373639,14.6904917 L13.1373638,14.6904917 C13.568947,15.1110906 14.2594594,15.1018597 14.6796682,14.6698737 C15.0920236,14.2459591 15.0919517,13.570408 14.6795052,13.1465834 L10.5469491,9.01016937 L14.6955806,4.85777412 L14.6955806,4.85777409 C15.1130468,4.423134 15.0994531,3.73205118 14.6652183,3.31419357 C14.2430237,2.90792372 13.5756331,2.90792372 13.1534407,3.31419361 L9.00453675,7.46620706 L4.86206292,3.31981159 L4.86206295,3.31981162 C4.436122,2.89342832 3.74549844,2.89339123 3.31951335,3.31972975 C2.89352771,3.74606833 2.89349066,4.43733659 3.31943155,4.86371935 L7.46206886,9.01011482 L3.3352346,13.1409137 Z" fill=""></path></svg>',f="TOGGLE_CONNECT_EVERYWHERE",d="OPEN_CONNECT_OPTIONS",m="cb-connect-open",h=null,_=new Date(2020,0,1),y=n.production,S=".inboxsdk__composeButton",v="cv6",T=["communications","customer_service","education","engineering","finance","health_professional","human_resources","information_technology","leadership","legal","marketing","operations","product","public_relations","real_estate","recruiting","research","sales"],E=["executive","director","manager"],I=[{domain:"clearbit.com",name:"Clearbit"}],g=10,k=["connect","autocomplete"],j="prospect_eu_agreed",x="connect_everywhere_agreed",A=null,w={},C=()=>"connect-v"+manifest.version,O=me=>me.toLowerCase().replace(/(?:^|\s|-)\S/g,xe=>xe.toUpperCase()),V=me=>/\S+@\S+/.test(me),R=me=>/\S+\.\S+/.test(me),P=me=>me.split(/@/)[1],B=["unknown_company","invalid_domain","uknown_person"],z=(me="")=>{try{return new URL(me).hostname}catch(xe){return me}},Q=me=>"?"+Object.keys(me).map(xe=>[encodeURIComponent(xe),encodeURIComponent(me[xe])].join("=")).join("&"),N=me=>me?/https?:\/\//.test(me)?me:`http://${me}`:"",K=(me,xe,Ie)=>{const Re=me===1?xe:Ie;return`${U(me)} ${Re}`},U=me=>Math.abs(Number(me))>=1e9?(Math.abs(Number(me))/1e9).toFixed(1)+"B":Math.abs(Number(me))>=1e6?(Math.abs(Number(me))/1e6).toFixed(1)+"M":Math.abs(Number(me))>=1e3?Math.floor(Math.abs(Number(me))/1e3)+"K":Math.abs(Number(me)),F=me=>{if(typeof me!="string")throw new TypeError("Expected a string");return me=me.replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),me.charAt(0).toUpperCase()+me.slice(1)},Z=me=>new Date(me)>=TOS_LAST_UPDATED;function $(me,xe,Ie){if((me==null?void 0:me.type)!=="inboxsdk__injectPageWorld")try{if(xe.id===chrome.runtime.id&&MessageSenders.includes(me.from)&&MessageScopes.includes(Ie)){const[Fe,Ge]=me.fn.split(".",2);if(Fe===Ie&&Ge)return{method:Ge,payload:me.payload}}else console.error("invalid sender!",xe.id,chrome.runtime.id,JSON.stringify(me),Ie)}catch(Re){console.error(Re)}return{method:!1}}function ne(me,xe){SHOULD_LOG&&console.log("[DEBUG] Attaching message listener",me,Object.keys(xe)),chrome.runtime.onMessage.addListener((Ie,Re,Fe)=>{const{method:Ge,payload:ot}=$(Ie,Re,me);if(Ge)if(typeof xe[Ge]!="undefined"){SHOULD_LOG&&console.log("[DEBUG] Executing method",me,Ge);const tt=xe[Ge];tt(ot).then(ut=>{Fe(ut)})}else throw new Error(`Method ${Ge} not found (${JSON.stringify(Ie)})`);return!0})}function H(me,xe,Ie){return new Promise((Re,Fe)=>{chrome.tabs.query({active:!0,currentWindow:!0},function(Ge){Ge[0].id?chrome.tabs.sendMessage(Ge[0].id,{from:me,fn:xe,payload:Ie},ot=>Re(ot)):Fe(new Error("No active tab found"))})})}function X(me,xe,Ie){return new Promise((Re,Fe)=>{chrome.tabs.query({currentWindow:!0},function(Ge){Ge.forEach(ot=>{ot.id&&chrome.tabs.sendMessage(ot.id,{from:me,fn:xe,payload:Ie},tt=>Re(tt))})})})}function oe(me,xe,Ie){return new Promise(Re=>{chrome.runtime.sendMessage({from:me,fn:xe,payload:Ie},Fe=>Re(Fe))})}function Y(me,xe){return oe("tab",me,xe)}function se(me,xe){return oe("options",me,xe)}const ie=me=>(me==null?void 0:me.error)!==void 0;function L(me,xe,Ie){return`${Ie&&Ie!=="connect"?`https://${Ie}.clearbit.com`:n[me||"production"]}${xe}`}const G={"1_and_1_hosting":"1&1 Hosting","3d_cart":"3d Cart",acquia:"Acquia",acquisio:"Acquisio",act_on:"Act On",action_network:"Action Network",active_demand:"Active Demand",activecampaign:"Activecampaign",add_to_any:"Add To Any",adform_advertiser:"Adform Advertiser",admeld:"Admeld",adobe_business_catalyst:"Adobe Business Catalyst",adobe_connect:"Adobe Connect",adobe_dynamic_tag_management:"Adobe Dynamic Tag Management",adobe_experience_manager:"Adobe Experience Manager",adobe_marketing_cloud:"Adobe Marketing Cloud",adp:"ADP",adroll:"AdRoll",adscale:"Adscale",aggregate_knowledge:"Aggregate Knowledge",airbrake:"Airbrake",akamai:"Akamai",akamai_dns:"Akamai DNS",alexa:"Alexa",algolia:"Algolia",alteryx:"Alteryx",altocloud:"Altocloud",amazon_associates:"Amazon Associates",amazon_payments:"Amazon Payments",amazon_s3:"Amazon S3",amazon_ses:"Amazon Simple Email Service",amcharts:"amCharts",amplitude:"Amplitude",android:"Android",apache:"Apache",apache_apex:"Apache Apex",apache_cassandra:"Apache Cassandra",apache_hadoop:"Apache Hadoop",apache_http_server:"Apache Http Server",apache_kafka:"Apache Kafka",apache_maven:"Apache Maven",apache_nifi:"Apache Nifi",apache_spark:"Apache Spark",apache_storm:"Apache Storm",apache_tomcat:"Apache Tomcat",app_nexus:"App Nexus",appboy:"Appboy",appcues:"Appcues",appdynamics:"AppDynamics",appier:"Appier",applepay:"Applepay",appnexus:"Appnexus",apteligent:"Apteligent",asp_net:"ASP.Net",atlassian_confluence:"Atlassian Confluence",atlassian_crowd:"Atlassian Crowd",atlassian_crucible:"Atlassian Crucible",atlassian_fisheye:"Atlassian Fisheye",atlassian_jira:"Atlassian Jira",attraqt:"Attraqt",attribution:"Attribution",authorizenet:"Authorizenet",autopilot:"Autopilot",aweber:"Aweber",aws_cloudwatch:"AWS Cloudwatch",aws_dynamodb:"AWS Dynamodb",aws_ec2:"Amazon Web Services",aws_iam:"AWS IAM",aws_kinesis:"AWS Kinesis",aws_lambda:"AWS Lambda",aws_redshift:"AWS Redshift",aws_route_53:"Route 53",baidu_analytics:"Baidu Analytics",bamboohr:"Bamboohr",basecamp:"Basecamp",bazaarvoice:"Bazaarvoice",benchmarkemail:"Benchmarkemail",big_cartel:"Big Cartel",bigcommerce:"Bigcommerce",bing_ads:"Bing Ads",bing_advertiser:"Bing Advertiser",bing_maps:"Bing Maps",bloomreach:"Bloomreach",bluehost_hosting:"Bluehost Hosting",bluekai:"Bluekai",bold_commerce:"Bold Commerce",braintree:"Braintree",branch:"Branch",brightcove:"Image and Video Services",bronto:"Bronto",bug_herd:"Bug Herd",bugsnag:"Bugsnag",c3_metrics:"C3 Metrics",callrail:"Callrail",calq:"Calq",campaignmonitor:"Campaignmonitor",castle:"Castle",centos:"CentOS",ceridian:"Ceridian",chargify:"Chargify",chart_beat:"Chart Beat",chartio:"Chartio",chatlio:"Chatlio",chownow:"Chownow",cision:"Cision",cj_affiliate:"CJ Affiliate",classy:"Classy",clearslide:"Clearslide",clickfunnels:"ClickFunnels",clicktale:"Clicktale",clicky:"Clicky",cloud_flare:"Cloud Flare",cloudera:"Cloudera",cloudinary:"Cloudinary",cludo:"Cludo",commerce_sciences:"Commerce Sciences",confluence:"Confluence",constant_contact:"Constant Contact",contentful:"Contentful",contently:"Contently",conversio:"Conversio",convert_kit:"Convert Kit",convertro:"Convertro",convio:"Convio",couchbase:"Couchbase",couchdb:"Couchdb",coveo:"Coveo",crazy_egg:"Crazy Egg",criteo:"Criteo",crowdskout:"Crowdskout",customer_io:"Customer.io",cyberark:"Cyberark",cybersource:"Cybersource",dailymotion:"Dailymotion",datadog:"Datadog",db2:"Db2",dc_storm:"DC Storm",debian:"Debian",dell_boomi_atomsphere:"Dell Boomi Atomsphere",demandbase:"Demandbase",demandware:"Demandware",demandware_analytics:"Demandware Analytics",digital_ocean:"Digital Ocean",disqus:"Disqus",django:"Django",dns_made_easy:"DNS Made Easy",dotmailer:"Dotmailer",double_click:"DoubleClick Ads",double_click_advertiser:"DoubleClick Advertiser",dreamhost_hosting:"DreamHost Hosting",drift:"Drift",drip:"Drip",dropbox:"Dropbox",drupal:"Drupal",drupal_commerce:"Drupal Commerce",dstillery:"Dstillery",dwolla:"Dwolla",dyn_dns:"Dyn DNS",dynamic_yield:"Dynamic Yield",dynatrace:"Dynatrace",ecwid:"Ecwid",elasticemail:"ElasticEmail",elevio:"Elevio",eloqua:"Eloqua",emarsys:"Emarsys",ember:"Ember",emma:"Emma",engagio:"Engagio",entrust:"Entrust",errorception:"Errorception",express:"Express",facebook_advertiser:"Facebook Advertiser",facebook_beacon:"Facebook Beacon",facebook_comments:"Facebook Comments",facebook_connect:"Facebook Connect",facebook_conversion_tracking:"Facebook Conversion Tracking",facebook_like_button:"Facebook Like Button",facebook_social_plugins:"Facebook Social Plugins",facebook_workplace:"Facebook Workplace",factset:"Factset",fedora:"Fedora",filemaker_pro:"Filemaker Pro",flexera_software:"Flexera Software",flowplayer:"Flowplayer",formstack:"Formstack",freebsd:"FreeBSD",freshdesk:"Freshdesk",fullcontact:"Fullcontact",fullstory:"Fullstory",fusioncharts:"FusionCharts",gauges:"Gauges",get_response:"Get Response",get_satisfaction:"Get Satisfaction",gigya:"Gigya",github:"Github",gitlab:"Gitlab",go_squared:"Go Squared",gocardless:"Gocardless",godaddy_hosting:"GoDaddy Hosting",godaddy_nameserver:"Godaddy Nameserver",goldengate:"Goldengate",goldmine:"Goldmine",google_adsense:"Google Adsense",google_adwords:"Google Adwords",google_affiliate_network:"Google Affiliate Network",google_analytics:"Google Analytics",google_apps:"Google Apps",google_charts:"Google Charts",google_cloud:"Google Cloud",google_forms:"Google Forms",google_maps:"Google Maps",google_places:"Google_places",google_remarketing:"Google_remarketing",google_search_appliance:"Google Search Appliance",google_tag_manager:"Google Tag Manager",google_website_optimizer:"Google Website Optimizer",google_widgets:"Google Widgets",gotomeeting:"Gotomeeting",grafana:"Grafana",graphiq:"GraphIQ",gravity_forms:"Gravity Forms",greenhouse:"Greenhouse",groupby:"GroupBy",hbase:"Hbase",heap:"Heap",hello_bar:"Hello Bar",help_scout:"Help Scout",heroku:"Heroku",highcharts:"Highcharts",hive:"Hive",hootsuite:"Hootsuite",hotjar:"Hotjar",hoverowl:"Hoverowl",hp_servers:"HP Servers",hubspot:"HubSpot",ibm_cognos:"IBM Cognos",ibm_infosphere:"IBM Infosphere",ibm_infosphere_datastage:"IBM Infosphere Datastage",ibm_lotus_domino:"IBM Lotus Domino",ibm_lotus_notes:"IBM Lotus Notes",ibm_websphere:"IBM Websphere",ibm_websphere_commerce:"IBM Websphere Commerce",icims:"Icims",indicative:"Indicative",influitive:"Influitive",informatica:"Informatica",information_builders:"Information Builders",infusionsoft:"Infusionsoft",inside_sales:"Inside Sales",inspectlet:"Inspectlet",instagram:"Instagram",instagram_links:"Instagram Links",instart_logic:"Instart Logic",intense_debate:"Intense Debate",intercom:"Intercom",interspire:"Interspire",invoca:"Invoca",ios:"ios",iponweb_bidswitch:"Iponweb Bidswitch",iterable:"Iterable",jabmo:"Jabmo",janrain:"Janrain",jaspersoft:"Jaspersoft",java:"Java",jha_payment_solutions:"Jha Payment Solutions",jobvite:"Jobvite",joomla:"Joomla",justuno:"Justuno",jw_player:"Jw Player",kaltura:"Kaltura",kapost:"Kapost",keen_io:"Keen IO",kiss_metrics:"Kissmetrics",klaviyo:"Klaviyo",klevu:"Klevu",knowtify:"Knowtify",kronos:"Kronos",lawpay:"Lawpay",lead_dyno:"Lead Dyno",lever:"Lever",lightspeed:"Lightspeed",linked_in_advertiser:"LinkedIn Advertiser",linkwithin:"Linkwithin",linode_hosting:"Linode Hosting",litespeed:"Litespeed",live_chat:"Live Chat",livefyre:"Livefyre",liveramp:"Liveramp",lkqd:"LKQD",localytics:"Localytics",logrocket:"Logrocket",looker:"Looker",lucky_orange:"Lucky Orange",mad_kudu:"Mad Kudu",madison_logic:"Madison Logic",magento:"Magento",magento_enterprise:"Magento Enterprise",magento_v1:"Magento V1",magento_v2:"Magento V2",mailchimp:"Mailchimp",mailerlite:"Mailer Lite",mailgun:"Mailgun",mailjet:"Mailjet",mandrill:"Mandrill",marchex:"Marchex",marin:"Marin",marketo:"Marketo",matomo:"Matomo",mavenlink:"Mavenlink",maxmind:"Maxmind",medallia:"Medallia","media.net":"Media.net",mediamath:"Mediamath",meltwater:"Meltwater",microsoft_azure:"Microsoft Azure",microsoft_dynamics:"Microsoft Dynamics",microsoft_exchange_online:"Microsoft Exchange Online",microsoft_office_365:"Microsoft Office 365",microsoft_power_bi:"Microsoft Power BI",microsoft_project:"Microsoft Project",microsoft_sql_server:"Microsoft Sql Server",microsoft_team_foundation_server:"Microsoft Team Foundation Server",microsoft_teams:"Microsoft Teams",microstrategy:"Microstrategy",mindbody:"Mindbody",mixpanel:"Mixpanel",mode:"Mode",mongodb:"Mongodb",monstercommerce:"Monstercommerce",moonclerk:"MoonClerk",mouseflow:"Mouseflow",mousestats:"Mousestats",mrp:"mrp",my_site_auditor:"My Site Auditor",mysql:"Mysql",namecheap_dns:"Namecheap Dns",nation_builder:"NationBuilder",ncr_retail:"Ncr Retail",neo4j:"Neo4J",netsuite:"Netsuite",netsuite_crm:"Netsuite CRM",netsuite_suitecommerce:"Netsuite Suitecommerce",neustar_ad_advisor:"Neustar Ad Advisor",new_relic:"New Relic",nextable:"Nextable",nginx:"Nginx",nimsoft:"Nimsoft",nopcommerce:"Nopcommerce",nosto:"Nosto",ns1:"Ns1",okta:"Okta",olark:"Olark",omniconvert:"Omniconvert",omniture_adobe_analytics:"Omniture (Adobe Analytics)",ooyala:"Ooyala",open_table:"Open Table",openid:"OpenID",openx:"Openx",optimizely:"Optimizely",optimonk:"Optimonk",oracle_application_server:"Oracle Application Server",oracle_business_intelligence:"Oracle Business Intelligence",oracle_cash_and_treasury_management:"Oracle Cash And Treasury Management",oracle_commerce_cloud:"Oracle Commerce Cloud",oracle_crm:"Oracle CRM",oracle_data_integrator:"Oracle Data Integrator",oracle_endeca:"Oracle Endeca",oracle_essbase:"Oracle Essbase",oracle_fusion:"Oracle Fusion",oracle_human_resources:"Oracle Human Resources",oracle_hyperion:"Oracle Hyperion",oracle_peoplesoft:"Oracle Peoplesoft",oracle_weblogic:"Oracle Weblogic",oscommerce:"Oscommerce",outbound:"Outbound",outbrain_ads:"Outbrain Ads",outlook:"Outlook",owneriq:"ownerIQ",oxid:"Oxid",pagerduty:"Pagerduty",panopto:"Panopto",pardot:"Pardot",paychex:"Paychex",paypal:"PayPal",payza:"Payza",pentaho:"Pentaho",peoplesoft_crm:"Peoplesoft CRM",peoplesoft_sales:"Peoplesoft Sales",percolate:"Percolate",perfect_audience:"Perfect Audience",periscope_data:"Periscope Data",picreel:"Picreel",pingdom:"Pingdom",pinterest:"Pinterest",pipedrive:"Pipedrive",pivotal_tracker:"Pivotal Tracker",piwik:"Piwik",planisware:"Planisware",playwire:"Playwire",podio:"Podio",postgresql:"Postgresql",postmark:"Postmark",powerreviews:"PowerReviews",presta_shop:"Presta Shop",privy:"Privy",pubmatic:"Pubmatic",qbrick:"Qbrick",qliktech:"Qliktech",qlikview:"Qlikview",qualaroo:"Qualaroo",qualtrics:"Qualtrics",quantcast:"Quantcast",qubit:"Qubit",quest_foglight:"Quest Foglight",quickbooks:"Quickbooks",rabbitmq:"Rabbitmq",rackspace:"Rackspace",rackspace_email:"Rackspace Email",raygun:"Raygun",recaptcha:"Recaptcha",recruiterbox:"Recruiterbox",recurly:"Recurly",red_hat:"Red Hat",resrcit:"ReSRCit",resumator:"Resumator",retailrocket:"RetailRocket",rezdy:"Rezdy",rezgo:"Rezgo",robly:"Robly",rocket_fuel:"Rocket Fuel",rollbar:"Rollbar",rsa_securid:"RSA SecureID",rubicon_project:"Rubicon Project",ruby_on_rails:"Ruby On Rails",sage_50cloud:"Sage 50Cloud",sage_crm:"Sage CRM",sage_intacct:"Sage Intacct",sage_pay:"Sage Pay",sailpoint:"Sailpoint",salesforce:"Salesforce",salesforce_dmp:"Salesforce Dmp",salesloft:"SalesLoft",saleslogix:"Saleslogix",salesmachine:"Salesmachine",salsa:"Salsa",sap_business_objects:"SAP Business Objects",sap_concur:"SAP Concur",sap_crm:"SAP CRM",sap_crystal_reports:"SAP Crystal Reports",sap_hana:"SAP Hana",sap_human_capital_management:"SAP Human Capital Management",sap_hybris_marketing:"SAP Hybris Marketing",sap_sales_order_management:"SAP Sales Order Management",sas_data_integration:"Sas Data Integration",sas_enterprise:"SAS Enterprise",satismeter:"Satismeter",segment:"Segment",sendgrid:"Sendgrid",sendlane:"Sendlane",sentry:"Sentry",sessioncam:"Sessioncam",sharepoint:"Sharepoint",sharp_spring:"Sharp Spring",shopify:"Shopify",shopify_plus:"Shopify Plus",shopware:"Shopware",sidecar:"Sidecar",silkroad:"Silkroad",simplicant:"Simplicant",sitecore:"Sitecore",siteimprove_analytics:"Siteimprove Analytics",sixsense:"6sense",sizmek:"Sizmek",slack:"Slack",smartlook:"Smartlook",smartrecruiters:"Smartrecruiters",smartsheet:"Smartsheet",smileio:"Smile",snaplogic:"Snaplogic",snowflake:"Snowflake",snowplow_analytics:"Snowplow Analytics",soasta:"Soasta",sociomantic:"Sociomantic",socket_io:"Socket.io",softlayer_hosting:"Softlayer Hosting",speedcurve:"SpeedCurve",splunk:"Splunk",squarespace:"Squarespace",squarespace_online_stores:"Squarespace Online Stores",statcounter:"Statcounter",steel_house:"SteelHouse",stripe:"Stripe",success_factors:"Success Factors",successfactors:"Successfactors",sugarcrm:"SugarCRM",sumo:"Sumo",survey_monkey:"Survey Monkey",swell_rewards:"Swell Rewards",swifttype:"Swifttype",sybase:"Sybase",tableau:"Tableau",taboola_ads:"Taboola Ads",talend:"Talend",taleo:"Taleo",talkable:"Talkable",tawk:"Tawk",tealium:"Tealium",teradata:"Teradata",terminus:"Terminus",thomson_reuters_eikon:"Thomson Reuters Eikon",tibco_ems:"Tibco Ems",tibco_rendezvous:"Tibco Rendezvous",tibco_spotfire:"Tibco Spotfire",top_producer:"Top Producer",totango:"Totango",tout:"Tout",toutapp:"Toutapp",towerdata:"TowerData",track_js:"Track JS",trello:"Trello",triblio:"Triblio",tripleseat:"Tripleseat",trustpilot:"Trustpilot",turn:"Turn",twilio:"Twilio",twitter_advertiser:"Twitter Advertiser",twitter_badge:"Twitter Badge",twitter_button:"Twitter Button",typeform:"Typeform",typekit_by_adobe:"Typekit",uber_cart:"Uber Cart",ubuntu:"Ubuntu",ultipro:"Ultipro",unbounce:"Unbounce",unbxd:"Unbxd",unix:"Unix",uptrends:"Uptrends",user_voice:"UserVoice",vanco_payment_solutions:"Vanco Payment Solutions",vero:"Vero",verticalresponse:"Verticalresponse",videojs:"Video.js",vidyard:"Vidyard",vimeo:"Vimeo",virtue_mart:"Virtue Mart",visual_iq:"Visual IQ",visual_website_optimizer:"Visual Website Optimizer",vmware_server:"Vmware Server",volusion:"Volusion",vzaar:"Vzaar",webengage:"WebEngage",webmethods:"Webmethods",weebly:"Weebly",weebly_ecommerce:"Weebly Ecommerce",windows_server:"Windows Server",wistia:"Wistia",wix_stores:"Wix Stores",wixstores:"Wixstores",woo_commerce:"Woo Commerce",woopra:"Woopra",wootric:"Wootric",wordpress:"Wordpress",workable:"Workable",workamajig:"Workamajig",workday:"Workday",wp_engine:"Wp Engine",wrike:"Wrike",wufoo:"Wufoo",xt_commerce:"xt:Commerce",yahoo_stores:"Yahoo Stores",yandex_metrica:"Yandex Metrica",yelp_seatme:"Yelp Seatme",yesware:"Yesware",yext:"Yext",yieldify:"Yieldify",yotpo:"Yotpo",youtube:"Youtube",zaius:"Zaius",zedo:"Zedo",zeit_now:"Zeit Now",zen_cart:"Zen Cart",zendesk:"Zendesk",zeniq:"ZenIQ",zenreach:"Zenreach",zoho_crm:"Zoho CRM",zopim:"Zopim",zuora:"Zuora",zype:"Zype"},le={account_based_marketing:"Account Based Marketing",accounting_and_finance:"Accounting And Finance",advertising:"Advertising",analytics:"Analytics",applicant_tracking_system:"Applicant Tracking System",authentication_services:"Authentication Services",bookings_reservations:"Bookings and Reservations",business_management:"Business Management",cloud_computing_services:"Cloud Computing Services",content_management_system:"Content Management System",conversion_optimization:"Conversion Optimization",crm:"CRM",customer_data_platform:"Customer Data Platform",customer_support:"Customer Support",data_enrichment_services:"Data Enrichment Services",data_management:"Data Management",data_processing:"Data Processing",data_visualization:"Data Visualization",database:"Database",dns:"DNS",ecommerce:"eCommerce",email_delivery_service:"Email Delivery Service",email_hosting_service:"Email Hosting Service",form_builder:"Form Builder",geolocation:"Geolocation",human_capital_management:"Human Capital Management",image_video_services:"Image and Video Services",live_chat:"Live Chat",marketing_automation:"Marketing Automation",monitoring:"Monitoring",operating_system:"Operating System",payment:"Payment",productivity:"Productivity",programming_framework:"Programming Framework",project_management_software:"Project Management Software",sales_productivity:"Sales Productivity",security:"Security",site_search:"Site Search",social_sharing:"Social Sharing",survey:"Survey",tag_management:"Tag Management",user_engagement:"User Engagement",web_hosting:"Web Hosting",web_servers:"Web Servers",website_optimization:"Website Optimization"};function pe({from:me,renewAccountDataFromClearbit:xe,debug:Ie,forcedAccount:Re}){const Fe=(0,wt.useRef)(),[Ge,ot]=(0,wt.useState)(!0),[,tt]=(0,wt.useState)(0),ut=(0,wt.useCallback)(()=>{Ie&&console.info("[useAccount] getAccountAndRenew"),ot(!0),oe(me,"account.get").then(sn=>{Ie&&console.info("[useAccount] getAccountAndRenew response received",sn),sn&&(Fe.current=sn,xe&&xe(sn)),ot(!1)})},[me,xe,Ie]),yt=(0,wt.useCallback)(()=>{oe(me,"account.get").then(sn=>{var Bn;(Fe.current===void 0!==(sn===void 0)||(sn==null?void 0:sn.email)!==((Bn=Fe.current)==null?void 0:Bn.email))&&(Fe.current=sn,tt(new Date().getTime()))})},[me]),Lt=(0,wt.useCallback)(sn=>{JSON.stringify(Fe.current)!==JSON.stringify(sn)?(Ie&&console.info("[useAccount] storeAccount",{new:sn,old:Fe.current}),oe(me,"account.set",sn).then(()=>{Fe.current=sn,tt(new Date().getTime())}),oe(me,"analytics.identify",{email:sn.email,name:sn.name,termsLastAcceptedAt:sn.termsLastAcceptedAt,env:sn.env})):Ie&&console.info("[useAccount] storeAccount (skipping, no new data)")},[me]),Jt=()=>{Ie&&console.info("[useAccount] logoutFromAccount"),oe(me,"account.remove").then(()=>{var sn;Fe.current=void 0,tt(new Date().getTime()),(sn=localStorage==null?void 0:localStorage.clear)==null||sn.call(localStorage)}),oe(me,"analytics.track",{event:"account_did_logout"}),fetch("https://connect.clearbit.com/logout",{credentials:"include"})},Xt=(0,wt.useCallback)((sn,Bn)=>{var Gn;Ie&&console.info("[useAccount] storeClearbitUserAsAccount",{user:sn,userEnv:Bn}),sn!=null&&sn.email&&Lt({id:sn.id,email:sn.email,env:Bn,name:((Gn=sn.name)==null?void 0:Gn.fullName)||"",quota:{count:sn.quota.count,remaining:sn.quota.remaining,resets:sn.quota.resets||""},sessionId:sn.sessionID,termsLastAcceptedAt:sn.termsLastAcceptedAt,betaFeaturesEnabled:sn.betaFeaturesEnabled||[]})},[]),Ft=()=>{Y("api.toggleConnectEverywhere",{enabled:!0})},yn=sn=>{sn.preventDefault(),Y("account.openOptionsPage")},Qn=sn=>{sn.preventDefault(),Y("account.openOptionsPageAndAuthorise")};(0,wt.useEffect)(()=>{Re?(Fe.current=Re,setTimeout(()=>ot(!1),0)):ut()},[]);const _r=(0,wt.useRef)();return(0,wt.useEffect)(()=>(_r.current=setTimeout(()=>{Ge&&ot(!1)},3e3),()=>{_r.current&&clearTimeout(_r.current)})),{account:Fe.current,storeAccount:Lt,logoutFromAccount:Jt,storeClearbitUserAsAccount:Xt,enableConnectEverywhere:Ft,onOpenOptionsPage:yn,onOpenOptionsPageAndAuthoriseClick:Qn,validateBackgroundAccount:yt,isAccountLoading:Ge}}const we=pe;var ye={};function W(){return ye}function te(me){ye=me}function ce(me,xe){if(xe.length<me)throw new TypeError(me+" argument"+(me>1?"s":"")+" required, but only "+xe.length+" present")}function je(me){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?je=function(Ie){return typeof Ie}:je=function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},je(me)}function be(me){ce(1,arguments);var xe=Object.prototype.toString.call(me);return me instanceof Date||je(me)==="object"&&xe==="[object Date]"?new Date(me.getTime()):typeof me=="number"||xe==="[object Number]"?new Date(me):((typeof me=="string"||xe==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ne(me,xe){ce(2,arguments);var Ie=be(me),Re=be(xe),Fe=Ie.getTime()-Re.getTime();return Fe<0?-1:Fe>0?1:Fe}function He(me,xe){ce(2,arguments);var Ie=be(me),Re=be(xe),Fe=Ie.getFullYear()-Re.getFullYear(),Ge=Ie.getMonth()-Re.getMonth();return Fe*12+Ge}function Qe(me){ce(1,arguments);var xe=be(me);return xe.setHours(23,59,59,999),xe}function Be(me){ce(1,arguments);var xe=be(me),Ie=xe.getMonth();return xe.setFullYear(xe.getFullYear(),Ie+1,0),xe.setHours(23,59,59,999),xe}function Je(me){ce(1,arguments);var xe=be(me);return Qe(xe).getTime()===Be(xe).getTime()}function _t(me,xe){ce(2,arguments);var Ie=be(me),Re=be(xe),Fe=Ne(Ie,Re),Ge=Math.abs(He(Ie,Re)),ot;if(Ge<1)ot=0;else{Ie.getMonth()===1&&Ie.getDate()>27&&Ie.setDate(30),Ie.setMonth(Ie.getMonth()-Fe*Ge);var tt=Ne(Ie,Re)===-Fe;Je(be(me))&&Ge===1&&Ne(me,Re)===1&&(tt=!1),ot=Fe*(Ge-Number(tt))}return ot===0?0:ot}function pt(me,xe){return ce(2,arguments),be(me).getTime()-be(xe).getTime()}var Et={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(xe){return xe<0?Math.ceil(xe):Math.floor(xe)}},It="trunc";function Qt(me){return me?Et[me]:Et[It]}function jt(me,xe,Ie){ce(2,arguments);var Re=pt(me,xe)/1e3;return Qt(Ie==null?void 0:Ie.roundingMethod)(Re)}var Pt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},At=function(xe,Ie,Re){var Fe,Ge=Pt[xe];return typeof Ge=="string"?Fe=Ge:Ie===1?Fe=Ge.one:Fe=Ge.other.replace("{{count}}",Ie.toString()),Re!=null&&Re.addSuffix?Re.comparison&&Re.comparison>0?"in "+Fe:Fe+" ago":Fe};const Ce=At;function Oe(me){return function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=xe.width?String(xe.width):me.defaultWidth,Re=me.formats[Ie]||me.formats[me.defaultWidth];return Re}}var at={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vt={date:Oe({formats:at,defaultWidth:"full"}),time:Oe({formats:bt,defaultWidth:"full"}),dateTime:Oe({formats:Gt,defaultWidth:"full"})};const dn=Vt;var Cn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tt=function(xe,Ie,Re,Fe){return Cn[xe]};const In=Tt;function $e(me){return function(xe,Ie){var Re=Ie!=null&&Ie.context?String(Ie.context):"standalone",Fe;if(Re==="formatting"&&me.formattingValues){var Ge=me.defaultFormattingWidth||me.defaultWidth,ot=Ie!=null&&Ie.width?String(Ie.width):Ge;Fe=me.formattingValues[ot]||me.formattingValues[Ge]}else{var tt=me.defaultWidth,ut=Ie!=null&&Ie.width?String(Ie.width):me.defaultWidth;Fe=me.values[ut]||me.values[tt]}var yt=me.argumentCallback?me.argumentCallback(xe):xe;return Fe[yt]}}var St={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ht={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sr=function(xe,Ie){var Re=Number(xe),Fe=Re%100;if(Fe>20||Fe<10)switch(Fe%10){case 1:return Re+"st";case 2:return Re+"nd";case 3:return Re+"rd"}return Re+"th"},lr={ordinalNumber:sr,era:$e({values:St,defaultWidth:"wide"}),quarter:$e({values:Yt,defaultWidth:"wide",argumentCallback:function(xe){return xe-1}}),month:$e({values:Ht,defaultWidth:"wide"}),day:$e({values:Wt,defaultWidth:"wide"}),dayPeriod:$e({values:Pn,defaultWidth:"wide",formattingValues:Sn,defaultFormattingWidth:"wide"})};const Un=lr;function xt(me){return function(xe){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=Ie.width,Fe=Re&&me.matchPatterns[Re]||me.matchPatterns[me.defaultMatchWidth],Ge=xe.match(Fe);if(!Ge)return null;var ot=Ge[0],tt=Re&&me.parsePatterns[Re]||me.parsePatterns[me.defaultParseWidth],ut=Array.isArray(tt)?Ae(tt,function(Jt){return Jt.test(ot)}):Rt(tt,function(Jt){return Jt.test(ot)}),yt;yt=me.valueCallback?me.valueCallback(ut):ut,yt=Ie.valueCallback?Ie.valueCallback(yt):yt;var Lt=xe.slice(ot.length);return{value:yt,rest:Lt}}}function Rt(me,xe){for(var Ie in me)if(me.hasOwnProperty(Ie)&&xe(me[Ie]))return Ie}function Ae(me,xe){for(var Ie=0;Ie<me.length;Ie++)if(xe(me[Ie]))return Ie}function De(me){return function(xe){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=xe.match(me.matchPattern);if(!Re)return null;var Fe=Re[0],Ge=xe.match(me.parsePattern);if(!Ge)return null;var ot=me.valueCallback?me.valueCallback(Ge[0]):Ge[0];ot=Ie.valueCallback?Ie.valueCallback(ot):ot;var tt=xe.slice(Fe.length);return{value:ot,rest:tt}}}var et=/^(\d+)(th|st|nd|rd)?/i,ae=/\d+/i,de={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_e={any:[/^b/i,/^(a|c)/i]},he={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ee={any:[/1/i,/2/i,/3/i,/4/i]},ke={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ze={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Me={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},We={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rt={ordinalNumber:De({matchPattern:et,parsePattern:ae,valueCallback:function(xe){return parseInt(xe,10)}}),era:xt({matchPatterns:de,defaultMatchWidth:"wide",parsePatterns:_e,defaultParseWidth:"any"}),quarter:xt({matchPatterns:he,defaultMatchWidth:"wide",parsePatterns:Ee,defaultParseWidth:"any",valueCallback:function(xe){return xe+1}}),month:xt({matchPatterns:ke,defaultMatchWidth:"wide",parsePatterns:Ve,defaultParseWidth:"any"}),day:xt({matchPatterns:ze,defaultMatchWidth:"wide",parsePatterns:qe,defaultParseWidth:"any"}),dayPeriod:xt({matchPatterns:Me,defaultMatchWidth:"any",parsePatterns:We,defaultParseWidth:"any"})},$t={code:"en-US",formatDistance:Ce,formatLong:dn,formatRelative:In,localize:Un,match:rt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const mn=$t;function hn(me,xe){if(me==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var Ie in xe)Object.prototype.hasOwnProperty.call(xe,Ie)&&(me[Ie]=xe[Ie]);return me}function mr(me){return hn({},me)}function Mn(me){var xe=new Date(Date.UTC(me.getFullYear(),me.getMonth(),me.getDate(),me.getHours(),me.getMinutes(),me.getSeconds(),me.getMilliseconds()));return xe.setUTCFullYear(me.getFullYear()),me.getTime()-xe.getTime()}var gn=1440,cn=2520,qn=43200,Tn=86400;function Zo(me,xe,Ie){var Re,Fe;ce(2,arguments);var Ge=W(),ot=(Re=(Fe=Ie==null?void 0:Ie.locale)!==null&&Fe!==void 0?Fe:Ge.locale)!==null&&Re!==void 0?Re:mn;if(!ot.formatDistance)throw new RangeError("locale must contain formatDistance property");var tt=Ne(me,xe);if(isNaN(tt))throw new RangeError("Invalid time value");var ut=hn(mr(Ie),{addSuffix:Boolean(Ie==null?void 0:Ie.addSuffix),comparison:tt}),yt,Lt;tt>0?(yt=be(xe),Lt=be(me)):(yt=be(me),Lt=be(xe));var Jt=jt(Lt,yt),Xt=(Mn(Lt)-Mn(yt))/1e3,Ft=Math.round((Jt-Xt)/60),yn;if(Ft<2)return Ie!=null&&Ie.includeSeconds?Jt<5?ot.formatDistance("lessThanXSeconds",5,ut):Jt<10?ot.formatDistance("lessThanXSeconds",10,ut):Jt<20?ot.formatDistance("lessThanXSeconds",20,ut):Jt<40?ot.formatDistance("halfAMinute",0,ut):Jt<60?ot.formatDistance("lessThanXMinutes",1,ut):ot.formatDistance("xMinutes",1,ut):Ft===0?ot.formatDistance("lessThanXMinutes",1,ut):ot.formatDistance("xMinutes",Ft,ut);if(Ft<45)return ot.formatDistance("xMinutes",Ft,ut);if(Ft<90)return ot.formatDistance("aboutXHours",1,ut);if(Ft<gn){var Qn=Math.round(Ft/60);return ot.formatDistance("aboutXHours",Qn,ut)}else{if(Ft<cn)return ot.formatDistance("xDays",1,ut);if(Ft<qn){var _r=Math.round(Ft/gn);return ot.formatDistance("xDays",_r,ut)}else if(Ft<Tn)return yn=Math.round(Ft/qn),ot.formatDistance("aboutXMonths",yn,ut)}if(yn=_t(Lt,yt),yn<12){var sn=Math.round(Ft/qn);return ot.formatDistance("xMonths",sn,ut)}else{var Bn=yn%12,Gn=Math.floor(yn/12);return Bn<3?ot.formatDistance("aboutXYears",Gn,ut):Bn<9?ot.formatDistance("overXYears",Gn,ut):ot.formatDistance("almostXYears",Gn+1,ut)}}function Wr(me,xe){return ce(1,arguments),Zo(me,Date.now(),xe)}var Rn=jn(3418),no=jn(602),yr=jn(8012);const _i={i8:"3.2.2"},Tr=({account:me,hideLogin:xe})=>{const Ie=!!me;return(0,l.jsxs)("div",{className:"cb-space-y-3 cb-p-4 cb-text-center cb-font-avenir cb-text-xs cb-text-gray-500",children:[(0,l.jsxs)("p",{children:["Version ",_i.i8]}),Ie?(0,l.jsx)("p",{children:Ie?`Logged in as ${me.email}`:"Not logged in."}):(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"cb-mb-1",children:"You must sign in to use Connect"}),xe?null:(0,l.jsx)("button",{className:"ck-button ck-button--simple--blue ck-button--small",onClick:()=>Y("account.openOptionsPageAndAuthorise"),children:(0,l.jsx)("span",{children:"Sign in"})})]}),(0,l.jsxs)("div",{className:"cb-flex cb-items-center cb-justify-center cb-space-x-2",children:[(0,l.jsx)("a",{className:"ck-link",target:"_blank",rel:"noreferrer",href:o,children:"Help Center"}),(0,l.jsx)("span",{children:"|"}),(0,l.jsx)("button",{className:"ck-link cb-bg-white",onClick:()=>Y("account.openOptionsPage",{anchor:"help"}),children:"Settings"}),(0,l.jsx)("span",{children:"|"}),(0,l.jsx)("a",{className:"ck-link",target:"_blank",rel:"noreferrer",href:"https://clearbit.com?utm_source=connect&utm_medium=sidebar-footer&utm_campaign=connect-promo",children:"Clearbit"})]})]})},or=({title:me,description:xe,additionalText:Ie,handleClick:Re,href:Fe,openNewTab:Ge})=>Fe?(0,l.jsxs)("a",{className:"cb-group cb-flex cb-cursor-pointer cb-items-center cb-justify-between cb-py-4 cb-px-6 cb-text-black cb-no-underline cb-duration-300 hover:cb-bg-blue-50",href:Fe,target:"_blank",rel:"noreferrer",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"cb-mt-0 cb-mb-2 cb-font-medium cb-duration-300 group-hover:cb-text-blue-500",children:me}),(0,l.jsx)("p",{className:"cb-my-0 cb-text-sm",children:xe}),Ie?(0,l.jsx)("p",{className:"cb-mb-0 cb-mt-2 cb-text-sm cb-text-gray-500",children:Ie}):null]}),(0,l.jsx)("div",{className:"cb-h-3 cb-w-3 cb-text-gray-500 group-hover:cb-text-blue-500",children:(0,l.jsx)(no.Z,{})})]}):(0,l.jsxs)("div",{className:"cb-group cb-flex cb-cursor-pointer cb-items-center cb-justify-between cb-py-4 cb-px-6 cb-duration-300 hover:cb-bg-blue-50",onClick:Re,children:[(0,l.jsxs)("div",{className:"cb-mr-3 cb-flex-1",children:[(0,l.jsx)("h4",{className:"cb-mt-0 cb-mb-2 cb-font-medium cb-duration-300 group-hover:cb-text-blue-500",children:me}),(0,l.jsx)("p",{className:"cb-my-0 cb-text-sm",children:xe}),Ie?(0,l.jsx)("p",{className:"cb-mb-0 cb-mt-2 cb-text-sm cb-text-gray-500",children:Ie}):null]}),(0,l.jsx)("div",{className:"cb-h-3 cb-w-3 cb-text-gray-500 group-hover:cb-text-blue-500",children:Ge?(0,l.jsx)(no.Z,{}):(0,l.jsx)(Rn.Z,{})})]});function On({navigateTo:me,account:xe}){const{count:Ie,remaining:Re,resets:Fe}=xe.quota,Ge=Fe?new Date(Fe):void 0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"cb-flex cb-items-center cb-border-t-0 cb-border-r-0 cb-border-b cb-border-l-0 cb-border-solid cb-border-gray-300 cb-px-6 cb-pb-4 cb-pt-6",children:[(0,l.jsx)(yr.Z,{className:"cb-h-8 cb-w-8"}),(0,l.jsxs)("div",{className:"cb-ml-3 cb-flex-1",children:[(0,l.jsx)("h3",{className:"cb-mt-0 cb-mb-1 cb-text-xl cb-font-medium",children:"Clearbit Connect"}),(0,l.jsx)("p",{className:"cb-my-0 cb-whitespace-nowrap cb-text-md cb-text-gray-500",children:"What would you like to do?"})]})]}),(0,l.jsxs)("div",{className:"cb-pb-48",children:[(0,l.jsx)(or,{title:"Find email addresses",description:"Search for companies and find email addresses for people who work there.",handleClick:()=>me("search"),additionalText:`${Re} out of ${Ie+Re} credits left this month. Your quota resets ${Ge?`in ${Wr(Ge)}`:"next month"}.`}),(0,l.jsx)(or,{openNewTab:!0,title:"Update settings",description:"Set your Ideal Customer Profile so you know who is a fit while you browse.",handleClick:()=>Y("account.openOptionsPage")}),(0,l.jsx)("div",{className:"cb-mt-8 cb-px-6",children:(0,l.jsx)(Tr,{account:xe})})]}),(0,l.jsxs)("div",{className:"cb-absolute cb-bottom-0 cb-z-50 cb-flex cb-flex-col cb-bg-navy-500 cb-py-4 cb-px-6 cb-text-white cb-text-opacity-90",children:[(0,l.jsx)("h4",{className:"cb-mt-0 cb-mb-2 cb-font-medium",children:"Know who's visiting your site \u{1F680}"}),(0,l.jsxs)("p",{className:"cb-mt-0 cb-mb-2 cb-text-sm",children:["With the Weekly Visitor Report, you get a weekly dashboard of de-anonymized companies visiting your website \u2014"," ",(0,l.jsx)("span",{className:"cb-font-medium",children:"for free"}),"."]}),(0,l.jsxs)("a",{className:"ck-button ck-button--simple--blue cb-no-underline",href:"https://clearbit.com/resources/tools/visitor-report?utm_source=connect&utm_medium=gmail-sidebar-footer&utm_campaign=connect-promo",target:"_blank",rel:"noreferrer",children:[(0,l.jsx)("span",{className:"cb-mr-2",children:"Install it now"})," ",(0,l.jsx)(no.Z,{})]})]})]})}const zi=On;var Ts=7,Hi=365.2425,Ln=Math.pow(10,8)*24*60*60*1e3,ba=6e4,Ro=36e5,Fa=1e3,ql=-Ln,gi=60,va=3,Xo=12,Wi=4,Oo=3600,Lr=60,Vn=Oo*24,nr=Vn*7,Eo=Vn*Hi,ur=Eo/12,As=ur*3;function Ds(me){if(me===null||me===!0||me===!1)return NaN;var xe=Number(me);return isNaN(xe)?xe:xe<0?Math.ceil(xe):Math.floor(xe)}function yi(me,xe){var Ie;ce(1,arguments);var Re=Ds((Ie=xe==null?void 0:xe.additionalDigits)!==null&&Ie!==void 0?Ie:2);if(Re!==2&&Re!==1&&Re!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof me=="string"||Object.prototype.toString.call(me)==="[object String]"))return new Date(NaN);var Fe=ji(me),Ge;if(Fe.date){var ot=Lo(Fe.date,Re);Ge=Ar(ot.restDateString,ot.year)}if(!Ge||isNaN(Ge.getTime()))return new Date(NaN);var tt=Ge.getTime(),ut=0,yt;if(Fe.time&&(ut=Nr(Fe.time),isNaN(ut)))return new Date(NaN);if(Fe.timezone){if(yt=Rs(Fe.timezone),isNaN(yt))return new Date(NaN)}else{var Lt=new Date(tt+ut),Jt=new Date(0);return Jt.setFullYear(Lt.getUTCFullYear(),Lt.getUTCMonth(),Lt.getUTCDate()),Jt.setHours(Lt.getUTCHours(),Lt.getUTCMinutes(),Lt.getUTCSeconds(),Lt.getUTCMilliseconds()),Jt}return new Date(tt+ut+yt)}var wi={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ms=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Po=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,za=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ji(me){var xe={},Ie=me.split(wi.dateTimeDelimiter),Re;if(Ie.length>2)return xe;if(/:/.test(Ie[0])?Re=Ie[0]:(xe.date=Ie[0],Re=Ie[1],wi.timeZoneDelimiter.test(xe.date)&&(xe.date=me.split(wi.timeZoneDelimiter)[0],Re=me.substr(xe.date.length,me.length))),Re){var Fe=wi.timezone.exec(Re);Fe?(xe.time=Re.replace(Fe[1],""),xe.timezone=Fe[1]):xe.time=Re}return xe}function Lo(me,xe){var Ie=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+xe)+"})|(\\d{2}|[+-]\\d{"+(2+xe)+"})$)"),Re=me.match(Ie);if(!Re)return{year:NaN,restDateString:""};var Fe=Re[1]?parseInt(Re[1]):null,Ge=Re[2]?parseInt(Re[2]):null;return{year:Ge===null?Fe:Ge*100,restDateString:me.slice((Re[1]||Re[2]).length)}}function Ar(me,xe){if(xe===null)return new Date(NaN);var Ie=me.match(Ms);if(!Ie)return new Date(NaN);var Re=!!Ie[4],Fe=yo(Ie[1]),Ge=yo(Ie[2])-1,ot=yo(Ie[3]),tt=yo(Ie[4]),ut=yo(Ie[5])-1;if(Re)return So(xe,tt,ut)?Ha(xe,tt,ut):new Date(NaN);var yt=new Date(0);return!Wa(xe,Ge,ot)||!Vo(xe,Fe)?new Date(NaN):(yt.setUTCFullYear(xe,Ge,Math.max(Fe,ot)),yt)}function yo(me){return me?parseInt(me):1}function Nr(me){var xe=me.match(Po);if(!xe)return NaN;var Ie=Gi(xe[1]),Re=Gi(xe[2]),Fe=Gi(xe[3]);return ro(Ie,Re,Fe)?Ie*Ro+Re*ba+Fe*1e3:NaN}function Gi(me){return me&&parseFloat(me.replace(",","."))||0}function Rs(me){if(me==="Z")return 0;var xe=me.match(za);if(!xe)return 0;var Ie=xe[1]==="+"?-1:1,Re=parseInt(xe[2]),Fe=xe[3]&&parseInt(xe[3])||0;return Os(Re,Fe)?Ie*(Re*Ro+Fe*ba):NaN}function Ha(me,xe,Ie){var Re=new Date(0);Re.setUTCFullYear(me,0,4);var Fe=Re.getUTCDay()||7,Ge=(xe-1)*7+Ie+1-Fe;return Re.setUTCDate(Re.getUTCDate()+Ge),Re}var No=[31,null,31,30,31,30,31,31,30,31,30,31];function Er(me){return me%400===0||me%4===0&&me%100!==0}function Wa(me,xe,Ie){return xe>=0&&xe<=11&&Ie>=1&&Ie<=(No[xe]||(Er(me)?29:28))}function Vo(me,xe){return xe>=1&&xe<=(Er(me)?366:365)}function So(me,xe,Ie){return xe>=1&&xe<=53&&Ie>=0&&Ie<=6}function ro(me,xe,Ie){return me===24?xe===0&&Ie===0:Ie>=0&&Ie<60&&xe>=0&&xe<60&&me>=0&&me<25}function Os(me,xe){return xe>=0&&xe<=59}var ei=Object.defineProperty,$i=Object.getOwnPropertySymbols,_a=Object.prototype.hasOwnProperty,Vr=Object.prototype.propertyIsEnumerable,ti=(me,xe,Ie)=>xe in me?ei(me,xe,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):me[xe]=Ie,ga=(me,xe)=>{for(var Ie in xe||(xe={}))_a.call(xe,Ie)&&ti(me,Ie,xe[Ie]);if($i)for(var Ie of $i(xe))Vr.call(xe,Ie)&&ti(me,Ie,xe[Ie]);return me};const ni=me=>Object.keys(me).map(xe=>[xe,me[xe]].join("=")).join(","),ki={open(me,xe={}){const Ie=ga({width:400,height:525,resizable:"no",scrollbars:"no",menubar:"no",toolbar:"no",location:"no",status:"no",title:"Clearbit"},xe);return Ie.left=window.screen.width/2-Ie.width/2,Ie.top=window.screen.height/2-Ie.height/2,Ie.params&&(me+=Q(Ie.params),delete Ie.params),window.open(me,Ie.title,ni(Ie))}},xi="CB_",oo=22,Ki=me=>/^(cv5|cb_cv6|request-cache|cb_request-cache)/i.test(me),Co=me=>[xi,me.toUpperCase()].join(""),$a=me=>me!==null&&typeof me=="object"?JSON.stringify(me):me.toString(),Ps=()=>{try{Object.keys(localStorage).filter(Ki).forEach(xe=>localStorage.removeItem(xe))}catch(me){}},Io={getItem(me,xe=null){const Ie=localStorage.getItem(Co(me));if(!Ie)return xe;try{return JSON.parse(Ie)}catch(Re){return xe}},setItem(me,xe){try{return localStorage.setItem(Co(me),$a(xe))}catch(Ie){console.group("Connect Storage#setItem"),console.error("Clearbit error: Could not set item"),console.error(Ie),Ie.code===oo&&Ps()}},setItems(me){typeof me=="object"&&me!==null?Object.entries(me).forEach(([xe,Ie])=>{localStorage.setItem(Co(xe),$a(Ie))}):console.error("Tried to setItems on a non-object value; did you mean to use `setItem`?")},removeItem(me){localStorage.removeItem(Co(me))}};var cl=Object.defineProperty,Ka=Object.getOwnPropertySymbols,dl=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable,Ya=(me,xe,Ie)=>xe in me?cl(me,xe,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):me[xe]=Ie,Qa=(me,xe)=>{for(var Ie in xe||(xe={}))dl.call(xe,Ie)&&Ya(me,Ie,xe[Ie]);if(Ka)for(var Ie of Ka(xe))ya.call(xe,Ie)&&Ya(me,Ie,xe[Ie]);return me},vr=(me,xe,Ie)=>new Promise((Re,Fe)=>{var Ge=ut=>{try{tt(Ie.next(ut))}catch(yt){Fe(yt)}},ot=ut=>{try{tt(Ie.throw(ut))}catch(yt){Fe(yt)}},tt=ut=>ut.done?Re(ut.value):Promise.resolve(ut.value).then(Ge,ot);tt((Ie=Ie.apply(me,xe)).next())});let Ns;const Vs=60*60*24*30,Ei=60*60,wo=(me,xe)=>{var Ie;if(xe==="local_development")return!0;const Re=me.apiResult;if(((Ie=Re==null?void 0:Re.error)==null?void 0:Ie.type)==="auth_fail")return!0;const Ge=yi(me.cachedAt),ot=jt(new Date,Ge);return typeof(Re==null?void 0:Re.error)!="undefined"?ot>=Ei:ot>=Vs};class To{constructor(xe){this.email="",this.session_id="",this.from="unknown",this.env="production",this.fullUrl=Re=>n[this.env]+Re,this.getHeaders=({extraHeaders:Re={},authRequired:Fe=!0}={})=>{const Ge=Qa({Accept:"application/json"},Re);return Fe&&(this.email&&(Ge["X-Context"]=this.email),this.session_id&&(Ge["X-Session-ID"]=this.session_id)),Ge},this.get=(Re,...Fe)=>vr(this,[Re,...Fe],function*(Ge,ot={}){const tt={credentials:"include",headers:this.getHeaders({extraHeaders:ot})};return i&&console.log("[DEBUG] clearbit.ts","get",{url:Ge,options:tt,env:this.env}),yield this.forwardApiRequestToBackground(Ge,tt)}),this.getWithSubdomain=Re=>vr(this,[Re],function*({subdomain:Fe,url:Ge,headers:ot={},authRequired:tt=!0}){const ut={headers:this.getHeaders({extraHeaders:ot,authRequired:tt})};return yield this.forwardApiRequestToBackground(Ge,ut,Fe)}),this.getWithCache=Re=>vr(this,[Re],function*({key:Fe,url:Ge,extraHeaders:ot={}}){const tt=new Date,ut=`${v}:${Fe}`,yt=Io.getItem(ut);if(i&&console.log("[DEBUG] clearbit.ts","getWithCache",{key:ut,url:Ge,item:yt,stale:!yt||wo(yt,this.env),env:this.env}),!yt||wo(yt,this.env)){const Lt=yield this.get(Ge,ot);return Io.setItem(ut,{cachedAt:tt.toISOString(),apiResult:Lt}),Lt}else return yt.apiResult}),this.post=(Re,Fe)=>vr(this,null,function*(){const Ge={method:"POST",headers:this.getHeaders({extraHeaders:{"Content-Type":"application/json"}}),body:JSON.stringify(Fe)};try{return yield this.forwardApiRequestToBackground(Re,Ge)}catch(ot){return}}),this.User={find:Re=>this.get(`/v1/user${Re||""}`),acceptTermsOfService:()=>this.post("/v1/user/accept_terms"),authWindow:(Re={})=>{const Fe={redirect_to:"popup",scopes:"minimal",version:"v3"};Re.loginHint&&(Fe.login_hint=Re.loginHint),Re.showMicrosoft&&(Fe.show_microsoft="true");const Ge=this.email;return Ge&&(Fe.context=Ge),ki.open(this.fullUrl("/auth"),{width:935,height:765,params:Fe}),new Promise(ot=>{window.onmessage=function(tt){let{type:ut}=tt.data;ut==="authComplete"&&ot(tt.data)}})},accountWindow:()=>{const Re=this.email;ki.open(this.fullUrl("/account"),{width:620,height:500,params:{context:Re,version:"v3"}})}},this.Enrichment={findPerson:(Re,Fe="",Ge)=>this.getWithCache({key:`person.${Re}`,url:`/v1/people/find?email=${Re}&name=${Fe}`,extraHeaders:{"X-Timestamp":Ge}}),findCompany:Re=>vr(this,null,function*(){return this.getWithCache({key:`company.${Re}`,url:`/v1/companies/find?domain=${Re}`})})},this.Profile={report:Re=>this.post("/v1/report",Re)},this.Invites={suggestions:()=>this.get("/v1/invites/suggested"),search:Re=>this.post("/v1/invites/search",Re),invite:Re=>this.post("/v1/invites",Re)},this.Search={companies:Re=>this.getWithSubdomain({subdomain:"autocomplete",authRequired:!1,url:`/v1/companies/suggest?query=${Re}`})},this.People={allByDomain:(Re,Fe={})=>{let Ge=`/v1/people/domain/${Re}`;const ot=Object.entries(Fe).filter(tt=>tt[1]).map(tt=>tt.join("=")).join("&");return ot.length&&(Ge+=`?${ot}`),this.getWithSubdomain({subdomain:"connect",authRequired:!0,url:Ge})},isAvailableForFree(Re,Fe="tab"){return vr(this,null,function*(){return chrome.runtime?yield oe(Fe,"api.isProspectAvailableForFree",{id:Re}):!1})},retrieve:Re=>this.getWithSubdomain({subdomain:"connect",url:`/v1/people/${Re}/retrieve`}).then(Fe=>(Fe&&(Fe!=null&&Fe.id)&&chrome.runtime&&oe(this.from,"api.markProspectAsAvailableForFree",{id:Fe.id}),Fe))};const Ie=Io.getItem("auth",{});xe&&(this.email=xe,this.session_id=Ie[xe]||Io.getItem("session_id","")),this.env="production"}setEnv(xe){xe&&(this.env=xe)}setFrom(xe){this.from=xe}setEmail(xe){this.email=xe}setSessionId(xe){this.session_id=xe}handleApiCallRequestLocally(xe){return new Promise((Ie,Re)=>vr(this,null,function*(){const{env:Fe,url:Ge,options:ot,subdomain:tt}=xe;if(tt&&!k.includes(tt))return Re(new Error(`Invalid subdomain: ${tt}`));const ut=L(Fe,Ge,tt);ot.credentials="include",ot.headers.Referer="https://clearbit.com",i&&console.log("[DEBUG]",`Calling ${ut} with options:`,ot),fetch(ut,ot).then(yt=>yt.text()).then(yt=>{let Lt={};try{Lt=JSON.parse(yt)}catch(Jt){}return Ie(Lt)}).catch(yt=>(console.error(yt),Re(yt)))}))}forwardApiRequestToBackground(xe,Ie,Re){const Fe={env:this.env,url:xe,options:Ie,subdomain:Re};return chrome.runtime?oe(this.from,"api.call",Fe):this.handleApiCallRequestLocally(Fe)}}function wa({from:me,account:xe,storeClearbitUserAsAccount:Ie,debug:Re}){const Fe=(0,wt.useRef)(),[Ge,ot]=(0,wt.useState)("production"),[,tt]=(0,wt.useState)(0);(0,wt.useEffect)(()=>{if(Re&&console.info("[useClearbit] initial state, loading Clearbit client and getting env"),Fe.current||(Fe.current=new To),xe){const{email:Xt,sessionId:Ft,env:yn}=xe;Fe.current.setEnv(yn),Fe.current.setFrom(me),Fe.current.setEmail(Xt),Fe.current.setSessionId(Ft),tt(new Date().getTime())}try{if(typeof localStorage!="undefined"){const Xt=localStorage.getItem("cb_env");Xt!=="production"&&ot(Xt)}}catch(Xt){}},[xe,me]),(0,wt.useEffect)(()=>{if(Re&&console.info("[useClearbit] loaded account",{account:xe,debug:Re,from:me,storeClearbitUserAsAccount:Ie}),Fe.current&&(xe!=null&&xe.email)&&Ie){const{email:Xt,sessionId:Ft,env:yn}=xe;(Xt!==Fe.current.email||yn!==Fe.current.env||Ft!==Fe.current.session_id)&&(Fe.current.setEnv(yn),Fe.current.setEmail(Xt),Fe.current.setSessionId(Ft),me!==Fe.current.from&&Fe.current.setFrom(me),Fe.current.User.find(`?from_account_update=1&from=${me}`).then(_r=>{Ie(_r,yn)}))}},[xe,me,Ie]),(0,wt.useEffect)(()=>{if(Re&&console.info("[useClearbit] changed env",Ge),Ge&&Fe.current){Fe.current.setEnv(Ge);try{typeof localStorage!="undefined"&&localStorage.setItem("cb_env",Ge)}catch(Xt){}}},[Ge,Re]);const ut=Xt=>{var Ft;Xt.preventDefault(),(Ft=Fe.current)==null||Ft.User.accountWindow()},yt=(Xt,Ft,yn)=>{Xt==null||Xt.preventDefault(),Fe.current&&Fe.current.User.authWindow({showMicrosoft:!!yn}).then(Qn=>{var _r,sn,Bn,Gn;Re&&console.info("[useClearbit] initial auth completed",Qn),Ie==null||Ie((sn=(_r=Qn==null?void 0:Qn.args)==null?void 0:_r[0])==null?void 0:sn.user,Ge),typeof Ft=="function"&&Ft((Gn=(Bn=Qn==null?void 0:Qn.args)==null?void 0:Bn[0])==null?void 0:Gn.user)})},Lt=(0,wt.useCallback)(Xt=>{ot(Xt.currentTarget.value)},[]),Jt=(0,wt.useCallback)(()=>new Promise(Xt=>{if(Fe.current)Fe.current.User.find("?from_quota_update=1").then(Ft=>(Ie==null||Ie(Ft,"production"),Xt(Ft.quota)));else return Xt()}),[]);return{onClearbitUserAuthClick:yt,onClearbitUserSettingsClick:ut,onEnvChange:Lt,env:Ge,clearbit:Fe.current,updateAndReturnLatestQuota:Jt}}const Si=wa;var Bs=jn(7189);const ri=({handleBack:me,handleHome:xe})=>(0,l.jsx)("div",{className:"cb-w-full",children:(0,l.jsxs)("div",{className:"cb-flex cb-flex-row-reverse cb-justify-between cb-bg-white cb-py-4 cb-px-4",children:[(0,l.jsx)("button",{onClick:xe,title:"Go home",className:"cursor-pointer cb-bg-white cb-duration-300 hover:cb-opacity-75",children:(0,l.jsx)(yr.Z,{className:"cb-h-8 cb-w-8"})}),me?(0,l.jsxs)("button",{className:"cursor-pointer cb-flex cb-items-center cb-bg-white cb-px-0 cb-py-0 cb-text-blue-500 cb-duration-300 hover:cb-text-blue-300",onClick:me,children:[(0,l.jsx)(Bs.Z,{})," ",(0,l.jsx)("span",{children:"Back"})]}):null]})});var ja=jn(8502);const Ci=()=>(0,l.jsx)("div",{className:"cb-flex cb-items-center cb-justify-center cb-py-12",children:(0,l.jsx)(ja.Z,{className:"cb-text-blue-500"})});var ka=jn(4278),Ja=jn(8614),Yi=jn(9283);const oi=({image:me,alt:xe,isCompany:Ie,larger:Re})=>{const[Fe,Ge]=(0,wt.useState)(!1);return(0,l.jsxs)("div",{className:`${Re?"cb-h-14 cb-w-14":"cb-h-12 cb-w-12"} ${Ie?"cb-rounded-lg":"cb-rounded-full"} cb-relative cb-flex cb-flex-shrink-0 cb-items-center cb-justify-center cb-overflow-hidden cb-bg-gray-100 cb-text-gray-500`,children:[Fe?(0,l.jsx)("div",{className:"cb-absolute cb-h-full cb-w-full cb-bg-white"}):Ie?(0,l.jsx)(Ja.Z,{className:"cb-absolute"}):(0,l.jsx)(Yi.Z,{className:"cb-absolute"}),me?(0,l.jsx)("img",{src:me,alt:xe,onLoad:()=>Ge(!0),className:`cb-z-10 ${Re?"cb-w-14":"cb-w-12"}`,onError:ot=>ot.target.style.display="none"}):null]})};var Us=jn(6213),Za=jn(7788),Fs=jn(4534),Xa=jn(1758),Ea,ii;function zs(){return zs=Object.assign?Object.assign.bind():function(me){for(var xe=1;xe<arguments.length;xe++){var Ie=arguments[xe];for(var Re in Ie)Object.prototype.hasOwnProperty.call(Ie,Re)&&(me[Re]=Ie[Re])}return me},zs.apply(this,arguments)}function Hs(Fe,Re){var Ge=Fe,{title:me,titleId:xe}=Ge,Ie=bd(Ge,["title","titleId"]);return React.createElement("svg",zs({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#7B8B99",ref:Re,"aria-labelledby":xe},Ie),me?React.createElement("title",{id:xe},me):null,Ea||(Ea=React.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),ii||(ii=React.createElement("path",{d:"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"})))}const io=null,es=jn.p+"static/media/flag.97666a8a12260042072fe0d7ca978e1e.svg",Ii=({handleFlag:me,facebook:xe,linkedin:Ie,twitter:Re,github:Fe,baseUrl:Ge,small:ot})=>{const tt=ot?"cb-w-4":"cb-w-5",ut=ot?"cb-space-x-2":"cb-space-x-3";return(0,l.jsxs)("div",{className:`${ut} cb-flex cb-justify-between`,children:[(0,l.jsxs)("div",{className:`${ut} cb-flex cb-items-center`,children:[xe?(0,l.jsx)("a",{href:`https://facebook.com/${xe}`,target:"_blank",rel:"noreferrer",className:"hover:cb-opacity-70",children:(0,l.jsx)(Us.Z,{className:tt})}):null,Re?(0,l.jsx)("a",{href:`https://twitter.com/${Re}`,target:"_blank",rel:"noreferrer",className:"hover:cb-opacity-70",children:(0,l.jsx)(Za.Z,{className:tt})}):null,Ie?(0,l.jsx)("a",{href:`https://linkedin.com/${Ie}`,target:"_blank",rel:"noreferrer",className:"hover:cb-opacity-70",children:(0,l.jsx)(Fs.Z,{className:tt})}):null,Fe?(0,l.jsx)("a",{href:`https://github.com/${Fe}`,target:"_blank",rel:"noreferrer",className:"hover:cb-opacity-70",children:(0,l.jsx)(Xa.Z,{className:tt})}):null]}),me?(0,l.jsx)("button",{className:`${tt} cb-bg-white hover:cb-opacity-70`,onClick:me,children:(0,l.jsx)("img",{src:Ge?`${Ge}${es.substring(1)}`:es,className:tt,alt:"flag"})}):null]})},ai=({data:me})=>{const{type:xe,message:Ie}=me.error,{account:Re}=we({from:"tab"});if(xe==="quota_expended"){const Ge=Re!=null&&Re.quota.resets?new Date(Re.quota.resets):void 0;return(0,l.jsxs)("div",{className:"cb-my-2 cb-flex cb-w-full cb-flex-col cb-items-center cb-justify-center cb-px-4 cb-text-center",children:[(0,l.jsx)("p",{className:"cb-text-lg cb-font-medium cb-text-red-500",children:"Free credit quota exceeded"}),(0,l.jsx)("p",{className:"cb-mt-3 cb-text-md cb-font-normal cb-text-black",children:"You've used up your free credits for this month. Want to explore a less restricted (and more automated) solution?"}),(0,l.jsx)("a",{className:"ck-button ck-button--bold--blue cb-mt-4",href:"https://connect.clearbit.com/upgrade?version=v3",children:"Learn More"}),(0,l.jsx)("button",{className:"ck-button ck-button--simple--blue cb-mt-3",onClick:()=>Y("account.openOptionsPage"),children:(0,l.jsx)("span",{children:"Open Settings"})}),Ge?(0,l.jsxs)("p",{className:"cb-mt-2 cb-text-sm cb-italic",children:["Your quota will reset in ",Wr(Ge)]}):null]})}const Fe=B.includes(xe);return(0,l.jsxs)("div",{className:"cb-my-2 cb-flex cb-w-full cb-flex-col cb-items-center cb-justify-center cb-text-center",children:[(0,l.jsx)("p",{className:`cb-px-4 cb-text-md cb-font-medium ${Fe?"":"cb-text-red-500"}`,children:Ie}),xe==="auth_fail"?(0,l.jsx)("button",{className:"ck-button ck-button--bold--blue cb-mt-3",onClick:()=>Y("account.openOptionsPageAndAuthoriseError"),children:(0,l.jsx)("span",{children:"Sign in"})}):null]})},Bo=({error:me,message:xe})=>(0,l.jsx)("div",{className:"cb-mx-auto cb-flex cb-h-[550px] cb-max-w-sm cb-items-center cb-text-center",children:me&&me.error.message!=="Unknown company"?(0,l.jsx)(ai,{data:me}):(0,l.jsx)("h3",{className:"cb-my-0 cb-text-center cb-font-medium",children:xe||"Sorry, we could not find any information on this company."})}),Ti=({handleFlag:me,data:xe,compactable:Ie,baseUrl:Re})=>{const[Fe,Ge]=(0,wt.useState)(!!Ie);if(!xe)return(0,l.jsx)(Bo,{});if(ie(xe))return(0,l.jsx)(Bo,{error:xe});if(xe.emailProvider)return(0,l.jsx)(Bo,{message:"This looks like a personal email domain."});if(!xe.domain)return(0,l.jsx)(Bo,{});const{name:ot,domain:tt,description:ut,geo:yt,tags:Lt,metrics:Jt,type:Xt,facebook:Ft,linkedin:yn,twitter:Qn}=xe;return Fe?(0,l.jsx)("div",{className:"cb-px-6",children:(0,l.jsxs)("div",{className:"cb-flex cb-items-center cb-justify-between",children:[(0,l.jsxs)("div",{className:"cb-mb-2 cb-flex cb-items-center cb-space-x-3",children:[(0,l.jsx)(oi,{image:`https://logo.clearbit.com/${tt}`,alt:ot||tt,isCompany:!0}),(0,l.jsxs)("div",{className:"cb-space-y-1 cb-text-sm",children:[(0,l.jsx)("p",{className:"cb-mb-1 cb-mt-0 cb-text-md cb-font-medium",children:ot||tt}),(0,l.jsx)("p",{className:"cb-mb-0 cb-mt-0",children:(0,l.jsx)("a",{className:"ck-link",target:"_blank",rel:"noreferrer",href:`https://${tt}`,children:tt})})]})]}),(0,l.jsx)("button",{className:"cb-cursor-pointer cb-bg-white cb-p-1 cb-text-blue-500 hover:cb-opacity-70",onClick:()=>Ge(!1),children:(0,l.jsx)(ka.Z,{className:"cb-h-6 cb-w-6",style:{transform:"rotate(180deg)"}})})]})}):(0,l.jsxs)("div",{className:"cb-px-6",children:[(0,l.jsxs)("div",{className:"cb-mb-3 cb-flex cb-items-center cb-justify-between",children:[(0,l.jsx)("h3",{className:"cb-mb-0 cb-mt-0 cb-text-lg cb-font-medium",children:ot}),Ie?(0,l.jsx)("button",{className:"cb-cursor-pointer cb-bg-white cb-p-1 cb-text-blue-500 hover:cb-opacity-70",onClick:()=>Ge(!Fe),children:(0,l.jsx)(ka.Z,{className:"cb-h-6 cb-w-6"})}):null]}),(0,l.jsxs)("div",{className:"cb-mb-2 cb-flex cb-items-center cb-space-x-6",children:[(0,l.jsx)(oi,{image:`https://logo.clearbit.com/${tt}`,alt:ot||tt,isCompany:!0,larger:!0}),(0,l.jsxs)("div",{className:"cb-space-y-1 cb-text-sm",children:[yt!=null&&yt.city?(0,l.jsx)("p",{className:"cb-mb-0 cb-mt-0",children:yt.city}):null,yt!=null&&yt.country?(0,l.jsx)("p",{className:"cb-mb-0 cb-mt-0",children:yt.country}):null,(0,l.jsx)("p",{className:"cb-mb-0 cb-mt-0",children:(0,l.jsx)("a",{className:"ck-link",target:"_blank",rel:"noreferrer",href:`https://${tt}`,children:tt})})]})]}),ut?(0,l.jsx)("p",{className:"cb-text-sm cb-text-gray-500",children:ut}):null,(0,l.jsxs)("div",{className:"cb-mb-3 cb-space-y-1 cb-text-sm",children:[Jt.employeesRange?(0,l.jsxs)("p",{className:"cb-mb-0",children:[Jt.employeesRange," employees"]}):null,Xt?(0,l.jsx)("p",{className:"cb-mb-0",children:O(Xt)}):null,Jt.annualRevenue?(0,l.jsxs)("p",{className:"cb-mb-0",children:["$",Jt.annualRevenue.toLocaleString()," revenue"]}):Jt.estimatedAnnualRevenue?(0,l.jsxs)("p",{className:"cb-mb-0",children:[Jt.estimatedAnnualRevenue," est. revenue"]}):null]}),Lt?(0,l.jsx)("div",{className:"cb-mb-3 cb--mt-1 cb--ml-1 cb-flex cb-flex-wrap cb-text-xs",children:Lt.map(_r=>(0,l.jsx)("span",{className:"ck-tag cb-m-1",children:_r},_r))}):null,(0,l.jsx)("div",{className:"cb-mt-4",children:(0,l.jsx)(Ii,{baseUrl:Re,handleFlag:me,facebook:Ft==null?void 0:Ft.handle,twitter:Qn==null?void 0:Qn.handle,linkedin:yn==null?void 0:yn.handle})})]})};function ts(me){navigator.clipboard.writeText(me).catch(()=>{const xe=document.createElement("textarea");xe.value=me,xe.setAttribute("readonly",""),xe.style.position="absolute",xe.style.left="-9999px",document.body.appendChild(xe),xe.select(),document.execCommand("copy"),document.body.removeChild(xe)})}const ns=ts,rs=({handleFlag:me,requestedEmail:xe,displayName:Ie,data:Re,handleAddToRecipients:Fe,handleGetEmail:Ge,baseUrl:ot})=>{const[tt,ut]=(0,wt.useState)(!1);if(Re===void 0||ie(Re)){const Br=Ie||xe;return(0,l.jsxs)("div",{className:"cb-px-6",children:[(0,l.jsx)("h3",{className:"cb-mb-3 cb-mt-0 cb-text-lg cb-font-medium",children:Br||"Unknown"}),(0,l.jsxs)("div",{className:"cb-flex cb-items-center",children:[(0,l.jsx)(oi,{alt:"None found",larger:!0}),(0,l.jsxs)("p",{className:"cb-mb-0 cb-mt-0 cb-flex-1 cb-overflow-hidden cb-text-ellipsis cb-pl-4 cb-text-sm",children:["No person information found on ",Br]})]}),Re?(0,l.jsx)("div",{className:"cb-mt-3",children:(0,l.jsx)(ai,{data:Re})}):null]})}const{name:yt,avatar:Lt,employment:Jt,email:Xt,geo:Ft,bio:yn,site:Qn,github:_r,linkedin:sn,twitter:Bn,facebook:Gn}=Re,dr=(yt==null?void 0:yt.fullName)||Ie||"Unknown",Kn=Ft?Ft.city&&Ft.stateCode?`${Ft.city}, ${Ft.stateCode}`:Ft.city||Ft.stateCode:void 0;return(0,l.jsxs)("div",{className:"cb-px-6",children:[(0,l.jsx)("h3",{className:"cb-mb-0 cb-mt-0 cb-text-lg cb-font-medium",children:dr}),Jt!=null&&Jt.title?(0,l.jsx)("p",{className:"cb-mt-1",children:Jt.title}):null,(0,l.jsxs)("div",{className:"cb-mt-3 cb-mb-4 cb-flex cb-items-center",children:[(0,l.jsx)("div",{className:"cb-mr-6",children:(0,l.jsx)(oi,{image:Lt,alt:dr,larger:!0})}),(0,l.jsxs)("div",{className:"cb-space-y-1 cb-truncate cb-text-sm",children:[Kn?(0,l.jsx)("p",{className:"cb-mb-0 cb-mt-0",children:Kn}):null,Ft!=null&&Ft.country?(0,l.jsx)("p",{className:"cb-mb-0 cb-mt-0",children:Ft.country}):null,Qn?(0,l.jsx)("p",{className:"cb-mb-0 cb-mt-0",children:(0,l.jsx)("a",{className:"ck-link",target:"_blank",rel:"noreferrer",href:Qn,children:Qn.replace("http://","").replace("https://","").replace("www.","")})}):null]})]}),yn?(0,l.jsx)("p",{className:"cb-space-y-1 cb-text-sm cb-text-gray-500",children:yn}):null,Ge?null:(0,l.jsx)("div",{className:"cb-mt-4",children:(0,l.jsx)(Ii,{facebook:Gn==null?void 0:Gn.handle,github:_r==null?void 0:_r.handle,twitter:Bn==null?void 0:Bn.handle,linkedin:sn==null?void 0:sn.handle,baseUrl:ot,handleFlag:me})}),(0,l.jsx)("div",{className:"cb-mt-4 cb-flex cb-flex-col",children:Ge?(0,l.jsx)("button",{onClick:Ge,className:"ck-button ck-button--bold--green cb-w-full",children:"Get email (1 credit)"}):Xt?(0,l.jsxs)(l.Fragment,{children:[Fe?(0,l.jsx)("button",{className:"ck-button ck-button--bold--blue cb-no-underline",onClick:()=>Fe(Xt||""),children:"Add person to recipients"}):(0,l.jsxs)("a",{target:"_top",href:`mailto:${Xt}`,className:"ck-button ck-button--bold--blue cb-no-underline",children:["Email ",(yt==null?void 0:yt.givenName)||dr]}),(0,l.jsx)("button",{onClick:()=>{Xt&&(ns(Xt),ut(!0),setTimeout(()=>{ut==null||ut(!1)},3e3))},className:"ck-button ck-button--simple--blue cb-mt-3",children:tt?(0,l.jsx)("span",{children:"Copied!"}):(0,l.jsxs)("span",{children:["Copy ",Xt.length>24?"Email":Xt]})})]}):(0,l.jsx)("p",{children:"Sorry, no email found. Your credits have not been used."})})]})};function pl({email:me,emailDisplayName:xe,navigateTo:Ie,account:Re,baseUrl:Fe}){var Ge,ot;const{clearbit:tt}=Si({from:"tab",account:Re}),[ut,yt]=(0,wt.useState)(),[Lt,Jt]=(0,wt.useState)(),Xt=me.replace(/.*@/,"");return(0,wt.useEffect)(()=>{tt&&me?(Jt(void 0),yt(void 0),tt.Enrichment.findCompany(Xt).then(Ft=>{Jt(Ft),ie(Ft)?Y("analytics.track",{event:"company_enriched_error",source:"gmail",error:Ft.error.type}):(Y("analytics.track",{event:"company_enriched",source:"gmail"}),tt.Enrichment.findPerson(me,xe,new Date().toISOString()).then(yn=>{yt(yn),ie(yn)?Y("analytics.track",{event:"person_enriched_error",source:"gmail",error:yn.error.type}):Y("analytics.track",{event:"person_enriched",source:"gmail"})}))})):(Jt(void 0),yt(void 0))},[tt,me,xe,Xt]),ut===void 0&&Lt===void 0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ri,{handleBack:()=>Ie("home"),handleHome:()=>Ie("home")}),(0,l.jsx)(Ci,{})]}):ie(ut)&&!B.includes((Ge=ut.error)==null?void 0:Ge.type)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ri,{handleBack:()=>Ie("home"),handleHome:()=>Ie("home")}),(0,l.jsx)("div",{className:"cb-flex cb-h-full cb-items-center cb-justify-center",children:(0,l.jsx)(ai,{data:ut})})]}):ie(Lt)&&!B.includes((ot=Lt.error)==null?void 0:ot.type)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ri,{handleBack:()=>Ie("home"),handleHome:()=>Ie("home")}),(0,l.jsx)("div",{className:"cb-flex cb-h-full cb-items-center cb-justify-center",children:(0,l.jsx)(ai,{data:Lt})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ri,{handleBack:()=>Ie("home"),handleHome:()=>Ie("home")}),(0,l.jsxs)("div",{className:"cb-max-w-full",children:[(0,l.jsx)(rs,{baseUrl:Fe,requestedEmail:me,displayName:xe,data:ut,handleFlag:()=>{window.confirm(`Are you sure you want to report the personal information for ${me} as invalid?`)&&(tt==null||tt.Profile.report({type:"invalid_person",email:me}),Y("analytics.track",{event:"person_flagged",source:"gmail",email:me}))}}),(0,l.jsx)("div",{className:"cb-my-8 cb-px-3",children:(0,l.jsx)("div",{className:"cb-h-px cb-bg-gray-200"})}),(0,l.jsx)(Ti,{baseUrl:Fe,data:Lt,handleFlag:()=>{window.confirm(`Are you sure you want to report the company information for ${(Lt==null?void 0:Lt.domain)||"this company"} as invalid?`)&&(tt==null||tt.Profile.report({type:"invalid_company",email:me}),Y("analytics.track",{event:"company_flagged",source:"gmail",email:me}))}})]})]})}const ml=pl;let os={data:""},$s=me=>typeof window=="object"?((me?me.querySelector("#_goober"):window._goober)||Object.assign((me||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:me||os,si=me=>{let xe=$s(me),Ie=xe.data;return xe.data="",Ie},Qi=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jo=/\/\*[^]*?\*\/|  +/g,Ji=/\n+/g,ao=(me,xe)=>{let Ie="",Re="",Fe="";for(let Ge in me){let ot=me[Ge];Ge[0]=="@"?Ge[1]=="i"?Ie=Ge+" "+ot+";":Re+=Ge[1]=="f"?ao(ot,Ge):Ge+"{"+ao(ot,Ge[1]=="k"?"":xe)+"}":typeof ot=="object"?Re+=ao(ot,xe?xe.replace(/([^,])+/g,tt=>Ge.replace(/(^:.*)|([^,])+/g,ut=>/&/.test(ut)?ut.replace(/&/g,tt):tt?tt+" "+ut:ut)):Ge):ot!=null&&(Ge=/^--/.test(Ge)?Ge:Ge.replace(/[A-Z]/g,"-$&").toLowerCase(),Fe+=ao.p?ao.p(Ge,ot):Ge+":"+ot+";")}return Ie+(xe&&Fe?xe+"{"+Fe+"}":Fe)+Re},so={},is=me=>{if(typeof me=="object"){let xe="";for(let Ie in me)xe+=Ie+is(me[Ie]);return xe}return me},as=(me,xe,Ie,Re,Fe)=>{let Ge=is(me),ot=so[Ge]||(so[Ge]=(ut=>{let yt=0,Lt=11;for(;yt<ut.length;)Lt=101*Lt+ut.charCodeAt(yt++)>>>0;return"go"+Lt})(Ge));if(!so[ot]){let ut=Ge!==me?me:(yt=>{let Lt,Jt,Xt=[{}];for(;Lt=Qi.exec(yt.replace(jo,""));)Lt[4]?Xt.shift():Lt[3]?(Jt=Lt[3].replace(Ji," ").trim(),Xt.unshift(Xt[0][Jt]=Xt[0][Jt]||{})):Xt[0][Lt[1]]=Lt[2].replace(Ji," ").trim();return Xt[0]})(me);so[ot]=ao(Fe?{["@keyframes "+ot]:ut}:ut,Ie?"":"."+ot)}let tt=Ie&&so.g?so.g:null;return Ie&&(so.g=so[ot]),((ut,yt,Lt,Jt)=>{Jt?yt.data=yt.data.replace(Jt,ut):yt.data.indexOf(ut)===-1&&(yt.data=Lt?ut+yt.data:yt.data+ut)})(so[ot],xe,Re,tt),ot},ss=(me,xe,Ie)=>me.reduce((Re,Fe,Ge)=>{let ot=xe[Ge];if(ot&&ot.call){let tt=ot(Ie),ut=tt&&tt.props&&tt.props.className||/^go/.test(tt)&&tt;ot=ut?"."+ut:tt&&typeof tt=="object"?tt.props?"":ao(tt,""):tt===!1?"":tt}return Re+Fe+(ot==null?"":ot)},"");function Ca(me){let xe=this||{},Ie=me.call?me(xe.p):me;return as(Ie.unshift?Ie.raw?ss(Ie,[].slice.call(arguments,1),xe.p):Ie.reduce((Re,Fe)=>Object.assign(Re,Fe&&Fe.call?Fe(xe.p):Fe),{}):Ie,$s(xe.target),xe.g,xe.o,xe.k)}let hl,qo,Zi,Xi=Ca.bind({g:1}),lo=Ca.bind({k:1});function Ks(me,xe,Ie,Re){ao.p=xe,hl=me,qo=Ie,Zi=Re}function Gr(me,xe){let Ie=this||{};return function(){let Re=arguments;function Fe(Ge,ot){let tt=Object.assign({},Ge),ut=tt.className||Fe.className;Ie.p=Object.assign({theme:qo&&qo()},tt),Ie.o=/ *go\d+/.test(ut),tt.className=Ca.apply(Ie,Re)+(ut?" "+ut:""),xe&&(tt.ref=ot);let yt=me;return me[0]&&(yt=tt.as||me,delete tt.as),Zi&&yt[0]&&Zi(tt),hl(yt,tt)}return xe?xe(Fe):Fe}}var Uo=me=>typeof me=="function",Ai=(me,xe)=>Uo(me)?me(xe):me,ls=(()=>{let me=0;return()=>(++me).toString()})(),Di=(()=>{let me;return()=>{if(me===void 0&&typeof window<"u"){let xe=matchMedia("(prefers-reduced-motion: reduce)");me=!xe||xe.matches}return me}})(),Ys=20,$r=new Map,J=1e3,ve=me=>{if($r.has(me))return;let xe=setTimeout(()=>{$r.delete(me),fn({type:4,toastId:me})},J);$r.set(me,xe)},Pe=me=>{let xe=$r.get(me);xe&&clearTimeout(xe)},it=(me,xe)=>{switch(xe.type){case 0:return Ui(Hn({},me),{toasts:[xe.toast,...me.toasts].slice(0,Ys)});case 1:return xe.toast.id&&Pe(xe.toast.id),Ui(Hn({},me),{toasts:me.toasts.map(Ge=>Ge.id===xe.toast.id?Hn(Hn({},Ge),xe.toast):Ge)});case 2:let{toast:Ie}=xe;return me.toasts.find(Ge=>Ge.id===Ie.id)?it(me,{type:1,toast:Ie}):it(me,{type:0,toast:Ie});case 3:let{toastId:Re}=xe;return Re?ve(Re):me.toasts.forEach(Ge=>{ve(Ge.id)}),Ui(Hn({},me),{toasts:me.toasts.map(Ge=>Ge.id===Re||Re===void 0?Ui(Hn({},Ge),{visible:!1}):Ge)});case 4:return xe.toastId===void 0?Ui(Hn({},me),{toasts:[]}):Ui(Hn({},me),{toasts:me.toasts.filter(Ge=>Ge.id!==xe.toastId)});case 5:return Ui(Hn({},me),{pausedAt:xe.time});case 6:let Fe=xe.time-(me.pausedAt||0);return Ui(Hn({},me),{pausedAt:void 0,toasts:me.toasts.map(Ge=>Ui(Hn({},Ge),{pauseDuration:Ge.pauseDuration+Fe}))})}},mt=[],Ut={toasts:[],pausedAt:void 0},fn=me=>{Ut=it(Ut,me),mt.forEach(xe=>{xe(Ut)})},cr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ia=(me={})=>{let[xe,Ie]=(0,wt.useState)(Ut);(0,wt.useEffect)(()=>(mt.push(Ie),()=>{let Fe=mt.indexOf(Ie);Fe>-1&&mt.splice(Fe,1)}),[xe]);let Re=xe.toasts.map(Fe=>{var Ge,ot;return Ui(Hn(Hn(Hn({},me),me[Fe.type]),Fe),{duration:Fe.duration||((Ge=me[Fe.type])==null?void 0:Ge.duration)||(me==null?void 0:me.duration)||cr[Fe.type],style:Hn(Hn(Hn({},me.style),(ot=me[Fe.type])==null?void 0:ot.style),Fe.style)})});return Ui(Hn({},xe),{toasts:Re})},Fo=(me,xe="blank",Ie)=>Ui(Hn({createdAt:Date.now(),visible:!0,type:xe,ariaProps:{role:"status","aria-live":"polite"},message:me,pauseDuration:0},Ie),{id:(Ie==null?void 0:Ie.id)||ls()}),us=me=>(xe,Ie)=>{let Re=Fo(xe,me,Ie);return fn({type:2,toast:Re}),Re.id},Dr=(me,xe)=>us("blank")(me,xe);Dr.error=us("error"),Dr.success=us("success"),Dr.loading=us("loading"),Dr.custom=us("custom"),Dr.dismiss=me=>{fn({type:3,toastId:me})},Dr.remove=me=>fn({type:4,toastId:me}),Dr.promise=(me,xe,Ie)=>{let Re=Dr.loading(xe.loading,Hn(Hn({},Ie),Ie==null?void 0:Ie.loading));return me.then(Fe=>(Dr.success(Ai(xe.success,Fe),Hn(Hn({id:Re},Ie),Ie==null?void 0:Ie.success)),Fe)).catch(Fe=>{Dr.error(Ai(xe.error,Fe),Hn(Hn({id:Re},Ie),Ie==null?void 0:Ie.error))}),me};var bl=(me,xe)=>{fn({type:1,toast:{id:me,height:xe}})},$n=()=>{fn({type:5,time:Date.now()})},vl=me=>{let{toasts:xe,pausedAt:Ie}=Ia(me);(0,wt.useEffect)(()=>{if(Ie)return;let Ge=Date.now(),ot=xe.map(tt=>{if(tt.duration===1/0)return;let ut=(tt.duration||0)+tt.pauseDuration-(Ge-tt.createdAt);if(ut<0){tt.visible&&Dr.dismiss(tt.id);return}return setTimeout(()=>Dr.dismiss(tt.id),ut)});return()=>{ot.forEach(tt=>tt&&clearTimeout(tt))}},[xe,Ie]);let Re=(0,wt.useCallback)(()=>{Ie&&fn({type:6,time:Date.now()})},[Ie]),Fe=(0,wt.useCallback)((Ge,ot)=>{let{reverseOrder:tt=!1,gutter:ut=8,defaultPosition:yt}=ot||{},Lt=xe.filter(Ft=>(Ft.position||yt)===(Ge.position||yt)&&Ft.height),Jt=Lt.findIndex(Ft=>Ft.id===Ge.id),Xt=Lt.filter((Ft,yn)=>yn<Jt&&Ft.visible).length;return Lt.filter(Ft=>Ft.visible).slice(...tt?[Xt+1]:[0,Xt]).reduce((Ft,yn)=>Ft+(yn.height||0)+ut,0)},[xe]);return{toasts:xe,handlers:{updateHeight:bl,startPause:$n,endPause:Re,calculateOffset:Fe}}},Qs=lo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Mi=lo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Iu=lo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Fl=Gr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${me=>me.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qs} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Mi} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${me=>me.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Iu} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,cs=lo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Js=Gr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${me=>me.secondary||"#e0e0e0"};
  border-right-color: ${me=>me.primary||"#616161"};
  animation: ${cs} 1s linear infinite;
`,Ao=lo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Tu=lo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tc=Gr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${me=>me.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ao} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Tu} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${me=>me.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ea=Gr("div")`
  position: absolute;
`,Au=Gr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Zs=lo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_l=Gr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Zs} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gl=({toast:me})=>{let{icon:xe,type:Ie,iconTheme:Re}=me;return xe!==void 0?typeof xe=="string"?wt.createElement(_l,null,xe):xe:Ie==="blank"?null:wt.createElement(Au,null,wt.createElement(Js,Hn({},Re)),Ie!=="loading"&&wt.createElement(ea,null,Ie==="error"?wt.createElement(Fl,Hn({},Re)):wt.createElement(tc,Hn({},Re))))},li=me=>`
0% {transform: translate3d(0,${me*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zl=me=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${me*-150}%,-1px) scale(.6); opacity:0;}
`,Hl="0%{opacity:0;} 100%{opacity:1;}",nc="0%{opacity:1;} 100%{opacity:0;}",ko=Gr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Wl=Gr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rc=(me,xe)=>{let Ie=me.includes("top")?1:-1,[Re,Fe]=Di()?[Hl,nc]:[li(Ie),zl(Ie)];return{animation:xe?`${lo(Re)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${lo(Fe)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ui=wt.memo(({toast:me,position:xe,style:Ie,children:Re})=>{let Fe=me.height?rc(me.position||xe||"top-center",me.visible):{opacity:0},Ge=wt.createElement(gl,{toast:me}),ot=wt.createElement(Wl,Hn({},me.ariaProps),Ai(me.message,me));return wt.createElement(ko,{className:me.className,style:Hn(Hn(Hn({},Fe),Ie),me.style)},typeof Re=="function"?Re({icon:Ge,message:ot}):wt.createElement(wt.Fragment,null,Ge,ot))});Ks(wt.createElement);var zo=({id:me,className:xe,style:Ie,onHeightUpdate:Re,children:Fe})=>{let Ge=wt.useCallback(ot=>{if(ot){let tt=()=>{let ut=ot.getBoundingClientRect().height;Re(me,ut)};tt(),new MutationObserver(tt).observe(ot,{subtree:!0,childList:!0,characterData:!0})}},[me,Re]);return wt.createElement("div",{ref:Ge,className:xe,style:Ie},Fe)},Ta=(me,xe)=>{let Ie=me.includes("top"),Re=Ie?{top:0}:{bottom:0},Fe=me.includes("center")?{justifyContent:"center"}:me.includes("right")?{justifyContent:"flex-end"}:{};return Hn(Hn({left:0,right:0,display:"flex",position:"absolute",transition:Di()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${xe*(Ie?1:-1)}px)`},Re),Fe)},ta=Ca`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Kr=16,Aa=({reverseOrder:me,position:xe="top-center",toastOptions:Ie,gutter:Re,children:Fe,containerStyle:Ge,containerClassName:ot})=>{let{toasts:tt,handlers:ut}=vl(Ie);return wt.createElement("div",{style:Hn({position:"fixed",zIndex:9999,top:Kr,left:Kr,right:Kr,bottom:Kr,pointerEvents:"none"},Ge),className:ot,onMouseEnter:ut.startPause,onMouseLeave:ut.endPause},tt.map(yt=>{let Lt=yt.position||xe,Jt=ut.calculateOffset(yt,{reverseOrder:me,gutter:Re,defaultPosition:xe}),Xt=Ta(Lt,Jt);return wt.createElement(zo,{id:yt.id,key:yt.id,onHeightUpdate:ut.updateHeight,className:yt.visible?ta:"",style:Xt},yt.type==="custom"?Ai(yt.message,yt):Fe?Fe(yt):wt.createElement(ui,{toast:yt,position:Lt}))}))},Ri=Dr,Gl=jn(1858);const yl=me=>{var xe;return((xe=me[0])==null?void 0:xe.domain)!==void 0},ci=({title:me,handleItemClick:xe,data:Ie,isCompanies:Re,isSidebar:Fe})=>{if(ie(Ie))return(0,l.jsx)(ai,{data:Ie});const Ge=yl(Ie),ot=Ge?Ie.map(tt=>({key:tt.domain,image:tt.logo||`https://logo.clearbit.com/${tt.domain}`,headline:tt.name,subheadline:tt.domain,data:tt})):Ie.map(tt=>{var ut;return{key:tt.id,image:tt.avatar,headline:((ut=tt.name)==null?void 0:ut.fullName)||"",subheadline:tt.title,data:tt}});return(0,l.jsxs)(l.Fragment,{children:[me?(0,l.jsx)("h4",{className:`${Fe?"cb-pt-6":"cb-pt-4"} cb-sticky cb-top-0 cb-z-20 cb-mt-0 cb-mb-0 cb-bg-white cb-px-6 cb-pb-2 cb-font-medium`,children:me}):null,ot.length>0?ot.map(tt=>{const{key:ut,image:yt,headline:Lt,subheadline:Jt,data:Xt}=tt;return(0,l.jsxs)("button",{onClick:()=>xe(Xt),className:"cb-group cb-flex cb-w-full cb-items-center cb-justify-between cb-bg-white cb-px-6 cb-py-3 hover:cb-bg-blue-0",children:[(0,l.jsxs)("div",{className:"cb-mr-2 cb-flex cb-flex-1 cb-items-center cb-space-x-4",children:[(0,l.jsx)(oi,{image:yt,alt:Lt,isCompany:Ge}),(0,l.jsxs)("div",{className:"cb-flex-1 cb-text-left",children:[(0,l.jsx)("p",{className:`${Fe?"":"cb-mb-1"} cb-mt-0 cb-text-md cb-font-medium`,children:Lt}),(0,l.jsx)("p",{className:"cb-mt-0 cb-mb-0 cb-text-sm cb-text-blue-500",children:Jt})]})]}),(0,l.jsx)(Rn.Z,{className:"cb-h-4 cb-w-4 group-hover:cb-text-blue-500"})]},ut)}):(0,l.jsxs)("div",{className:"cb-flex cb-flex-col cb-items-center cb-px-8 cb-py-8 cb-text-center cb-text-gray-500",children:[(0,l.jsx)(Gl.Z,{className:"cb-h-8 cb-w-8"}),(0,l.jsxs)("h4",{className:"cb-mt-4 cb-font-medium",children:["No ",Re?"companies":"people"," found. Please try another search."]})]})]})};var Da=jn(2618);const ds=({compact:me,selectedRole:xe,handleRoleChange:Ie,selectedSeniority:Re,handleSeniorityChange:Fe,filter:Ge,handleFilterChange:ot})=>{const tt=`ck-field-single cb-w-full cb-bg-white cb-text-gray-900 ${me?"cb-text-sm":""}`;return(0,l.jsxs)("div",{className:"cb-my-4 cb-space-y-2",children:[(0,l.jsx)("div",{className:"ck-field cb-w-full",children:(0,l.jsxs)("select",{className:tt,onChange:ut=>Ie(ut.target.value),value:xe,children:[(0,l.jsx)("option",{value:"all",children:"Any role..."}),T.map(ut=>(0,l.jsx)("option",{value:ut,children:F(ut)},ut))]})}),(0,l.jsx)("div",{className:"ck-field cb-w-full",children:(0,l.jsxs)("select",{className:tt,onChange:ut=>Fe(ut.target.value),value:Re,children:[(0,l.jsx)("option",{value:"all",children:"Any seniority..."}),E.map(ut=>(0,l.jsx)("option",{value:ut,children:F(ut)},ut))]})}),(0,l.jsxs)("div",{className:"ck-field ck-field--icon-right cb-w-full",children:[(0,l.jsx)("input",{className:`${me?"cb-text-sm":""} ck-field-single cb-w-full`,type:"text",placeholder:"Search by name or title",onChange:ut=>ot(ut.target.value),value:Ge}),(0,l.jsx)("span",{className:"ck-field-icon ck-field-icon--right",children:(0,l.jsx)(Da.Z,{})})]})]})};function Ma({navigateTo:me,account:xe,baseUrl:Ie}){const{clearbit:Re,updateAndReturnLatestQuota:Fe}=Si({from:"tab",account:xe}),[Ge,ot]=(0,wt.useState)(),[tt,ut]=(0,wt.useState)(),[yt,Lt]=(0,wt.useState)(),[Jt,Xt]=(0,wt.useState)(),[Ft,yn]=(0,wt.useState)(),[Qn,_r]=(0,wt.useState)(),[sn,Bn]=(0,wt.useState)(),[Gn,dr]=(0,wt.useState)(),[Kn,Br]=(0,wt.useState)("all"),[ps,Yl]=(0,wt.useState)("all"),[Oi,Ql]=(0,wt.useState)(),[jl,ms]=(0,wt.useState)([]),Pi=(0,wt.useRef)(!1),Sr=Ft||Jt?"person":Gn?"domain":"search",hs=Qn==null?void 0:Qn.email;(0,wt.useEffect)(()=>{const An=Io.getItem("recent",I);ms(An)},[]),(0,wt.useEffect)(()=>{Re&&Jt?Re.People.retrieve(Jt).then(An=>{_r(An),ie(An)?Y("analytics.track",{event:"person_retrieved_error",source:"gmail",error:An.error.type}):(Y("analytics.track",{event:"person_retrieved",source:"gmail"}),Pi.current&&Fe().then(rr=>{var ar;rr&&Ri((0,l.jsxs)("div",{children:["You have ",rr.remaining," credits remaining until ",(ar=rr.resets)==null?void 0:ar.substring(0,10)]}),{position:"bottom-right",className:"!cb-bg-gray-700 !cb-text-gray-100 !cb-text-xs",duration:3e3})}))}):(_r(void 0),yn(void 0))},[Re,Jt,Fe]);const na=(0,wt.useCallback)(e()((An,rr,ar,Do,qr)=>{ut(void 0),An&&rr?An.Enrichment.findCompany(rr).then(Ho=>{if(Lt(Ho),ie(Ho))Y("analytics.track",{event:"company_enriched_error",source:"gmail",error:Ho.error.type});else{Y("analytics.track",{event:"company_enriched",source:"gmail"});const vs={};qr&&(vs.query=qr),ar!=="all"&&(vs.role=ar),Do!=="all"&&(vs.seniority=Do),An.People.allByDomain(rr,vs).then(_s=>{ut(_s),ie(_s)?Y("analytics.track",{event:"people_retrieved_error",source:"gmail",error:_s.error.type}):Y("analytics.track",{event:"people_retrieved",source:"gmail"})})}}):(Lt(void 0),ut(void 0))},300),[]);(0,wt.useEffect)(()=>{na(Re,Gn,Kn,ps,Oi)},[na,Re,Gn,Kn,ps,Oi]);const po=(0,wt.useCallback)(e()((An,rr)=>{Lt(void 0),An&&rr?An.Search.companies(rr).then(ar=>{ot(ar),ie(ar)?Y("analytics.track",{event:"companies_retrieved_error",source:"gmail",error:ar.error.type}):Y("analytics.track",{event:"companies_retrieved",source:"gmail"})}):(Lt(void 0),ut(void 0))},300),[]);(0,wt.useEffect)(()=>{po(Re,sn)},[po,Re,sn]);const bs=(An,rr)=>{if(jl.filter(({domain:Do})=>Do===An).length>0)return!1;const ar=[...jl];ar.unshift({domain:An,name:rr}),Io.setItem("recent",ar.slice(0,g))},fi=An=>{window.confirm(`Are you sure you want to report the ${An?"company":"personal"} information for ${hs||"this record"} as invalid?`)&&(Re==null||Re.Profile.report({type:An?"invalid_company":"invalid_person",email:hs||""}),Y("analytics.track",{event:An?"company_flagged":"person_flagged",source:"gmail",email:hs}),window.alert("Thank you, our team will review the record and update as necessary."))},Ra=An=>{document.dispatchEvent(new CustomEvent("Clearbit:GmailEvent",{detail:{action:"addEmailToRecipients",data:{email:An}}}))},Oa=An=>{const{domain:rr,name:ar}=An;dr(rr),ar&&bs(rr,ar)};return ie(yt)&&yt.error.type!=="unknown_company"?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ri,{handleBack:Sr==="search"?()=>me("home"):Sr==="domain"?()=>dr(void 0):()=>{Xt(void 0),yn(void 0)},handleHome:()=>me("home")}),(0,l.jsx)("div",{className:"cb-flex cb-h-full cb-items-center cb-justify-center",children:(0,l.jsx)(ai,{data:yt})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ri,{handleBack:Sr==="search"?()=>me("home"):Sr==="domain"?()=>dr(void 0):()=>{Xt(void 0),yn(void 0)},handleHome:()=>me("home")}),Sr==="search"?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"cb-border-t-0 cb-border-r-0 cb-border-b cb-border-l-0 cb-border-solid cb-border-gray-300 cb-py-4 cb-px-6",children:[(0,l.jsx)("h3",{className:"cb-mt-0 cb-mb-2 cb-text-lg cb-font-medium",children:"Find email addresses by company"}),(0,l.jsxs)("p",{className:"cb-my-0 cb-text-gray-500",children:["Search for a ",(0,l.jsx)("span",{className:"cb-font-medium cb-text-black",children:"company"})," and Clearbit will find people who work there."]}),(0,l.jsxs)("div",{className:"ck-field ck-field--icon-left cb-my-4 cb-w-full",children:[(0,l.jsx)("input",{className:"ck-field-single cb-w-full",type:"text",placeholder:"Search",autoFocus:!0,onChange:An=>Bn(An.target.value),value:sn,onKeyDown:An=>{var rr;if(An.key==="Enter"){if(An.preventDefault(),Ge&&!ie(Ge)){if(Ge.length===1){Oa(Ge[0]);return}else if(Ge.length>0)return}const ar=(rr=An.target)==null?void 0:rr.value;ar&&Oa({domain:ar,name:""})}}}),(0,l.jsx)("span",{className:"ck-field-icon ck-field-icon--left",children:(0,l.jsx)(Ja.Z,{})})]})]}),(0,l.jsx)("div",{className:"cb-mb-6",children:sn&&Ge?(0,l.jsx)("div",{className:"cb-max-w-full cb-overflow-auto",children:(0,l.jsx)(ci,{title:"Matching companies",handleItemClick:An=>Oa(An),data:Ge})}):sn?(0,l.jsx)(Ci,{}):(0,l.jsx)("div",{className:"cb-max-w-full cb-overflow-auto",children:(0,l.jsx)(ci,{title:"Recent companies",handleItemClick:An=>dr(An.domain),data:jl})})})]}):Sr==="domain"?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"cb-px-6",children:[(0,l.jsxs)("h3",{className:"cb-mt-0 cb-mb-2 cb-text-lg cb-font-medium",children:["Find a person at ",(yt==null?void 0:yt.name)||"this company"]}),(0,l.jsx)(ds,{selectedRole:Kn,handleRoleChange:Br,selectedSeniority:ps,handleSeniorityChange:Yl,filter:Oi,handleFilterChange:Ql})]}),(0,l.jsx)("div",{className:"cb-mb-0 cb-px-3",children:(0,l.jsx)("div",{className:"cb-h-px cb-bg-gray-200"})}),(0,l.jsx)("div",{className:"cb-max-w-full cb-overflow-auto",children:tt===void 0?(0,l.jsx)("div",{className:"cb-flex cb-h-screen cb-items-start cb-justify-center",children:(0,l.jsx)(Ci,{})}):(0,l.jsx)(ci,{title:"Matching people",handleItemClick:An=>{const rr=An;Re==null||Re.People.isAvailableForFree(rr.id).then(ar=>{ar?(Xt(rr.id),Pi.current=!1):(yn(rr),Pi.current=!0)}).catch(()=>{yn(rr)})},data:tt})}),(0,l.jsx)("div",{className:"cb-mb-4 cb-px-3",children:(0,l.jsx)("div",{className:"cb-h-px cb-bg-gray-200"})}),(0,l.jsx)("div",{className:"cb-mb-4",children:(0,l.jsx)(Ti,{baseUrl:Ie,data:yt,compactable:!0,handleFlag:()=>fi(!0)})})]}):Sr==="person"&&!Ft&&Qn===void 0?(0,l.jsx)("div",{className:"cb-flex cb-h-screen cb-items-start cb-justify-center",children:(0,l.jsx)(Ci,{})}):Sr==="person"?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rs,{baseUrl:Ie,data:Ft?{id:Ft.id,name:Ft.name,avatar:Ft.avatar,employment:{title:Ft.title},geo:{},github:{},linkedin:{},twitter:{},facebook:{}}:Qn,handleAddToRecipients:Ra,handleGetEmail:Ft?()=>{Xt(Ft.id),yn(void 0)}:void 0,handleFlag:fi}),(0,l.jsx)("div",{className:"cb-my-8 cb-px-3",children:(0,l.jsx)("div",{className:"cb-h-px cb-bg-gray-200"})}),(0,l.jsx)(Ti,{baseUrl:Ie,data:yt,handleFlag:()=>fi(!0)})]}):null,(0,l.jsx)(Aa,{})]})}const fs=Ma,di={};function ir(){const[me,xe]=(0,wt.useState)("home"),[Ie,Re]=(0,wt.useState)({}),Fe=(0,wt.useCallback)((tt,ut,yt)=>{yt&&me==="search"&&tt==="enrichGmailContact"||me==="search"&&tt==="enrichGmailContact"&&ut.autoAdded||(xe(tt),Re(ut||{}),Y("analytics.track",{event:"gmail_sidebar_navigated",view:tt}))},[me]),Ge=(0,wt.useCallback)(tt=>{var ut,yt,Lt;tt.detail.view&&Fe(tt.detail.view,(ut=tt.detail)==null?void 0:ut.data,!!((Lt=(yt=tt.detail)==null?void 0:yt.data)!=null&&Lt.stopNavigationIfDangerous))},[Fe]),ot=(0,wt.useCallback)(()=>{document.dispatchEvent(new CustomEvent("Clearbit:GmailEvent",{detail:{action:"closeGmailSidebar",data:{}}}))},[]);return(0,wt.useEffect)(()=>(document.addEventListener("Clearbit:GmailSidebarEvent",Ge),()=>{document.removeEventListener("Clearbit:GmailSidebarEvent",Ge)}),[Ge]),{view:me,data:Ie,navigateTo:Fe,closeGmailSidebar:ot}}function Yn({baseUrl:me,forcedAccount:xe}){const{view:Ie,data:Re,navigateTo:Fe,closeGmailSidebar:Ge}=ir(),{account:ot,isAccountLoading:tt,onOpenOptionsPageAndAuthoriseClick:ut,validateBackgroundAccount:yt}=we({from:"tab",forcedAccount:xe});return!tt&&ot&&Ie==="home"&&yt(),(0,l.jsxs)("div",{className:"cb-flex cb-h-screen cb-w-full cb-flex-col cb-overflow-y-auto cb-overflow-x-hidden",children:[(0,l.jsx)("div",{className:"cb-absolute cb-left-[-14px] cb-top-[22px]",children:(0,l.jsx)("button",{onClick:()=>Ge(),className:"cb-h-[28px] cb-w-[28px] !cb-rounded-full !cb-border !cb-border-solid !cb-border-gray-200 cb-bg-gray-50 !cb-p-0 !cb-pt-[2px] !cb-leading-none cb-text-gray-500 hover:cb-bg-gray-100",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M3.3352346,13.1409137 L3.33523455,13.1409138 C2.91548014,13.5733825 2.92546046,14.2645641 3.35752584,14.684707 C3.78087294,15.0963751 4.45458199,15.0962796 4.87780976,14.6844919 L9.00453522,10.5538595 L13.1373639,14.6904917 L13.1373638,14.6904917 C13.568947,15.1110906 14.2594594,15.1018597 14.6796682,14.6698737 C15.0920236,14.2459591 15.0919517,13.570408 14.6795052,13.1465834 L10.5469491,9.01016937 L14.6955806,4.85777412 L14.6955806,4.85777409 C15.1130468,4.423134 15.0994531,3.73205118 14.6652183,3.31419357 C14.2430237,2.90792372 13.5756331,2.90792372 13.1534407,3.31419361 L9.00453675,7.46620706 L4.86206292,3.31981159 L4.86206295,3.31981162 C4.436122,2.89342832 3.74549844,2.89339123 3.31951335,3.31972975 C2.89352771,3.74606833 2.89349066,4.43733659 3.31943155,4.86371935 L7.46206886,9.01011482 L3.3352346,13.1409137 Z",fill:""})})})}),tt?(0,l.jsx)(Ci,{}):ot?Ie==="home"?(0,l.jsx)(zi,{account:ot,navigateTo:Fe}):Ie==="search"?(0,l.jsx)(fs,{baseUrl:me,account:ot,navigateTo:Fe}):Ie==="enrichGmailContact"?(0,l.jsx)(ml,{baseUrl:me,account:ot,navigateTo:Fe,email:Re.email,emailDisplayName:Re.name||""}):(0,l.jsx)("div",{children:"ERROR"}):(0,l.jsxs)("div",{className:"cb-flex cb-h-screen cb-flex-col cb-items-center cb-justify-center cb-overflow-hidden cb-px-6 cb-text-center cb-font-avenir",children:[(0,l.jsx)("h3",{className:"cb-mb-2 cb-text-xl cb-font-medium",children:"Sign in to continue"}),(0,l.jsx)("p",{className:"cb-mb-4 cb-text-md",children:"You must sign in to be able to view information on and find people working at this company."}),(0,l.jsx)("button",{className:"ck-button ck-button--bold--blue",onClick:ut,children:"Sign in"}),(0,l.jsx)("p",{className:"cb-mt-2 cb-text-sm cb-italic",children:"Already signed in? Refresh the page!"})]})]})}const Wn=Yn,Fn={};var Yr=(me,xe,Ie)=>new Promise((Re,Fe)=>{var Ge=ut=>{try{tt(Ie.next(ut))}catch(yt){Fe(yt)}},ot=ut=>{try{tt(Ie.throw(ut))}catch(yt){Fe(yt)}},tt=ut=>ut.done?Re(ut.value):Promise.resolve(ut.value).then(Ge,ot);tt((Ie=Ie.apply(me,xe)).next())});const uo="https://s3-us-west-1.amazonaws.com/clearbit-assets/connect-client-icons/logo.svg",co=chrome.runtime.getURL("/");function fo(me,xe){me.Conversations.registerMessageViewHandler(Ie=>{const{emailAddress:Re,name:Fe}=Ie.getSender();xe({view:"enrichGmailContact",data:{email:Re,name:Fe}}),Ie.addToolbarButton({title:"Load in Connect",section:"MORE",iconUrl:uo,orderHint:20,onClick:()=>{xe({view:"enrichGmailContact",data:{email:Re,name:Fe}},!0)}})})}function el(me,xe){const Ie=["SEARCH","ALL_THREADS"];Object.entries(me.Router.NativeListRouteIDs).filter(([Re])=>!Ie.includes(Re)).forEach(([,Re])=>{me.Router.handleListRoute(Re,()=>{})}),me.Lists.registerThreadRowViewHandler(Re=>{Re.addButton({title:"View More Info in Clearbit",iconUrl:uo,onClick:()=>{const{emailAddress:Fe,name:Ge}=Re.getContacts()[0];xe({view:"enrichGmailContact",data:{email:Fe,name:Ge}},!0)}})})}function $l(me,xe){me.Router.handleListRoute(me.Router.NativeListRouteIDs.SEARCH,Ie=>{const Re=Ie.getParams().query;Re.includes("@")&&xe({view:"enrichGmailContact",data:{email:Re}})})}function Kl(me,xe){document.addEventListener("mouseover",e()(Ie=>{var Re,Fe;const Ge=Ie.target;let ot="";((Re=Ge.tagName)==null?void 0:Re.toLocaleLowerCase())==="span"&&Ge.hasAttribute("email")?ot=Ge.getAttribute("email")||"":((Fe=Ge.tagName)==null?void 0:Fe.toLocaleLowerCase())==="a"&&(ot=Ge.href.replace(/^mailto:/,"")),ot&&ot.includes("@")&&xe({view:"enrichGmailContact",data:{email:ot,stopNavigationIfDangerous:!0}})},200))}function wr(me,xe,Ie){me.Compose.registerComposeViewHandler(Re=>{Ie(Re),Re.addButton({title:"Clearbit - Search for an email",iconUrl:uo,onClick:()=>{xe({view:"search",data:{recipients:Re.getToRecipients()}},!0)},hasDropdown:!1,type:"MODIFIER",orderHint:0}),Re.on("recipientsChanged",Fe=>{try{const{emailAddress:Ge,name:ot}=Fe.to.added[0];Ge&&xe({view:"enrichGmailContact",data:{email:Ge,name:ot,autoAdded:!0}})}catch(Ge){}}),Re.on("destroy",()=>{Ie(void 0)})})}function wl(){return Yr(this,null,function*(){const me=document.createElement("div");me.setAttribute("style","height: 100%;"),me.setAttribute("id","cb-app");const xe=yield vt.load(2,"sdk_cb-connect_44ed5a6dc4",{}),Ie=yield xe.Global.addSidebarContentPanel({title:"Clearbit",el:me,iconUrl:uo});let Re;const Fe=()=>Re;if(Ie){(0,ft.createRoot)(me).render((0,wt.createElement)(Wn,{baseUrl:co}));const tt=(yt,Lt)=>{(Lt||Ie.isActive())&&(Lt&&!Ie.isActive()&&Ie.open(),Y("analytics.track",{event:"gmail_sidebar_opened"}),setTimeout(()=>{document.dispatchEvent(new CustomEvent("Clearbit:GmailSidebarEvent",{detail:yt}))},100))},ut=yt=>{Re=yt};fo(xe,tt),el(xe,tt),$l(xe,tt),wr(xe,tt,ut),Kl(xe,tt)}const Ge=ot=>{if(ot.detail.action==="addEmailToRecipients"){const{email:tt}=ot.detail.data,ut=(Lt,Jt)=>{const Xt=Lt.getToRecipients().map(Ft=>Ft.emailAddress);Xt.push(Jt),Lt.setToRecipients(Xt)},yt=Fe();yt?ut(yt,tt):xe.Compose.openNewComposeView().then(Lt=>ut(Lt,tt))}else ot.detail.action==="closeGmailSidebar"&&(Ie==null||Ie.close())};document.addEventListener("Clearbit:GmailEvent",Ge)})}wl()})()})();

//# sourceMappingURL=content-gmail.js.map